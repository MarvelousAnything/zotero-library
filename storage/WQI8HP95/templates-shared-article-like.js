!function(){var e,t={2474:function(e,t,n){"use strict";var i=n(7020);function o(e){let t={};return null!==e&&(t=e.getBoundingClientRect()),t}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c,l,d,u,h,m=(c=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],l=function(){function e(t){var n=t.targetModal,i=t.triggers,o=void 0===i?[]:i,a=t.onShow,s=void 0===a?function(){}:a,c=t.onClose,l=void 0===c?function(){}:c,d=t.openTrigger,u=void 0===d?"data-micromodal-trigger":d,h=t.closeTrigger,m=void 0===h?"data-micromodal-close":h,f=t.openClass,g=void 0===f?"is-open":f,v=t.disableScroll,p=void 0!==v&&v,y=t.disableFocus,w=void 0!==y&&y,b=t.awaitCloseAnimation,k=void 0!==b&&b,E=t.awaitOpenAnimation,S=void 0!==E&&E,A=t.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:p,openTrigger:u,closeTrigger:m,openClass:g,onShow:s,onClose:l,awaitCloseAnimation:k,awaitOpenAnimation:S,disableFocus:w},o.length>0&&this.registerTriggers.apply(this,r(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,n;return t=e,n=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(e)}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(c);return Array.apply(void 0,r(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var n=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&n===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}],n&&a(t.prototype,n),e}(),d=null,u=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},h=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var n in t)u(n);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=r(document.querySelectorAll("[".concat(t.openTrigger,"]"))),i=function(e,t){var n=[];return e.forEach((function(e){var i=e.attributes[t].value;void 0===n[i]&&(n[i]=[]),n[i].push(e)})),n}(n,t.openTrigger);if(!0!==t.debugMode||!1!==h(n,i))for(var o in i){var a=i[o];t.targetModal=o,t.triggers=r(a),d=new l(t)}},show:function(e,t){var n=t||{};n.targetModal=e,!0===n.debugMode&&!1===u(e)||(d&&d.removeEventListeners(),(d=new l(n)).showModal())},close:function(e){e?d.closeModalById(e):d.closeModal()}});window.MicroModal=m;var f=m;class g extends i.wA{constructor(e){super(e);const{responseFormId:t,triggers:n}=this.options;n&&n.length>0&&n.forEach((e=>{e.addEventListener("click",(e=>this.openModal(e)))}));const{formid:i=!1}=window;if(i&&t){f.show(t);const e=document.getElementById(t).querySelector(".button--solid");e&&(e.href="".concat(window.location.origin).concat(window.location.pathname))}}openModal(e){e.preventDefault();const t=e.currentTarget.dataset.modalTriggerFor;f.show(t)}}var v={name:"authorEmail",class:g,options:{responseFormId:"email-response",triggers:document.querySelectorAll("[data-author-email]")}};class p extends i.wA{constructor(e){super(e);const t=document.querySelector(".byline__author a"),n=[...this.children.focusableEls];this.close=this.close.bind(this),this.open=this.open.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.init=this.init.bind(this),this.init(t,n)}close(e){e.setAttribute("aria-expanded","false"),this.element.setAttribute("aria-hidden","true"),e.focus()}handleKeyDown(e,t,n){const i=t[0],o=t[t.length-1],a=()=>{document.activeElement===i&&this.close(n)},r=()=>{document.activeElement===o&&this.close(n)};switch(e.key){case"Tab":if(1===t.length){r();break}e.shiftKey?a():r();break;case"Escape":this.close(n)}}open(e,t){const n=t[0];console.log("open called"),e.setAttribute("aria-expanded","true"),this.element.setAttribute("aria-hidden","false"),this.element.addEventListener("keydown",(n=>{this.handleKeyDown(n,t,e)})),n.focus()}init(e,t){e.addEventListener("click",(()=>{this.open(e,t)}))}}var y={name:"authorFlyout",class:p,querySelectorAll:{focusableEls:'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'}},w=JSON.parse('{"xl":"1280","lg":"1024","md":"768","sm":"600","xs":"480"}'),b=Object.keys(w).reduce(((e,t)=>{const n="".concat(w[t]/16,"rem"),i="".concat((w[t]-1)/16,"rem");return e["".concat(t,"Min")]=window.matchMedia("(min-width: ".concat(n,")")),e["".concat(t,"Max")]=window.matchMedia("(max-width: ".concat(i,")")),e}),{});const k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)};class E{constructor(e,t,n,i=250,o=!0){this.event=t,this.element=n,this.frequency=i,this.timer=!1,this.initial=o,this.callback=e,this.requestTick=this.requestTick.bind(this),this.update=this.update.bind(this),this.callback?this.addHandler():console.error("Debounce error: you must specify a callback.")}addHandler(){this.element.addEventListener(this.event,this.requestTick)}update(){this.callback(),this.timer=!1}requestTick(){!this.timer&&this.initial&&this.update(),this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout((()=>{k((()=>{this.update()}))}),this.frequency)}destroy(){this.element.removeEventListener(this.event,this.requestTick)}}class S extends i.wA{constructor(e){super(e),this.init()}init(){const e=document.querySelector(".single__header"),t=document.querySelector(".single__footer");null!==e&&null!==t&&(this.checkBreakPoints(),b.xlMin.addListener((()=>{this.checkBreakPoints()})))}checkBreakPoints(){b.xlMin.matches?this.initShareDesktop():b.xlMax.matches&&this.initShareMobile()}initShareDesktop(){const{floatingShare:e}=this.children,{attachedClass:t,detachedClass:n,opaqueClass:i}=this.options,o=document.querySelector(".single__header"),a=document.querySelector(".single__footer");e.classList.remove(i),this.debouncer=new E((()=>{const r=a.offsetTop,s=document.documentElement.scrollTop;s<o.getBoundingClientRect().top?e.classList.remove(i):e.classList.add(i),s<r-658?(e.classList.add(n),e.classList.remove(t),e.style.top="658px"):(e.classList.remove(n),e.classList.add(t)),e.style.removeProperty("display")}),"scroll",window,20,!1)}initShareMobile(){const{floatingShare:e}=this.children,{detachedClass:t,opaqueClass:n}=this.options;void 0!==this.debouncer&&this.debouncer.destroy(),e.style.top="0",e.classList.add(n,t),e.style.removeProperty("display")}}var A={name:"floatingShare",class:S,querySelector:{floatingShare:".single__floating-share"},options:{opaqueClass:"opaque",detachedClass:"detached",attachedClass:"attached",showClass:"show",offset:60}},C=n(7856),_=n.n(C);class L extends i.wA{constructor(e){super(e);const t=document.querySelectorAll("[data-modal-image]");t&&t.length>0&&t.forEach((e=>{e.addEventListener("click",(e=>this.openModal(e)))}))}getImage(){let e="";const{imageID:t}=this.options;if(0!==t){this.element.setAttribute("id",t);const n=document.querySelector(".wp-image-".concat(t));n&&(e=n.cloneNode(!0),e.setAttribute("sizes","(max-width: 1400px) 100vw, 1400px"),e.removeAttribute("class"))}return e}openModal(e){const{modalContent:t}=this.children;e.target.dataset.modalImage&&(this.options.imageID=e.target.dataset.modalImage.toString());const n=this.getImage();t&&n&&(t.innerHTML=_().sanitize(n),f.show(this.options.imageID))}}var q={name:"imageModal",class:L,querySelector:{modalContent:"[data-modal-content-image]"},options:{imageID:0}};class x extends i.wA{constructor(e){super(e),this.init()}init(){const{socialShare:e,urlShare:t,emailShare:n}=this.children;e.length>0&&(t.length>0&&this.initUrlShare(),n.length>0&&this.initEmailShare()),void 0!==window.ga&&Array.from(document.querySelectorAll(".social-icons__icon")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest("a");let n="";const i=t.title.length?t.title.split(/\s+/).pop().replace("friend","Email"):"",o=encodeURI(window.location.href);e.target.closest(".article-header__social-icons")&&(n="article top share"),(e.target.closest(".single__floating-share")||e.target.closest(".article-share-fixed"))&&(n="floating share"),""!==n&&window.ga("send","social",i,n,o)}))}))}initUrlShare(){const{urlShare:e}=this.children,t=document.querySelector(".modal__sharing-url .modal__inner"),n=document.getElementById("sharing-url-title"),i=n.innerHTML;e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.dataset.shared;document.querySelector("#sharing-url-input").setAttribute("value",t),f.show("modal-sharing-url",{onShow:()=>{n.innerHTML=_().sanitize(i)}})}))})),t.addEventListener("click",(()=>{!function(){if(document.queryCommandSupported("copy")){const e=document.getElementById("sharing-url-title"),t=document.getElementById("sharing-url-input"),n=document.createRange(),i=window.getSelection();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),t.select(),t.setSelectionRange(0,999),document.execCommand("copy")&&(e.textContent="Copied!")}}()}))}initEmailShare(){const{emailShare:e}=this.children,t=document.getElementById("modal-sharing-email-content"),n=document.getElementById("sharing_email"),i=n.querySelectorAll(".errors");i[0].textContent="There was an error with the form",i[1].textContent="Incorrect reCAPTCHA, please try again.",e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),f.show("modal-sharing-email",{onShow:()=>{n.querySelectorAll(".errors").forEach((e=>{e.style.display="none"})),t.appendChild(n),function(){if(window.recaptchaOnloadCallback)return;const{widgetId:e,siteKey:t}=window.nypScripts.recaptchaVars;window.recaptchaOnloadCallback=()=>{null!==document.getElementById(e)&&"function"==typeof grecaptcha.render&&grecaptcha.render(e,{sitekey:t})};const n=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript",i.src="https://www.google.com/recaptcha/api.js?onload=recaptchaOnloadCallback&render=explicit&hl=en_US&ver=2",n.parentNode.insertBefore(i,n)}()},onClose:()=>{n.querySelector(".sharing_cancel").click()}})}))}))}}var M={name:"socialShare",class:x,querySelectorAll:{socialShare:".social-icons",urlShare:".social-icons__icon--post-url",emailShare:".social-icons__icon--email"}};const T=new i.yW("article-like"),I=[v,y,A,q,M];var O;O=()=>{T.initComponents(I),function(){if(window.innerWidth>1024){const e=function(){let e=0;return[".archive__header",".archive__content",".section__content",".single__header",".featured-image",".entry-content"].forEach((t=>{const n=document.querySelector(t),{height:i}=o(n);i&&(e+=parseInt(i,10))})),e}(),t=document.querySelector('aside[class$="__sidebar"]'),{height:n}=o(t);if(e&&n&&parseInt(n,10)>parseInt(e,10)){const n=document.querySelectorAll('aside[class$="__sidebar"] > div');if(n&&n.length){let i=0;n.forEach((n=>{const o=n;1===o.nodeType&&(i+=o.clientHeight,i>e&&o.classList.contains("widget-wrapper")&&!o.classList.contains("widget_nypost_dfp_ad_widget")&&!o.classList.contains("dfp_ad")&&t.removeChild(o))}))}}}}()},"complete"!==document.readyState&&"interactive"!==document.readyState||O(),document.addEventListener("DOMContentLoaded",O)},4149:function(e,t,n){var i;!function(t){"use strict";var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=o.bind(t)}function r(e){e.scheduled||(e.scheduled=!0,e.raf(s.bind(null,e)))}function s(e){var t,n=e.writes,i=e.reads;try{i.length,e.runTasks(i),n.length,e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(i.length||n.length)&&r(e),t){if(t.message,!e.catch)throw t;e.catch(t)}}function c(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){for(var t;t=e.shift();)t()},measure:function(e,t){var n=t?e.bind(t):e;return this.reads.push(n),r(this),n},mutate:function(e,t){var n=t?e.bind(t):e;return this.writes.push(n),r(this),n},clear:function(e){return c(this.reads,e)||c(this.writes,e)},extend:function(e){if("object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var l=t.fastdom=t.fastdom||new a;void 0===(i=function(){return l}.call(l,n,l,e))||(e.exports=i)}("undefined"!=typeof window?window:this)}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.m=t,e=[],i.O=function(t,n,o,a){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],a=e[d][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,o,a]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={8719:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,r=n[0],s=n[1],c=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(c)var d=c(i)}for(t&&t(n);l<r.length;l++)a=r[l],i.o(e,a)&&e[a]&&e[a][0](),e[r[l]]=0;return i.O(d)},n=self.webpackChunknypost_2021=self.webpackChunknypost_2021||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[4403,3703],(function(){return i(2474)}));o=i.O(o)}();
//# sourceMappingURL=templates-shared-article-like.bundle.min.js.map