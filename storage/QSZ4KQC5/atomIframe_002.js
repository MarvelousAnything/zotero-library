(()=>{"use strict";var e={2002:(e,t,n)=>{n.p="localhost"===window.location.hostname?"/assets/":"".concat(window.guardian.app.data.CAPI.config.frontendAssetsFullURL,"assets/")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.p="",(()=>{function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}n(2002);var o,a,i,c,u=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},s=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},l=function(){function t(n){e(this,t),o.set(this,void 0);try{var r=(new Date).toString();n.setItem(r,r);var a=n.getItem(r)==r;n.removeItem(r),a&&u(this,o,n,"f")}catch(e){}}return r(t,[{key:"isAvailable",value:function(){return Boolean(s(this,o,"f"))}},{key:"get",value:function(e){try{var t,n,r=JSON.parse(null!==(t=null===(n=s(this,o,"f"))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:""),a=r.value,i=r.expires;return i&&new Date>new Date(i)?(this.remove(e),null):a}catch(e){return null}}},{key:"set",value:function(e,t,n){var r;return null===(r=s(this,o,"f"))||void 0===r?void 0:r.setItem(e,JSON.stringify({value:t,expires:n}))}},{key:"remove",value:function(e){var t;return null===(t=s(this,o,"f"))||void 0===t?void 0:t.removeItem(e)}},{key:"clear",value:function(){var e;return null===(e=s(this,o,"f"))||void 0===e?void 0:e.clear()}},{key:"getRaw",value:function(e){var t,n;return null!==(t=null===(n=s(this,o,"f"))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:null}},{key:"setRaw",value:function(e,t){var n;return null===(n=s(this,o,"f"))||void 0===n?void 0:n.setItem(e,t)}}]),t}();o=new WeakMap;var f,d=new(c=function(){function t(){e(this,t),a.set(this,void 0),i.set(this,void 0)}return r(t,[{key:"local",get:function(){return u(this,a,s(this,a,"f")||new l(localStorage),"f")}},{key:"session",get:function(){return u(this,i,s(this,i,"f")||new l(sessionStorage),"f")}}]),t}(),a=new WeakMap,i=new WeakMap,c),v="gu.logger",g={common:{background:"#052962",font:"#ffffff"},commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"}},w=function(e){var t=g[e],n=t.background,r=t.font;return"background: ".concat(n,"; color: ").concat(r,"; padding: 2px 3px; border-radius:3px")},m=function(e){var t;if((d.local.get(v)||"").includes(e)){for(var n=[w("common"),"",w(e),""],r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=console).log.apply(t,["%c@guardian%c %c".concat(e,"%c")].concat(n,o))}};"undefined"!=typeof window&&(window.guardian||(window.guardian={}),(f=window.guardian).logger||(f.logger={subscribeTo:function(e){var t=d.local.get(v)?d.local.get(v).split(","):[];t.includes(e)||t.push(e),d.local.set(v,t.join(",")),m(e,"ðŸ”” Subscribed, hello!")},unsubscribeFrom:function(e){m(e,"ðŸ”• Unsubscribed, good-bye!");var t=d.local.get(v).split(",").filter((function(t){return t!==e}));d.local.set(v,t.join(","))},teams:function(){return Object.keys(g)}}));var p,h;p=function(){return".atom__iframe",e=[].slice.call(document.querySelectorAll(".atom__iframe")),window.addEventListener("message",(function(t){var n=e.find((function(e){try{return e.name===t.source.name}catch(e){return!1}}));if(n)try{var r=JSON.parse(t.data);"set-height"===r.type&&(n.height=r.value)}catch(e){}})),e.forEach((function(e){var t=(e.getAttribute("srcdoc")||"").replace(/<gu-script>/g,"<script>").replace(/<\/gu-script>/g,"<\/script>");e.setAttribute("srcdoc",t)})),Promise.resolve();var e},h=function(){!function(e,t){var n=function(e){var t=window.performance,n="".concat(e,"-start"),r="".concat(e,"-end");return t&&t.getEntriesByName?{start:function(){t.mark(n)},end:function(){t.mark(r),t.measure(e,n,r),m("dotcom",JSON.stringify(t.getEntriesByName(e)));var o=t.getEntriesByName(e,"measure"),a=o&&o[0]&&o[0].duration||0;return Math.round(a)},clear:function(){t.clearMarks(n),t.clearMarks(r),t.clearMeasures(e)}}:{start:function(){},end:function(){return 0},clear:function(){}}}(e),r=n.start,o=n.end;r(),t().then((function(){o()})).catch((function(){o()}))}("atomIframe",p.bind(null,null))},window.guardian.mustardCut||window.guardian.polyfilled?h():window.guardian.queue.push(h)})()})();
//# sourceMappingURL=atomIframe.legacy.b1eada522f1f4ea4d70c.js.map