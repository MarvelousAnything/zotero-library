!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:false,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=true,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:true,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:true})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:true,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=23)}([function(e,t,r){e.exports=r(56)},function(e,t){function r(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,c,"next",e)}function c(e){r(s,a,o,i,c,"throw",e)}i(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(57),a=r(58),o=r(20),s=r(59);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||s()},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){"use strict";var n=r(14),a=r(30),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function i(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:a,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return i(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,a=arguments.length;n<a;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,a){e[a]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";var n=r(26),a=r(27),o=r(28);function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function i(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=a({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:o(s),r(o(a),s,n)})),Object.keys(n).sort().reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):n}t.extract=i,t.parse=c,t.stringify=function(e,t){false===(t=a({encode:true,strict:true,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[s(t,e),"[",n,"]"].join(""):[s(t,e),"[",s(n,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(n){var a=e[n];if(void 0===a)return"";if(null===a)return s(n,t);if(Array.isArray(a)){var o=[];return a.slice().forEach((function(e){void 0!==e&&o.push(r(n,e,o.length))})),o.join("&")}return s(n,t)+"="+s(a,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(i(e),t)}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(53),a=r(54),o=r(20),s=r(55);e.exports=function(e){return n(e)||a(e)||o(e)||s()},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){e.exports=r(29)},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=true,r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(13);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(9),a=r(13),o=r(50),s=r(51);function i(t){var r="function"==typeof Map?new Map:void 0;return e.exports=i=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return s(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),a(t,e)},e.exports.default=e.exports,e.exports.__esModule=true,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){"use strict";(function(t){var n=r(4),a=r(33),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(i=r(15)),i),transformRequest:[function(e,t){return a(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(o)})),e.exports=c}).call(this,r(32))},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=true,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(4),a=r(34),o=r(36),s=r(37),i=r(38),c=r(16),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(39);e.exports=function(e){return new Promise((function(t,l){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",m=false;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||i(e.url)||(d=new window.XDomainRequest,h="onload",m=true,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var y=e.auth.username||"",b=e.auth.password||"";p.Authorization="Basic "+u(y+":"+b)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),true),d.timeout=e.timeout,d[h]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};a(t,l,n),d=null}},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(40),v=(e.withCredentials||i(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=true),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,r){"use strict";var n=r(35);e.exports=function(e,t,r,a,o){var s=new Error(e);return n(s,t,r,a,o)}},function(e,t,r){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=true,e.exports=n},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(19);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(48).default,a=r(49);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){r(24),e.exports=r(60)},function(e,t,r){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).__SCDK_RELEASE={id:"v2.12.2"}}).call(this,r(25))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return false;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return false;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return false;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return false}}()?Object.assign:function(e,t){for(var r,i,c=s(e),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))a.call(r,l)&&(c[l]=r[l]);if(n){i=n(r);for(var f=0;f<i.length;f++)o.call(r,i[f])&&(c[i[f]]=r[i[f]])}}return c}},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function s(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),i=0;i<o.length;i++){var c=o[i];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,r){"use strict";var n=r(4),a=r(14),o=r(31),s=r(12);function i(e){var t=new o(e),r=a(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=i(s);c.Axios=o,c.create=function(e){return i(n.merge(s,e))},c.Cancel=r(18),c.CancelToken=r(46),c.isCancel=r(17),c.all=function(e){return Promise.all(e)},c.spread=r(47),e.exports=c,e.exports.default=c},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(12),a=r(4),o=r(41),s=r(42);function i(e){this.defaults=e,this.interceptors={request:new o,response:new o}}i.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),(e=a.merge(n,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},a.forEach(["delete","get","head","options"],(function(e){i.prototype[e]=function(t,r){return this.request(a.merge(r||{},{method:e,url:t}))}})),a.forEach(["post","put","patch"],(function(e){i.prototype[e]=function(t,r,n){return this.request(a.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=i},function(e,t){var r,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=false,f=-1;function p(){l&&c&&(l=false,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=i(p);l=true;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=false,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||i(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=true,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(16);e.exports=function(e,t,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e}},function(e,t,r){"use strict";var n=r(4);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(a(t)+"="+a(e))})))})),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){"use strict";var n=r(4),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&a.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(4);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return true}},function(e,t,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,a=String(e),o="",s=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.charAt(0|s)||(i="=",s%1);o+=i.charAt(63&t>>8-s%1*8)){if((r=a.charCodeAt(s+=3/4))>255)throw new n;t=t<<8|r}return o}},function(e,t,r){"use strict";var n=r(4);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,o,s){var i=[];i.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),n.isString(a)&&i.push("path="+a),n.isString(o)&&i.push("domain="+o),true===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(4);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},function(e,t,r){"use strict";var n=r(4),a=r(43),o=r(17),s=r(12),i=r(44),c=r(45);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!i(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(18);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=true):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=true),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(13),a=r(52);function o(t,r,s){return a()?(e.exports=o=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=true):(e.exports=o=function(e,t,r){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return r&&n(o,r.prototype),o},e.exports.default=e.exports,e.exports.__esModule=true),o.apply(null,arguments)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"==typeof Proxy)return true;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),true}catch(e){return false}},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=r(19);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}),e[t]}try{i({},"")}catch(e){i=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new I(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var i=E(s,r);if(i){if(i===l)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,s),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function f(){}function p(){}function d(){}var h={};h[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==t&&r.call(y,a)&&(h=y);var b=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var n;this._invoke=function(a,o){function s(){return new t((function(n,s){!function n(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,i)}))}i(c.arg)}(a,o,n,s)}))}return n=n?n.then(s,s):s()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(true)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=false,t;return t.value=void 0,t.done=true,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:true}}return p.prototype=b.constructor=d,d.constructor=p,p.displayName=i(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var s=new v(c(t,r,n,a),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(b),i(b,s,"Generator"),b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=false,r}return r.done=true,r}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=false,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=true;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,true);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,true)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=true,a=false,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);n=true);}catch(e){a=true,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=true},function(e,t,r){"use strict";r.r(t);var n=r(6),a=r.n(n),o=r(2),s=r.n(o),i=r(5),c=r.n(i),u=r(8),l=r.n(u),f=r(10),p=r.n(f),d=r(21),h=r.n(d),m=r(9),y=r.n(m),b=r(11),g=r.n(b);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"==typeof Proxy)return true;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),true}catch(e){return false}}();return function(){var r,n=y()(e);if(t){var a=y()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var E=function(e){p()(r,e);var t=v(r);function r(e){var n;return a()(this,r),(n=t.call(this,r.message)).res=e.data,n}return r}(g()(Error));s()(E,"message","NetworkRequestFailed");var O=function(e){p()(r,e);var t=v(r);function r(e){var n;return a()(this,r),(n=t.call(this,r.message)).res=e.data,n}return r}(g()(Error));s()(O,"message","BrokerNotConnected");var w=function(e){p()(r,e);var t=v(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a()(this,r),(n=t.call(this,e)).name="GatewayError",n.code=o,n.data=s,n}return r}(g()(Error)),I=r(7),x=r.n(I),_=r(1),k=r.n(_),S=r(0),L=r.n(S),R={CONNECT:"CONNECT",HOLDINGS_IMPORT:"HOLDINGS_IMPORT",TRANSACTION:"TRANSACTION",SUBSCRIPTION:"SUBSCRIPTION"},T={SEE_ORDERS:"SEE_ORDERS",BROKER_LOGOUT:"BROKER_LOGOUT"};function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A="/orders",D="/brokerLogout",P="/checkSession",U="/gatewaytransaction/",j=function(e,t){var r=c.a.stringify(C({action:"gatewaytransaction",v:"2.12.2"},t));return"".concat(e,"?").concat(r)},M=function(e,t){return function(e,t){var r=c.a.stringify(C({},e));return c.a.stringify({params:r,path:t})}(C(C({},t),{},{action:"gatewaytransaction",v:"2.12.2"},false),e)};function B(e){var t=e.broker,r=e.openMode,n=e.gateway,a=e.checkSession,o=e.action;if(a)return j(P,C({broker:t,openMode:r,gateway:n,action:o},false));switch(e.intent){case T.SEE_ORDERS:return e.loginIntentURL?M(A,{broker:t,openMode:r,gateway:n}):j(A,{broker:t,openMode:r,gateway:n});case T.BROKER_LOGOUT:return e.loginIntentURL?M(D,{broker:t,openMode:r,gateway:n}):j(D,{broker:t,openMode:r,gateway:n});case R.CONNECT:case R.TRANSACTION:case R.HOLDINGS_IMPORT:case R.SUBSCRIPTION:default:return e.loginIntentURL?M("".concat(U).concat(e.transactionId),{broker:t,openMode:r,gateway:n,transactionId:e.transactionId}):j("".concat(U).concat(e.transactionId),{broker:t,openMode:r,gateway:n,transactionId:e.transactionId})}}var G={axis:{name:"axis",getIntentURL:function(e){return"".concat("https://simplehai.axisdirect.in/app/index.php/smallcase/redirect?").concat(B(C(C({},e),{},{loginIntentURL:true})))},getLeprechaunIntentURL:function(e){return"https://axisdirect.smallcase.com/leprechaun?"+B(C(C({},e),{},{loginIntentURL:true}))},skipLogin:true,loginOpenMode:"newtab",transactionOpenMode:"newtab"},kite:{name:"zerodha",getIntentURL:function(e){return"".concat("https://smallcase.zerodha.com").concat(B(C({},e)))},getLeprechaunIntentURL:function(e){return"".concat("https://smallcase.zerodha.com").concat(B(C({},e)))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},aliceblue:{name:"aliceblue",getIntentURL:function(e){return"https://smallcases.aliceblueonline.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.aliceblueonline.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"newtab"},edelweiss:{name:"edelweiss",getIntentURL:function(e){return"https://smallcases.edelweiss.in"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.edelweiss.in"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},hdfc:{name:"hdfc",getIntentURL:function(e){return"".concat("https://deepors.hdfcsec.com/smallcase/index?").concat(B(C(C({},e),{},{loginIntentURL:true})))},getLeprechaunIntentURL:function(e){return"https://hdfc.smallcase.com/leprechaun?"+B(C(C({},e),{},{loginIntentURL:true}))},skipLogin:true,loginOpenMode:"newtab",transactionOpenMode:"newtab"},fivepaisa:{name:"5paisa",getIntentURL:function(e){return"https://smallcases.5paisa.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.5paisa.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},motilal:{name:"motilal",getIntentURL:function(e){return"https://smallcases.motilaloswal.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.motilaloswal.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},kotak:{name:"kotak",getIntentURL:function(e){return"https://smallcase.kotaksecurities.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcase.kotaksecurities.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"newtab"},iifl:{name:"IIFL Sec",getIntentURL:function(e){return"https://smallcases.indiainfoline.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.indiainfoline.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},trustline:{name:"Trustline",getIntentURL:function(e){return"https://smallcases.trustline.in"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.trustline.in"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},upstox:{name:"Upstox",getIntentURL:function(e){return"https://smallcases.upstox.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.upstox.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},angelbroking:{name:"Angel Broking",getIntentURL:function(e){return"https://smallcases.angelbroking.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.angelbroking.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},groww:{name:"Groww",getIntentURL:function(e){return"https://smallcases.groww.in"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.groww.in"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"iframe"},icici:{name:"icici",getIntentURL:function(e){return"https://smallcases.icicidirect.com"+B(C({},e))},getLeprechaunIntentURL:function(e){return"https://smallcases.icicidirect.com"+B(C({},e))},skipLogin:false,loginOpenMode:"newtab",transactionOpenMode:"newtab"}},W={INVALID_ELEMENTORSELECTOR:new w("invalid_elementorselector"),INVALID_GATEWAY:new w("invalid_gateway"),INVALID_USER:new w("invalid_user_data"),INIT_FAILED:new w("invalid_user_session"),INVALID_SCID:new w("invalid_scid"),INVALID_ISCID:new w("invalid_iscid"),INVALID_TRANSACTION:new w("invalid_transaction"),NOT_AUTHORIZED:new w("not_authorized"),NOT_CONNECTED:new w("user_not_connected"),NOT_INVESTED:new w("not_invested"),INVALID_USER_SESSION:new w("invalid_user_session"),TIMED_OUT:new w("timed_out",3001),INVALID_ORDER:new w("invalid_order",3002),USER_CANCELLED:new w("user_cancelled",1010),USER_MISMATCH:new w("user_mismatch",1001),MARKET_CLOSED:new w("market_closed",4004),INSUFFICIENT_HOLDINGS:new w("insufficent_holdings",1004),API_ERROR:new w("internal_error",2e3),ERROR:new w("api_error"),ORDER_IN_QUEUE:new w("order_in_queue"),CONSENT_DENIED:new w("consent_denied",1003),TRANSACTION_EXPIRED:new w("transaction_expired",1005),NO_BROKER:new w("no_broker",1006),NO_BROKER_SIGNUP:new w("no_broker",1007),NO_BROKER_SUPPORT:new w("no_broker",1008),NO_ORDER:new w("no_order",1020),SIGNUP_CLICK:new Error("signup_click"),ORDER_PENDING:new w("order_pending",4006),WEBHOOK_UNREACHABLE:new w("webhook_unreachable",3003),ALREADY_SUBSCRIBED:new w("already_subscribed",4e3),USER_INIT_THEN_CANCEL:new w("user_cancelled",1011),USER_LOGIN_THEN_CANCEL:new w("user_cancelled",1012),TRANSACTION_USED:new w("transaction_expired",3001),AMO_CLOSED:new w("market_closed",4005),SMALLCASE_ARCHIVED:new w("smallcase_archived",1013)},H={1001:{code:1001,message:"user_mismatch",error:W.USER_MISMATCH},1003:{code:1003,message:"consent_denied",error:W.CONSENT_DENIED},1004:{code:1004,message:"insufficient_holdings",error:W.INSUFFICIENT_HOLDINGS},1005:{code:1005,message:"transaction_expired",error:W.TRANSACTION_EXPIRED},1006:{code:1006,message:"no_broker",error:W.NO_BROKER},1007:{code:1007,message:"no_broker",error:W.NO_BROKER_SIGNUP},1008:{code:1008,message:"no_broker",error:W.NO_BROKER_SUPPORT},1010:{code:1010,message:"user_cancelled",error:W.USER_CANCELLED},1011:{code:1011,message:"user_cancelled",error:W.USER_INIT_THEN_CANCEL},1012:{code:1012,message:"user_cancelled",error:W.USER_LOGIN_THEN_CANCEL},1013:{code:1013,message:"smallcase_archived",error:W.SMALLCASE_ARCHIVED},1020:{code:1020,message:"no_order",error:W.NO_ORDER},2e3:{code:2e3,message:"internal_error",error:W.API_ERROR},3001:{code:3001,message:"transaction_expired",error:W.TRANSACTION_USED},3002:{code:3002,message:"invalid_order",error:W.INVALID_ORDER},3003:{code:3003,message:"webhook_unreachable",error:W.WEBHOOK_UNREACHABLE},4e3:{code:4e3,message:"already_subscribed",error:W.ALREADY_SUBSCRIBED},4003:{code:3001,message:"timed_out",error:W.TIMED_OUT},4004:{code:4004,message:"market_closed",error:W.MARKET_CLOSED},4005:{code:4005,message:"market_closed",error:W.AMO_CLOSED},4006:{code:4006,message:"order_pending",error:W.ORDER_PENDING}},F=W,K=r(22),V=r.n(K),q={SHOW_FRAME:"SHOW_FRAME",HIDE_FRAME:"HIDE_FRAME",GATEWAY_LOGIN:"GATEWAY_LOGIN",LOGIN_BUTTON_CLICKED:"LOGIN_BUTTON_CLICKED",MANAGE_WINDOW:"MANAGE_WINDOW",MANAGE_WINDOW_FINISHED:"MANAGE_WINDOW_FINISHED",CLOSE_ALL_WINDOW:"CLOSE_ALL_WINDOW",CLOSE_ALL_WINDOW_FINISHED:"CLOSE_ALL_WINDOW_FINISHED",CLOSED_WINDOW:"CLOSED_WINDOW",ORDERFLOW_STATUS:"ORDERFLOW_STATUS",ORDERFLOW_COMPLETED:"ORDERFLOW_COMPLETED",LOGIN_REQUIRED:"LOGIN_REQUIRED",USER_CANCELLED:"USER_CANCELLED",ERROR_IN_ORDER:"ERROR_IN_ORDER",RESTART_ORDER:"RESTART_ORDER",CONNECT_LOADED:"CONNECT_LOADED",TRANSACTION_COMPLETE:"TRANSACTION_COMPLETE",TRANSACTION_EXPIRED:"TRANSACTION_EXPIRED",USER_SIGNUP:"USER_SIGNUP",BROKER_TWEET:"BROKER_TWEET",LOGIN_BUTTON_CLICKED_CONSENT_REQUIRED:"LOGIN_BUTTON_CLICKED_CONSENT_REQUIRED",USER_SIGNUP_CLOSE:"USER_SIGNUP_CLOSE",UPDATE_GATEWAY_NAME:"UPDATE_GATEWAY_NAME",SMALLPLUG_INITIALIZE:"SMALLPLUG_INITIALIZE",SMALLPLUG_INITIALIZE_RESPONSE:"SMALLPLUG_INITIALIZE_RESPONSE",SMALLPLUG_HANDLE_INTENT:"SMALLPLUG_HANDLE_INTENT",SMALLPLUG_HANDLE_INTENT_RESPONSE:"SMALLPLUG_HANDLE_INTENT_RESPONSE",SMALLPLUG_HIDE_FRAME:"SMALLPLUG_HIDE_FRAME"},z=function(){function e(){a()(this,e)}var t,r,n,o;return V()(e,null,[{key:"openIndirect",value:(o=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u,l,f,p,d,h,m,y,b,g;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.primaryWindowType,n=void 0===r?void 0:r,a=t.primaryURL,o=t.secondaryStatus,s=void 0===o?void 0:o,i=t.broker,c=void 0===i?void 0:i,u=t.changeOnly,l=void 0===u?void 0:u,f=t.bypassClickToContinue,p=void 0===f?void 0:f,d=t.intent,h=t.intentData,m=t.recentBrokers,y=t.isReturningUser,ce({messageType:q.MANAGE_WINDOW,messageParams:{argument:{primaryWindowType:n,primaryURL:a,secondaryStatus:s,broker:c,changeOnly:l,bypassClickToContinue:p,intent:d,intentData:h,recentBrokers:m,isReturningUser:y}}}),e.next=4,se(q.MANAGE_WINDOW_FINISHED).promise;case 4:return b=e.sent,delete(g=b.data).type,e.abrupt("return",g);case 8:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"closeAll",value:(n=k()(L.a.mark((function e(){var t,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce({messageType:q.CLOSE_ALL_WINDOW,messageParams:{}}),e.next=3,se(q.CLOSE_ALL_WINDOW_FINISHED).promise;case 3:return t=e.sent,delete(r=t.data).type,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"closePrimary",value:(r=k()(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.openIndirect({primaryURL:void 0,changeOnly:"primary"}));case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"closeSecondary",value:(t=k()(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.openIndirect({secondaryURL:void 0,changeOnly:"secondary"}));case 1:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]),e}();s()(z,"elementOrSelector","body");var Z=z,X="ERRORED",Y="SECURITIES",Q={CONNECT:"connect",HOLDINGS_IMPORT:"holdingsImport",TRANSACTION_SST:"sst",TRANSACTION_SMT:"smt",SEE_ORDERS:"showOrders",BROKER_LOGOUT:"brokerLogout",CANCEL_ORDER:"cancelOrder",SUBSCRIPTION:"smt"},$={COMPLETED:"COMPLETED",PROCESSING:"PROCESSING",INITIALIZED:"INITIALIZED",USED:"USED",ERRORED:"ERRORED",ACTION_REQUIRED:"ACTION_REQUIRED"};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=function(e,t){return Promise.all([e,t])};function re(e){if("string"==typeof e){var t=document.querySelector(e);if(!(t instanceof HTMLElement))throw F.INVALID_ELEMENTORSELECTOR;return t}if(!(e instanceof HTMLElement))throw F.INVALID_ELEMENTORSELECTOR;if(null===e)throw F.INVALID_ELEMENTORSELECTOR;return e}function ne(e){var t={promise:void 0,timeoutId:void 0};return t.promise=new Promise((function(r,n){t.timeoutId=setTimeout(r,e)})),t}function ae(){var e=document.createElement("iframe");return e.setAttribute("sandbox","allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-downloads allow-top-navigation-by-user-activation"),e.style.position="fixed",e.style.left=0,e.style.right=0,e.style.top=0,e.style.bottom=0,e.style.borderWidth=0,e.style.width="100vw",e.style.height="".concat(window.innerHeight,"px"),e.style.minHeight="360px",e.style.visibility="hidden",e.style.display="none",window.addEventListener("resize",(function(){parseInt(e.style.height)!==window.innerHeight&&(e.style.height="".concat(window.innerHeight,"px"))})),e}function oe(e){var t=ae();return t.setAttribute("src",e),t.style.zIndex="+2147483647",t.classList.add("scdk-middle-frame"),t}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://connect.smallca.se",r={promise:void 0,cancel:void 0};return r.promise=new Promise((function(n){var a=function(a){a.origin===t&&a.data.type&&a.data.type.toLowerCase()===e.toLowerCase()&&(r.cancel(),n(a))};r.cancel=function(){window.removeEventListener("message",a)},window.addEventListener("message",a)})),r}function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://connect.smallca.se",n=function(n){n.origin===r&&n.data.type===e&&t(n.data)};return window.addEventListener("message",n),{cancel:function(){return window.removeEventListener("message",n)}}}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageType,r=e.messageParams,n=void 0===r?{}:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"iframe.scdk-middle-frame",o=re(a),s=ee({type:t},n);null!==o&&o.contentWindow.postMessage(s,"*")}function ue(e){var t=e.messageType,r=e.messageParams;ce({messageType:t,messageParams:void 0===r?{}:r},"#scdk-smallplug-frame")}function le(e){var t=e.toLowerCase().replace("-leprechaun",""),r=ee({},G[t]);return e.toLowerCase().indexOf("-leprechaun")>-1&&(r.getIntentURL=r.getLeprechaunIntentURL),ee({},r)}function fe(){return pe.apply(this,arguments)}function pe(){return(pe=k()(L.a.mark((function e(){var t,r,n,a,o=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.secondaryStatus,n=t.timeoutMs,a=void 0===n?3e3:n,e.abrupt("return",new Promise((function(e){var t,n;function o(){void 0!==t&&clearTimeout(t),void 0!==n&&void 0!==n.cancel&&n.cancel(),Z.closeSecondary(),e()}Z.openIndirect({secondaryStatus:r,changeOnly:"secondary"}),a>0&&(t=setTimeout(o,a)),(n=se(q.USER_CANCELLED)).promise.then(o)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){return e<.8?"Low":e<=1.45?"Moderate":"High"},he=function(e){return new Promise((function(t){return setTimeout(t,e)}))},me=function(e){return"tickertape"===e||"tickertape-dev"===e||"tickertape-stag"===e||"smallcase-website"===e},ye=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e]}))},be=function(e,t){return t?e.transactionOpenMode:"newtab"},ge=function(e,t){return e?Array.isArray(e)&&0===e.length?t:e.filter((function(e){return t.indexOf(e.split("-leprechaun")[0])>-1})):t},ve=function(e,t){if(t.type){if(t.type!==Y){var r="".concat(e,"_SMT");return Q[r]}var n="".concat(e,"_SST");return Q[n]}return Q[e]};function Ee(){return window.innerWidth>1183?"web":"mweb"}function Oe(e){ce({messageType:q.UPDATE_GATEWAY_NAME,messageParams:{gatewayName:e}})}function we(e,t,r){try{if("string"!=typeof e)throw Error("Key to be retrived should always be a string");switch(t){case"session":return sessionStorage.getItem(e);case"local":return localStorage.getItem(e);default:throw Error("Invalid storage type passed")}}catch(e){return void("function"==typeof r&&r(e))}}function Ie(e,t,r,n){try{if("string"!=typeof t||"string"!=typeof e)throw Error("Value and Key to be stored should always be a string");switch(r){case"session":sessionStorage.setItem(e,t);break;case"local":localStorage.setItem(e,t);break;default:throw Error("Invalid storage type passed")}return true}catch(e){return"function"==typeof n&&n(e),false}}var xe,_e={_token:void 0,_csrf:void 0,_smallcaseAuthToken:void 0,_broker:void 0,_brokerId:void 0,_gateway:void 0,_gatewayId:void 0,_status:void 0,_smallcaseId:void 0,_displayName:void 0,_defaultSCName:void 0,_investments:[],_exited:[],_amo:false,_thirdPartyCookieSupported:false,_featureBrokerList:void 0,_recentBrokers:void 0,_recentIntents:void 0,set token(e){this._token=e,Ie("token",e,"session")},get token(){return this._token||we("token","session")},set recentBrokers(e){var t=JSON.parse(we("recentBrokers","local")||"[]"),r=e.split("-leprechaun")[0],n=t.indexOf(r);n>-1&&t.splice(n,1),t.unshift(r),t.length>8&&t.splice(8,t.length-8),this._recentBrokers=t,Ie("recentBrokers",JSON.stringify(t),"local")},get recentBrokers(){return this._recentBrokers||JSON.parse(we("recentBrokers","local")||"[]")},set recentIntents(e){var t=JSON.parse(we("recentIntents","local")||"{}");t[e]||(t[e]=0),t[e]+=1,this._recentIntents=t,Ie("recentIntents",JSON.stringify(t),"local")},get recentIntents(){return this._recentIntents||JSON.parse(we("recentIntents","local")||"{}")},set CSRF(e){this._csrf=e},get CSRF(){return this._csrf},set smallcaseAuthToken(e){this._smallcaseAuthToken=e},get smallcaseAuthToken(){return this._smallcaseAuthToken},set broker(e){this._broker=e},get broker(){return this._broker},set brokerId(e){this._brokerId=e},get brokerId(){return this._brokerId},set gateway(e){this._gateway=e},get gateway(){return this._gateway},set gatewayId(e){this._gatewayId=e},get gatewayId(){return this._gatewayId},set smallcaseId(e){this._smallcaseId=e},get smallcaseId(){return this._smallcaseId},set status(e){this._status=e},get status(){return this._status},set displayName(e){this._displayName=e},get displayName(){return this._displayName},set defaultSCName(e){this._defaultSCName=e},get defaultSCName(){return this._defaultSCName},set investments(e){void 0===e&&(e=[]),this._investments=x()(e)},get investments(){return this._investments},set exited(e){void 0===e&&(e=[]),this._exited=x()(e)},get exited(){return this._exited},set amo(e){this._amo=e},get amo(){return this._amo},set thirdPartyCookieSupported(e){this._thirdPartyCookieSupported=e},get thirdPartyCookieSupported(){return this._thirdPartyCookieSupported},set featureBrokerList(e){this._featureBrokerList=e},get featureBrokerList(){return this._featureBrokerList}},ke={CANCEL_BATCH:"/user/cancelBatch",CHART:"/smallcase/chart",CONNECT:"/smallcaseConnect",EXITED:"/user/exitedSmallcases",INVESTMENTS:"/user/investments",MARKET_STATUS:"/market/checkStatus",MARK_TRANSACTION:"/transaction/markErrored",NEWS:"/smallcase/news",ORDERS:"/user/orders",SC_DISCOVERY:"/smallcases",SC_PROFILE:"/smallcase",SESSION_INIT:"/initSession",SIP:"/user/sip",TRANSACTION_STATUS:"/transaction",UPDATE:"/transaction/update"};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.GET="GET",e.POST="POST"}(xe||(xe={}));var Re=xe.GET,Te=xe.POST;var Ne,Ce,Ae=(Ne={"Content-Type":"application/json"},(Ce=l.a.create({baseURL:"https://gatewayapi.smallcase.com/gateway/"})).interceptors.request.use((function(e){var t=_e.token;return t&&(e.headers["x-sc-gateway"]=t),delete e.xsrfCookieName,delete e.xsrfHeaderName,e}),(function(e){return Promise.reject(e)})),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="".concat(_e.gateway).concat(t).concat(e===Re?"?".concat(c.a.stringify(r,{arrayFormat:"bracket"})):"");return Ce(a,{method:e,withCredentials:true,headers:Le(Le({"x-sc-csrf":_e.CSRF},Ne),n),data:e===Te?r:void 0,mode:"cors"}).then((function(e){return t!==ke.SESSION_INIT&&t!==ke.CONNECT||(_e.token=e.data.data.gatewayToken),e.data})).catch((function(e){if(e.response&&403===e.response.status)throw new O(e.response);throw new E(e.response)}))});var De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userData,r=e.smallcaseAuthToken,n=e.initHandler;if(!t&&!r)throw F.INVALID_USER;return this.initPromise=Ae(Te,ke.SESSION_INIT,{userData:t||r}).then((function(e){if(e.data){var t,r,a,o;if(_e.CSRF=e.data.csrf,_e.smallcaseAuthToken=e.data.smallcaseAuthToken,_e.gatewayId=e.data.gatewayUserId,_e.smallcaseId=null===(t=e.data.userData)||void 0===t?void 0:t._id,_e.brokerId=e.data.userData&&e.data.userData.broker&&e.data.userData.broker.userId,_e.status=e.data.status,_e.defaultSCName=e.data.defaultSCName,_e.displayName=e.data.displayName,_e.featureBrokerList=e.data.allowedBrokers,"CONNECTED"===_e.status)_e.investments=(null===(r=e.data.userData)||void 0===r?void 0:r.investedSmallcases)||[],_e.exited=(null===(a=e.data.userData)||void 0===a?void 0:a.exitedSmallcases)||[],_e.broker=null===(o=e.data.userData)||void 0===o?void 0:o.broker.name;else _e.broker=void 0,_e.investments=[],_e.exited=[];if(me(_e.gateway)&&n){var s=e.data,i=s.gatewayToken,c=s.displayName,u=s.status;n(i,c,u)}Oe(e.data.displayName)}return e.success})).catch((function(e){var t;if(null!==(t=e.res)&&void 0!==t&&t.errors.includes("Invalid JWT"))throw F.INVALID_USER;throw e})),this.initPromise};function Pe(e){return"".concat("https://connect.smallca.se","/#").concat(1646307137570,"?gateway=").concat(e)}function Ue(e){return"https://".concat(e,".smallcase.com")}var je="CONNECTED",Me="GUEST";function Be(){return(Be=k()(L.a.mark((function e(){var t,r,n,a,o,s,i,c,u,l,f,p,d,h,m,y,b,g,v,E=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.length>0&&void 0!==E[0]?E[0]:{},r=t.broker,n=void 0===r?_e.broker:r,a=t.timeoutMs,o=void 0===a?void 0:a,s=t.intent,i=t.skipLogin,c=void 0!==i&&i,e.next=3,te(this.initPromise,this.iframeLoaded);case 3:if(!((u=le(n)).skipLogin||c)){e.next=6;break}return e.abrupt("return",null);case 6:return l=u.getIntentURL({action:"gatewayLogin",gateway:_e.gateway,openMode:u.loginOpenMode,deviceType:_e.deviceType,checkSession:true,broker:n}),f=u.loginOpenMode,p=se(q.GATEWAY_LOGIN),d=p.promise.then((function(){return true})),h=void 0!==o?ne(o):{promise:new Promise((function(){})),timeoutId:null},m=se(q.CLOSED_WINDOW),y=se(q.USER_CANCELLED),b=function(){clearTimeout(h.timeoutId),p.cancel(),m.cancel(),y.cancel()},g=h.promise.then(k()(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),e.next=3,Z.closeAll();case 3:throw F.TIMED_OUT;case 4:case"end":return e.stop()}}),e)})))),v=Promise.race([m.promise,y.promise]).then(function(){var e=k()(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw b(),F.USER_CANCELLED;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z.openIndirect({primaryURL:l,primaryWindowType:f,secondaryStatus:"pre-connect/?broker=".concat(n),broker:n,intent:s}),e.abrupt("return",Promise.race([g,d,v]).then(function(){var e=k()(L.a.mark((function e(t){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(),r=be(u,_e.thirdPartyCookieSupported),!("iframe"===r)){e.next=6;break}return e.next=6,Z.closeAll();case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ge=function(){return Be.apply(this,arguments)};var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortBy,r=void 0===t?"default":t,n=e.sortOrder,a=void 0===n?1:n;return te(this.initPromise,this.iframeLoaded).then((function(){return Ae(Re,ke.SC_DISCOVERY,{sortBy:r,sortOrder:a})})).then((function(e){return e.data})).then((function(e){return{smallcases:e.smallcases.map((function(e){return e.riskLabel=de(e.stats.ratios.risk),e.imageUrl="https://assets.smallcase.com/images/smallcases/200/".concat(e.scid,".png"),e}))}}))};var He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scid;return t?te(this.initPromise,this.iframeLoaded).then((function(){return Ae(Re,ke.SC_PROFILE,{scid:t})})).then((function(e){return e.data})).then((function(e){return e.riskLabel=de(e.stats.ratios.risk),e.imageUrl="https://assets.smallcase.com/images/smallcases/200/".concat(e.scid,".png"),e})):Promise.reject(F.INVALID_SCID)};var Fe=function(){return te(this.initPromise,this.iframeLoaded).then((function(){return{status:_e.status}}))};var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scid,r=e.iscid,n=e.offset,a=void 0===n?0:n,o=e.count,s=void 0===o?15:o;return t||r?te(this.initPromise,this.iframeLoaded).then((function(){return Ae(Re,ke.NEWS,{scid:t,iscid:r,offset:a,count:s+1})})).then((function(e){return e.data})).then((function(e){var t=e.news,r=(t=t||[]).length===s+1;return r&&(t.length=s),{news:t,count:t.length,loadMore:r,offset:a}})):Promise.reject(F.INVALID_SCID)},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scid,r=e.duration,n=e.base,a=void 0===n?"100":n,o=e.benchmarkId,s=e.benchmarkType,i=void 0===s?"index":s;if(!t)throw F.INVALID_SCID;return Ae(Re,ke.CHART,{scid:t,duration:r,base:a,benchmarkId:o,benchmarkType:i}).then((function(e){return e.data}))},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.iscid;return te(this.initPromise,this.iframeLoaded).then((function(){if(!t)throw F.INVALID_ISCID;return Ae(Re,ke.INVESTMENTS,{iscids:[t]})})).then((function(e){return e.data})).then((function(e){return e.map((function(e){return e.investment.imageUrl="https://assets.smallcase.com/images/smallcases/200/".concat(e.investment.scid,".png"),e}))}))},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.iscid;return te(this.initPromise,this.iframeLoaded).then((function(){if(!t)throw F.INVALID_ISCID;return Ae(Re,ke.SIP,{iscid:t}).catch((function(e){if("InputException"===e.res.errorType)throw F.INVALID_ISCID;throw e}))})).then((function(e){return e.data}))},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.iscids,r=void 0===t?[]:t;return te(this.initPromise,this.iframeLoaded).then((function(){return Ae(Re,ke.INVESTMENTS,{iscids:r})})).then((function(e){return e.data})).then((function(e){return e.map((function(e){return e.investment.imageUrl="https://assets.smallcase.com/images/smallcases/200/".concat(e.investment.scid,".png"),e}))}))};function Xe(){return(Xe=k()(L.a.mark((function e(){var t,r,n,a,o=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n=r.iscid,e.next=3,Ae(Te,ke.CANCEL_BATCH,{iscid:n});case 3:return a=e.sent,e.next=6,this.init({smallcaseAuthToken:_e.smallcaseAuthToken});case 6:return e.abrupt("return",{orderBatches:[(null===(t=a.data.batch)||void 0===t?void 0:t.lastBatch)&&[a.data.batch.lastBatch]],smallcaseDeleted:a.data.smallcaseDeleted});case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ye=function(){return Xe.apply(this,arguments)},Qe=function(e){return Object.keys(e).reduce((function(t,r){return e[r]?"".concat(t).concat(r,"=").concat(encodeURIComponent(e[r]),"&"):t}),"").slice(0,-1)};function $e(){return($e=k()(L.a.mark((function e(){var t,r,n,a,o,s,i,c,u,l,f,p=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},r=t.name,n=t.email,a=t.contact,o=t.pinCode,e.next=3,te(this.initPromise,this.iframeLoaded);case 3:return e.next=5,Z.openIndirect({changeOnly:"secondary",secondaryStatus:"smallcase-loader"});case 5:return s="".concat("https://www.smallcase.com/gateway-signup","?").concat(Qe({name:r,email:n,contact:a,pinCode:o,gateway:_e&&_e.gateway,showCloseBtn:true})),e.next=8,Z.openIndirect({primaryWindowType:"iframe",primaryURL:s});case 8:return e.next=10,Z.closeSecondary();case 10:return i=se(q.USER_SIGNUP_CLOSE),c=Promise.race([i.promise]),u=function(){i.cancel()},e.next=15,c;case 15:if(l=e.sent,u(),!((f=l.data).type===q.USER_SIGNUP_CLOSE)){e.next=22;break}return e.next=21,Z.closePrimary();case 21:return e.abrupt("return",f.leadData);case 22:return e.abrupt("return",{leadId:null,status:null});case 23:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Je=function(){return $e.apply(this,arguments)},et=function(){return te(this.initPromise,this.iframeLoaded).then((function(){return Ae(Re,ke.EXITED,_e.gateway,{})})).then((function(e){return e.data})).then((function(e){return e.map((function(e){var t=e;return t.imageUrl="https://assets.smallcase.com/images/smallcases/200/".concat(e.scid,".png"),t}))}))},tt=r(3),rt=r.n(tt);function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ot(e){var t=e.transactionId,r=e.status,n=e.errorMessage,a=e.errorCode;return t?Ae(Te,ke.MARK_TRANSACTION,{transactionId:t,status:r,errorMessage:n,errorCode:a}):Promise.resolve()}function st(e){return it.apply(this,arguments)}function it(){return(it=k()(L.a.mark((function e(t){var r,n,a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.transactionId,a=t.agent,o=t.consent,n){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return e.abrupt("return",Ae(Te,ke.UPDATE,{update:{broker:r,agent:a,consent:o},transactionId:n}).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){var e=se(q.LOGIN_BUTTON_CLICKED),t=se(q.LOGIN_BUTTON_CLICKED_CONSENT_REQUIRED),r=se(q.USER_CANCELLED),n=se(q.USER_SIGNUP),a=se(q.BROKER_TWEET);return Promise.race([e.promise,r.promise,n.promise,a.promise,t.promise]).then((function(o){return e.cancel(),r.cancel(),n.cancel(),a.cancel(),t.cancel(),o}))}function ut(e){return lt.apply(this,arguments)}function lt(){return(lt=k()(L.a.mark((function e(t){var r,n,a,o,s,i,u,l,f,p,d,h,m,y,b,g;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.shouldClose,n=t.brokersToshow,a=void 0===n?null:n,o=t.leprechaun,s=t.transactionId,i=t.intent,u=t.orderConfig,l=t.recentBrokers,f=t.recentIntents,p=void 0===f?{}:f,d=t.txnConfig,h=c.a.stringify({action:"gatewayLogin",b:a,leprechaun:o,distributor:_e.displayName,gateway:_e.gateway},{arrayFormat:"bracket"}),e.next=4,ye(Z.openIndirect({secondaryStatus:"connect?".concat(h),intent:i,intentData:{orderConfig:u,txnConfig:d},recentBrokers:l,isReturningUser:p[i]>0}));case 4:return e.next=6,ct();case 6:if(m=e.sent,y=m.data,b=false,!(y.type===q.LOGIN_BUTTON_CLICKED_CONSENT_REQUIRED)){e.next=17;break}case 10:return ye(st({broker:y.broker,transactionId:s})),e.next=13,ct();case 13:m=e.sent,y=m.data;case 15:if(y.type===q.LOGIN_BUTTON_CLICKED_CONSENT_REQUIRED){e.next=10;break}case 16:y.type===q.LOGIN_BUTTON_CLICKED&&y.consentGiven&&(b=true);case 17:if(!(y.type===q.USER_SIGNUP)){e.next=21;break}throw F.SIGNUP_CLICK;case 21:if(!(y.type===q.BROKER_TWEET)){e.next=25;break}throw F.NO_BROKER;case 25:if(!(y.type===q.USER_CANCELLED)){e.next=29;break}throw F.USER_CANCELLED;case 29:if(!r){e.next=32;break}return e.next=32,Z.closeAll();case 32:return g=y.broker,e.abrupt("return",{broker:g,updateConsent:b});case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e){return Ae(Re,ke.TRANSACTION_STATUS,{transactionId:e}).then((function(e){return e.data}))}function pt(e){return Ae(Re,ke.MARKET_STATUS,void 0,{"x-sc-broker":e}).then((function(e){return e.data}))}function dt(e){return ht.apply(this,arguments)}function ht(){return(ht=k()(L.a.mark((function e(t){var r,n,a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.markTransaction,n=t.errorObj,a=t.transactionId,o=t.error,!r){e.next=7;break}return e.next=4,ot({transactionId:a,status:$.ERRORED,errorMessage:n.message,errorCode:n.code});case 4:return e.next=6,Z.closeAll();case 6:throw n.error;case 7:return e.next=9,Z.closeAll();case 9:throw o;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return new Promise((function(a){var o=setInterval(k()(L.a.mark((function s(){var i,c;return L.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!n){s.next=19;break}return s.next=3,ye(ft(e));case 3:if(i=s.sent,c=rt()(i,2),r=c[0],t=c[1].transaction,!r){s.next=11;break}return clearInterval(o),s.next=11,dt({markTransaction:false,error:F.API_ERROR});case 11:if(!(t.status===$.COMPLETED)){s.next=16;break}return clearInterval(o),s.abrupt("return",a(t));case 16:if(!(t.status===$.PROCESSING)){s.next=19;break}return n-=1,s.abrupt("return",n);case 19:return clearInterval(o),s.abrupt("return",a(t));case 21:case"end":return s.stop()}}),s)}))),2e3)}))}function yt(e){var t=e.broker,r=e.transactionId,n=se(q.TRANSACTION_COMPLETE),a=se(q.USER_CANCELLED),o=se(q.CLOSED_WINDOW),s=se(q.LOGIN_REQUIRED),i=se(q.LOGIN_BUTTON_CLICKED);return i.promise.then((function(e){e.data.consentGiven&&ye(st({broker:t,transactionId:r,consent:true})),i.cancel()})),Promise.race([n.promise,a.promise,o.promise,s.promise]).then((function(e){return n.cancel(),a.cancel(),o.cancel(),s.cancel(),i.cancel(),e}))}function bt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=k()(L.a.mark((function e(t,r){var n,a,o=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>2&&void 0!==o[2])||o[2],!("user_mismatch"===t.data.error)){e.next=10;break}return e.next=4,Z.closePrimary();case 4:return e.next=6,fe({secondaryStatus:"login-failed?reason=wrong_user",timeoutMs:-1});case 6:return e.next=8,dt({markTransaction:false,error:F.USER_MISMATCH});case 8:e.next=13;break;case 10:return a=H[t.data.code],e.next=13,dt(at({markTransaction:n,transactionId:r},n?{errorObj:a}:{error:a.error}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ot,wt,It,xt={getBroker:(It=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u,l,f,p,d,h,m,y,b,g,v,E,O,I,_,k,S,R;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transactionId,n=t.brokers,a=t.leprechaun,o=t.intent,s=t.txnConfig,i=void 0===s?{}:s,c=t.orderConfig,u=void 0===c?{}:c,l=t.skipLogin,f=void 0!==l&&l,!(_e.status!==je)){e.next=50;break}if(p=ve(o,u),!(0===(d=ge(n,_e.featureBrokerList[p])||[]).length)){e.next=7;break}return e.next=7,dt({markTransaction:true,transactionId:r,errorObj:H[1008]});case 7:if(!(1===d.length)){e.next=10;break}return h=rt()(d,1),m=h[0],e.abrupt("return",m);case 10:return e.next=12,ye(ut({shouldClose:false,brokersToshow:x()(d),leprechaun:a,gateway:_e.gateway,transactionId:r,distributor:_e.displayName,intent:o,orderConfig:u,recentBrokers:_e.recentBrokers,recentIntents:_e.recentIntents,txnConfig:i}));case 12:if(y=e.sent,b=rt()(y,2),g=b[0],v=b[1],!g){e.next=37;break}if(!(g===F.NO_BROKER)){e.next=22;break}return e.next=20,dt({markTransaction:true,transactionId:r,errorObj:H[1006]});case 20:e.next=37;break;case 22:if(!(g===F.SIGNUP_CLICK)){e.next=34;break}return e.next=25,ye(Je());case 25:return E=e.sent,O=rt()(E,2),I=O[1],(_=Et({},H[1007])).error=new w(_.message,_.code,I),e.next=32,dt({markTransaction:true,transactionId:r,errorObj:_});case 32:e.next=37;break;case 34:if(!(g===F.USER_CANCELLED)){e.next=37;break}return e.next=37,dt({markTransaction:true,transactionId:r,errorObj:H[1010]});case 37:return k=v.broker,S=v.updateConsent,_e.recentBrokers=k,ye(st({broker:k,transactionId:r,consent:S})),e.next=42,ye(this.login({broker:k,transactionId:r,skipLogin:f}));case 42:if(R=e.sent,!rt()(R,1)[0]){e.next=48;break}return e.next=48,dt({markTransaction:true,transactionId:r,errorObj:H[1011]});case 48:return _e.recentIntents=o,e.abrupt("return",k);case 50:return ye(st({broker:_e.broker,transactionId:r})),e.abrupt("return",_e.broker);case 52:case"end":return e.stop()}}),e,this)}))),function(e){return It.apply(this,arguments)}),handleBrokerPlatform:(wt=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.broker,a=le(n),o=be(a,_e.thirdPartyCookieSupported),s=a.getIntentURL({transactionId:r.transactionId,broker:n,openMode:o,gateway:_e.gateway,intent:r.intent}),e.next=6,Z.closeSecondary();case 6:return i="pre-connect/?broker=".concat(n.replace("-leprechaun","")),c=yt({broker:n,transactionId:r.transactionId}),e.next=10,Z.openIndirect({primaryURL:s,primaryWindowType:o,secondaryStatus:i,broker:n,intent:r.intent});case 10:return e.abrupt("return",{shouldReturn:false,completionPromise:c});case 11:case"end":return e.stop()}}),e)}))),function(e){return wt.apply(this,arguments)}),handleCompletion:(Ot=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.message,e.next=3,ye(ft(r.transactionId));case 3:if(a=e.sent,o=rt()(a,2),s=o[0],i=o[1],!s){e.next=10;break}return e.next=10,dt({markTransaction:false,error:F.API_ERROR});case 10:if(r=i.transaction,c=[q.USER_CANCELLED,q.CLOSED_WINDOW].includes(n.data.type),!(r.status===$.PROCESSING)){e.next=18;break}return e.next=15,Z.closePrimary();case 15:return e.next=17,mt(r.transactionId);case 17:r=e.sent;case 18:if(![$.PROCESSING,$.COMPLETED].includes(r.status)){e.next=23;break}return e.next=21,Z.closeAll();case 21:e.next=35;break;case 23:if(!(r.status===$.INITIALIZED)){e.next=30;break}if(e.t0=c,!e.t0){e.next=28;break}return e.next=28,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1011]});case 28:e.next=35;break;case 30:if(!(r.status===$.USED)){e.next=35;break}if(e.t1=c,!e.t1){e.next=35;break}return e.next=35,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1012]});case 35:if(!(n.data.status===X)){e.next=37;break}return e.abrupt("return",bt(n,r.transactionId));case 37:return e.abrupt("return",Et(Et({smallcaseAuthToken:r.success.smallcaseAuthToken},!!r.success.data&&r.success.data),{},{transactionId:r.transactionId}));case 38:case"end":return e.stop()}}),e)}))),function(e){return Ot.apply(this,arguments)})},_t={handleBrokerPlatform:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u,l,f,p;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.broker,e.next=3,Z.openIndirect({changeOnly:"secondary",secondaryStatus:"smallcase-loader"});case 3:return e.next=5,ye(pt(n));case 5:if(a=e.sent,o=rt()(a,2),s=o[0],i=o[1],!(s||!(i.marketOpen||_e.amo&&i.amoActive))){e.next=12;break}return e.next=12,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[4004]});case 12:return c=le(n),u=be(c,_e.thirdPartyCookieSupported),l=c.getIntentURL({transactionId:r.transactionId,broker:n,openMode:u,gateway:_e.gateway,intent:r.intent}),e.next=17,Z.closeSecondary();case 17:return f="orderflow-waiting/?broker=".concat(n.replace("-leprechaun",""),"&smallcase=").concat(r.orderConfig.name),p=yt({broker:n,transactionId:r.transactionId}),e.next=21,Z.openIndirect({primaryURL:l,primaryWindowType:u,secondaryStatus:f,broker:n,intent:r.intent});case 21:return e.abrupt("return",{shouldReturn:false,completionPromise:p});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCompletion:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.message,e.next=3,ye(ft(r.transactionId));case 3:if(a=e.sent,o=rt()(a,2),s=o[0],i=o[1],!s){e.next=10;break}return e.next=10,dt({markTransaction:false,error:F.API_ERROR});case 10:if(r=i.transaction,c=[q.USER_CANCELLED,q.CLOSED_WINDOW].includes(n.data.type),u={},![$.PROCESSING,$.COMPLETED,$.ACTION_REQUIRED].includes(r.status)){e.next=26;break}return e.next=16,Z.closeAll();case 16:u.notes=r.success.notes,u.smallcaseAuthToken=r.success.smallcaseAuthToken,u.transactionId=r.transactionId,u.orderBatches=r.success.data.batches,delete r.success.data.batches,delete r.success.data.userId,r.success.broker&&(u.broker=r.success.broker),u=Object.assign(u,r.success.data),e.next=38;break;case 26:if(!(r.status===$.INITIALIZED)){e.next=33;break}if(e.t0=c,!e.t0){e.next=31;break}return e.next=31,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1011]});case 31:e.next=38;break;case 33:if(!(r.status===$.USED)){e.next=38;break}if(e.t1=c,!e.t1){e.next=38;break}return e.next=38,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1012]});case 38:if(!(n.data.status===X)){e.next=40;break}return e.abrupt("return",bt(n,r.transactionId));case 40:return e.abrupt("return",u);case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},kt={handleBrokerPlatform:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transaction,n=t.broker,!(_e.status===je)){e.next=3;break}return e.abrupt("return",{shouldReturn:true,returnObj:{smallcaseAuthToken:_e.smallcaseAuthToken}});case 3:return a=le(n),o=be(a,_e.thirdPartyCookieSupported),s=a.getIntentURL({transactionId:r.transactionId,broker:n,openMode:o,gateway:_e.gateway,intent:r.intent}),e.next=8,Z.closeSecondary();case 8:return i="pre-connect/?broker=".concat(n.replace("-leprechaun","")),c=yt({broker:n,transactionId:r.transactionId}),e.next=12,Z.openIndirect({primaryURL:s,primaryWindowType:o,secondaryStatus:i,broker:n,intent:r.intent});case 12:return e.abrupt("return",{shouldReturn:false,completionPromise:c});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCompletion:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,a=t.message,o=t.broker,e.next=3,ye(ft(n.transactionId));case 3:if(s=e.sent,i=rt()(s,2),c=i[0],u=i[1],!c){e.next=10;break}return e.next=10,dt({markTransaction:false,error:F.API_ERROR});case 10:if(n=u.transaction,l=[q.USER_CANCELLED,q.CLOSED_WINDOW].includes(a.data.type),![$.PROCESSING,$.COMPLETED].includes(n.status)){e.next=23;break}return e.next=15,Z.closePrimary();case 15:if(e.t0=!me(_e.gateway),!e.t0){e.next=19;break}return e.next=19,fe({secondaryStatus:"post-connect/?broker=".concat(o,"&t=").concat(3,"&distributor=").concat(_e.displayName)});case 19:return e.next=21,Z.closeAll();case 21:e.next=35;break;case 23:if(!(n.status===$.INITIALIZED)){e.next=30;break}if(e.t1=l,!e.t1){e.next=28;break}return e.next=28,dt({markTransaction:true,transactionId:n.transactionId,errorObj:H[1011]});case 28:e.next=35;break;case 30:if(!(n.status===$.USED)){e.next=35;break}if(e.t2=l,!e.t2){e.next=35;break}return e.next=35,dt({markTransaction:true,transactionId:n.transactionId,errorObj:H[1012]});case 35:if(!(a.data.status===X)){e.next=37;break}return e.abrupt("return",bt(a,n.transactionId));case 37:return e.abrupt("return",{transactionId:n.transactionId,smallcaseAuthToken:n.success.smallcaseAuthToken,signup:n.success.signup,broker:null===(r=n.success)||void 0===r?void 0:r.broker});case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rt={handleBrokerPlatform:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.broker,a=le(n),o=be(a,_e.thirdPartyCookieSupported),s=a.getIntentURL({transactionId:r.transactionId,broker:n,openMode:o,gateway:_e.gateway,intent:r.intent}),e.next=6,Z.closeSecondary();case 6:return i="holding-import/?broker=".concat(n.replace("-leprechaun","")),c=yt({broker:n,transactionId:r.transactionId}),e.next=10,Z.openIndirect({primaryURL:s,primaryWindowType:o,secondaryStatus:i,broker:n,intent:r.intent});case 10:return e.abrupt("return",{shouldReturn:false,completionPromise:c});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCompletion:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u,l,f,p,d;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.message,a=t.broker,o=void 0===a?_e.broker:a,e.next=3,ye(ft(r.transactionId));case 3:if(s=e.sent,i=rt()(s,2),c=i[0],u=i[1],!c){e.next=10;break}return e.next=10,dt({markTransaction:false,error:F.API_ERROR});case 10:if(r=u.transaction,l=[q.USER_CANCELLED,q.CLOSED_WINDOW].includes(n.data.type),f={},!(r.status===$.PROCESSING)){e.next=24;break}return e.next=16,Z.closePrimary();case 16:return e.next=18,Z.openIndirect({secondaryStatus:"holding-import/?broker=".concat(o)});case 18:return p=he(2e3),e.next=21,mt(r.transactionId,15);case 21:return r=e.sent,e.next=24,p;case 24:if(!(r.status===$.COMPLETED)){e.next=30;break}return e.next=27,Z.closeAll();case 27:f={smallcaseAuthToken:r.success.smallcaseAuthToken,transactionId:r.transactionId,broker:null===(d=r.success)||void 0===d?void 0:d.broker,success:true},e.next=47;break;case 30:if(!(r.status===$.PROCESSING)){e.next=35;break}return e.next=33,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[4003]});case 33:e.next=47;break;case 35:if(!(r.status===$.INITIALIZED)){e.next=42;break}if(e.t0=l,!e.t0){e.next=40;break}return e.next=40,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1011]});case 40:e.next=47;break;case 42:if(!(r.status===$.USED)){e.next=47;break}if(e.t1=l,!e.t1){e.next=47;break}return e.next=47,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1012]});case 47:if(!(n.data.status===X)){e.next=49;break}return e.abrupt("return",bt(n,r.transactionId));case 49:if(!(r.status===$.ERRORED)){e.next=52;break}return e.next=52,dt(Lt(Lt({markTransaction:false},H[r.error.code]),{},{transactionId:r.transactionId}));case 52:return e.abrupt("return",f);case 53:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Tt={handleBrokerPlatform:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=le(r),a=be(n,_e.thirdPartyCookieSupported),o=n.getIntentURL({broker:r,openMode:a,gateway:_e.gateway,intent:T.SEE_ORDERS}),e.next=6,Z.closeSecondary();case 6:return s="pre-connect/?broker=".concat(r.replace("-leprechaun","")),i=yt({broker:r}),e.next=10,Z.openIndirect({primaryURL:o,primaryWindowType:a,secondaryStatus:s,broker:r});case 10:return e.abrupt("return",{shouldReturn:false,completionPromise:i});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCompletion:function(){var e=k()(L.a.mark((function e(t){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.message,e.next=3,Z.closePrimary();case 3:return e.next=5,Z.closeAll();case 5:if(!(r.data.status===X)){e.next=7;break}return e.abrupt("return",bt(r));case 7:return e.abrupt("return",true);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At={handleBrokerPlatform:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.broker,e.next=3,Z.openIndirect({changeOnly:"secondary",secondaryStatus:"smallcase-loader"});case 3:return a=le(n),o=be(a,_e.thirdPartyCookieSupported),s=a.getIntentURL({transactionId:r.transactionId,broker:n,openMode:o,gateway:_e.gateway,intent:r.intent}),e.next=8,Z.closeSecondary();case 8:return i=r.config.name,c="orderflow-waiting/?broker=".concat(n.replace("-leprechaun",""),"&smallcase=").concat(i),u=yt({broker:n,transactionId:r.transactionId}),e.next=13,Z.openIndirect({primaryURL:s,primaryWindowType:o,secondaryStatus:c,broker:n,intent:r.intent});case 13:return e.abrupt("return",{shouldReturn:false,completionPromise:u});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCompletion:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transaction,n=t.message,e.next=3,ye(ft(r.transactionId));case 3:if(a=e.sent,o=rt()(a,2),s=o[0],i=o[1],!s){e.next=10;break}return e.next=10,dt({markTransaction:false,error:F.API_ERROR});case 10:if(r=i.transaction,c=[q.USER_CANCELLED,q.CLOSED_WINDOW].includes(n.data.type),u={},!(r.status===$.COMPLETED)){e.next=19;break}return e.next=16,Z.closeAll();case 16:u=Ct(Ct({notes:r.success.notes,smallcaseAuthToken:r.success.smallcaseAuthToken},r.success.broker&&{broker:r.success.broker}),{},{transactionId:r.transactionId}),e.next=31;break;case 19:if(!(r.status===$.INITIALIZED)){e.next=26;break}if(e.t0=c,!e.t0){e.next=24;break}return e.next=24,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1011]});case 24:e.next=31;break;case 26:if(!(r.status===$.USED)){e.next=31;break}if(e.t1=c,!e.t1){e.next=31;break}return e.next=31,dt({markTransaction:true,transactionId:r.transactionId,errorObj:H[1012]});case 31:if(!(n.data.status===X)){e.next=33;break}return e.abrupt("return",bt(n,r.transactionId,r.status!==$.ERRORED));case 33:return e.abrupt("return",u);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Dt={handleBrokerPlatform:function(){var e=k()(L.a.mark((function e(t){var r,n,a,o,s,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=le(r),a=be(n,_e.thirdPartyCookieSupported),o=n.getIntentURL({broker:r,openMode:a,gateway:_e.gateway,intent:T.BROKER_LOGOUT}),e.next=6,Z.closeSecondary();case 6:return s="pre-connect/?broker=".concat(r.replace("-leprechaun","")),i=yt({broker:r}),e.next=10,Z.openIndirect({primaryURL:o,primaryWindowType:a,secondaryStatus:s,broker:r});case 10:return e.abrupt("return",{shouldReturn:false,completionPromise:i});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCompletion:function(){var e=k()(L.a.mark((function e(t){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.message,e.next=3,Z.closePrimary();case 3:return e.next=5,Z.closeAll();case 5:if(!(r.data.status===X)){e.next=7;break}return e.abrupt("return",bt(r));case 7:return e.abrupt("return",true);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),true).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt,Mt,Bt=function(e){switch(e){case R.TRANSACTION:return Ut(Ut({},xt),_t);case R.SUBSCRIPTION:return Ut(Ut({},xt),At);case R.CONNECT:return Ut(Ut({},xt),kt);case R.HOLDINGS_IMPORT:return Ut(Ut({},xt),Rt);case T.SEE_ORDERS:return Ut(Ut({},xt),Tt);case T.BROKER_LOGOUT:return Ut(Ut({},xt),Dt);default:return xt}},Gt={fetchTransaction:(Mt=k()(L.a.mark((function e(t){var r,n,a,o,s,i,c,u,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transactionId,n=ft(r),!me(_e.gateway)){e.next=7;break}return e.next=5,Z.openIndirect({changeOnly:"secondary",secondaryStatus:"smallcase-loader"});case 5:e.next=15;break;case 7:if(!(_e.status===Me)){e.next=12;break}return e.next=10,Z.openIndirect({changeOnly:"secondary",secondaryStatus:"pre-broker-chooser"});case 10:e.next=14;break;case 12:return e.next=14,Z.openIndirect({changeOnly:"secondary",secondaryStatus:"pre-connect?broker=".concat(_e.broker)});case 14:a=he(2e3);case 15:return e.next=17,ye(n);case 17:return o=e.sent,s=rt()(o,2),i=s[0],c=s[1],e.next=23,a;case 23:if(!i){e.next=29;break}if(!("InputException"===(null===(u=i.res)||void 0===u?void 0:u.errorType))){e.next=27;break}return e.next=27,dt({markTransaction:false,error:F.INVALID_TRANSACTION});case 27:return e.next=29,dt({markTransaction:false,error:F.API_ERROR});case 29:if(!((l=c.transaction).status!==$.INITIALIZED)){e.next=35;break}return e.next=33,dt({markTransaction:false,error:F.TRANSACTION_EXPIRED});case 33:e.next=42;break;case 35:if(!l.expired){e.next=40;break}return e.next=38,dt({markTransaction:true,transactionId:r,errorObj:H[3001]});case 38:e.next=42;break;case 40:return e.next=42,a;case 42:return e.abrupt("return",l);case 43:case"end":return e.stop()}}),e)}))),function(e){return Mt.apply(this,arguments)}),handleLoginRequired:(jt=k()(L.a.mark((function e(t){var r,n,a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.message,n=t.transaction,a=t.broker,!(r.data.type===q.LOGIN_REQUIRED)){e.next=11;break}return e.next=4,ye(this.login({broker:a,intent:n.intent}));case 4:if(o=e.sent,!rt()(o,1)[0]){e.next=10;break}return e.next=10,dt({markTransaction:true,errorObj:H[1011],transactionId:n.transactionId});case 10:return e.abrupt("return",{restartTransaction:true});case 11:return e.abrupt("return",{restartTransaction:false});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return jt.apply(this,arguments)})};function Wt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=k()(L.a.mark((function e(){var t,r,n,a,o,s,i,c,u,l,f,p,d,h,m,y,b=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.length>0&&void 0!==b[0]?b[0]:{},r=t.brokers,n=void 0===r?[]:r,a=t.leprechaun,o=void 0!==a&&a,!(!(s=t.transactionId)||"string"!=typeof s)){e.next=4;break}return e.next=4,dt({markTransaction:false,error:F.INVALID_TRANSACTION});case 4:return e.next=6,te(this.initPromise,this.iframeLoaded);case 6:return i=Ee(),ye(st({transactionId:s,agent:i})),e.next=10,Gt.fetchTransaction({transactionId:s});case 10:return c=e.sent,u=Bt(c.intent),e.next=14,u.getBroker.call(this,{brokers:n,leprechaun:o,transactionId:s,intent:c.intent,orderConfig:c.orderConfig,txnConfig:c.config});case 14:return l=e.sent,e.next=17,u.handleBrokerPlatform({transaction:c,broker:l});case 17:if(f=e.sent,p=f.shouldClose,d=f.completionPromise,h=f.returnObj,!p){e.next=23;break}return e.abrupt("return",h);case 23:return e.next=25,d;case 25:return m=e.sent,e.next=28,Gt.handleLoginRequired.call(this,{message:m,transaction:c,broker:l});case 28:if(y=e.sent,!y.restartTransaction){e.next=32;break}return e.abrupt("return",Wt.call(this,{brokers:n,leprechaun:o,transactionId:s}));case 32:return e.abrupt("return",u.handleCompletion({message:m,transaction:c,broker:l}));case 33:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ft=Wt,Kt=null;function Vt(){Kt=window.onpopstate,window.history.pushState(null,document.title,window.location.href),window.onpopstate=function(){window.history.pushState(null,document.title,window.location.href)}}function qt(){window.onpopstate=Kt,window.history.go(-1)}var zt=null;function Zt(){zt=document.activeElement}function Xt(){zt&&zt.focus(),zt=null}function Yt(e){return e.split("\n").reduce((function(e,t){var r=function(e){var t=Qt.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),a=$t.exec(t[2]);n&&null!=a&&(t[2]=a[1],t[3]=a[2],t[4]=a[3]);return{file:r?null:t[2],methodName:t[1]||"<unknown>",arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||function(e){var t=Jt.exec(e);if(!t)return null;return{file:t[2],methodName:t[1]||"<unknown>",arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}}(t)||function(e){var t=er.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=tr.exec(t[3]);r&&null!=n&&(t[3]=n[1],t[4]=n[2],t[5]=null);return{file:t[3],methodName:t[1]||"<unknown>",arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||function(e){var t=nr.exec(e);if(!t)return null;return{file:t[2],methodName:t[1]||"<unknown>",arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}}(t)||function(e){var t=rr.exec(e);if(!t)return null;return{file:t[3],methodName:t[1]||"<unknown>",arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}}(t);return r&&e.push(r),e}),[])}var Qt=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$t=/\((\S*)(?::(\d+))(?::(\d+))\)/;var Jt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var er=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,tr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;var rr=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;var nr=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;var ar=function(){var e=window.crypto||window.msCrypto;if(void 0!==e&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},or="1d5680ea1cdf48659f6472b7aec24520",sr=Date.now();function ir(e){var t=e.lineNumber;return{filename:e.file,lineno:t,colno:e.column,function:e.methodName,in_app:true}}function cr(e){if(!e.stack)return{type:"error",value:e};var t=Yt(e.stack);return{type:e.name,value:e.message,stacktrace:{frames:t.map(ir)}}}var ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sentryHost,r=void 0===t?"sentry.smallcase.com":t,n=e.project,a=void 0===n?24:n,o=e.sentryVersion,s=void 0===o?7:o,i=e.sentryClient,u=void 0===i?"custom-client@0.0.1":i,f=e.sentryKey,p=void 0===f?or:f,d=e.protocol,h=void 0===d?"https":d,m=c.a.stringify({sentry_version:s,sentry_client:u,sentry_key:p}),y="".concat(h,"://").concat(r,"/api/").concat(a,"/store/?").concat(m),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{project:a,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":navigator.userAgent,Referer:document.referrer},url:document.referrer},exception:{values:[cr(e)],mechanism:{type:t,handled:r}},tags:{component:"scdk",gateway:_e.gateway},extra:{"session:duration":Date.now()-sr},release:window.__SCDK_RELEASE&&window.__SCDK_RELEASE.id,event_id:ar()}};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l.a.post(y,b(e,t,r)).then((function(e){return 1}))}}({});var lr=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(e){try{ur(e)}catch(e){}throw e}}};function fr(){return pr.apply(this,arguments)}function pr(){return(pr=k()(L.a.mark((function e(){var t,r,n,a,o,s,i,c,u,l,f,p,d,h,m=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},r=t.brokers,n=void 0===r?[]:r,a=t.leprechaun,o=void 0!==a&&a,e.next=3,te(this.initPromise,this.iframeLoaded);case 3:return s=Bt(T.SEE_ORDERS),e.next=6,s.getBroker.call(this,{brokers:n,leprechaun:o,intent:T.SEE_ORDERS});case 6:return i=e.sent,e.next=9,s.handleBrokerPlatform({broker:i});case 9:if(c=e.sent,u=c.shouldClose,l=c.completionPromise,f=c.returnObj,!u){e.next=15;break}return e.abrupt("return",f);case 15:return e.next=17,l;case 17:return p=e.sent,d={intent:T.SEE_ORDERS},e.next=21,Gt.handleLoginRequired.call(this,{message:p,broker:i,transaction:d});case 21:if(h=e.sent,!h.restartTransaction){e.next=25;break}return e.abrupt("return",fr.call(this,{brokers:n,leprechaun:o}));case 25:return e.abrupt("return",s.handleCompletion({message:p,broker:i}));case 26:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var dr=fr;function hr(){return mr.apply(this,arguments)}function mr(){return(mr=k()(L.a.mark((function e(){var t,r,n,a,o,s,i,c,u,l,f,p,d,h,m=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},r=t.brokers,n=void 0===r?[]:r,a=t.leprechaun,o=void 0!==a&&a,e.next=3,te(this.initPromise,this.iframeLoaded);case 3:return s=Bt(T.BROKER_LOGOUT),e.next=6,s.getBroker.call(this,{brokers:n,leprechaun:o,intent:T.BROKER_LOGOUT,skipLogin:true});case 6:return i=e.sent,e.next=9,s.handleBrokerPlatform({broker:i});case 9:if(c=e.sent,u=c.shouldClose,l=c.completionPromise,f=c.returnObj,!u){e.next=15;break}return e.abrupt("return",f);case 15:return e.next=17,l;case 17:return p=e.sent,d={intent:T.BROKER_LOGOUT},e.next=21,Gt.handleLoginRequired.call(this,{message:p,broker:i,transaction:d});case 21:if(h=e.sent,!h.restartTransaction){e.next=25;break}return e.abrupt("return",hr.call(this,{brokers:n,leprechaun:o}));case 25:return e.abrupt("return",s.handleCompletion({message:p,broker:i}));case 26:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var yr=hr,br=new Promise((function(){}));function gr(){this.referenceElement&&(this.iframeElement&&this.iframeElement.remove(),this.closeBtnElement&&this.closeBtnElement.remove(),this.closeBtnElement=void 0,this.iframeElement=void 0,this.referenceElement.style.overflow="")}function vr(e){var t,r,n=e.path,a=e.params,o=function(e,t,r){return"https://".concat(e,".smallcase.com/").concat(null!=t?t:"","?ct=smallplug_web&").concat(null!=r?r:"")}(_e.gateway,n,a),s=(t=o,(r=ae()).setAttribute("src",t),r.style.zIndex="+2147483646",r.id="scdk-smallplug-frame",window.innerWidth>1183&&(r.style.padding="50px"),r.style.backgroundColor="rgba(0, 0, 0, .8)",r.style.display="block",r.style.visibility="visible",r),i=re(Z.elementOrSelector);if(i.style.overflow="hidden",i.appendChild(s),this.referenceElement=i,this.iframeElement=s,window.innerWidth>1283){var c=function(){var e=document.createElement("button");return e.innerHTML="&times",e.style.fontSize="20px",e.style.background="transparent",e.style.color="#ffffff",e.style.position="fixed",e.style.top="10px",e.style.right="10px",e.style.border="none",e.style.zIndex="+2147483646",e.style.cursor="pointer",e}();br=new Promise((function(e){c.addEventListener("click",(function(){e(true)}))})),i.appendChild(c),this.closeBtnElement=c}return this.referenceElement}function Er(){ue({messageType:q.SMALLPLUG_INITIALIZE_RESPONSE,messageParams:{gatewayToken:_e.token,gatewayName:_e.displayName,userStatus:_e.status,origin:window.location.origin}})}function Or(e){var t=this;switch(e.intent){case R.CONNECT:case R.TRANSACTION:default:return Ft.call(this,{transactionId:e.transactionId}).then((function(e){return t.init({smallcaseAuthToken:e.smallcaseAuthToken}).then((function(){ue({messageType:q.SMALLPLUG_HANDLE_INTENT_RESPONSE,messageParams:{data:e,success:true}})}))})).catch((function(e){ue({messageType:q.SMALLPLUG_HANDLE_INTENT_RESPONSE,messageParams:{error:{message:e.message},success:false}})}))}}function wr(){return(wr=k()(L.a.mark((function e(){var t,r,n,a,o,s,i=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.path,n=t.params,e.next=3,this.initPromise;case 3:if(!(null!==document.querySelector("#scdk-smallplug-frame"))){e.next=6;break}return e.abrupt("return",{success:true,smallcaseAuthToken:_e.smallcaseAuthToken});case 6:return a=Ue(_e.gateway),vr.call(this,{path:r,params:n}),o=ie(q.SMALLPLUG_INITIALIZE,Er,a),s=ie(q.SMALLPLUG_HANDLE_INTENT,Or.bind(this),a),e.next=12,Promise.race([se(q.SMALLPLUG_HIDE_FRAME,a).promise,br]);case 12:return o.cancel(),s.cancel(),gr.call(this),e.abrupt("return",{success:true,smallcaseAuthToken:_e.smallcaseAuthToken});case 16:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ir=function(){return wr.apply(this,arguments)},xr=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.gateway,o=r.userData,s=r.elementOrSelector,i=void 0===s?"body":s,c=r.smallcaseAuthToken,u=r.deviceType,l=r.config,f=void 0===l?{amo:false}:l,p=r.initHandler;if(a()(this,e),!n||"string"!=typeof n)throw F.INVALID_GATEWAY;if(void 0!==e._instance)return e._instance;e._instance=this,_e.gateway=n,_e.deviceType=u,_e.amo=!!f&&!!f.amo,this.initPromise=void 0,this.backDisabled=false,Z.elementOrSelector=i;var d=Pe(_e.gateway),h=oe(d),m=re(Z.elementOrSelector);m.appendChild(h),this.iframeLoaded=se(q.CONNECT_LOADED).promise.then((function(e){Oe(_e.displayName),_e.thirdPartyCookieSupported=e.data.thirdPartyCookieSupported})),window.addEventListener("message",(function(e){"https://connect.smallca.se"===e.origin&&(e.data.type===q.SHOW_FRAME?(h.style.visibility="unset",h.style.display="unset",t.backDisabled||(Vt(),t.backDisabled=true),Zt(),m.style.overflow="hidden"):e.data.type===q.HIDE_FRAME&&(h.style.visibility="hidden",h.style.display="none",t.backDisabled&&(t.backDisabled=false,qt()),Xt(),m.style.overflow=""))})),this.init({userData:o,smallcaseAuthToken:c,initHandler:p})};xr.prototype.init=lr(De),xr.prototype.login=lr(Ge),xr.prototype.getSmallcases=lr(We),xr.prototype.getSmallcaseProfile=lr(He),xr.prototype.getStatus=lr(Fe),xr.prototype.getNews=lr(Ke),xr.prototype.getHistorical=lr(Ve),xr.prototype.getUserInvestments=lr(Ze),xr.prototype.getUserInvestmentDetails=lr(qe),xr.prototype.markArchived=lr(Ye),xr.prototype.triggerTransaction=lr(Ft),xr.prototype.getExitedSmallcases=lr(et),xr.prototype.signup=lr(Je),xr.prototype.showOrders=lr(dr),xr.prototype.brokerLogout=lr(yr),xr.prototype.getSipStatus=lr(ze),xr.prototype.openSmallplug=lr(Ir);var _r=xr;!function(e){e.scDK=_r}(window)}]);
//# sourceMappingURL=scdk.js.map