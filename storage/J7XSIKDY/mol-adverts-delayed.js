/*! For license information please see mol-adverts-delayed.js.LICENSE.txt */
(function(){var __webpack_modules__={7154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1294:function(e,t){var r,n,i;!function(o,a){"use strict";n=[],void 0===(i="function"==typeof(r=function(){return function(){var e,t=navigator,r=t.connection||t.mozConnection||t.webkitConnection||{downlinkMax:1/0};if(!("downlinkMax"in r))if("bandwidth"in r)r.downlinkMax=8*r.bandwidth;else{switch(r.type){case"none":e=0;break;case"2g":e=.134;break;case"bluetooth":case"cellular":e=2;break;case"3g":e=8.95;break;case"4g":e=100;break;case"ethernet":e=550;break;case"wifi":e=600;break;default:e=1/0}r.downlinkMax=e}return r.downlinkMax}})?r.apply(t,n):r)||(e.exports=i)}()},3490:function(e,t,r){"use strict";var n=r(8908);e.exports=function(e,t){return void 0===t&&(t=!1),function(r,i,o){if(r)e(r);else if(i.statusCode>=400&&i.statusCode<=599){var a=o;if(t)if(n.TextDecoder){var s=(void 0===(u=i.headers&&i.headers["content-type"])&&(u=""),u.toLowerCase().split(";").reduce((function(e,t){var r=t.split("="),n=r[0],i=r[1];return"charset"===n.trim()?i.trim():e}),"utf-8"));try{a=new TextDecoder(s).decode(o)}catch(e){}}else a=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:a})}else e(null,o);var u}}},9603:function(e,t,r){"use strict";var n=r(8908),i=r(7154),o=r(7376);function a(e,t,r){var n=e;return o(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=i({},t,{uri:e}),n.callback=r,n}function s(e,t,r){return u(t=a(e,t,r))}function u(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function n(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c),m)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,v)}function o(){if(!u){var t;clearTimeout(l),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=v,o=null;return 0!==t?(i={body:n(),statusCode:t,method:p,headers:{},url:d,rawRequest:c},c.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var r=e.indexOf(":"),n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim();void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]})),t):t}(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),r(o,i,i.body)}}var a,u,c=e.xhr||null;c||(c=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var l,d=c.url=e.uri||e.url,p=c.method=e.method||"GET",f=e.body||e.data,h=c.headers=e.headers||{},g=!!e.sync,m=!1,v={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:c};if("json"in e&&!1!==e.json&&(m=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(o,0)},c.onload=o,c.onerror=i,c.onprogress=function(){},c.onabort=function(){u=!0},c.ontimeout=i,c.open(p,d,!g,e.username,e.password),g||(c.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(l=setTimeout((function(){if(!u){u=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),c.setRequestHeader)for(a in h)h.hasOwnProperty(a)&&c.setRequestHeader(a,h[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(f||null),c}s.httpHandler=r(3490),e.exports=s,e.exports.default=s,s.XMLHttpRequest=n.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,r,n){return(r=a(t,r,n)).method=e.toUpperCase(),u(r)}}))},2167:function(e,t){"use strict";function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=r({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.freeze=r,t.MIME_TYPE=n,t.NAMESPACE=i},6129:function(e,t,r){var n=r(2167),i=r(1146),o=r(1045),a=r(6925),s=i.DOMImplementation,u=n.NAMESPACE,c=a.ParseError,l=a.XMLReader;function d(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function m(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var r=this.options,n=new l,i=r.domBuilder||new p,a=r.errorHandler,s=r.locator,c=r.xmlns||{},d=/\/x?html?$/.test(t),f=d?o.HTML_ENTITIES:o.XML_ENTITIES;return s&&i.setDocumentLocator(s),n.errorHandler=function(e,t,r){if(!e){if(t instanceof p)return t;e=t}var n={},i=e instanceof Function;function o(t){var o=e[t];!o&&i&&(o=2==e.length?function(r){e(t,r)}:e),n[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+h(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),n}(a,i,s),n.domBuilder=r.domBuilder||i,d&&(c[""]=u.HTML),c.xml=c.xml||u.XML,e&&"string"==typeof e?n.parse(e,c,f):n.errorHandler.error("invalid doc source"),i.doc},p.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,o=i.createElementNS(e,r||t),a=n.length;m(this,o),this.currentElement=o,this.locator&&f(this.locator,o);for(var s=0;s<a;s++){e=n.getURI(s);var u=n.getValue(s),c=(r=n.getQName(s),i.createAttributeNS(e,r));this.locator&&f(n.getLocator(s),c),c.value=c.nodeValue=u,o.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,r),m(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=g.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&f(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=g.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&f(this.locator,n),m(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&f(this.locator,i),m(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,h(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,h(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){p.prototype[e]=function(){return null}})),t.DOMParser=d,i.DOMImplementation,i.XMLSerializer},1146:function(e,t,r){var n=r(2167).NAMESPACE;function i(e){return""!==e}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function a(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(i):[]}(e);return Object.keys(t.reduce(o,{}))}function s(e,t){for(var r in e)t[r]=e[r]}function u(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,s(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var c={},l=c.ELEMENT_NODE=1,d=c.ATTRIBUTE_NODE=2,p=c.TEXT_NODE=3,f=c.CDATA_SECTION_NODE=4,h=c.ENTITY_REFERENCE_NODE=5,g=c.ENTITY_NODE=6,m=c.PROCESSING_INSTRUCTION_NODE=7,v=c.COMMENT_NODE=8,y=c.DOCUMENT_NODE=9,b=c.DOCUMENT_TYPE_NODE=10,_=c.DOCUMENT_FRAGMENT_NODE=11,w=c.NOTATION_NODE=12,S={},T={},I=(S.INDEX_SIZE_ERR=(T[1]="Index size error",1),S.DOMSTRING_SIZE_ERR=(T[2]="DOMString size error",2),S.HIERARCHY_REQUEST_ERR=(T[3]="Hierarchy request error",3)),k=(S.WRONG_DOCUMENT_ERR=(T[4]="Wrong document",4),S.INVALID_CHARACTER_ERR=(T[5]="Invalid character",5),S.NO_DATA_ALLOWED_ERR=(T[6]="No data allowed",6),S.NO_MODIFICATION_ALLOWED_ERR=(T[7]="No modification allowed",7),S.NOT_FOUND_ERR=(T[8]="Not found",8)),A=(S.NOT_SUPPORTED_ERR=(T[9]="Not supported",9),S.INUSE_ATTRIBUTE_ERR=(T[10]="Attribute in use",10));function E(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return r.code=e,t&&(this.message=this.message+": "+t),r}function O(){}function C(e,t){this._node=e,this._refresh=t,P(this)}function P(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ce(e,"length",r.length),s(r,e),e._inc=t}}function x(){}function D(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function j(e,t,r,i){if(i?t[D(t,i)]=r:t[t.length++]=r,e){r.ownerElement=e;var o=e.ownerDocument;o&&(i&&q(o,e,i),function(e,t,r){e&&e._inc++,r.namespaceURI===n.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(o,e,r))}}function R(e,t,r){var n=D(t,r);if(!(n>=0))throw E(k,new Error(e.tagName+"@"+r));for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var o=e.ownerDocument;o&&(q(o,e,r),r.ownerElement=null)}}function M(){}function U(){}function L(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function N(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(N(e,t))return!0}while(e=e.nextSibling)}function B(){}function q(e,t,r,i){e&&e._inc++,r.namespaceURI===n.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function F(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o}}}function V(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,F(e.ownerDocument,e),t}function z(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===_){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=r?r.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=r,a?a.nextSibling=i:e.firstChild=i,null==r?e.lastChild=o:r.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return F(e.ownerDocument||e,e),t.nodeType==_&&(t.firstChild=t.lastChild=null),t}function W(){this._nsMap={}}function H(){}function G(){}function K(){}function X(){}function Y(){}function $(){}function J(){}function Q(){}function Z(){}function ee(){}function te(){}function re(){}function ne(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ae(this,r,e,t,a),r.join("")}function ie(e,t,r){var i=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===i&&o===n.XML||o===n.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==o}return!0}function oe(e,t,r){e.push(" ",t,'="',r.replace(/[<&"]/g,L),'"')}function ae(e,t,r,i,o){if(o||(o=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case l:var a=e.attributes,s=a.length,u=e.firstChild,c=e.tagName,g=c;if(!(r=n.isHTML(e.namespaceURI)||r)&&!e.prefix&&e.namespaceURI){for(var w,S=0;S<a.length;S++)if("xmlns"===a.item(S).name){w=a.item(S).value;break}if(!w)for(var T=o.length-1;T>=0;T--)if(""===(I=o[T]).prefix&&I.namespace===e.namespaceURI){w=I.namespace;break}if(w!==e.namespaceURI)for(T=o.length-1;T>=0;T--){var I;if((I=o[T]).namespace===e.namespaceURI){I.prefix&&(g=I.prefix+":"+c);break}}}t.push("<",g);for(var k=0;k<s;k++)"xmlns"==(A=a.item(k)).prefix?o.push({prefix:A.localName,namespace:A.value}):"xmlns"==A.nodeName&&o.push({prefix:"",namespace:A.value});for(k=0;k<s;k++){var A,E,O;ie(A=a.item(k),0,o)&&(oe(t,(E=A.prefix||"")?"xmlns:"+E:"xmlns",O=A.namespaceURI),o.push({prefix:E,namespace:O})),ae(A,t,r,i,o)}if(c===g&&ie(e,0,o)&&(oe(t,(E=e.prefix||"")?"xmlns:"+E:"xmlns",O=e.namespaceURI),o.push({prefix:E,namespace:O})),u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;u;)u.data?t.push(u.data):ae(u,t,r,i,o.slice()),u=u.nextSibling;else for(;u;)ae(u,t,r,i,o.slice()),u=u.nextSibling;t.push("</",g,">")}else t.push("/>");return;case y:case _:for(u=e.firstChild;u;)ae(u,t,r,i,o.slice()),u=u.nextSibling;return;case d:return oe(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&]/g,L).replace(/]]>/g,"]]&gt;"));case f:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case b:var C=e.publicId,P=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(" PUBLIC ",C),P&&"."!=P&&t.push(" ",P),t.push(">");else if(P&&"."!=P)t.push(" SYSTEM ",P,">");else{var x=e.internalSubset;x&&t.push(" [",x,"]"),t.push(">")}return;case m:return t.push("<?",e.target," ",e.data,"?>");case h:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function se(e,t,r){var n;switch(t.nodeType){case l:(n=t.cloneNode(!1)).ownerDocument=e;case _:break;case d:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(se(e,i,r)),i=i.nextSibling;return n}function ue(e,t,r){var n=new t.constructor;for(var i in t){var o=t[i];"object"!=typeof o&&o!=n[i]&&(n[i]=o)}switch(t.childNodes&&(n.childNodes=new O),n.ownerDocument=e,n.nodeType){case l:var a=t.attributes,s=n.attributes=new x,u=a.length;s._ownerElement=n;for(var c=0;c<u;c++)n.setAttributeNode(ue(e,a.item(c),!0));break;case d:r=!0}if(r)for(var p=t.firstChild;p;)n.appendChild(ue(e,p,r)),p=p.nextSibling;return n}function ce(e,t,r){e[t]=r}S.INVALID_STATE_ERR=(T[11]="Invalid state",11),S.SYNTAX_ERR=(T[12]="Syntax error",12),S.INVALID_MODIFICATION_ERR=(T[13]="Invalid modification",13),S.NAMESPACE_ERR=(T[14]="Invalid namespace",14),S.INVALID_ACCESS_ERR=(T[15]="Invalid access",15),E.prototype=Error.prototype,s(S,E),O.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ae(this[n],r,e,t);return r.join("")}},C.prototype.item=function(e){return P(this),this[e]},u(C,O),x.prototype={length:0,item:O.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(A);var r=this.getNamedItem(e.nodeName);return j(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new E(A);return t=this.getNamedItemNS(e.namespaceURI,e.localName),j(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return R(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},M.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new B;if(n.implementation=this,n.childNodes=new O,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new $;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}},U.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return z(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ue(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},s(c,U),s(c,U.prototype),B.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==_){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==l&&(this.documentElement=e),z(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},importNode:function(e,t){return se(this,e,t)},getElementById:function(e){var t=null;return N(this.documentElement,(function(r){if(r.nodeType==l&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){var t=a(e);return new C(this,(function(r){var n=[];return t.length>0&&N(r.documentElement,(function(i){if(i!==r&&i.nodeType===l){var o=i.getAttribute("class");if(o){var s=e===o;if(!s){var u=a(o);s=t.every((c=u,function(e){return c&&-1!==c.indexOf(e)}))}s&&n.push(i)}}var c})),n}))},createElement:function(e){var t=new W;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new O,(t.attributes=new x)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new O,e},createTextNode:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new te;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Z;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new W,n=t.split(":"),i=r.attributes=new x;return r.childNodes=new O,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new H,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},u(B,U),W.prototype={nodeType:l,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===_?this.insertBefore(e,null):function(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t),n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,F(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new C(this,(function(t){var r=[];return N(t,(function(n){n===t||n.nodeType!=l||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new C(this,(function(r){var n=[];return N(r,(function(i){i===r||i.nodeType!==l||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)})),n}))}},B.prototype.getElementsByTagName=W.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=W.prototype.getElementsByTagNameNS,u(W,U),H.prototype.nodeType=d,u(H,U),G.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(T[I])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},u(G,U),K.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(K,G),X.prototype={nodeName:"#comment",nodeType:v},u(X,G),Y.prototype={nodeName:"#cdata-section",nodeType:f},u(Y,G),$.prototype.nodeType=b,u($,U),J.prototype.nodeType=w,u(J,U),Q.prototype.nodeType=g,u(Q,U),Z.prototype.nodeType=h,u(Z,U),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=_,u(ee,U),te.prototype.nodeType=m,u(te,U),re.prototype.serializeToString=function(e,t,r){return ne.call(e,t,r)},U.prototype.toString=ne;try{if(Object.defineProperty){function le(e){switch(e.nodeType){case l:case _:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(le(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(C.prototype,"length",{get:function(){return P(this),this.$$length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return le(this)},set:function(e){switch(this.nodeType){case l:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ce=function(e,t,r){e["$$"+t]=r}}}catch(e){}t.DocumentType=$,t.DOMException=E,t.DOMImplementation=M,t.Element=W,t.Node=U,t.NodeList=O,t.XMLSerializer=re},1045:function(e,t,r){var n=r(2167).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES},3969:function(e,t,r){var n=r(1146);n.DOMImplementation,n.XMLSerializer,t.DOMParser=r(6129).DOMParser},6925:function(e,t,r){var n=r(2167).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+i.source+o.source+"*(?::"+i.source+o.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function u(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function l(e,t,r,i,o,a){function s(e,t,n){r.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),r.addValue(e,t,n)}for(var u,c=++t,l=0;;){var d=e.charAt(c);switch(d){case"=":if(1===l)u=e.slice(t,c),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(a.warning('attribute value must after "="'),u=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(u,p=e.slice(t,c).replace(/&#?\w+;/g,o),t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');s(u,p=e.slice(t,c).replace(/&#?\w+;/g,o),t),a.warning('attribute "'+u+'" missed start quot('+d+")!!"),t=c+1,l=5}break;case"/":switch(l){case 0:r.setTagName(e.slice(t,c));case 5:case 6:case 7:l=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==l&&r.setTagName(e.slice(t,c)),c;case">":switch(l){case 0:r.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,c)).slice(-1)&&(r.closed=!0,p=p.slice(0,-1));case 2:2===l&&(p=u),4==l?(a.warning('attribute "'+p+'" missed quot(")!'),s(u,p.replace(/&#?\w+;/g,o),t)):(n.isHTML(i[""])&&p.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),s(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(l){case 0:r.setTagName(e.slice(t,c)),l=6;break;case 1:u=e.slice(t,c),l=2;break;case 4:var p=e.slice(t,c).replace(/&#?\w+;/g,o);a.warning('attribute "'+p+'" missed quot(")!!'),s(u,p,t);case 5:l=6}else switch(l){case 2:r.tagName,n.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),s(u,u,t),t=c,l=1;break;case 5:a.warning('attribute space is required"'+u+'"!!');case 6:l=1,t=c;break;case 3:l=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(e,t,r){for(var i=e.tagName,o=null,a=e.length;a--;){var s=e[a],u=s.qName,c=s.value;if((f=u.indexOf(":"))>0)var l=s.prefix=u.slice(0,f),d=u.slice(f+1),p="xmlns"===l&&d;else d=u,l=null,p="xmlns"===u&&"";s.localName=d,!1!==p&&(null==o&&(o={},h(r,r={})),r[p]=o[p]=c,s.uri=n.XMLNS,t.startPrefixMapping(p,c))}for(a=e.length;a--;)(l=(s=e[a]).prefix)&&("xml"===l&&(s.uri=n.XML),"xmlns"!==l&&(s.uri=r[l||""]));var f;(f=i.indexOf(":"))>0?(l=e.prefix=i.slice(0,f),d=e.localName=i.slice(f+1)):(l=null,d=e.localName=i);var g=e.uri=r[l||""];if(t.startElement(g,d,i,e),!e.closed)return e.currentNSMap=r,e.localNSMap=o,!0;if(t.endElement(g,d,i),o)for(l in o)t.endPrefixMapping(l)}function p(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),o)}return t+1}function f(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function h(e,t){for(var r in e)t[r]=e[r]}function g(e,t,r,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var o=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var l=o[a-1];return r.startDTD(s,u,c),r.endDTD(),l.index+l[0].length}return-1}function m(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function v(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,u.prototype={parse:function(e,t,r){var i=this.domBuilder;i.startDocument(),h(t,t={}),function(e,t,r,i,o){function a(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function u(t){if(t>I){var r=e.substring(I,t).replace(/&#?\w+;/g,a);w&&h(I),i.characters(r,0,t-I),I=t}}function h(t,r){for(;t>=b&&(r=_.exec(e));)y=r.index,b=y+r[0].length,w.lineNumber++;w.columnNumber=t-y+1}for(var y=0,b=0,_=/.*(?:\r\n?|\n)|.*$/g,w=i.locator,S=[{currentNSMap:t}],T={},I=0;;){try{var k=e.indexOf("<",I);if(k<0){if(!e.substr(I).match(/^\s*$/)){var A=i.doc,E=A.createTextNode(e.substr(I));A.appendChild(E),i.currentElement=E}return}switch(k>I&&u(k),e.charAt(k+1)){case"/":var O=e.indexOf(">",k+3),C=e.substring(k+2,O).replace(/[ \t\n\r]+$/g,""),P=S.pop();O<0?(C=e.substring(k+2).replace(/[\s<].*/,""),o.error("end tag name: "+C+" is not complete:"+P.tagName),O=k+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),o.error("end tag name: "+C+" maybe not complete"),O=k+1+C.length);var x=P.localNSMap,D=P.tagName==C;if(D||P.tagName&&P.tagName.toLowerCase()==C.toLowerCase()){if(i.endElement(P.uri,P.localName,C),x)for(var j in x)i.endPrefixMapping(j);D||o.fatalError("end tag name: "+C+" is not match the current start tagName:"+P.tagName)}else S.push(P);O++;break;case"?":w&&h(k),O=m(e,k,i);break;case"!":w&&h(k),O=g(e,k,i,o);break;default:w&&h(k);var R=new v,M=S[S.length-1].currentNSMap,U=(O=l(e,k,R,M,a,o),R.length);if(!R.closed&&f(e,O,R.tagName,T)&&(R.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),w&&U){for(var L=c(w,{}),N=0;N<U;N++){var B=R[N];h(B.offset),B.locator=c(w,{})}i.locator=L,d(R,i,M)&&S.push(R),i.locator=w}else d(R,i,M)&&S.push(R);n.isHTML(R.uri)&&!R.closed?O=p(e,O,R.tagName,a,i):O++}}catch(e){if(e instanceof s)throw e;o.error("element parse error: "+e),O=-1}O>I?I=O:u(Math.max(k,I)+1)}}(e,t,r,i,this.errorHandler),i.endDocument()}},v.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=u,t.ParseError=s},3077:function(e,t,r){"use strict";r.r(t),r.d(t,{AD_ATTRIBUTE:function(){return c},TAGS_ATTRIBUTE:function(){return l},addLoadListener:function(){return p},onAdLoaded:function(){return T},parse:function(){return h},refreshAdvert:function(){return v},refreshAdverts:function(){return b},refreshAdvertsWithNewTags:function(){return y},requestAdvert:function(){return m},requestDelayedAdvert:function(){return w},reset:function(){return k},stringify:function(){return f}});var n=r(633),i=r(7337),o=r(6382);function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}var u=r(7854),c="data-adverts-ad",l="data-adverts-tags",d=r(9784),p=r(2575),f=u.stringify,h=u.parse;function g(){return o}function m(e){if(e.id){var t=document.getElementById(e.id);t&&(t.setAttribute(c,u.stringify(e)),t.matches(".adHolder *")||t.classList.add("adHolder"))}return g().requestAd(e)}function v(e){g().refreshAdvert(e)}function y(e,t){var r=e.map(_).filter(Boolean).map((function(e){return e.ad}));g().refreshAdvertsWithNewTags(r,t)}function b(e){var t={};e.forEach((function(e){var r=_(e);if(r){var n=o,i=n.name;i in t||(t[i]={serverClass:n,ads:[]}),t[i].ads.push(r.ad)}})),Object.keys(t).forEach((function(e){var r=t[e],n=t[e].serverClass;n.refreshAdverts&&n.refreshAdverts(r.ads)}))}function _(e){var t=document.getElementById(e);if(t){var r,n=t.getAttribute(c),o=t.getAttribute(l);if(n)return r=u.parse(n),{ad:(0,i.get)(r.pos)||r,tags:o?u.parse(o):null,container:t}}return null}function w(e){return S.apply(this,arguments)}function S(){return(S=s(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_(t),n=!1,!(r&&r.ad&&r.tags)){e.next=15;break}if(!(i=g()).requestDelayedAd){e.next=14;break}return e.prev=5,e.next=8,i.requestDelayedAd(r.ad);case 8:n=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:r.container.removeAttribute(l);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function T(e){for(var t=0,r=d.length;t<r;t++)d[t](e)}var I=n.ZP.broker("AdsRenderer");function k(){d.length=0}I.on("slot ready",m),I.on("ad rendered",(function(e,t){return T(t)})),I.on("refresh ads",(function(e){return y(e.ids,e.plugins)})),I.on("refresh adverts",(function(e){return b(e)}))},5529:function(e,t,r){"use strict";r.d(t,{GY:function(){return h},lv:function(){return p}});var n=r(1620),i=r(633),o=r(6540),a=r(3624);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=i.ZP.broker("DelayedRenderer"),c=new Set,l=!1,d=DM.molFeMiniLodash.debounce((function(){if(c.size){var e,t,r,n,i=window.pageYOffset+(0,o.getPageSize)()[3],a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}(c);try{for(a.s();!(e=a.n()).done;){var l=e.value;t=l.element,r=l.offset,n=i,t&&"none"!==t.style.display&&n>=(0,o.getOffset)(t).top-r&&(c.delete(l),u.emit("resuming delayed ad",l),adsRenderer.requestDelayedAdvert(l.id))}}catch(e){a.e(e)}finally{a.f()}}}),500,{leading:!0,trailing:!0});function p(e){return a.lv(e)||!function(e){return n.getLoadingSettings(e.dfpPos||e.pos).type===n.IMMEDIATE}(e)||e.delayed||e.lazySettings}function f(e){var t=function(e){var t=function(e){var t=e.lazySettings||n.getLoadingSettings(e.dfpPos||e.pos);return t.type===n.LAZY?t:void 0}(e);if(t){var r=null;try{r="$this"===t.trigger?document.getElementById(e.id):document.querySelector(t.trigger)}catch(e){DM.log("ads","Invalid css selector in the loading trigger:",t.trigger)}return{id:e.parentId||e.id,element:r||document.getElementById(e.parentId||e.id),offset:t.offset}}return null}(e);t&&(c.add(t),l||(l=!0,window.addEventListener("scroll",d),document.body.addEventListener("touchmove",d)))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r(3077),i=document.getElementById(e.id);i&&(i.setAttribute(n.TAGS_ATTRIBUTE,JSON.stringify(t)),f(e)),u.emit("ad delayed",e)}u.register("call for page-unload",(function(){return{sdm:c.size}}))},3624:function(e,t,r){"use strict";r.d(t,{GH:function(){return w},lv:function(){return _},qu:function(){return I}});var n=r(633),i=r(6540),o=r(7200);function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}var u=null,c=["home","ushome","auhome","mailonsunday"],l="hp-panel",d={news:0,showbiz:1},p=n.ZP.broker("HomepageRenderer");if(p.on("system ready",(function(){if(w()&&T()){var e=DM&&DM.pageEvents;v(m()),I()&&e&&e.subscribe(e.MOBILE_HOME_PAGE_VIEW,h)}})),I()){var f=m();p.register("call for page analytics",(function(){return{homepageCookie:f||"unset"}}))}function h(e,t){return g.apply(this,arguments)}function g(){return(g=s(regeneratorRuntime.mark((function e(t,n){var o,a,s,u,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(e){return e===a},o=n.swipe||v(m()),!(a=b(o))){e.next=19;break}y(o),s=[],u=document.documentElement.getElementsByClassName("adHolder"),c=r(3077),l=u.length;case 9:if(!l--){e.next=18;break}if(d=u[l],!(0,i.closest)(d,f)&&(0,i.closest)(d,S)){e.next=16;break}return e.next=14,c.requestDelayedAdvert(d.id);case 14:if(e.sent){e.next=16;break}s.push(d.id);case 16:e.next=9;break;case 18:s.length&&p.emit("refresh adverts",s);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(0,o.ej)("mol-home")}function v(e){return y(e),u=e,e}function y(e){if(e in d){var t=d[e]?"dontmiss":window.adAreaId||"home";p.emit("set adSubareaId",t)}}function b(e){return document.getElementsByClassName(l)[d[e]]}function _(e){if(I()){if(!u)return!0;var t=b(u),r=document.getElementById(e.parentId);if(t&&r){var n=(0,i.closest)(r,S);if(n&&n!==t)return!0}}return!1}function w(){return"channel"===PageCriteria.pageType&&-1!==c.indexOf(PageCriteria.channel)&&PageCriteria.subchannel===PageCriteria.channel}function S(e){return e.classList.contains(l)}function T(){var e=document.body;return e&&e.className?e.classList.contains("mol-mobile"):!!MobileUtils.isMobile()}function I(){return w()&&T()&&(!u||"desktop"!==u)}},2575:function(e,t,r){var n=r(9784);e.exports=function(e){"function"==typeof e&&n.push(e)}},9784:function(e){e.exports=[]},6382:function(e,t,r){"use strict";r.r(t),r.d(t,{name:function(){return L},refreshAdvert:function(){return j},refreshAdverts:function(){return M},refreshAdvertsWithNewTags:function(){return R},requestAd:function(){return C},requestDelayedAd:function(){return x},reset:function(){return U}});var n=r(633),i=r(5529),o=r(6415),a=r(4794),s=r(5059),u=["type"];function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=(0,a.U2)("auction.maxTime",2e3),g=function(e,t){return new Promise((function(r,n){var i=[];e.openStream({message:["get tags",{slot:t,timeout:h-100}],timeout:h,controlHandler:function(r){var n=r.type,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,u);e.emit("auction event",t.pos,n,i)}}).on("data",(function(e){i.push(e)})).on("end",(function(){e.emit("auction event",t.pos,"end"),r(i)})).on("error",(function(e){return n(e)}))}))};function m(e,t){t("formTags",e);var r=e.flat().map((function(e){return e?e.tags?e.tags:e:{}}));return(0,s.Yb)(r.reduce((function(e,t){return p(p({},e),Array.isArray(t)&&t.reduce((function(e,t){return p(p({},e),t)}),{})||t)}),{}))}function v(e,t,r){return y.apply(this,arguments)}function y(){return y=l(regeneratorRuntime.mark((function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n);case 2:return i=e.sent,e.next=5,t.invokeAll("get tags based on tags",i);case 5:return o=e.sent,a=[p(p({},m(i,r)),o.reduce((function(e,t){return p(p({},e),t)}),{}))],e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}var b=r(1013);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){w(o,n,i,a,s,"next",e)}function s(e){w(o,n,i,a,s,"throw",e)}a(void 0)}))}}var T=(0,a.U2)("auction.maxTime",2e3),I=n.ZP.broker("DfpServer"),k=(0,o.x)("DfpServer"),A={};I.on("destroy slot",(function(e){delete A[e]}));var E=Promise.resolve();I.on("set page level targeting",(function(e){k("new page level targeting:",e),E=E.then((function(){return e})).then((function(){}))}));var O=function(){var e=S(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A[t.pos]){e.next=2;break}return e.abrupt("return",A[t.pos]);case 2:if(I.emit("start bidding",t.pos),r=[],!t.skipHeaderBiders){e.next=8;break}k("skipping header biders for",t.pos),e.next=17;break;case 8:return k("starting auction for",t.pos),e.next=11,Promise.all([v(I,k,t),(0,b.Ye)(T,[E])]);case 11:n=e.sent,s=1,i=function(e){if(Array.isArray(e))return e}(a=n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(a,s)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],r=o,k("auction ended for",t.pos,r),I.emit("bidding ended",t.pos);case 17:return I.emit("slot ready for ad",t,r),A[t.pos]={tags:r},e.abrupt("return",{tags:r});case 20:case"end":return e.stop()}var a,s}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){return P.apply(this,arguments)}function P(){return(P=S(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.lv)(t)){e.next=4;break}(0,i.GY)(t),e.next=5;break;case 4:return e.abrupt("return",O(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return D.apply(this,arguments)}function D(){return(D=S(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:r=e.sent,n=r.tags,I.emit("gpt requestDelayedAd",t,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){I.emit("bidding ended",e.pos),I.emit("gpt refreshAdvert",e.pos)}function R(e,t){var r=[];e.forEach(function(){var t=S(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("starting auction for",n.pos),t.next=3,v(I,k,n);case 3:i=t.sent,r.push({ad:n,tags:i}),I.emit("bidding ended",n.pos),r.length===e.length&&I.emit("slot ready to refresh",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function M(e){I.emit("gpt refreshAdverts",e)}function U(){A={}}var L="DfpServer"},1824:function(e,t,r){"use strict";r.r(t),r.d(t,{DFP_NETWORK_CODE:function(){return O}});var n=r(633),i=r(3436),o=r(7337),a=r(7721),s=r(7200),u=r(4794),c=r(6415),l=r(3624),d=r(5529);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){if(Array.isArray(e))e.forEach(t);else{if("object"!==f(e)||null===e)throw new Error("dont know how to iterate on ".concat(e));for(var r=0,n=Object.entries(e);r<n.length;r++){var i=(a=n[r],s=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(a,s)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0];t(i[1],o)}}var a,s}var g=["ico"];function m(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return y(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_(n,e)},v(e)}function y(e,t,r){return y=b()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&_(i,r.prototype),i},y.apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I=r(6540).onBodyAvailable,k=n.ZP.broker("DfpAsyncHandler"),A=(0,c.x)("dfpAsyncHandler"),E={},O=(0,u.U2)("dfp.networkCode"),C={},P=["sticky_banner"],x=["sky_right_top","sky_left_top","mpu_top","billboard","sticky_banner"],D=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]);function j(e,t){if(e&&e.slots&&e.slots.length)return e.slots.forEach((function(n){var i,o,a,s=document.getElementById(n.slot.getSlotElementId());n.slot.addService(googletag.pubads()).setTargeting("pos",e.dfpPos||e.pos).setCollapseEmptyDiv(!!s&&!s.classList.contains("watermark"),(o="billboard"===(i=e.pos)&&"home"===(r.g.PageCriteria.channel||"").slice(-4),!x.includes(i)&&!o)),e.targeting&&h(e.targeting,(function(e,t){n.slot.setTargeting(e,t)})),e.custom&&e.custom.length&&(a=n.slot,e.custom,h((function(e){Object.keys(e).forEach((function(t){a.setTargeting(t,e[t])}))}))),"number"==typeof window.orientation&&n.slot.setTargeting("orientation",MobileUtils.isLandscape()?"landscape":"portrait"),MobileUtils.isMobile()&&n.slot.setTargeting("lat",PageCriteria.latitude||"").setTargeting("lon",PageCriteria.longitude||""),A("setting targeting for pos: ".concat(e.pos),t),function(e,t){t.forEach((function(t){t&&"object"===S(t)&&Object.keys(t).forEach((function(r){e.setTargeting(r,t[r]+"")}))}))}(n.slot,t)})),e}k.on("api message","metadata",(function(e){A("metadata api call:",e);var t=e.ico,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,g);t&&(r.referrer=t),k.emit("set page level targeting",r)})),k.on({message:"prepare to refresh ads",sync:!0},(function(e){var t=googletag.pubads().getSlots().reduce((function(e,t){var r=t.getTargeting("pos")[0];return e[r]=e[r]||t,e}),{});e.map((function(e){return{pos:e,slot:t[e]}})).forEach((function(e){var t=e.pos,r=e.slot;r?r.clearTargeting?r.clearTargeting():console.warn("-----\x3e NO slot.clearTargeting when refreshing ads",t):console.warn("-----\x3e NO SLOT to clear targeting when refreshing ads",t)}))})),k.on("slot ready for ad",(function(e,t,r){M(e,t,r)}));var R=function(e){return googletag.cmd.push(e)};function M(e,t,r){r||!d.lv(e)?(e.parentId=e.parentId||e.id,e.slots=e.slots||[],e.slots.forEach((function(t){t.parentId=t.parentId||t.id||e.parentId})),R((function(){(function(e){var t=(0,o.get)(e.pos);if(t&&t.slots&&t.slots.length)return t.slots;L(e)})(e),j(e,t)})),R((function(){e.slots.forEach((function(t){k.emit("request slot",{pos:e.pos,slotType:t.type,type:e.type,parentId:t.parentId,adUnit:e.adUnit,slot:t.slot})}))}))):d.GY(e,t)}k.on("set slot state",(function(e,t){var r=C[e];r?r.molAd.state=t:E[e]=t})),k.on("request slot",(function(e){"gptSlot"===e.slotType&&(C[e.pos]=e.slot),e.slot.molAd={pos:e.pos,type:e.type,slotType:e.slotType,parentId:e.parentId,adUnit:e.adUnit,state:E[e.pos]},delete E[e.pos],k.invoke("googletag.display",e.parentId),k.emit("ad requested",e.pos)})),k.on("slot ready to refresh",(function(e){e.forEach((function(e){return j(e.ad,e.tags)})),V(e.map((function(e){return e.ad})))})),k.on("destroy slot",(function(e){var t=(0,o.get)(e);t.slots&&(googletag.destroySlots(t.slots.map((function(e){return e.slot}))),delete t.slots)}));var U={gpt:function(e){var t=(0,a.t2)(e),r=e.sizeMapping,n=e.id,i=e.adUnit;A("define slot for",e.pos,{sizes:t,sizeMapping:r,adUnit:i,id:n});var o=googletag.defineSlot("/"+O+"/"+i,t,n);if(!o)throw new W(e);e.sizeMapping&&N(o,e.sizeMapping),e.slots.push({type:"gptSlot",slot:o,parentId:e.id}),k.emit("slot created",e,o)},gptOOP:function(e){var t=e.slotTypes.includes("gpt")?F(e):e.parentId,r=(0,a.t2)(e),n=e.sizeMapping,i=e.adUnit;A("define oop slot for",e.pos,{sizes:r,sizeMapping:n,adUnit:i,id:t});var o=googletag.defineOutOfPageSlot("/"+O+"/"+i,t);if(!o)throw new W(e);e.slots.push({type:"oopGptSlot",slot:o,parentId:t})}};function L(e){if(e.adUnit=e.adUnit||(0,i.Z)(e.pos),e.slots=e.slots||[],e.slotTypes)A("".concat(e.pos,": creating slots using slotTypes definition")),e.slotTypes.forEach((function(t){var r=U[t];r&&r(e)}));else{if(A("".concat(e.pos,": creating slots using dcopt definition")),!e.dcopt||"pfadj"!==e.command||-1!==P.indexOf(e.pos)){var t=(0,a.t2)(e),r=e.id;A("defineSlot for",e.pos,{sizes:t,sizeMapping:e.sizeMapping,adUnit:e.adUnit,id:r});var n=googletag.defineSlot("/"+O+"/"+e.adUnit,t,r);if(!n)throw new W(e);e.sizeMapping&&N(n,e.sizeMapping),e.slots.push({type:"gptSlot",slot:n,parentId:e.id}),k.emit("slot created",e,n)}e.dcopt&&function(e){var t=(0,i.Z)(e.pos),r="pfadj"===e.command&&-1===P.indexOf(e.pos)?e.parentId:F(e);A("defineOutOfPageSlot for",e.pos,{adUnit:t,id:r});var n=googletag.defineOutOfPageSlot("/"+O+"/"+t,r);e.slots.push({type:"oopGptSlot",slot:n,parentId:r})}(e)}return k.emit("update description",e.pos,e),e.slots.length&&j(e,[]),e}function N(e,t){var r=t.reduce((function(e,t){var r,n,i=(n=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(r,n)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];return e.addSize(o,a)}),googletag.sizeMapping());e.defineSizeMapping(r.build())}var B=function(e){var t=e.slot.molAd,r=t.pos,n=t.parentId;return n&&"string"==typeof n&&n.includes("-oop")?"".concat(r,"-oop"):r};function q(e){D.has(e)||R((function(){var t=(0,o.get)(e);t&&!t.gptSlot&&!t.oopGptSlot&&t.earlyBidding&&L(t)}))}function F(e){var t=e.parentId+"-oop",r=document.getElementById(e.parentId),n=document.createElement("div");return n.id=t,r?r.parentNode.insertBefore(n,r.nextSibling):I((function(){document.body.appendChild(n)})),t}function V(e){var t=e.map((function(e){return z(e.pos)}));k.invoke("googletag.pubads.refresh",t)}function z(e){return C[e]}k.on("slots initialized",(function(e){var t;t=e,R((function(){var e=googletag.pubads();e.set("page_url",location.hostname+location.pathname).setTargeting("article",adArticleId).setTargeting("environment",adEnvironment).setTargeting("country",PageCriteria.geo.toLowerCase()).setTargeting("testmode",s.SP.testmode).addEventListener("slotRequested",(function(e){return e.slot.molAd&&k.emit("dfp slot requested",B(e),e)})).addEventListener("slotRenderEnded",(function(e){return e.slot.molAd&&k.emit("ad rendered",B(e),e)})).addEventListener("slotOnload",(function(e){return e.slot.molAd&&k.emit("ad loaded",e,B(e))})).addEventListener("impressionViewable",(function(e){return e.slot.molAd&&k.emit("ad viewable",B(e),e)})).addEventListener("slotVisibilityChanged",(function(e){return e.slot.molAd&&k.emit("slot visibility changed",B(e),e)})).addEventListener("slotResponseReceived",(function(e){return e.slot.molAd&&k.emit("slot response received",B(e),e)})).setCentering(PageCriteria.isMobile&&!PageCriteria.isTablet),l.GH()&&e.setTargeting("mobile",l.qu().toString()),k.emit("gpt initialized",googletag)})),t.forEach(q),R((function(){googletag.pubads().enableAsyncRendering(),googletag.enableServices()}))})),k.on("gpt requestDelayedAd",(function(e,t){!function(e,t){M(e,t,!0)}(e,t)})),k.on("gpt refreshAdvert",(function(e){var t;(t=z(e))&&(t.setTargeting("refresh","true"),k.invoke("googletag.pubads.refresh",[t]))})),k.on("gpt refreshAdverts",(function(e){V(e)})),l.GH()&&k.register("call for page analytics",(function(){return{homepage:!0,renderPlatform:l.qu()?"mobile":"desktop"}}));var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(o,e);var t,r,n,i=(t=o,r=b(),function(){var e,n=w(t);if(r){var i=w(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return m(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,"Could not create a slot. googletag.defineSlot returned null. Probably because it has already been defined. Pos: ".concat(e.pos,". ID: ").concat(e.id))}return n=o,Object.defineProperty(n,"prototype",{writable:!1}),n}(v(Error))},7854:function(module){function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var omit=function(e,t){var r={};if(t=t||[],"object"===_typeof(e))for(var n in e)e.hasOwnProperty(n)&&-1===t.indexOf(n)&&(r[n]=DM.molFeMiniLodash.clone(e[n]));return r},stringify=function(e){return jsonStringify(omit(e,["slots"]))},jsonStringify=JSON&&"function"==typeof JSON.stringify?JSON.stringify:function(e){switch(_typeof(e)){case"string":return'"'+e.replace(/("|\\)/g,"\\$1")+'"';case"boolean":case"number":return e.toString();case"object":if("[object Array]"===Object.prototype.toString.call(e))return"["+e.map(stringify).join(",")+"]";if(e)return"{"+Object.keys(e).map((function(t){return stringify(t)+":"+stringify(e[t])})).join(",")+"}";case"undefined":case"function":return"null"}},parse=JSON&&"function"==typeof JSON.parse?JSON.parse:function(value){return eval("data="+value)};module.exports={stringify:stringify,parse:parse}},8163:function(e,t,r){"use strict";function n(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)-1);return t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.querySelectorAll(n("jgsbnf\\je_>#hpphmf`bet`jgsbnf`0#^"))}r.d(t,{AC:function(){return i},PJ:function(){return a}});var o=new RegExp(n("_hpphmf`bet`jgsbnf`0)]e,*0"));function a(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=i(e),r=[],n=0;n<t.length;n++){var a=o.exec(t[n].id),s=a&&a[1]||"unknown";r.includes(s)||r.push(s)}return r}},6347:function(e,t,r){var n=r(8397),i=function(e,t){this.eventsMap={},this.eventName=e,this.getDomCallback=t,this.domElement={};var r=this;DM.later("DOM_READY",(function(){s.call(r)}))};function o(e){var t=this.eventsMap[e];this.domElement[e]=this.getDomCallback(e),null!==this.domElement[e]&&this.on(this.domElement[e],this.eventName,(function(e){e.stopPropagation();var r=MobileUtils.isLandscape()?"landscape":"portrait";t.call(this,r)}))}function a(e){n.getElementById(e)?e in this.eventsMap&&o.call(this,e):delete this.eventsMap[e]}function s(){for(var e in this.eventsMap)a.call(this,e)}i.on=function(e,t,r){e.addEventListener(t,r)},i.fireEvent=document.createEvent?function(e,t){var r=e.ownerDocument.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}:function(e,t){var r=e.ownerDocument.createEventObject();r.eventType=t,e.fireEvent("on"+r.eventType,r)},i.prototype={constructor:i,registerEvent:function(e,t){this.eventsMap[e]=t,a.call(this,e)},getEvent:function(e){return this.eventsMap[e]},on:i.on,fireEvent:i.fireEvent},e.exports=i},1823:function(e,t,r){var n=r(6347),i=r(8397),o="data-impression-url",a="data-ted-tracking",s=new n("onImpression",(function(e){return function(e){return i.getElementById(e)}(e)}));e.exports={DATA_IMPRESSION_URL:o,onImpression:function(){s.registerEvent.apply(s,arguments)},registerImpression:function(e,t){var r=Array.prototype.filter.call(i.getAdContainer(e).getElementsByTagName("div"),(function(e){return e.getAttribute(o)}));r.length&&(function(e){var t=e.getAttribute(o);(new Image).src=t,e.getAttribute(a)&&(DM.later?DM.later("bundle",(function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"})})):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"}))}(r[0]),function(e){setTimeout((function(){!function(){s.fireEvent.apply(s,arguments)}(e,"onImpression"),e.getAttribute(a)&&(DM.later?DM.later("bundle",(function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"})})):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"}))}),0)}(r[0]),t.call(this,e))}}},5737:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{$R:function(){return d},DZ:function(){return o},TV:function(){return l},Z$:function(){return s},cl:function(){return a},jj:function(){return c},pj:function(){return u}});var o=function(e,t,r){for(var n=new Array(r.length),i=0,o=0,a=r.length;o<a;o++){var s=r[o];e(s)&&(n[i++]=t(s))}return n.length=i,n},a=function(e,t){var r=t.indexOf(e);return-1===r?t:[].concat(n(t.slice(0,r)),n(t.slice(r+1)))},s=function(e){return e[e.length-1]},u=function(e){return void 0===e?[]:Array.isArray(e)?e:[e]},c=function(e){var t=new Set(e);return Array.from(t)},l=function(e){for(var t=e.length,r=n(e);t;){var i=Math.floor(Math.random()*t--),o=r[t];r[t]=r[i],r[i]=o}return r};function d(e,t){return e.map((function(e,r){return[e,t[r]]}))}},1013:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},s(e)}function u(e,t,r){return u=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i},u.apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}r.d(t,{Gv:function(){return g},S1:function(){return h},Vs:function(){return f},Ye:function(){return y},gb:function(){return b},yq:function(){return v}});var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,r,n,i=(t=o,r=c(),function(){var e,n=d(t);if(r){var i=d(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return a(this,e)});function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,"Exceeded ".concat(e))}return n=o,Object.defineProperty(n,"prototype",{writable:!1}),n}(s(Error)),f=function(e){return new Promise((function(t){return setTimeout(t,e)}))},h=function(e){return new Promise((function(t){return 0===e?t(_(void 0,10)):setTimeout(t,e)}))},g=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:new p(t),e.next=3,h(t);case 3:throw r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=o(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:new p(t),e.next=3,f(t);case 3:throw r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t,r){return Promise.race([t,m(e,r)])},y=function(){var e=o(regeneratorRuntime.mark((function e(t,r){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],i=[],o=function(e){return e.then((function(e){return n.push(e)})).catch((function(e){return i.push(e)}))},e.next=5,Promise.race([f(t),Promise.all(r.map(o))]);case 5:return e.abrupt("return",{errors:i,results:n});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER,n=Date.now(),i=function i(o){return Promise.resolve(e()).then((function(e){if(e)return e;if(Date.now()-n<r){var a=Math.min(1e3,Math.pow(2,o)/2);return f(t+a).then((function(){return i(o+1)}))}throw new p(r)}))};return i(0)}var _=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise(function(){var n=o(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=8;break}return n.t0=i,n.next=4,e(t,r-1);case 4:n.t1=n.sent,(0,n.t0)(n.t1),n.next=9;break;case 8:i(t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},4812:function(e,t,r){"use strict";r.d(t,{Ds:function(){return l},FU:function(){return s},LY:function(){return p},ri:function(){return c},yS:function(){return u}});var n=r(8554),i=r.n(n);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r,n=0,i=!1,o=function o(a){if(i){n=a,clearTimeout(r),i=!1;var s=!r;r=setTimeout(o,t),e(s)}else r=void 0};return function(){i=!0;var e=Date.now&&Date.now()||(new Date).getTime();(!r||e-n>=t)&&o(e)}}function u(e){var t=!1;return function(){if(!t){t=!0;try{return e.apply(void 0,arguments)}finally{t=!1}}}}var c=function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(void 0,arguments)),t}},l=function(e,t){var r,n,i=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n=a,r&&clearTimeout(r),r=setTimeout((function(){r=void 0,e.apply(void 0,o(n))}),t)};return i.callNow=function(){r&&(clearTimeout(r),r=void 0),e.apply(void 0,o(n))},i},d=function(e,t){return Array.isArray(e)&&e.concat(t)||void 0},p=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i().apply(void 0,[{}].concat(t,[d]))}},633:function(e,t,r){"use strict";r.d(t,{Jj:function(){return M}});var n=r(1013),i=r(5737),o=r(2889),a=r(2830),s=r.n(a);function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=c(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function d(e){var t=g();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return h(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},f(e)}function h(e,t,r){return h=g()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&m(i,r.prototype),i},h.apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e){return x(e)||A(e)||C(e)||O()}function b(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)}))}}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function k(e){return function(e){if(Array.isArray(e))return P(e)}(e)||A(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function E(e,t){return x(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||C(e,t)||O()}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){if(Array.isArray(e))return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t&&j(e.prototype,t),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var M=function(){function e(t,r){D(this,e),this.bus=t,this.id=r,this.options={}}return R(e,[{key:"emit",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).emit.apply(e,[this].concat(r))}},{key:"on",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).on.apply(e,[this].concat(r))}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),i=!1,o=this.on.apply(this,t.concat([function(){i||(o.cancel(),i=!0,n.apply(void 0,arguments))}]));return o}},{key:"until",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new Promise((function(t){e.once.apply(e,r.concat([function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t(r)}]))}))}},{key:"register",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).register.apply(e,[this].concat(r))}},{key:"hasSubscriber",value:function(e){return this.bus.hasSubscriber(e)}},{key:"intercept",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).intercept.apply(e,[this].concat(r))}},{key:"interceptOnce",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).interceptOnce.apply(e,[this].concat(r))}},{key:"invoke",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invoke.apply(e,[this].concat(r))}},{key:"invokeAll",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invokeAll.apply(e,[this].concat(r))}},{key:"registerStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).registerStream.apply(e,[this].concat(r))}},{key:"registerUnboundedStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).registerUnboundedStream.apply(e,[this].concat(r))}},{key:"openStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).openStream.apply(e,[this].concat(r))}},{key:"createReadObjectStream",value:function(){return this.bus.createReadObjectStream()}},{key:"createTransformObjectStream",value:function(e){return this.bus.createTransformObjectStream(e)}},{key:"collectStreamAsPromise",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).collectStreamAsPromise.apply(e,[this].concat(r))}},{key:"invokeChainMutable",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invokeChainMutable.apply(e,[this].concat(r))}}]),e}(),U=function(){function e(){D(this,e),this.subscriptions=[],this.interceptors=[],this.queued=[],this.started=!1,this.dispatcher=function(e){return e()},this.firedMessages=new Set,this.system=this.broker("MessageBus"),this.emitImmediately=this.emitImmediately.bind(this),this.showUncaughtErrors=!0,this.globalTimeoutOverride=void 0,this.logCall=function(){}}var t,a;return R(e,[{key:"queuePublish",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o,a=function(){o(e.apply(void 0,[t].concat(n)))};return this.queued.push(a),new Promise((function(e,t){o=e}))}},{key:"queueStream",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=o.Ju(),s=E(a,2),u=s[0],c=s[1],l=function(){e.apply(void 0,[t].concat(n)).pipe(c)};return this.queued.push(l),u}},{key:"broker",value:function(e){return new M(this,e)}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.started?this.emitWithInterceptors.apply(this,[e].concat(r)):this.queuePublish.apply(this,[this.emitWithInterceptors.bind(this),e].concat(r))}},{key:"doesMessageMatch",value:function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return r}},{key:"emitWithInterceptors",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.callInterceptors.apply(this,[e,"emit",this.emitImmediately].concat(r))}},{key:"callInterceptors",value:function(e,t,r){for(var n=this,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return new Promise((function(i,a){try{if(n.interceptors.length){var s=n.interceptors.filter((function(e){return!1!==n.doesMessageMatch(e.msg,o)})),u=!1;i(function i(){for(var a=s.shift(),c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];return o=l.length>0?l:o,a?(u=!0,n.logCall(e,t,a.broker,o,!0),n.callInterceptor(a.callback,o,i,a.broker)):(u&&n.logCall(e,t,void 0,o,!0,!0),r(e,t,o))}())}else i(r(e,t,o))}catch(e){a(e)}}))}},{key:"callInterceptor",value:function(e,t,r,n){return e(t,r)}},{key:"emitImmediately",value:function(e,t,r){var n=this;return Promise.all(this.subscriptions.map((function(i){var o;if(!1!==(o=n.doesMessageMatch(i.msg,r)))return n.callSubscriber(e,t,i,o,r)})).filter((function(e){return e})))}},{key:"callSubscriber",value:function(e,t,r,n,i){var o=this,a=i.slice(n);return new Promise((function(n,s){var u=function(){try{o.logCall(e,t,r.broker,i),n(r.callback.apply(r.broker,a))}catch(e){var u;"error"===i[0]?(console.error("Exception thrown while handling error for",i,e),s(e)):((u=o.system).emit.apply(u,["error"].concat(k(i),[e])),s(e))}};r.sync?u():o.dispatcher(u)}))}},{key:"addSubscription",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t[t.length-1],a=t.splice(0,t.length-1);return this.subscribe(e,a,o,r,n,i)}},{key:"on",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!1)}},{key:"register",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0)}},{key:"getOptions",value:function(e){for(var t=e&&e.options||{},r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=n[0];return"object"===I(o)?t=S(S({},t),o):t.message=n,Array.isArray(t.message)||(t.message=[t.message]),t.timeout=this.localTimeout(t.timeout),t}},{key:"getSubscriptionsInterestedIn",value:function(e){var t=this;return this.subscriptions.map((function(r){return{subscription:r,matchCount:t.doesMessageMatch(r.msg,e.message)}})).filter((function(e){return!1!==e.matchCount}))}},{key:"callFilteredSubscription",value:function(e,t,r,n){var i=r.message,o=r.map,a=n.matchCount,s=n.subscription,u=this.callSubscriber(e,t,s,a,i);return u&&o&&s.expectReturn?o(u,s):u}},{key:"callFilteredSubscriptions",value:function(e,t,r,n){var i=this;return n.reduce((function(n,o){var a=i.callFilteredSubscription(e,t,r,o);return o.subscription.expectReturn&&n.push(a),n}),[])}},{key:"invoke",value:(a=_(regeneratorRuntime.mark((function e(t){var r,i,o,a,s=this,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=function(){var e=_(regeneratorRuntime.mark((function e(t){var r,i,o,a,u,c,l,d,p,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=f.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=f[o];if(a=s.getOptions.apply(s,[t].concat(i)),u=s.getSubscriptionsInterestedIn(a).filter((function(e){return e.subscription.expectReturn})),c=y(u),l=c[0],d=c.slice(1),l){e.next=7;break}return e.abrupt("return",Promise.reject(new N(i)));case 7:d.length>0&&console.warn("Total of",d.length+1,"endpoints registered for message",i);case 8:return p=s.callInterceptors.apply(s,[t,"invoke",function(e,t,r){return s.callFilteredSubscription(e,t,S(S({},a),{},{message:r}),l)}].concat(k(a.message))),e.abrupt("return",void 0!==a.timeout?Promise.race([p,(0,n.Gv)(a.timeout)]):p);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=u.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=u[a];return e.abrupt("return",this.started?r.apply(void 0,[t].concat(k(o))):this.queuePublish.apply(this,[r.bind(this),t].concat(k(o))));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"localTimeout",value:function(e){var t;return null!==(t=this.globalTimeoutOverride)&&void 0!==t?t:e}},{key:"invokeAll",value:(t=_(regeneratorRuntime.mark((function e(t){var r,i,o,a,s=this,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=u.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=u[o];return a=function(){var e=_(regeneratorRuntime.mark((function e(){var r,o,a,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.getOptions.apply(s,[t].concat(i)),o=function(e,t,n){var i=S(S({},r),{},{message:n}),o=s.getSubscriptionsInterestedIn(i);if(r.controlHandler){var a=o.map((function(e){return e.subscription})).filter((function(e){var t=e.expectReturn,r=e.unbounded;return t&&!r})).map((function(e){return e.broker.id}));r.controlHandler({type:"interested endpoint",endpoints:a})}var u=s.callFilteredSubscriptions(e,t,i,o);return r.subscriptionsCalledCallback&&r.subscriptionsCalledCallback(o),u},e.next=4,s.callInterceptors.apply(s,[t,"invokeAll",o].concat(k(r.message)));case 4:return a=e.sent,u=a?a.filter((function(e){return e})):[],c=[],u=u.map((function(e){return e.then((function(e){c.push(e)}),(function(e){if(r.catch)try{r.catch(e)}catch(e){s.system.emit("error",e)}s.system.emit("error",e)}))})),l=Promise.all(u).then((function(e){return e.filter((function(e){return e}))})),void 0!==r.timeout&&(l=Promise.race([l,(0,n.S1)(r.timeout)])),e.abrupt("return",l.then((function(){return c})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",this.started?a.apply(void 0,[t].concat(i)):this.queuePublish.apply(this,[a.bind(this),t].concat(i)));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribe",value:function(e,t,r,n){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=!1,c=t[0];if("object"===I(c)&&(t=(0,i.pj)(c.message),u=c.sync||u),r&&"function"!=typeof r)throw new Error('Callback has to be a function, but a "'.concat(I(r),'" was passed'));var l={broker:e,msg:t,callback:r,sync:u,expectReturn:n,isStream:a,unbounded:s,cancel:function(){o.subscriptions=(0,i.cl)(l,o.subscriptions)}};return this.subscriptions.push(l),l}},{key:"hasSubscriber",value:function(e){return-1!==this.subscriptions.findIndex((function(t){return E(t.msg,1)[0]===e}))}},{key:"interceptOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),i=!1,o=this.intercept.apply(this,t.concat([function(){i||(o(),i=!0,n.apply(void 0,arguments))}]));return o}},{key:"intercept",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=n.pop(),s={msg:n,callback:a,broker:e};return this.interceptors.push(s),function(){t.interceptors=(0,i.cl)(s,t.interceptors)}}},{key:"start",value:function(){var e=this;for(this.system.on("error",(function(){var t;e.showUncaughtErrors&&(t=console).error.apply(t,arguments)})),this.started=!0;this.queued.length;)this.queued.shift()();this.system.emit("system ready"),r.g.DM&&r.g.DM.later&&r.g.DM.later&&r.g.DM.later.go&&r.g.DM.later.go("mol-adverts")}},{key:"setDispatcher",value:function(e){this.dispatcher=e}},{key:"registerStream",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0,!0)}},{key:"registerUnboundedStream",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0,!0,!0)}},{key:"openStream",value:function(e){for(var t=this,r=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var u=t.getOptions.apply(t,[e].concat(i)),c=o.KC(),l=!1,d=0,p=function(){l||0!=--d||(l=!0,c.push(null))},f=function(e,r){var n=r.broker,a=r.unbounded;return a||d++,e.then((function(e){var t=e instanceof s().Readable?e:o.nI(e?[e]:[]);t.on("data",(function(e){return!l&&c.push(e)})),a||t.on("end",(function(){u.controlHandler&&u.controlHandler({type:"stream done",endpoint:n.id}),p()}))}),(function(e){var r;u.emitErrors?c.emit("error",e):(r=t.system).emit.apply(r,["error"].concat(i,[e])),a||p()}))};void 0!==u.timeout&&((0,n.S1)(u.timeout).then((function(){!l&&c.push(null),l=!0})),delete u.timeout);var h=function(){l||0!==d||(l=!0,c.push(null))};return t.invokeAll(e,S(S({},u),{},{map:f,subscriptionsCalledCallback:h})),c},i=arguments.length,a=new Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];return this.started?r.apply(void 0,[e].concat(a)):this.queueStream.apply(this,[r.bind(this),e].concat(a))}},{key:"createReadObjectStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.KC(e)}},{key:"createTransformObjectStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.U0(e)}},{key:"collectStreamAsPromise",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o.$4(this.openStream.apply(this,[e].concat(r)))}},{key:"invokeChainMutable",value:function(e){for(var t=this,r=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=t.getOptions.apply(t,[e].concat(i)),s=t.getSubscriptionsInterestedIn(a).filter((function(e){return e.subscription.expectReturn})),u=t.callInterceptors.apply(t,[e,"invokeChainMutable",function(e,r,n){return new Promise(function(){var o=_(regeneratorRuntime.mark((function o(u,c){var l,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=k(n),d=l.pop(),o.next=4,s.reduce(function(){var n=_(regeneratorRuntime.mark((function n(o,s){var u,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o;case 2:return u=n.sent,c=s.matchCount,d=s.subscription,n.abrupt("return",t.callSubscriber(e,r,d,c,[].concat(k(l),[u])).catch((function(e){var r;return a.onError&&a.onError(e,i),(r=t.system).emit.apply(r,["error"].concat(i,[e])),u})));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),Promise.resolve(d));case 4:p=o.sent,u(p);case 6:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}())}].concat(k(a.message)));return void 0!==a.timeout?Promise.race([u,(0,n.Gv)(a.timeout)]):u},i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return this.started?r.apply(void 0,[e].concat(o)):this.queuePublish.apply(this,[r.bind(this),e].concat(o))}}]),e}(),L=function(e){l(r,e);var t=d(r);function r(){return D(this,r),t.apply(this,arguments)}return R(r)}(f(Error)),N=function(e){l(r,e);var t=d(r);function r(e){var n;return D(this,r),(n=t.call(this,"No end point registered: "+JSON.stringify(e))).endpoint=e,n}return R(r)}(L),B=function(e){l(r,e);var t=d(r);function r(){return D(this,r),t.apply(this,arguments)}return R(r,[{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"emit",n);try{var o;return(o=u(v(r.prototype),"emit",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"callSubscriber",value:function(e,t,n,i,o){console.group("received by",n.broker.id,o);try{return u(v(r.prototype),"callSubscriber",this).call(this,e,t,n,i,o)}finally{console.groupEnd()}}},{key:"intercept",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"intercept",n);try{var o;return(o=u(v(r.prototype),"intercept",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"invoke",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"invoke",n);try{var o;return(o=u(v(r.prototype),"invoke",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"invokeAll",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"invokeAll",n);try{var o;return(o=u(v(r.prototype),"invokeAll",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"openStream",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.group(e.id,"openStream",n);try{var o;return(o=u(v(r.prototype),"openStream",this)).call.apply(o,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"callInterceptor",value:function(e,t,n,i){console.group(i.id,"intercepted",t);try{return u(v(r.prototype),"callInterceptor",this).call(this,e,t,n)}finally{console.groupEnd()}}},{key:"subscribe",value:function(e,t,n,i){return console.log(e.id,i?"registered to":"subscribed to",t),u(v(r.prototype),"subscribe",this).call(this,e,t,n,i)}},{key:"broker",value:function(e){return console.log("broker",e,"created"),u(v(r.prototype),"broker",this).call(this,e)}},{key:"start",value:function(){return u(v(r.prototype),"start",this).call(this)}}]),r}(U),q=~window.location.search.indexOf("logbroker")?new B:new U;t.ZP=q},2805:function(e,t,r){"use strict";function n(){var e="x-loc=",t=document.cookie.indexOf(e);if(-1!==t){var r=document.cookie.indexOf(";",t);if(-1!==r){var n=document.cookie.substring(t+e.length,r);return n.length>0&&"none"!==n.toLowerCase()?n:void 0}}}r.d(t,{K:function(){return n}})},5059:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}function d(e,t){return Object.entries(t).reduce((function(t,r){var n,i,o=(i=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n,i)||u(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return t[a]=e[s],t}),{})}function p(e){for(var t in e)return!1;return!0}r.d(t,{$Z:function(){return w},Ev:function(){return d},T$:function(){return _},Yb:function(){return y},ar:function(){return h},ei:function(){return l},jF:function(){return v},nr:function(){return S},ns:function(){return f},sE:function(){return m},xb:function(){return p}});var f=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.g,i=n,o=s(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;void 0===i[a]&&(i[a]={}),i=i[a]}}catch(e){o.e(e)}finally{o.f()}return i},h=function(e,t){for(var r in t)if("function"==typeof t[r]&&!t[r](e[r]))return!1;return!0};function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){for(var r in e)if(g(e,r)&&t(e[r],r))return e[r]}function v(e,t,r){if(!g(e,t))return e;var n=o(o({},e),{},a({},r,e[t]));return delete n[t],n}function y(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];b(n)?t[r]=y(n):void 0!==n&&(t[r]=n)})),t}function b(e){return"object"===n(e)&&null!==e&&!Array.isArray(e)}function _(e){return e instanceof HTMLElement||e instanceof WeakMap||e instanceof Function||e instanceof Error||b(e)&&"function"==typeof e.then}function w(e){var t=0,r="___MARK_",n={};return JSON.parse(JSON.stringify(e,(function(e,i){if(_(i)){var o=t++;return n[o]=i,"".concat(r).concat(o)}return i})),(function(e,t){return"string"==typeof t&&t.startsWith(r)?n[t.substr(r.length)]:t}))}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},2889:function(e,t,r){"use strict";r.d(t,{$4:function(){return u},Ju:function(){return c},KC:function(){return d},TS:function(){return h},U0:function(){return p},UI:function(){return g},c:function(){return v},dE:function(){return l},hX:function(){return m},nI:function(){return f}});var n=r(2830),i=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return new Promise((function(t,r){var n=[];e.on("data",(function(e){return n.push(e)})),e.on("end",(function(){return t(n)})),e.on("error",(function(e){return r(e)}))}))},c=function(){var e=new(i().Readable)({objectMode:!0,read:function(){}}),t=new(i().Writable)({objectMode:!0,write:function(t,r,n){e.push(t),n()},final:function(t){e.push(null),t()}});return[e,t]},l=function(e,t){return d({start:function(){var r=this;e.on("data",(function(e){return r.push(e)})).on("end",(function(){r.push(null),t()})).on("error",(function(e){console.log("------\x3e STREAM Error",e),r.destroy(e),t(e)}))}})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new(i().Readable)({objectMode:!0,read:function(){}});return e.start&&e.start.apply(t),t},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new(i().Transform)(a({objectMode:!0},e))},f=function(e){var t=0;return new(i().Readable)({objectMode:!0,read:function(){e.length&&this.push(e[t++]),t===e.length&&this.push(null)}})},h=function(e){var t=d(),r=e.length;return r?(e.forEach((function(e){var n=function(e){return t.push(e)},i=function(){0==--r&&t.push(null)},o=function(e){return t.emit("error",e)};e.on("data",n).on("end",i).on("error",o);var a=(e.off||e.removeListener).bind(e);t.on("close",(function(){a("data",n),a("end",i),a("error",o)}))})),t):(t.push(null),t)},g=function(e,t){return d({start:function(){var r=this;e.on("data",(function(e){return r.push(t(e))})).on("end",(function(){r.push(null)})).on("error",(function(e){return r.destroy(e)}))}})},m=function(e,t){return d({start:function(){var r=this;e.on("data",(function(e){t(e)&&r.push(e)})).on("end",(function(){r.push(null)})).on("error",(function(e){return r.destroy(e)}))}})},v=function(e,t){var r=d(),n=function(e){return r.push(e)};t.on("data",n);var i=!1,o=(t.off||t.removeListener).bind(t);e.on("end",(function(){i||(o("data",n),i=!0),r.push(null)}));var a=h([e,r]);return a.on("close",(function(){i||(o("data",n),i=!0)})),a}},8553:function(e,t,r){"use strict";function n(e,t){var r=e.indexOf(t);return[e.substring(0,r),e.substring(r+1)]}function i(e){var t=o(new URL(e).search.substring(1));return t?{specific:o(t.prev_scp),cust_params:o(t.cust_params)}:{}}function o(e){return e&&Object.fromEntries(e.split("&").map((function(e){return e.split("=").map(decodeURIComponent)})))||void 0}function a(e,t){var r=e.startsWith("?"),n=e.substr(r?1:0).split("&").filter((function(e){return e.split("=")[0]!==t})).join("&");return n?"".concat(r?"?":"").concat(n):""}r.d(t,{Gi:function(){return i},Jp:function(){return n},gY:function(){return a}})},7721:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{T3:function(){return u},e$:function(){return l},fb:function(){return c},np:function(){return d},t2:function(){return s}});var s=function(e){return e.size||DM.molFeMiniLodash.map((e.type||"").split(","),(function(e){return DM.molFeMiniLodash.map(e.split("x"),Number)}))};function u(e,t,r){var o,a=function(e){return Array.isArray(e)&&2===e.length};if(!((o=e)&&Array.isArray(e)&&e.length&&o.every((function(e){return e&&a(e)&&a(e[0])&&Array.isArray(e[1])&&(0===e[1].length||e[1].every(a))}))))return t;var s=function(e){return e.sort((function(e,t){return t[0][0]-e[0][0]}))}(n(e)),u=i(r,2),c=u[0],l=u[1],d=s.find((function(e){var t=i(e,1),r=i(t[0],2),n=r[0],o=r[1];return c>=n&&l>=o}));return d&&d[1]||t}function c(e){return t=e,Array.isArray(t)&&Array.isArray(t[0])?e.reduce((function(e,t){var r=i(e,2),n=r[0],o=r[1];return Array.isArray(t)?[Math.max(n,t[0]),Math.max(o,t[1])]:[n,o]}),[0,0]):e;var t}function l(e,t){return t.reduce((function(t,r){var i=new RegExp(r.replace(/\*/g,".*"));return t.push.apply(t,n(Object.keys(e).filter((function(e){return i.exec(e)})))),t}),[])}function d(e){var t=e.slot&&"function"==typeof e.slot.getResponseInformation&&e.slot.getResponseInformation();return t&&{creativeId:t.creativeId||t.sourceAgnosticCreativeId,lineItemId:t.lineItemId||t.sourceAgnosticLineItemId,advertiserId:t.advertiser,campaignId:t.campaignId,companyId:t.companyIds}}},3436:function(e,t,r){"use strict";function n(e){var t=r.g.dartSiteId,n=r.g.PageCriteria.sponsored?"dm_dmnative":"".concat(r.g.adAreaSiteId,"_").concat(r.g.adAreaSiteId).concat(r.g.adAreaId,"_").concat(r.g.adSubareaId).concat(r.g.adPageType);return"native_"===e.slice(0,7)?"dailymail.uk/dm_native/".concat(e):"video"===e?"dm.video/dm_video_".concat(r.g.adAreaId):"".concat(t,"/").concat(n,"/").concat(e)}r.d(t,{Z:function(){return n}})},7200:function(e,t,r){"use strict";r.d(t,{D1:function(){return S},G9:function(){return w},JW:function(){return y},P0:function(){return T},SP:function(){return l},WH:function(){return k},ap:function(){return c},bP:function(){return v},cj:function(){return _},d8:function(){return h},ej:function(){return p},kT:function(){return m},oK:function(){return I},s$:function(){return b},zP:function(){return g}});var n=r(8553);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return window["inner"+e]||document.documentElement["client"+e]||document.body["client"+e]}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.usePixelRatio,r=t&&window.devicePixelRatio||1;return{width:u("Width")*r,height:u("Height")*r}}var l=function(){var e={};try{e=window.location.search.substr(1).split("&").reduce((function(e,t){var r,n,i=(r=t.split("="),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(r,n)||a(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],u=i[1];switch(s=decodeURIComponent(s),!0){case s.startsWith("!"):e[s.substr(1)]=!1;break;case s.endsWith("[]"):e[s=s.substr(0,s.length-2)]=!u||decodeURIComponent(u).split(",");break;case s.endsWith("[0]"):e[s=s.substr(0,s.length-3)]=!u||decodeURIComponent(u).split(",");break;case/\[[-+]\]$/.test(s):e[s]=[].concat(o(e[s]||[]),o((u||"").split(",").map(decodeURIComponent)));break;default:e[s]=u?decodeURIComponent(u):"string"!=typeof u||u}return e}),{})}catch(t){console.error("ads",t),e={}}return e}(),d=/(%[0-9A-Z]{2})+/g,p=function(e){var t,r=";".concat(document.cookie).split("; ".concat(e,"="));if(r.length>1){var n=r.pop().split(";").shift();t=(t='"'===n.charAt(0)?n.slice(1,-1):n).replace(d,decodeURIComponent)}return t},f=function e(t){var r=new Date;switch(i(t)){case"undefined":return r.setMonth(r.getMonth()+1),r;case"number":return r.setDate(r.getDate()+t),r;case"string":return new Date(t);case"function":return e(t());case"object":if(t instanceof Date)return t;if(null===t)return e();default:throw new Error("Invalid expire time when setting cookie")}},h=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=arguments.length>4?arguments[4]:void 0,o=f(r),a="".concat(e,"=").concat(t,";expires=").concat(o.toUTCString(),";path=").concat(n);i&&(a+=";domain=".concat(i)),document.cookie=a},g=function(e,t){var r="".concat(e,"Expire"),n=f(p(r)).toUTCString();h(e,t,n),h(r,n,n)},m=function(e){h(e,"","Thu, 01 Jan 1970 00:00:01 GMT")};function v(){var e=/(Windows\s*[a-zA-Z]*)\s+([^;\s)]+)/i.exec(navigator.userAgent);return e&&"windows nt"===e[1].toLowerCase()&&parseFloat(e[2])>=6.4}var y="Microsoft Internet Explorer"===navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/)),b=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_=/(?:iPod|iPhone|iPad).*(?:OS)/i.test(navigator.userAgent),w=/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/.test(navigator.userAgent),S=/Firefox\/([0-9.]+)(?:\s|$)/.test(navigator.userAgent),T=/Edge\/([0-9._]+)/.test(navigator.userAgent);function I(){try{if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}catch(e){console.error(e)}return[-1,-1,-1]}function k(e){var t=r.g.location,i=t.origin,o=t.pathname,a=t.search,s="".concat(i).concat(o).concat((0,n.gY)(a,e));window.history.pushState(null,"",s)}},7926:function(e,t,r){"use strict";r.r(t);var n=r(4812),i=r(7200),o=r(633),a=r(8662),s=r(705),u=r.n(s);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l=o.ZP.broker("debug-output"),d=window.PageCriteria&&window.PageCriteria.pageViewId||(0,a.kb)(),p=i.SP.adsDebugRemote||i.SP["ac.adsDebugRemote"]||r.g.adverts.config&&r.g.adverts.config.adsDebugRemoteV2,f=i.SP.adsBugReport||i.SP["ac.adsBugReport"]||r.g.adverts.config&&r.g.adverts.config.adsBugReportV2,h="boolean"!=typeof p&&p,g=[],m=0,v=(0,n.Ds)((function(){l.emit("send to bidmax",{_:{topic:"debug"},type:"multi",pvid:d,label:h,eventId:m++,payload:g}),g=[]}),1e3);function y(e){var t=new Set;return JSON.stringify(e,(function(e,r){if("object"===c(r)&&null!==r){if(r instanceof Error)return{type:"Error",message:r.message,stack:r.stack};if(t.has(r))return"[circular reference]";t.add(r)}return function(e){return"object"===("undefined"==typeof Node?"undefined":c(Node))?e instanceof Node:e&&"object"===c(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(r)?"[DOM Node]":r}))}var b=function(e,t){g.push({type:e,timestamp:(new Date).toISOString(),payload:t}),g.length>=100?v.callNow():v()},_=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];b("log",{level:e,log:r.map(y).map((function(e){if(void 0===e)return e;try{return JSON.parse(e)}catch(t){w.error("Error parsing",e,t)}}))}),w[e].apply(w,r)},w={log:console.log,warn:console.warn,error:console.error,info:console.info};p&&(console.log=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.apply(void 0,["log"].concat(t))},console.info=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.apply(void 0,["info"].concat(t))},console.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.apply(void 0,["warn"].concat(t))},console.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _.apply(void 0,["error"].concat(t))},window.onerror=function(e,t,r,n,i){return console.error("[UNCAUGHT]",{message:e,source:t,lineno:r,colno:n,error:i}),!1},window.addEventListener("unhandledrejection",(function(e){var t=e.reason;console.error("[PromiseRejectionUncaught]",{reason:t})})),l.on("send remote debug",b),l.on("system ready",(function(){var e=r.g.adverts.config;b("config",{config:e})})),l.once("dom ready",(function(){r.g.PageCriteria&&b("PageCriteria",r.g.PageCriteria),r.g.pagemeta&&b("pagemeta",r.g.pagemeta),l.invoke("get page level analytics").then((function(e){return b("bidmax",e)}))}))),f&&l.once("dom ready",(function(){var e=document.createElement("div");e.innerHTML=u()(),document.body.appendChild(e);var t=e.querySelector("#debugRemoteButtonText"),r=t.querySelector("textarea"),n=t.querySelector("button");e.querySelector("#debugRemoteButton").addEventListener("click",(function(e){e.preventDefault(),t.style.display="block"})),n.addEventListener("click",(function(e){e.preventDefault(),b("bugreport",{log:[r.value]}),console.info("bugreport",r.value),r.value="",t.style.display="none"}))}))},6415:function(e,t,r){"use strict";r.d(t,{x:function(){return f}});var n=r(7200),i=r(5737);function o(e){return function(e){if(Array.isArray(e))return e}(e)||u(e)||s(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||u(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){var e=new Set;if(n.SP.adsDebug)e=new Set(((!0===n.SP.adsDebug?"all":n.SP.adsDebug)||"").toLowerCase().split(","));else{var t=n.SP["ac.adsDebug"]||r.g.adverts.config&&r.g.adverts.config.adsDebug;"boolean"==typeof t?e=new Set(["all"]):Array.isArray(t)&&(e=new Set(t.map((function(e){return e.toLowerCase()}))))}return e}(),d=l.has("all"),p=function(){};function f(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["%c".concat(e),h()],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=d||l.has(e.toLowerCase()),u=s?(t=console.log).bind.apply(t,[console].concat(a((0,i.pj)(r)))):p;return u.debugName=e,u.label=r,u.enabled=s,u.log=c("log"),u.trace=c("trace"),u.debug=c("debug"),u.info=c("info"),u.warn=c("warn"),u.error=c("error",!0),u.table=s?g:p,u.extend=function(t){var s=o((0,i.pj)(r)),u=s[0],c=s.slice(1),l=n+1;return f(e,["".concat(u," %c").concat(t)].concat(a(c),[h(l)]),l)},u;function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return n&&"function"==typeof console[e]?(t=console[e]).bind.apply(t,[console].concat(a((0,i.pj)(r)))):p}function g(){var e;u("Table:"),(e=console).table.apply(e,arguments)}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"display: inline-block; color: #fff; background: hsl(214deg 100% ".concat(35+10*e,"%); padding: 1px 4px; border-radius: 3px;")}},8662:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{MX:function(){return o},RD:function(){return i},_b:function(){return u},kb:function(){return a}});var i=2147483647;function o(e,t){var r=t-e+1+e;return Math.floor(Math.random()*r)}function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){return(t=e,r=16*Math.random()|0,"x"===t?r:3&r|8).toString(16);var t,r}))}var s=/(.*)P(\d+)(s|k|m|gb|ms)$/;function u(e,t){var r=function(e){var t,r,i=(t=e.match(s),r=4,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[2],u=i[3],c=function(e,t){return{m:function(e){return 60*e*1e3},s:function(e){return 1e3*e},k:function(e){return 1e3*e},gb:function(e){return 1e9*e},ms:function(e){return e}}[t](e)}(a,u);return{fieldName:o,period:a,unit:u,cap:c}}(e);return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,function(e,t){if(null!=e){var r=e/(t/100);return r>99&&(r=99),r<0&&(r=0),Math.round(r)}}(t,r.cap))}},209:function(e,t,r){"use strict";var n=r(6415),i=r(7200);(i.SP.adsDebugRemote||i.SP["ac.adsDebugRemote"]||r.g.adverts.config&&r.g.adverts.config.adsDebugRemote)&&r(7926),(0,n.x)("bootstrap").log("loading",window.location.href)},4794:function(e,t,r){"use strict";r.d(t,{U2:function(){return P},t8:function(){return x}});var n=r(9208),i=r.n(n),o=r(1468),a=r.n(o),s=r(7200),u=r(5737),c=r(5059);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e){var t={browser:h(g),device:h(m),iOSVersion:h(v),timeRange:h(y),globalContext:h(_)};return(0,c.ar)(e,t)}function h(e){return function(t){return void 0===t||(Array.isArray(t)?t.some(e):e(t))}}function g(e){switch(e){case"chrome":return s.G9;case"edge":return s.P0;case"ie":return s.JW;case"firefox":return s.D1;case"safari":return s.s$;default:return!1}}function m(e){var t=i()(r.g,"DM.molFeMobileutils");if(t)switch(e){case"tablet":return t.isIPad()||t.isAndroidTable();case"desktop":return!t.isMobile()}else console.error("DM.molFeMobileutils is not available")}function v(e){var t=e.min,r=e.max,n=l((0,s.oK)(),1)[0];return(void 0===t||t<=n)&&(void 0===r||r>=n)}function y(e){var t=e.end,r=e.start,n=new Date,i=t&&b(t)<=n,o=r&&b(r)>n;return!i&&!o}function b(e){var t=l(e.split(":").map(Number),3),r=t[0],n=t[1],i=t[2],o=new Date;return o.setHours(r),o.setMinutes(n),o.setSeconds(i),o}function _(e){var t=e.prop,n=e.op,o=e.value;if("includes"===n){var a=i()(r.g,t);return"string"==typeof a?a.includes(o):(0,u.pj)(a).includes(o)}}var w=r(6415),S=r(2378),T=r.n(S);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var E,O=(0,w.x)("config"),C={},P=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=i().apply(void 0,[C].concat(t));return"object"===A(n)?JSON.parse(JSON.stringify(n)):n},x=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a().apply(void 0,[C].concat(t))};r.g.adverts.config=r.g.adverts.config||{},Object.entries(r.g.adverts.config).forEach((function(e){var t=I(e,2),r=t[0],n=t[1];try{if(function(e){return"object"===p(e)&&!(null==e||!e.__targeting)}(n)){var i=function(e){var t=e.__targeting;return((0,u.pj)(t).find(f)||{}).payload}(n);void 0!==i&&x(r,i)}else x(r,n)}catch(e){console.error(e)}})),"object"===A(E=JSON.parse(localStorage.getItem("mol-ads-control-panel-config")||"null"))&&null!==E&&T()(C,E),Object.entries(s.SP).forEach((function(e){var t=I(e,2),r=t[0],n=t[1];if(r.startsWith("ac."))if(r.endsWith("[+]")){var i=r.substring(3,r.length-3);x(i,(0,u.jj)(P(i,[]).concat(n)))}else if(r.endsWith("[-]")){var o=r.substring(3,r.length-3);x(o,P(o,[]).filter((function(e){return!n.includes(e)})))}else if(r.endsWith("{}")){var a=r.substring(3,r.length-2);x(a,function(e){try{return JSON.parse(e)}catch(e){return O.error(e),{}}}(n))}else x(r.slice(3),function(e){var t,r;return""===e||"boolean"==typeof e?e:isNaN(e)?(r="true"===(t=e),"false"===t||r?r:t):parseFloat(e)}(n))})),r.g.adverts.config=C},6540:function(e,t,r){"use strict";r.r(t),r.d(t,{appendStyle:function(){return m},closest:function(){return h},contains:function(){return v},createIframe:function(){return T},elementReady:function(){return o},getElementBottomOffset:function(){return u},getElementComputedHeight:function(){return w},getElementComputedWidth:function(){return _},getElementScaledHeight:function(){return b},getElementWidthScale:function(){return S},getOffset:function(){return s},getPageSize:function(){return p},getParent:function(){return y},getRelativeContainer:function(){return l},getVisibleText:function(){return I},getWindow:function(){return d},insertAfter:function(){return k},isElement:function(){return g},loaded:function(){return a},onBodyAvailable:function(){return n},untilBodyAvailable:function(){return i},walk:function(){return f}});var n=function e(t){document.body?t():r.g.requestAnimationFrame((function(){e(t)}))},i=function(){return new Promise(n)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return new Promise((function(n,i){var o=!1;setTimeout((function(){o=!0}),t),function a(){var s=document.querySelector(e);s?n(s):o?i(new Error('Element "'.concat(e,'" not found after ').concat(t,"ms"))):setTimeout((function(){return a()}),r)}()}))},a=function(){return new Promise((function(e){["complete","loaded","interactive"].includes(document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}))},s=function(e){var t,r,n={top:0,left:0},i=e&&e.ownerDocument;if(i)return t=i.documentElement,e.getBoundingClientRect&&(n=e.getBoundingClientRect()),r=d(i),{top:n.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}};function u(e){return s(e).top+w(e)}var c=function(e){var t=getComputedStyle(e).getPropertyValue("position");return["relative","absolute"].includes(t)},l=function(e){return f(e,c,(function(e){return e.parentNode}))},d=function(e){var t=null;return e&&(e===e.window?t=e:9===e.nodeType?t=e.defaultView||e.parentWindow:e.ownerDocument&&(t=e.ownerDocument.defaultView||e.ownerDocument.parentWindow)),t},p=function(){return[document.body.scrollWidth,window.innerHeight+window.scrollMaxY,window.innerWidth,window.innerHeight]},f=function(e,t,r){for(;e;){if(t(e))return e;e=r(e)}},h=function(e,t){return f(e,t,(function(e){var t=e.parentNode;return t!==document&&t}))},g=function(e){return e&&1===e.nodeType},m=function(e){if(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:"textContent"in t?t.textContent=e:t.innerText=e,(document.body||document.head).appendChild(t)}},v=function(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY},y=function(e,t){return f(e,(function(e){return e.matches(t)}),(function(e){return e.parentNode}))},b=function(e){return function(e){var t=getComputedStyle(e),r=t.getPropertyValue("transform");if(r&&"none"!==r){var n=r.split("(")[1].split(")")[0].split(",");return parseFloat(n[3])}var i=t.getPropertyValue("zoom");return parseFloat(i||1)}(e)*w(e)},_=function(e){return parseInt(getComputedStyle(e).getPropertyValue("width"))},w=function(e){return parseInt(getComputedStyle(e).getPropertyValue("height"))},S=function(e){var t=_(e);return _(document.body)/t};function T(e){var t=e.content,r=e.insertMethod,n=void 0===r?function(e){document.body.appendChild(e)}:r,i=e.width,o=void 0===i?0:i,a=e.height,s=void 0===a?0:a,u=e.log,c=void 0===u?function(){}:u,l=document.createElement("iframe");return l.border="0",l.style.width="".concat(o,"px"),l.style.height="".concat(s,"px"),l.style.border="none",c("inserting iframe"),n(l),c("writing iframe content",l),l.contentDocument.open(),l.contentDocument.domain=document.domain,l.contentDocument.write(t),l.contentDocument.close(),l}function I(e){window.getSelection().removeAllRanges();var t=document.createRange();t.selectNode(e),window.getSelection().addRange(t);var r=window.getSelection().toString().trim();return window.getSelection().removeAllRanges(),r}function k(e,t){t.parentNode.insertBefore(e,t.nextSibling)}},5895:function(e,t,r){"use strict";r.d(t,{H:function(){return d}});var n=r(1013),i=r(7200),o=r(2805),a=r(4509);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=(0,n.gb)((function(){var e;return null===(e=window.RTA)||void 0===e?void 0:e.ids}),300,3e3).then((function(e){return e.user||e.visit?{rta:{user:e.user,visit:e.visit}}:{}})).catch((function(){return{}})).then((function(e){var t,n,s=window,c=s.PageCriteria,l=void 0===c?{}:c,d=s.pagemeta,p=void 0===d?{}:d;return u({account:"mol",adsFreeUser:null===(t=(n=r.g).isAdFreeEntitled)||void 0===t?void 0:t.call(n),articleId:l.articleId,channel:l.channel,configVersion:(0,a.i)().__generated.commit.sha,bundle:"facade",cmVersion:(0,a.i)().__generated.rulesJs.version,cmCluster:(0,a.i)().__generated.rulesJs.cluster,device:l.device,embed:!0,event_type:"bidmax",geo:l.geo,isMobile:l.isMobile,isTablet:l.isTablet,office:(0,o.K)(),pageType:l.pageType,pageViewId:l.pageViewId,referrer:document.referrer,sponsored:l.sponsored,subchannel:l.subchannel,timeAtSend:0,type_version:2,url:location.href,version:i.SP.bidmax||p.adsBundleVersion||"absent"},e)}));function d(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=!(null===(e=(0,a.i)())||void 0===e||null===(t=e.bidmax)||void 0===t||null===(n=t.dispatcher)||void 0===n||!n.useCurrentUrl);return l.then((function(e){return new Promise((function(t,n){var s,c,l,d=new XMLHttpRequest,p=o?"".concat(r.g.location.origin).concat(r.g.location.pathname):(null===(s=(0,a.i)())||void 0===s||null===(c=s.bidmax)||void 0===c||null===(l=c.dispatcher)||void 0===l?void 0:l.url)||"//crta.dailymail.co.uk";d.open("POST",p,!0),d.addEventListener("abort",n),d.addEventListener("error",n),d.addEventListener("load",t),d.setRequestHeader("Content-Type","text/plain"),d.send(JSON.stringify(u(u(u({},e),i),{},{timestamp:Date.now()})))}))})).catch((function(e){return console.error(e)}))}},4509:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var n=r(7200);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=a();function a(){var e,t,a,s,u;if(o)return o;var c=location.search.substr(1).split("&").reduce((function(e,t){var r=/^!?ac\./;if(!r.test(t))return e;var n,o,a=(n=t.split("="),o=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n,o)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],u=a[1],c=!s.startsWith("!")&&(void 0===u||(isNaN(parseInt(u))?s.endsWith("[]")?u.split(","):u:parseInt(u)));return e[s.replace(r,"")]=c,e}),r.g.adverts.config||(null===(e=(t=r.g).getAdsConfig)||void 0===e?void 0:e.call(t))||{});return{__generated:{commit:{sha:c["__generated.commit.sha"]},rulesJs:{version:c["__generated.rulesJs.version"],cluster:c["__generated.rulesJs.cluster"]}},abe:{displayDialog:!!c["abe.displayDialog"],detection:{delay:c["abe.detection.delay"]||0,enabled:!!c["abe.detection.enabled"]}},bidmax:{dispatcher:{url:(null===n.SP||void 0===n.SP||null===(a=n.SP.ac)||void 0===a||null===(s=a.bidmax)||void 0===s||null===(u=s.dispatcher)||void 0===u?void 0:u.url)||c["bidmax.dispatcher.url"],useCurrentUrl:c["bidmax.dispatcher.useCurrentUrl"]}},plugins:{enabled:Array.isArray(c["plugins.enabled"])?c["plugins.enabled"]:[]},slots:{enabled:c["slots.enabled"]?c["slots.enabled"]:{}}}}},8747:function(e,t,r){void 0===r.g.adverts&&(r.g.adverts={})},616:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{fo:function(){return s},uM:function(){return u}});var o=(0,r(6415).x)("plugin-registry"),a={};function s(e,t){o("registering plugin:",e),a[e]=t}function u(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a)}},1620:function(e,t,r){"use strict";r.r(t),r.d(t,{DELAYED:function(){return f},IMMEDIATE:function(){return d},LAZY:function(){return p},getEnabledRenderedSlots:function(){return _},getEnabledSlots:function(){return w},getLoadingSettings:function(){return b},initEmergencyRules:function(){return A},initSlots:function(){return I},isAdEnabled:function(){return y},resetSlots:function(){return T},setSupportedSlots:function(){return k}});var n=r(7200),i=r(5059);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,r(616).fo)("adListLoader",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t,n,o=e.broker,c=e.getConfig,y=e.setConfig,b=(t=c("slots.enabled",{}),!(n=S)||n&&(0,i.xb)(n)?t:Object.entries(n).reduce((function(e,t){var r=u(t,2),n=r[0];return r[1]?e[n]={}:delete e[n],e}),t)),_=Object.keys(b),w=new Set(_),T=m.filter((function(e){return!w.has(e)})),I=_.reduce((function(e,t){return a(a({},e),s({},t,(n=b[t],i=n.loadingOffset,o=n.loadingTrigger,u=n.loadingType,(c={type:(void 0===u?d:u)||d,trigger:o,offset:isNaN(i)?0:Number(i)}).type===d||c.type===f||c.type===p&&c.trigger||(r.g.DM.log("ads","Unknown loading type or invalid loading trigger, falling back to immediate loading :",c),c.type=d),c)));var n,i,o,u,c}),{}),k=c("slotDescription",{});h=_.filter((function(e){return!k[e]||!!k[e].id})),g=T,l=I,y("slots.enabled",I),o.emit("slots initialized",h),v(g,!1),v(h,!0),o.on("system ready",(function(){r.g.DM.later("DOM_READY",(function(){document.write=document.writeln=function(e){try{throw new Error(e)}catch(e){r.g.DM.log("ads","Error: there was an attempt to document.write in a rendered page: ",e)}}}))})),o.on("set slots enabled",(function(e,t){v(e,t)}))}});var l={},d="immediate",p="lazy",f="delayed",h=[],g=[],m=["adx_page_skins","adx_tracking","banner_top","billboard","bvp_puff_26","bvp_puff_29","fff","half_mpu_top","inread_player","inread_player_mw","inread_player_top","intro_ad","leader_bottom","leader_lower_middle","leader_middle","leader_top","leader_very_bottom","leader_wide","mpu_bottom","mpu_bottom_right","mpu_channel","mpu_comments_1","mpu_comments_2","mpu_home","mpu_middle","mpu_mobile","mpu_mobile_bottom","mpu_mobile_lower_middle","mpu_mobile_top","mpu_mobile_upper_middle","mpu_puff_10","mpu_puff_15","mpu_puff_20","mpu_puff_30","mpu_puff_45","mpu_puff_5","mpu_top","native_fff_accessorise","native_fff_overlay_accessorise","network_banner","para_top","puff_ad_3","puff_ad_6","puff_ad_9","sky_left_bottom","sky_left_top","sky_right_bottom","sky_right_top","sticky_banner","video_ad","video_carousel"],v=function(e,t){e.forEach((function(e){var r="molads_".concat(e,"_","on"),n="molads_".concat(e,"_","off");document.documentElement.classList.add(t?r:n),document.documentElement.classList.remove(t?n:r)}))},y=function(e){var t=e&&(e.dfpPos||e.pos);return!window.disableAds&&(!t||!m.includes(t)||h.includes(t))},b=function(e){return l[e]||{type:d,trigger:void 0,offset:0}},_=function(){return h.slice()},w=_,S=(n.SP.setSlot&&n.SP.setSlot.split(",")||[]).reduce((function(e,t){var r=u(t.split(":").map((function(e){return e.trim()})),2),n=r[0],i=r[1];return e[n]="on,true,1,enabled".includes(i||"true"),e}),{}),T=function(){h=[],g=[]},I=function(){},k=function(e){},A=function(){}},9023:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return init}});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2045);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var showThankYouMessage=function showThankYouMessage(getConfig,log){try{log("Showing thank you message"),eval(getConfig("abe.thankYouMessage.js","DM.later('bundle', function(){window.top.DM.molFeAdblockerDialog.thanks()})"))}catch(e){console.error(e)}};function init(e){var t=e.broker,r=e.getConfig,n=e.log,i=JSON.parse(localStorage.getItem("mol.abe.data")||"{}"),o=new Promise((function(e){t.once("ad block detection result",(function(o){var a=o.adblocker;a&&(void 0===i.v&&(i.i=(new Date).toISOString(),i.v=2,i.u=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.Z)(),i.n=!0),i.v++,i.l=(new Date).toISOString(),localStorage.setItem("mol.abe.data",JSON.stringify(i))),i.i&&(n(a?"Ad blocker detected":"No ad blocker detected"),a||i.c&&!(i.c<i.l)||(i.c=(new Date).toISOString(),i.n=!0,n("First page load with no ad blocker, saving:",i),localStorage.setItem("mol.abe.data",JSON.stringify(i)),showThankYouMessage(r,n)),t.emit("ex ad blocker user",a,!!i.c),i.c?e({exabd:!a}):e({}))}))}));if(i.i){n("ABE ran at last once, waiting for to ad blocker detection");var a={};void 0!==i.c&&(a.exabd=i.c>i.l),o.then((function(e){return a=e}));var s=function(e){return _defineProperty({},i.n?"exabd2":"exabd",!!e)};t.emit("set page level targeting",s(a.exabd)),t.emit("set page level targeting",o.then((function(e){var t=e.exabd;return s(t)}))),t.register("call for page analytics",(function(){return a}))}}init.ccpa={enabledIfDissent:!0},init.gdpr={enabledIfDissent:!0}},8397:function(e,t,r){"use strict";r.r(t),r.d(t,{appendStyles:function(){return L},default:function(){return H},enableSlot:function(){return R},getAdContainer:function(){return F},getElementById:function(){return N},getElementContainerById:function(){return D},getElementOrIframeById:function(){return O},isEmpty:function(){return x},log:function(){return U},nativeLoaded:function(){return M},openAd:function(){return V}});var n,i=r(3077),o=r(1620),a=r(633),s=r(2575),u=r(7854),c=r(8397);a.ZP.broker("NativeRenderer").on("system ready",(function(){var e=window.location.href.match(/[&?]enable_native=([^&]+)/),t=e&&e[1];if(t){var r=o.initSlots;o.initSlots=function(e){e[t]={enabled:!0,state:"on"},r.apply(o,arguments)}}n=t,s((function(e){if(!e.isEmpty){var t=e.slot,r=t&&t.molAd;"native_"===r.pos.slice(0,7)&&"_dfp"===r.pos.slice(-4)&&p(r)}}))}));var l="\f\t",d=l.length;function p(e){var t=document.getElementById(e.parentId),r=c.getAdContainer(t),i=!1;function o(){if(!i){i=!0;try{!function(e,t,r){var i=document.createElement("div");i.innerHTML=r;var o=i.childNodes;if("none"!==t.style.display){t.style.display="none";for(var a,s=t,u=t.parentNode,c=e.pos.replace(/_dfp$/,""),l=o.length;l--;)1===(a=o[l]).nodeType&&"SCRIPT"!==a.nodeName&&(u.insertBefore(a,t),s=a);var d=s,p=s;switch(e.pos){case"native_fff_overlay_accessorise":u.style.display="none";case"native_fff_accessorise":document.body.classList.add("fff-has-accessorise")}p&&d.hasAttribute("data-track-module")&&DM&&DM.externalLinkTracker&&(p.setAttribute("data-track-type","cl"),DM.externalLinkTracker(d.id,"cl")),n&&window.opener&&window.opener!==window&&window.opener.postMessage&&(window.addEventListener("message",f.bind(null,s,c)),h(window.opener,"isLoaded",!0,c))}}(e,t,r.body.innerHTML)}catch(e){console.error("Error moving native article: ",e)}}}r.body&&((r.defaultView||r.parentWindow).addEventListener("load",o),setTimeout(o,2e3))}function f(e,t,r){if(r.data.slice(0,d)===l){var n,i="data-native-ad-field";try{n=u.parse(r.data.slice(d))}catch(e){console.error("Invalid message",e)}if(n&&n.type){var o,a=[].slice.call(e.querySelectorAll("[data-native-ad-field]"));switch(n.type){case"getValues":o=a.map((function(e){return{name:e.getAttribute(i),value:e.textContent}}));break;case"setValues":a.forEach((function(e){var t=e.getAttribute(i);t in n.values&&(e.textContent=n.values[t])}))}o&&h(r.source,n.type,o,t,r.origin)}}}function h(e,t,r,n,i){var o={type:"response",query:t,position:n,value:r};e.postMessage(l+u.stringify(o),i||"*")}s((function(e){if(!e.isEmpty){var t=e.slot,r=t&&t.molAd;"native_"===r.pos.slice(0,7)&&"_dfp"===r.pos.slice(-4)&&p(r)}}));var g=r(6540),m=r(6415);function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e]}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriptions={}}var t,r;return t=e,r=[{key:"clone",value:function(){return{emit:this.emit.bind(this),off:this.off.bind(this),on:this.on.bind(this),once:this.once.bind(this)}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=y.call(this,e).slice();i.forEach((function(e){return e.apply(void 0,r)}))}},{key:"off",value:function(e,t){var r=y.call(this,e);if(t){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}else r.length=0}},{key:"on",value:function(e,t){y.call(this,e).push(t)}},{key:"once",value:function(e,t){var r=this;this.on(e,(function n(){r.off(e,n),t.apply(void 0,arguments)}))}}],r&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_=r(7337),w=r(7721),S=r(5737);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e,t){var r;try{r=e.contentDocument||e.contentWindow.document}catch(e){}return r||t},A=function(e){return function(t){var r=t&&k(t);return r&&r.getElementById(e)}},E=function(e){var t=(e||document).getElementsByTagName("iframe");return Array.prototype.filter.call(t,C)},O=function(e){var t=A(e);return P(E(),(function(e){return t(e)&&e}))},C=function(e){return e.id&&"google_ads_iframe_"===e.id.slice(0,18)},P=function(e,t){for(var r=0,n=e.length;r<n;r++)if(t(e[r]))return e[r]},x=function(e){var t=document.getElementById(e),r=["a","iframe","object","img","video"],n=!0;if(t)for(var i=r.length;n&&i--;)n=!t.getElementsByTagName(r[i]).length;return n},D=function(e){var t=O(e),r=/\badHolder\b/;if(t){for(var n=t;n&&!r.test(n.className||"");)n=n.parentNode;return n||(n=t),n}},j=function(e,t){U("Disabling",t);var r=document.documentElement,n="molads_"+t;if("billboard"===t){z("billboard",U.extend("watermark")),e.emit("unstick position","billboard");var i=window.DM;i&&i.Rotator&&i.Rotator.initMiniCarousel()}r.classList.add("collapse-".concat(t)),r.classList.remove(n+"_on"),r.classList.add(n+"_off")},R=function(e){var t="molads_"+e,r=document.documentElement;r.classList.remove(t+"_off"),r.classList.add(t+"_on")},M=function(e,t,r){var n=P(E(),(function(t){return t.contentWindow.name===e.name}));if(n){var o=(0,g.closest)(n,(function(e){return e.hasAttribute(i.AD_ATTRIBUTE)}));if(o){var a=i.parse(o.getAttribute(i.AD_ATTRIBUTE)||"{}");a&&p(a)}}},U=(0,m.x)("ad-integrator"),L=function(e){for(var t=e.match(/<style[^>]*\sclass="?integrate"?[^>]*>[^\f]*?<\/style>/gi),r=0,n=t?t.length:0;r<n;r++)(0,g.appendStyle)(t[r].slice(t[r].indexOf(">")+1,-8))},N=function(e){for(var t=null,r=E(),n=A(e),i=0;!t&&i<r.length;i++)t=n(r[i]);return t},B=function(e,t){U('collapseAd("#'.concat(t,'")'));var r=(0,_.getById)(t);if(r)j(e,r.pos);else{U.warn("collapseAd - cannot find description of slot with id:",t);var n=D(t);if(n){U("collapsing",t);var o=i.parse(n.getAttribute(i.AD_ATTRIBUTE)||"{}");o&&o.pos?j(e,o.pos):n.style.display="none"}else U.warn("collapseAd: id",t,"is unknown")}};function q(e,t){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}((0,w.e$)((0,_.allDescriptions)(),(0,S.pj)(t)));try{for(n.s();!(r=n.n()).done;){var i=r.value;U('collapseAd({ pos: "'.concat(i,'" })')),j(e,i)}}catch(e){n.e(e)}finally{n.f()}}var F=function(e){var t=E(e)[0];return t?k(t,document):e},V=function(e){var t=D(e),r=i.parse(t.getAttribute(i.AD_ATTRIBUTE)||"{}");r&&r.pos?R(r.pos):(t.style.height="auto",t.style.display="block")};function z(e,t){var r=(0,_.get)(e);if(r){var n=document.getElementById(r.id);if(n){var i=(0,g.closest)(n,(function(e){return e.classList.contains("watermark")}));i?(t("removing watermark",i),i.classList.remove("watermark")):t.warn("Couldn't find an watermarked element")}else t.warn("Cannot find element")}else t.warn("Cannot find description")}var W=function(e){var t=e.broker;r.g.addEventListener("message",(function(e){var r=e.data;if("object"===T(r)&&"string"==typeof r.func)switch(U("received message",r),r.func){case"molads.addSkinToPage":return t.emit("add skin to page",r);case"molads.addSkinLabel":return t.emit("add skin label to page");case"molads.disableSticky":return t.emit("disable sticky position",r.pos);case"molads.disableForceView":return t.emit("disable force view when viewed",r.pos)}}));var n=new b,i=[];t.on("external subscription",(function(){return n.on.apply(n,arguments)})),r.g.adverts.getRendered=function(){return i},r.g.adverts.collapseAd=r.g.AdIntegrator.collapseAd=B.bind(null,t),r.g.adverts.collapseAdByPos=r.g.AdIntegrator.collapseAdByPos=q.bind(null,t),r.g.AdIntegrator.disableSlot=j.bind(null,t),t.on("ad rendered",(function(e,t){t.isEmpty||(i.push(t.slot.molAd),n.emit("rendered",t),n.emit("rendered."+e,t))})),t.on("destroy slot",(function(e){i=i.filter((function(t){return t.pos!==e}))})),t.on("remove watermark",(function(e){z(e,U.extend("remove watermark").extend(e))}))},H=W;W.isAdsFreeSupported=!0,W.ccpa={enabledIfDissent:!0},W.gdpr={enabledIfDissent:!0}},8814:function(e,t,r){"use strict";function n(){return window.pbjs}r.r(t),r.d(t,{default:function(){return hd}}),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs");var i=r(6584),o=r(9060),a=r.n(o),s=r(5643),u=r(1999),c=r(2773),l=r(6667),d=r(4204);function p(e){var t,r,n,o={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,r=e.vastImpUrl,n=r?"<![CDATA[".concat(r,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return d.vc.getConfig("cache.vasttrack")&&(o.bidder=e.bidder,o.bidid=e.requestId,o.aid=e.auctionId,i.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(o.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}var f=r(5823),h=r(2332),g=r.n(h),m="outstream";function v(e){var t=this,r=e.url,n=e.config,o=e.id,a=e.callback,s=e.loaded,u=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=o,this.loaded=s,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):i.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,n=function(){e._render?e._render.apply(e,t):i.logWarn("No render function was provided, please use .setRender on the renderer")};_(u)?(i.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(u)),n()):(this.cmd.unshift(n),(0,f.B)(r,m,this.callback))}.bind(this)}function y(e){return!(!e||!e.url)}function b(e,t){e.render(t)}function _(e){var t=pbjs.adUnits,r=g()(t,(function(t){return t.code===e}));if(!r)return!1;var n=i.deepAccess(r,"renderer"),o=!!(n&&n.url&&n.render),a=i.deepAccess(r,"mediaTypes.video.renderer"),s=!!(a&&a.url&&a.render);return!!(o&&!0!==n.backupOnly||s&&!0!==a.backupOnly)}v.install=function(e){return new v({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},v.prototype.getConfig=function(){return this.config},v.prototype.setRender=function(e){this._render=e},v.prototype.setEventHandlers=function(e){this.handlers=e},v.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),i.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(r))},v.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){i.logError("Error processing Renderer command: ",e)}};var w=r(4767),S=r(5858),T=r(1608),I=r.n(T),k=r(3593),A=r(6093);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}var C=w.k_.syncUsers,P=r(6584),x=r(6893).ZP,D=r(9060),j=r(1999),R="completed";D.on(j.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t,r=e.bidderCode,n=e.cpm;if(pbjs.bidderSettings&&(r&&pbjs.bidderSettings[r]&&"function"==typeof pbjs.bidderSettings[r].bidCpmAdjustment?t=pbjs.bidderSettings[r].bidCpmAdjustment:pbjs.bidderSettings[j.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[j.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[j.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{n=t(e.cpm,O({},e))}catch(e){P.logError("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}(e)}));var M={},U={},L=[];var N=(0,S.z3)("async",(function(e,t){this.dispatch.call(this.bidderRequest,e,t)}),"addBidResponse"),B=(0,S.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),q=(0,S.z3)("async",(function(e,t){t&&t()}),"bidsBackCallback");function F(e,t){t.timeToRespond>e.getTimeout()+d.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function V(e,t){var r=e.getBidRequests(),n=g()(r,(function(e){return e.bidderCode===t.bidderCode}));!function(e,t){var r;if(e.bidderCode&&(e.cpm>0||e.dealId)){var n=g()(t.bids,(function(t){return t.adUnitCode===e.adUnitCode}));r=function(e,t,r){if(!t)return{};var n={},i=pbjs.bidderSettings;return i&&(K(n,G(t.mediaType,e,r),t),e&&i[e]&&i[e][j.JSON_MAPPING.ADSERVER_TARGETING]&&(K(n,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting)),t.native&&(n=O({},n,(0,s.Ur)(t,r))),n}(e.bidderCode,e,n)}e.adserverTargeting=O(e.adserverTargeting||{},r)}(t,n),D.emit(j.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),F(e,t)}var z=(0,S.z3)("async",(function(e,t,r,n){!function(e,t,r){var n={puts:e.map(p,r)};(0,l.h)(d.vc.getConfig("cache.url"),function(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(r))),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})}([t],(function(n,i){n?(P.logWarn("Failed to save to the video cache: ".concat(n,". Video bid must be discarded.")),F(e,t)):""===i[0].uuid?(P.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),F(e,t)):(t.videoCacheKey=i[0].uuid,t.vastUrl||(t.vastUrl=function(e){return"".concat(d.vc.getConfig("cache.url"),"?uuid=").concat(e)}(t.videoCacheKey)),V(e,t),r())}),n)}),"callPrebidCache");function W(e,t,r){if(e&&r){if(e===A.pX){var n=(0,i.deepAccess)(t,"mediaTypes.".concat(A.pX,".context"),"instream");if(r["".concat(A.pX,"-").concat(n)])return r["".concat(A.pX,"-").concat(n)]}return r[e]}}var H=function(e){return function(t){return e===j.GRANULARITY_OPTIONS.AUTO?t.pbAg:e===j.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===j.GRANULARITY_OPTIONS.LOW?t.pbLg:e===j.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===j.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===j.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function G(e,t,r){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return(0,i.getValue)(e,t)}}}var o=j.TARGETING_KEYS,a=function(e,t){var r=W(e,t,d.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&r?"string"==typeof r?r:"custom":d.vc.getConfig("priceGranularity")}(e,r),s=pbjs.bidderSettings;if(s[j.JSON_MAPPING.BD_SETTING_STANDARD]||(s[j.JSON_MAPPING.BD_SETTING_STANDARD]={}),s[j.JSON_MAPPING.BD_SETTING_STANDARD][j.JSON_MAPPING.ADSERVER_TARGETING]||(s[j.JSON_MAPPING.BD_SETTING_STANDARD][j.JSON_MAPPING.ADSERVER_TARGETING]=[n(o.BIDDER,"bidderCode"),n(o.AD_ID,"adId"),n(o.PRICE_BUCKET,H(a)),n(o.SIZE,"size"),n(o.DEAL,"dealId"),n(o.SOURCE,"source"),n(o.FORMAT,"mediaType"),n(o.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""}))]),"video"===e){var u=s[j.JSON_MAPPING.BD_SETTING_STANDARD][j.JSON_MAPPING.ADSERVER_TARGETING];if([o.UUID,o.CACHE_ID].forEach((function(e){void 0===g()(u,(function(t){return t.key===e}))&&u.push(n(e,"videoCacheKey"))})),d.vc.getConfig("cache.url")&&(!t||!1!==P.deepAccess(s,"".concat(t,".sendStandardTargeting")))){var c=(0,i.parseUrl)(d.vc.getConfig("cache.url"));void 0===g()(u,(function(e){return e.key===o.CACHE_HOST}))&&u.push(n(o.CACHE_HOST,(function(e){return P.deepAccess(e,"adserverTargeting.".concat(o.CACHE_HOST))?e.adserverTargeting[o.CACHE_HOST]:c.hostname})))}}return s[j.JSON_MAPPING.BD_SETTING_STANDARD]}function K(e,t,r){var n=t[j.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),P._each(n,(function(n){var i=n.key,o=n.val;if(e[i]&&P.logWarn("The key: "+i+" is getting ovewritten"),P.isFn(o))try{o=o(r)}catch(e){P.logError("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&i!==j.TARGETING_KEYS.DEAL||!P.isEmptyStr(o)&&null!=o?e[i]=o:P.logInfo("suppressing empty key '"+i+"' from adserver targeting")})),e}function X(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}var Y=r(1999),$=function(){var e=[],t={addWinningBid:function(t){var r=g()(e,(function(e){return e.getAuctionId()===t.auctionId}));r?(t.status=Y.BID_STATUS.RENDERED,r.addWinningBid(t)):(0,i.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(i.flatten,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(i.flatten,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(i.flatten,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===R)return e.getBidsReceived()})).reduce(i.flatten,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(i.flatten,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(i.flatten,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(i.flatten,[]).filter(i.uniques)}};return t.createAuction=function(t){var r=function(e){var t,r,n,o,a=e.adUnits,s=e.adUnitCodes,u=e.callback,l=e.cbTimeout,p=e.labels,f=e.auctionId,h=a,m=p,y=s,b=[],_=[],w=[],S=f||P.generateUUID(),T=u,A=l,F=[],H=new Set;function G(){return{auctionId:S,timestamp:t,auctionEnd:r,auctionStatus:n,adUnits:h,adUnitCodes:y,labels:m,bidderRequests:b,noBids:w,bidsReceived:_,winningBids:F,timeout:A}}function K(e,t){if(t&&clearTimeout(o),void 0===r){var s=[];e&&(P.logMessage("Auction ".concat(S," timedOut")),u=H,(s=b.map((function(e){return(e.bids||[]).filter((function(e){return!u.has(e.bidder)}))})).reduce(i.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&D.emit(j.EVENTS.BID_TIMEOUT,s)),n=R,r=Date.now(),D.emit(j.EVENTS.AUCTION_END,G()),q(h,(function(){try{if(null!=T){var t=y,r=_.filter(P.bind.call(i.adUnitsFilter,this,t)).reduce(X,{});T.apply(pbjs,[r,e,S]),T=null}}catch(e){P.logError("Error executing bidsBackHandler",null,e)}finally{s.length&&x.callTimedOutBidders(a,s,A);var n=d.vc.getConfig("userSync")||{};n.enableOverride||C(n.syncDelay)}}))}var u}function Y(){d.vc.resetBidder(),P.logInfo("Bids Received for Auction with id: ".concat(S),_),n=R,K(!1,!0)}function $(e){H.add(e)}function J(e){var t=this;e.forEach((function(e){var t;t=e,b=b.concat(t)}));var r={},a={bidRequests:e,run:function(){var a,l;a=K.bind(null,!0),l=setTimeout(a,A),o=l,n="inProgress",D.emit(j.EVENTS.AUCTION_INIT,G());var p=function(e,t){var r=0,n=!1,o=new Set,a={};function s(){r--,n&&0===r&&e()}return{addBidResponse:function(e,n){a[n.requestId]=!0,r++;var o=function(e){var t=e.adUnitCode,r=e.bid,n=e.bidderRequest,o=e.auctionId,a=n.start,s=O({},r,{auctionId:o,responseTimestamp:(0,i.timestamp)(),requestTimestamp:a,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});s.timeToRespond=s.responseTimestamp-s.requestTimestamp,D.emit(j.EVENTS.BID_ADJUSTMENT,s);var u=n.bids&&g()(n.bids,(function(e){return e.adUnitCode==t&&e.bidId==s.requestId})),l=u&&u.renderer,p=s.mediaType,f=u&&u.mediaTypes&&u.mediaTypes[p],h=f&&f.renderer,m=null;h&&h.url&&h.render&&(!0!==h.backupOnly||!r.renderer)?m=h:l&&l.url&&l.render&&(!0!==l.backupOnly||!r.renderer)&&(m=l),m&&(s.renderer=v.install({url:m.url}),s.renderer.setRender(m.render));var y=W(r.mediaType,u,d.vc.getConfig("mediaTypePriceGranularity")),b=(0,c.D)(s.cpm,"object"===E(y)?y:d.vc.getConfig("customPriceBucket"),d.vc.getConfig("currency.granularityMultiplier"));return s.pbLg=b.low,s.pbMg=b.med,s.pbHg=b.high,s.pbAg=b.auto,s.pbDg=b.dense,s.pbCg=b.custom,s}({adUnitCode:e,bid:n,bidderRequest:this,auctionId:t.getAuctionId()});"video"===o.mediaType?function(e,t,r,n){var o=!0,a=(0,i.getBidRequest)(t.originalRequestId||t.requestId,[r]),s=a&&(0,i.deepAccess)(a,"mediaTypes.video"),u=s&&(0,i.deepAccess)(s,"context");d.vc.getConfig("cache.url")&&u!==k.gZ&&(!t.videoCacheKey||d.vc.getConfig("cache.ignoreBidderCacheKey")?(o=!1,z(e,t,n,a)):t.vastUrl||(P.logError("videoCacheKey specified but not required vastUrl for video bid"),o=!1)),o&&(V(e,t),n())}(t,o,this,s):(V(t,o),s())},adapterDone:function(){var i=t.getBidRequests(),s=d.vc.getConfig("auctionOptions");if(o.add(this),s&&!P.isEmpty(s)){var u=s.secondaryBidders;u&&!i.every((function(e){return I()(u,e.bidderCode)}))&&(i=i.filter((function(e){return!I()(u,e.bidderCode)})))}n=i.every((function(e){return o.has(e)})),this.bids.forEach((function(e){a[e.bidId]||(t.addNoBid(e),D.emit(j.EVENTS.NO_BID,e))})),n&&0===r&&e()}}}(Y,t);x.callBids(h,e,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];N.apply({dispatch:p.addBidResponse,bidderRequest:this},t)}),p.adapterDone,{request:function(e,t){u(M,t),u(r,e),U[e]||(U[e]={SRA:!0,origin:t}),r[e]>1&&(U[e].SRA=!1)},done:function(e){M[e]--,L[0]&&s(L[0])&&L.shift()}},A,$)}};function s(e){var t=!0,r=d.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var n=1,i=void 0!==e.src&&e.src===j.S2S.SRC?"s2s":e.bidderCode;return U[i]&&(!1===U[i].SRA&&(n=Math.min(e.bids.length,r)),M[U[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function u(e,t){void 0===e[t]?e[t]=1:e[t]++}s(a)||(P.logWarn("queueing auction due to limited endpoint capacity"),L.push(a))}return{addBidReceived:function(e){_=_.concat(e)},addNoBid:function(e){w=w.concat(e)},executeCallback:K,callBids:function(){n="started",t=Date.now();var e=x.makeBidRequests(h,t,S,A,m);P.logInfo("Bids Requested for Auction with id: ".concat(S),e),e.length<1?(P.logWarn("No valid bid requests returned for auction"),Y()):B.call({dispatch:J,context:this},e)},addWinningBid:function(e){F=F.concat(e),x.callBidWonBidder(e.bidder,e,a)},setBidTargeting:function(e){x.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return F},getTimeout:function(){return A},getAuctionId:function(){return S},getAuctionStatus:function(){return n},getAdUnits:function(){return h},getAdUnitCodes:function(){return y},getBidRequests:function(){return b},getBidsReceived:function(){return _},getNoBids:function(){return w}}}({adUnits:t.adUnits,adUnitCodes:t.adUnitCodes,callback:t.callback,cbTimeout:t.cbTimeout,labels:t.labels,auctionId:t.auctionId});return function(t){e.push(t)}(r),r},t.findBidByAdId=function(t){return g()(e.map((function(e){return e.getBidsReceived()})).reduce(i.flatten,[]),(function(e){return e.adId===t}))},t.getStandardBidderAdServerTargeting=function(){return G()[Y.JSON_MAPPING.ADSERVER_TARGETING]},t.setStatusForBids=function(r,n){var i=t.findBidByAdId(r);if(i&&(i.status=n),i&&n===Y.BID_STATUS.BID_TARGETING_SET){var o=g()(e,(function(e){return e.getAuctionId()===i.auctionId}));o&&o.setBidTargeting(i)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t.clearAllAuctions=function(){e.length=0},t}(),J=u.EVENTS.BID_WON,Q=u.EVENTS.STALE_RENDER;function Z(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId){var n=g()($.getBidsReceived(),(function(e){return e.adId===r.adId}));if(n&&"Prebid Request"===r.message){if(n.status===u.BID_STATUS.RENDERED&&((0,i.logWarn)("Ad id ".concat(n.adId," has been rendered before")),a().emit(Q,n),(0,i.deepAccess)(d.vc.getConfig("auctionOptions"),"suppressStaleRender")))return;!function(e,t){var r=e.adId,n=e.ad,o=e.adUrl,a=e.width,s=e.height,u=e.renderer,c=e.cpm;y(u)?b(u,e):r&&(ee(e),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:(0,i.replaceAuctionPrice)(n,c),adUrl:(0,i.replaceAuctionPrice)(o,c),adId:r,width:a,height:s}),t.origin))}(n,e),$.addWinningBid(n),a().emit(J,n)}if(n&&"Prebid Native"===r.message){if("assetRequest"===r.action){var o=(0,s.eK)(r,n);return void e.source.postMessage(JSON.stringify(o),e.origin)}if("allAssetRequest"===r.action){var c=(0,s.JL)(r,n);e.source.postMessage(JSON.stringify(c),e.origin)}else"resizeNativeHeight"===r.action&&(n.height=r.height,n.width=r.width,ee(n));if("click"===(0,s.e6)(r,n))return;$.addWinningBid(n),a().emit(J,n)}}}function ee(e){var t=e.adId,r=e.adUnitCode,n=e.width,o=e.height;["div","iframe"].forEach((function(e){var a=function(e){var n=function(e,t){return window.googletag?function(e){return g()(window.googletag.pubads().getSlots(),(function(t){return g()(t.getTargetingKeys(),(function(r){return I()(t.getTargeting(r),e)}))})).getSlotElementId()}(e):window.apntag?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),i=document.getElementById(n);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(a){var s=a.style;s.width=n+"px",s.height=o+"px"}else(0,i.logWarn)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can't resize it to ad's dimensions.  Please review setup."))}))}var te=r(2231);function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=r(6584),se=r(1999),ue=[],ce=Object.keys(se.TARGETING_KEYS).map((function(e){return se.TARGETING_KEYS[e]})),le=function(e){return e.responseTimestamp+1e3*e.ttl-1e3>(0,i.timestamp)()},de=function(e){return e&&(e.status&&!I()([se.BID_STATUS.RENDERED],e.status)||!e.status)},pe=(0,S.z3)("sync",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!n){var o=[],a=d.vc.getConfig("sendBidsControl.dealPrioritization"),s=(0,i.groupBy)(e,"adUnitCode");return Object.keys(s).forEach((function(e){var n=[],u=(0,i.groupBy)(s[e],"bidderCode");Object.keys(u).forEach((function(e){return n.push(u[e].reduce(t))})),r>0?(n=a?n.sort(fe(!0)):n.sort((function(e,t){return t.cpm-e.cpm})),o.push.apply(o,ie(n.slice(0,r)))):o.push.apply(o,ie(n))})),o}return e}));function fe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var he,ge,me=function(e){var t={},r={};function n(e,t){return e.adserverTargeting&&t&&(ae.isArray(t)&&I()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(e,t){if(!0===d.vc.getConfig("targetingControls.alwaysIncludeDeals")){var r=ce.concat(s.xc);return pe(t,i.getHighestCpm).map((function(t){if(t.dealId&&n(t,e))return ne({},t.adUnitCode,w(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function a(e,t){var r=re({},se.TARGETING_KEYS,se.NATIVE_KEYS),n=Object.keys(r),o={};(0,i.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return r[e]})).join(", ")," ]")),e.map((function(e){var i=Object.keys(e)[0],a=e[i].filter((function(e){var i=Object.keys(e)[0],a=0===n.filter((function(e){return 0===i.indexOf(r[e])})).length||g()(t,(function(e){var t=r[e];return 0===i.indexOf(t)}));return o[i]=!a,a}));e[i]=a}));var a=Object.keys(o).filter((function(e){return o[e]}));return(0,i.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function u(e,t){var r=(0,i.deepClone)(e);return Object.keys(r).map((function(e){return{adUnitCode:e,adserverTargeting:r[e]}})).sort(fe()).reduce((function(e,n,o,a){var s,u=(s=n.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")}),""));o+1===a.length&&(u=u.slice(0,-3));var c=n.adUnitCode,l=u.length;return l<=t?(t-=l,(0,i.logInfo)("AdUnit '".concat(c,"' auction keys comprised of ").concat(l," characters.  Deducted from running threshold; new limit is ").concat(t),r[c]),e[c]=r[c]):(0,i.logWarn)("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(l,", the current allotted amount was ").concat(t,".\n"),r[c]),o+1===a.length&&0===Object.keys(e).length&&(0,i.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function c(e){var t=e.map((function(e){return ne({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return ne({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return re(t,e)}),{}))})).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=re({},e[r],t[r]),e}),{});return t}function l(t){return"string"==typeof t?[t]:ae.isArray(t)?t:e.getAdUnitCodes()||[]}function p(){var t=e.getBidsReceived();return d.vc.getConfig("useBidCache")||(t=t.filter((function(e){return r[e.adUnitCode]===e.auctionId}))),t=t.filter((function(e){return(0,i.deepAccess)(e,"video.context")!==A.Oh})).filter((function(e){return"banner"!==e.mediaType||(0,te.lO)([e.width,e.height])})).filter(de).filter(le),pe(t,i.getOldestHighestCpmBid)}function f(e,r){var n=t.getWinningBids(e,r),i=h();return n=n.map((function(e){return ne({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,r){var n=[e.adserverTargeting[r]],i=ne({},r.substring(0,20),n);if(r===se.TARGETING_KEYS.DEAL){var o=ne({},"".concat(r,"_").concat(e.bidderCode).substring(0,20),n);return[].concat(ie(t),[i,o])}return[].concat(ie(t),[i])}),[]))})),n}function h(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(ce).filter(i.uniques)}function m(e,t,r,n){return Object.keys(t.adserverTargeting).filter(v()).forEach((function(r){e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){ae.isArray(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.uniques),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function v(){var e=h().concat(s.xc);return function(t){return-1===e.indexOf(t)}}function y(e){return ne({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(v()).map((function(t){return ne({},t.substring(0,20),[e.adserverTargeting[t]])})))}function b(e,t){return t.filter((function(t){return I()(e,t.adUnitCode)})).map((function(e){return re({},e)})).reduce(m,[]).map(y).filter((function(e){return e}))}function _(e,t){var r=ce.concat(s.xc),o=d.vc.getConfig("sendBidsControl.bidLimit"),a=pe(t,i.getHighestCpm,o),u=d.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),c=u?u.map((function(e){return se.TARGETING_KEYS[e]})):r;return a.map((function(t){if(n(t,e))return ne({},t.adUnitCode,w(t,r.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==c.indexOf(e)}))))})).filter((function(e){return e}))}function w(e,t){return t.map((function(t){return ne({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function S(t){function r(e){return(0,i.deepAccess)(e,se.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return I()(t,e.code)&&r(e)})).map((function(e){return ne({},e.code,function(e){var t=r(e);return Object.keys(t).map((function(e){return ne({},e,ae.isArray(t[e])?t[e]:t[e].split(","))}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if((0,i.isGptPubadsDefined)()){var n=l(t),o=e.getAdUnits().filter((function(e){return I()(n,e.code)}));window.googletag.pubads().getSlots().forEach((function(e){var t=ae.isFn(r)&&r(e);ue.forEach((function(r){o.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||ae.isFn(t)&&t(n.code))&&e.setTargeting(r,null)}))}))}))}},t.resetPresetTargetingAST=function(e){l(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),n={};r.forEach((function(e){I()(ue,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),r=l(e),n=f(r,t).concat(b(r,t)).concat(d.vc.getConfig("enableSendAllBids")?_(r,t):o(r,t)).concat(S(r));n.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===ue.indexOf(Object.keys(e)[0])&&(ue=Object.keys(e).concat(ue))}))}))}));var s=Object.keys(re({},se.DEFAULT_TARGETING_KEYS,se.NATIVE_KEYS)),h=d.vc.getConfig("targetingControls.allowTargetingKeys")||s;Array.isArray(h)&&h.length>0&&(n=a(n,h)),n=c(n);var g=d.vc.getConfig("targetingControls.auctionKeyMaxChars");return g&&((0,i.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(g," characters.  Running checks on auction keys...")),n=u(n,g)),r.forEach((function(e){n[e]||(n[e]={})})),n},t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(r){Object.keys(e).filter(t?t(r):(0,i.isAdUnitCodeMatchingSlot)(r)).forEach((function(t){return Object.keys(e[t]).forEach((function(n){var i=e[t][n];"string"==typeof i&&(i=i.split(",")),(i=i.length>1?[i]:i).map((function(e){return ae.logMessage("Attempting to set key value for slot: ".concat(r.getSlotElementId()," key: ").concat(n," value: ").concat(e)),e})).forEach((function(e){r.setTargeting(n,e)}))}))}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),r=l(e);return t.filter((function(e){return I()(r,e.adUnitCode)})).filter((function(e){return e.cpm>0})).map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(i.getHighestCpm)}))},t.setTargetingForAst=function(e){var r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){ae.logError("unable to reset targeting for AST"+e)}Object.keys(r).forEach((function(e){return Object.keys(r[e]).forEach((function(t){if(ae.logMessage("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(r[e][t])),ae.isStr(r[e][t])||ae.isArray(r[e][t])){var n={};t.search(/pt[0-9]/)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&ae.isFn(window.apntag.setKeywords))return!0},t}($),ve="pbjs:debugging";function ye(e){(0,i.logMessage)("DEBUG: "+e)}function be(e){(0,i.logWarn)("DEBUG: "+e)}function _e(e){he=Ae.bind(e),N.before(he,5),ge=Ee.bind(e),B.before(ge,5)}function we(){N.getHooks({hook:he}).remove(),B.getHooks({hook:ge}).remove()}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d.vc.setConfig({debug:!0}),we(),_e(e),ye("bidder overrides enabled".concat(t?" from session":""))}function Te(e,t,r){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===r)}function Ie(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function ke(e,t,r){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,n){return ye("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(r,".").concat(n," from '").concat(t[n],".js' to '").concat(e[n],"'")),t[n]=e[n],t}),t)}function Ae(e,t,r){var n=this;Ie(n.bidders,r.bidderCode)?be("bidder '".concat(r.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(n.bids)&&n.bids.forEach((function(e){Te(e,r.bidderCode,t)||ke(e,r,"bidder")})),e(t,r))}function Ee(e,t){var r=this,n=t.filter((function(e){return!Ie(r.bidders,e.bidderCode)||(be("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(r.bidRequests)&&n.forEach((function(e){r.bidRequests.forEach((function(t){e.bids.forEach((function(r){Te(t,e.bidderCode,r.adUnitCode)||ke(t,r,"bidRequest")}))}))})),e(n)}d.vc.getConfig("debugging",(function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem(ve,JSON.stringify(e))}catch(e){}Se(e)}else{we(),ye("bidder overrides disabled");try{window.sessionStorage.removeItem(ve)}catch(e){}}}(e.debugging)}));var Oe=r(316),Ce=r(3124),Pe=r(3648);function xe(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}var Re=n(),Me=r(1999),Ue=r(6584),Le=r(6893).ZP,Ne=r(9060),Be=w.k_.triggerUserSyncs,qe=Me.EVENTS,Fe=qe.ADD_AD_UNITS,Ve=qe.BID_WON,ze=qe.REQUEST_BIDS,We=qe.SET_TARGETING,He=qe.AD_RENDER_FAILED,Ge=qe.STALE_RENDER,Ke=Me.AD_RENDER_FAILED_REASON,Xe=Ke.PREVENT_WRITING_ON_MAIN_DOCUMENT,Ye=Ke.NO_AD,$e=Ke.EXCEPTION,Je=Ke.CANNOT_FIND_AD,Qe=Ke.MISSING_DOC_OR_ADID,Ze={bidWon:function(e){var t=$.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(i.flatten).filter(i.uniques);if(Ue.contains(t,e))return!0;Ue.logError('The "'+e+'" placement is not defined.')}};function et(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function tt(e,t){var r=[];return Ue.isArray(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return(0,i.isArrayOfNums)(e,2)}))?r=e:(0,i.isArrayOfNums)(e,2)&&r.push(e)),r}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(ve))}catch(e){}t&&Se(t,!0)}(),Re.bidderSettings=Re.bidderSettings||{},Re.libLoaded=!0,Re.version="v4.43.4",Ue.logInfo("Prebid.js v4.43.4 loaded"),Re.installedModules=["v$prebid.modulesList$"],Re.adUnits=Re.adUnits||[],Re.triggerUserSyncs=Be;var rt=(0,S.z3)("sync",(function(e){var t=[];return e.forEach((function(e){var r,n,i,o=e.mediaTypes,a=e.bids;if(a&&Ue.isArray(a))if(o&&0!==Object.keys(o).length){o.banner&&(r=function(e){var t=Ue.deepClone(e),r=t.mediaTypes.banner,n=tt(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):(Ue.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}(e)),o.video&&(n=function(e){var t=Ue.deepClone(e),r=t.mediaTypes.video;if(r.playerSize){var n="number"==typeof r.playerSize[0]?2:1,i=tt(r.playerSize,n);i.length>0?(2===n&&Ue.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=i,t.sizes=i):(Ue.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}(r||e)),o.native&&(i=function(e){var t=Ue.deepClone(e),r=t.mediaTypes.native;return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&(Ue.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&(Ue.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&(Ue.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}(n||r||e));var s=je({},r,n,i);t.push(s)}else Ue.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed."));else Ue.logError("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))})),t}),"checkAdUnitSetup");function nt(e){var t=$[e]().filter(Ue.bind.call(i.adUnitsFilter,this,$.getAdUnitCodes())),r=$.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.auctionId===r&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},n={bids:e},(r=e[0].adUnitCode)in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t;var t,r,n})).reduce((function(e,t){return je(e,t)}),{})}function it(e){var t=e.reason,r=e.message,n=e.bid,i=e.id,o={reason:t,message:r};n&&(o.bid=n),i&&(o.adId=i),Ue.logError(r),Ne.emit(He,o)}Re.getAdserverTargetingForAdUnitCodeStr=function(e){if(Ue.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Re.getAdserverTargetingForAdUnitCode(e);return Ue.transformAdServerTargetingObj(t)}Ue.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Re.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=$.getAllBidsForAdUnitCode(e).filter(de).filter(le);return t.length?t.reduce(i.getHighestCpm):{}}Ue.logMessage("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Re.getAdserverTargetingForAdUnitCode=function(e){return Re.getAdserverTargeting(e)[e]},Re.getAdserverTargeting=function(e){return Ue.logInfo("Invoking pbjs.getAdserverTargeting",arguments),me.getAllTargeting(e)},Re.getNoBids=function(){return Ue.logInfo("Invoking pbjs.getNoBids",arguments),nt("getNoBids")},Re.getNoBidsForAdUnitCode=function(e){return{bids:$.getNoBids().filter((function(t){return t.adUnitCode===e}))}},Re.getBidResponses=function(){return Ue.logInfo("Invoking pbjs.getBidResponses",arguments),nt("getBidsReceived")},Re.getBidResponsesForAdUnitCode=function(e){return{bids:$.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},Re.setTargetingForGPTAsync=function(e,t){if(Ue.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,i.isGptPubadsDefined)()){var r=me.getAllTargeting(e);me.resetPresetTargeting(e,t),me.setTargetingForGPT(r,t),Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){"hb_adid"===t&&$.setStatusForBids(r[e][t],Me.BID_STATUS.BID_TARGETING_SET)}))})),Ne.emit(We,r)}else Ue.logError("window.googletag is not defined on the page")},Re.setTargetingForAst=function(e){Ue.logInfo("Invoking pbjs.setTargetingForAn",arguments),me.isApntagDefined()?(me.setTargetingForAst(e),Ne.emit(We,me.getAllTargeting())):Ue.logError("window.apntag is not defined on the page")},Re.renderAd=function(e,t,r){if(Ue.logInfo("Invoking pbjs.renderAd",arguments),Ue.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=$.findBidByAdId(t);if(n){var i=!0;if(n&&n.status===Me.BID_STATUS.RENDERED&&(Ue.logWarn("Ad id ".concat(n.adId," has been rendered before")),Ne.emit(Ge,n),Ue.deepAccess(d.vc.getConfig("auctionOptions"),"suppressStaleRender")&&(i=!1)),i){if(n.ad=Ue.replaceAuctionPrice(n.ad,n.cpm),n.adUrl=Ue.replaceAuctionPrice(n.adUrl,n.cpm),r&&r.clickThrough){var o=r.clickThrough;n.ad=Ue.replaceClickThrough(n.ad,o),n.adUrl=Ue.replaceClickThrough(n.adUrl,o)}$.addWinningBid(n),Ne.emit(Ve,n);var a=n.height,s=n.width,u=n.ad,c=n.mediaType,l=n.adUrl,p=n.renderer,f=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if(Ue.insertElement(f,e,"body"),y(p))b(p,n);else if(e===document&&!Ue.inIframe()||"video"===c){var h="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");it({reason:Xe,message:h,bid:n,id:t})}else if(u){if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var g=/firefox\/([\d\.]+)/,m=navigator.userAgent.toLowerCase().match(g)[1];m&&parseInt(m,10)<67&&e.open("text/html","replace")}e.write(u),e.close(),et(e,s,a),Ue.callBurl(n)}else if(l){var v=Ue.createInvisibleIframe();v.height=a,v.width=s,v.style.display="inline",v.style.overflow="hidden",v.src=l,Ue.insertElement(v,e,"body"),et(e,s,a),Ue.callBurl(n)}else{var _="Error trying to write ad. No ad for bid response id: ".concat(t);it({reason:Ye,message:_,bid:n,id:t})}}}else{var w="Error trying to write ad. Cannot find ad by given id : ".concat(t);it({reason:Je,message:w,id:t})}}catch(e){var S="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);it({reason:$e,message:S,id:t})}else{var T="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");it({reason:Qe,message:T,id:t})}},Re.removeAdUnit=function(e){Ue.logInfo("Invoking pbjs.removeAdUnit",arguments),e?(Ue.isArray(e)?e:[e]).forEach((function(e){for(var t=Re.adUnits.length-1;t>=0;t--)Re.adUnits[t].code===e&&Re.adUnits.splice(t,1)})):Re.adUnits=[]},Re.requestBids=(0,S.z3)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,n=e.adUnits,i=e.adUnitCodes,o=e.labels,a=e.auctionId;Ne.emit(ze);var s=r||d.vc.getConfig("bidderTimeout");n=n&&d.vc.convertAdUnitFpd(Ue.isArray(n)?n:[n])||Re.adUnits,Ue.logInfo("Invoking pbjs.requestBids",arguments);var u=[],c=[];if(d.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(u=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),u.forEach((function(e){c.push.apply(c,xe(e.bidders))})),n=rt(n),i&&i.length?n=n.filter((function(e){return I()(i,e.code)})):i=n&&n.map((function(e){return e.code})),n.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map((function(e){return e.bidder})),n=Le.bidderRegistry,i=c?r.filter((function(e){return!I()(c,e)})):r;e.transactionId=Ue.generateUUID(),i.forEach((function(r){var i=n[r],o=i&&i.getSpec&&i.getSpec(),a=o&&o.supportedMediaTypes||["banner"];t.some((function(e){return I()(a,e)}))?Oe.f.incrementBidderRequestsCounter(e.code,r):(Ue.logWarn(Ue.unsupportedBidderMessage(e,r)),e.bids=e.bids.filter((function(e){return e.bidder!==r})))})),Oe.f.incrementRequestsCounter(e.code)})),n&&0!==n.length){var l=$.createAuction({adUnits:n,adUnitCodes:i,callback:t,cbTimeout:s,labels:o,auctionId:a}),p=n.length;p>15&&Ue.logInfo("Current auction ".concat(l.getAuctionId()," contains ").concat(p," adUnits."),n),i.forEach((function(e){return me.setLatestAuctionForAdUnit(e,l.getAuctionId())})),l.callBids()}else if(Ue.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){Ue.logError("Error executing bidsBackHandler",null,e)}})),Re.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(Pe.Ld),r(ot),e.call(this,t)}),49),Re.addAdUnits=function(e){Ue.logInfo("Invoking pbjs.addAdUnits",arguments),Re.adUnits.push.apply(Re.adUnits,d.vc.convertAdUnitFpd(Ue.isArray(e)?e:[e])),Ne.emit(Fe)},Re.onEvent=function(e,t,r){Ue.logInfo("Invoking pbjs.onEvent",arguments),Ue.isFn(t)?!r||Ze[e].call(null,r)?Ne.on(e,t,r):Ue.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):Ue.logError('The event handler provided is not a function and was not set on event "'+e+'".')},Re.offEvent=function(e,t,r){Ue.logInfo("Invoking pbjs.offEvent",arguments),r&&!Ze[e].call(null,r)||Ne.off(e,t,r)},Re.getEvents=function(){return Ue.logInfo("Invoking pbjs.getEvents"),Ne.getEvents()},Re.registerBidAdapter=function(e,t){Ue.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{Le.registerBidAdapter(e(),t)}catch(e){Ue.logError("Error registering bidder adapter : "+e.message)}},Re.registerAnalyticsAdapter=function(e){Ue.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{Le.registerAnalyticsAdapter(e)}catch(e){Ue.logError("Error registering analytics adapter : "+e.message)}},Re.createBid=function(e){return Ue.logInfo("Invoking pbjs.createBid",arguments),(0,Ce.m)(e)};var ot=[],at=(0,S.z3)("async",(function(e){e&&!Ue.isEmpty(e)?(Ue.logInfo("Invoking pbjs.enableAnalytics for: ",e),Le.enableAnalytics(e)):Ue.logError("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function st(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Ue.logError("Error processing command :","prebid.js",e)}}))}Re.enableAnalytics=function(e){ot.push(at.bind(this,e))},Re.aliasBidder=function(e,t,r){Ue.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?Le.aliasBidAdapter(e,t,r):Ue.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Re.getAllWinningBids=function(){return $.getAllWinningBids()},Re.getAllPrebidWinningBids=function(){return $.getBidsReceived().filter((function(e){return e.status===Me.BID_STATUS.BID_TARGETING_SET}))},Re.getHighestCpmBids=function(e){return me.getWinningBids(e)},Re.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=$.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=me.getWinningBids(e.adUnitCode):e.adId?t=$.getBidsReceived().filter((function(t){return t.adId===e.adId})):Ue.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=Me.BID_STATUS.RENDERED)},Re.getConfig=d.vc.getConfig,Re.setConfig=d.vc.setConfig,Re.setBidderConfig=d.vc.setBidderConfig,Re.que.push((function(){window.addEventListener("message",Z,!1)})),Re.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Ue.logError("Error processing command :",e.message,e.stack)}else Ue.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},Re.que.push=Re.cmd.push,Re.processQueue=function(){S.z3.ready(),st(Re.que),st(Re.cmd)};var ut=Re,ct=r(3435);function lt(){return lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lt.apply(this,arguments)}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ht="33across",gt=/^[a-zA-Z0-9_-]{22}$/,mt="instream",vt=["mimes","minduration","maxduration","placement","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],yt={uniqueSiteIds:[]};function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return lt({},e,{ext:lt({},e.ext,ft({},t,r))})}function _t(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function wt(e){var t=e.params,r=e.mediaTypes,n=r.banner,i=r.video;return i&&!n&&"instream"===i.context?mt:"inview"===t.productId?t.productId:"siab"}function St(e,t,r){var n=e.getFloor({currency:"USD",mediaType:r,size:[t.w,t.h]});if(!isNaN(n.floor)&&"USD"===n.currency)return n.floor}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.w,n=t.h,i=e.getBoundingClientRect(),o=i.width,a=i.height,s=i.left,u=i.top,c=i.right,l=i.bottom;return(0===o||0===a)&&r&&n&&(o=r,a=n,c=s+r,l=u+n),{width:o,height:a,left:s,top:u,right:c,bottom:l}}function It(e){for(var t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom},r=1;r<e.length;++r){if(t.left=Math.max(t.left,e[r].left),t.right=Math.min(t.right,e[r].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[r].top),t.bottom=Math.min(t.bottom,e[r].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}function kt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.w,i=r.h,o=Tt(e,{w:n,h:i}),a=It([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},o]);return null!==a?a.width*a.height/(o.width*o.height)*100:0}var At={NON_MEASURABLE:"nm",code:ht,supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return function(e){return e.bidder===ht&&void 0!==e.params&&!!function(e){return null!==(i.deepAccess(e,"params.siteId","")||"").trim().match(gt)}(e)}(e)&&function(e){var t=i.deepAccess(e,"mediaTypes.banner");return void 0===t||!!Array.isArray(t.sizes)}(e)&&function(e){var t=i.deepAccess(e,"mediaTypes.video"),r=i.deepAccess(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;var n=pt(pt({},t),r);return!(!Array.isArray(n.mimes)||0===n.mimes.length)&&(!(!Array.isArray(n.protocols)||0===n.protocols.length)&&((void 0===n.placement||"number"==typeof n.placement)&&("instream"!==t.context||void 0===n.startdelay||"number"==typeof n.startdelay)))}(e)},buildRequests:function(e,t){var r=lt({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent),n=t&&t.uspConsent,o=t&&t.refererInfo?t.refererInfo.referer:void 0;return yt.uniqueSiteIds=e.map((function(e){return e.params.siteId})).filter(i.uniques),e.map((function(e){return function(e){var t=e.bidRequest,r=e.gdprConsent,n=void 0===r?{}:r,o=e.uspConsent,a=e.pageUrl,s={},u=t.params;s.imp=[{}],i.deepAccess(t,"mediaTypes.banner")&&(s.imp[0].banner=pt({},function(e){var t,r,n=i.deepAccess(e,"mediaTypes.banner",{}),o=(r=e.adUnitCode,document.getElementById(r)||document.getElementById(function(e){if(i.isGptPubadsDefined())for(var t=googletag.pubads().getSlots(),r=i.isSlotMatchingAdUnitCode(e),n=0;n<t.length;n++)if(r(t[n])){var o=t[n].getSlotElementId();return i.logInfo("[33Across Adapter] Map ad unit path to HTML element id: '".concat(e,"' -> ").concat(o)),o}return i.logWarn("[33Across Adapter] Unable to locate element for ad unit code: '".concat(e,"'")),null}(r))),a=function(e){return i.isArray(e)&&2===e.length&&!i.isArray(e[0])?[_t(e)]:e.map(_t)}(n.sizes);t="function"==typeof e.getFloor?a.map((function(t){var r,n=St(e,t,A.Mk);return n&&(r={ext:{ttx:{bidfloors:[n]}}}),lt({},t,r)})):a;var s,u=function(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}(a),c=(s=function(e){return!function(){try{return i.getWindowSelf()!==i.getWindowTop()}catch(e){return!0}}()&&null!==e}(o)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.w,i=r.h;return"visible"===t.document.visibilityState?kt(e,t,{w:n,h:i}):0}(o,i.getWindowTop(),u):"nm",{ttx:{viewability:{amount:isNaN(s)?s:Math.round(s)}}});return{format:t,ext:c}}(t))),i.deepAccess(t,"mediaTypes.video")&&(s.imp[0].video=function(e){var t=i.deepAccess(e,"mediaTypes.video",{}),r=i.deepAccess(e,"params.video",{}),n=pt(pt({},t),r),o={},a=_t(n.playerSize[0]),s=a.w,u=a.h;o.w=s,o.h=u,vt.forEach((function(e){n.hasOwnProperty(e)&&(o[e]=n[e])}));var c=wt(e);if(o.placement=o.placement||2,c===mt&&(o.startdelay=o.startdelay||0,o.placement=1),"function"==typeof e.getFloor){var l=St(e,{w:o.w,h:o.h},A.pX);l&&lt(o,{ext:{ttx:{bidfloors:[l]}}})}return o}(t)),s.imp[0].ext={ttx:{prod:wt(t)}},s.site={id:u.siteId},a&&(s.site.page=a),s.id=t.bidId,n.consentString&&(s.user=bt(s.user,"consent",n.consentString)),Array.isArray(t.userIdAsEids)&&t.userIdAsEids.length>0&&(s.user=bt(s.user,"eids",t.userIdAsEids)),s.regs=bt(s.regs,"gdpr",Number(n.gdprApplies)),o&&(s.regs=bt(s.regs,"us_privacy",o)),s.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"4.43.4"}]}},t.schain&&(s.source=bt(s.source,"schain",t.schain)),1===u.test&&(s.test=1);var c=d.vc.getConfig("ttxSettings");return{method:"POST",url:c&&c.url||"".concat("https://ssc.33across.com/api/v1/hb","?guid=").concat(u.siteId),data:JSON.stringify(s),options:{contentType:"text/plain",withCredentials:!0}}}({bidRequest:e,gdprConsent:r,uspConsent:n,pageUrl:o})}))},interpretResponse:function(e,t){var r,n,o,a=[];return e.body.seatbid.length>0&&e.body.seatbid[0].bid.length>0&&a.push((r=e.body,n=r.seatbid[0].bid[0].adomain&&r.seatbid[0].bid[0].adomain.length,o={requestId:r.id,bidderCode:ht,cpm:r.seatbid[0].bid[0].price,width:r.seatbid[0].bid[0].w,height:r.seatbid[0].bid[0].h,ad:r.seatbid[0].bid[0].adm,ttl:r.seatbid[0].bid[0].ttl||60,creativeId:r.seatbid[0].bid[0].crid,mediaType:i.deepAccess(r.seatbid[0].bid[0],"ext.ttx.mediaType",A.Mk),currency:r.cur,netRevenue:!0},n&&(o.meta={advertiserDomains:r.seatbid[0].bid[0].adomain}),o.mediaType===A.pX&&("xml"===i.deepAccess(r.seatbid[0].bid[0],"ext.ttx.vastType","xml")?o.vastXml=o.ad:o.vastUrl=o.ad),o)),a},getUserSyncs:function(e,t,r,n){var i=e.iframeEnabled?yt.uniqueSiteIds.map((function(e){return function(e){var t=e.siteId,r=void 0===t?"zzz000000000003zzz":t,n=e.gdprConsent,i=void 0===n?{}:n,o=e.uspConsent,a=d.vc.getConfig("ttxSettings"),s=a&&a.syncUrl||"https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",u=i.consentString,c=i.gdprApplies,l={type:"iframe",url:"".concat(s,"&id=").concat(r,"&gdpr_consent=").concat(encodeURIComponent(u),"&us_privacy=").concat(encodeURIComponent(o))};return"boolean"==typeof c&&(l.url+="&gdpr=".concat(Number(c))),l}({gdprConsent:r,uspConsent:n,siteId:e})})):[];return yt.uniqueSiteIds=[],i}};(0,ct.dX)(At);var Et="adform",Ot={code:Et,gvlid:50,supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,t){var r,n,o,a,s,u,c,l,p,f,h=d.vc.getConfig("currency.adServerCurrency"),g=function(e){if(i.isArray(e)&&e.length>0){var t=function(e){return e.reduce((function(e,t){var r=t.source;return e[r]=e[r]||{},t.uids.forEach((function(t){var n=t.id+"";e[r][n]=e[r][n]||[],e[r][n].push(t.atype)})),e}),{})}(e);return btoa(JSON.stringify(t))}}(i.deepAccess(e,"0.userIdAsEids")),m=[],v=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null],["eids",g]],y={mkv:[],mkw:[],msw:[]},b=JSON.parse(JSON.stringify(e)),_=b[0]&&b[0].bidder||Et;if(b.length>1){var w=function(e){if(y.hasOwnProperty(e)){var t=b.map((function(t){return t.params[e]&&t.params[e].split(",")||[]}));y[e]=t.reduce(O),y[e].length&&b.forEach((function(r,n){r.params[e]=t[n].filter((function(t){return!I()(y[e],t)}))}))}};for(var S in y)w(S)}for(r=0,n=b.length;r<n;r++){for("net"!==(s=b[r]).params.priceType&&"net"!==s.params.pt||(p="net"),o=0,a=v.length;o<a;o++)(c=s[u=v[o][0]]||s.params[u])&&(s[u]=s.params[u]=null,v[o][1]=c);(l=s.params).transactionId=s.transactionId,l.rcur=l.rcur||h,m.push(E(l))}m.unshift("https://"+v[0][1]+"/adx/?rp=4"),p=p||"gross",m.push("pt="+p),m.push("stid="+e[0].auctionId);var T=i.deepAccess(t,"gdprConsent.gdprApplies"),k=i.deepAccess(t,"gdprConsent.consentString");for(var A in void 0!==T&&(f={gdpr:T,gdpr_consent:k},m.push("gdpr="+(1&T)),m.push("gdpr_consent="+k)),t&&t.uspConsent&&m.push("us_privacy="+t.uspConsent),y)y.hasOwnProperty(A)&&v.push([A,y[A].join(",")]);for(r=1,n=v.length;r<n;r++)u=v[r][0],(c=v[r][1])&&m.push(u+"="+encodeURIComponent(c));return{method:"GET",url:m.join("&"),bids:e,netRevenue:p,bidder:_,gdpr:f};function E(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&e[t]&&r.push(t,"=",e[t],"&");return encodeURIComponent(btoa(r.join("").slice(0,-1)))}function O(e,t){return e.filter((function(e){return I()(t,e)}))}},interpretResponse:function(e,t){for(var r,n,o,a,s={banner:1,vast_content:1,vast_url:1},u=[],c=t.bids,l=e.body,d=0;d<l.length;d++)a="banner"===(n=l[d]).response?A.Mk:A.pX,o=c[d],s[n.response]&&(f(n,i.getAdUnitSizes(o))||a===A.pX)&&(r={requestId:o.bidId,cpm:n.win_bid,width:n.width,height:n.height,creativeId:o.bidId,dealId:n.deal_id,currency:n.win_cur,netRevenue:"gross"!==t.netRevenue,ttl:360,meta:{advertiserDomains:n&&n.adomain?n.adomain:[]},ad:n.banner,bidderCode:t.bidder,transactionId:o.transactionId,vastUrl:n.vast_url,vastXml:n.vast_content,mediaType:a},o.renderer||a!==A.pX||"outstream"!==i.deepAccess(o,"mediaTypes.video.context")||(r.renderer=v.install({id:o.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),r.renderer.setRender(p)),t.gdpr&&(r.gdpr=t.gdpr.gdpr,r.gdpr_consent=t.gdpr.gdpr_consent),u.push(r));return u;function p(e){e.renderer.push((function(){window.Adform.renderOutstream(e)}))}function f(e,t){for(var r=0,n=t.length;r<n;r++)if(e.width==t[r][0]&&e.height==t[r][1])return!0;return!1}}};function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Pt(){return Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pt.apply(this,arguments)}(0,ct.dX)(Ot);var xt,Dt,jt,Rt="USD",Mt={image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1},cta:{required:!1}},Ut={code:"adyoulike",supportedMediaTypes:[A.Mk,A.B5,A.pX],aliases:["ayl"],isBidRequestValid:function(e){var t=Ft(qt(e)),r=t.width>0&&t.height>0;return e.params&&e.params.placement&&(r||e.mediaTypes&&e.mediaTypes.native)},buildRequests:function(e,t){var r={Version:"1.0",Bids:e.reduce((function(e,t){var r,n,o=(r=t,n=A.Mk,i.deepAccess(r,"mediaTypes.native")?n=A.B5:i.deepAccess(r,"mediaTypes.video")&&(n=A.pX),n),a=qt(t),s=Ft(a);if(e[t.bidId]={},e[t.bidId].PlacementID=t.params.placement,e[t.bidId].TransactionID=t.transactionId,e[t.bidId].Width=s.width,e[t.bidId].Height=s.height,e[t.bidId].AvailableSizes=a.join(","),"function"==typeof t.getFloor&&(e[t.bidId].Pricing=function(e,t,r){var n=e.getFloor({currency:Rt,mediaType:r,size:[t.width,t.height]});if(!isNaN(n.floor)&&n.currency===Rt)return n.floor}(t,s,o)),o===A.B5){var u=t.mediaTypes.native;"image"===u.type&&(u=Pt({},Mt,u)),u.clickUrl={required:!0},e[t.bidId].Native=u}return o===A.pX&&(e[t.bidId].Video=t.mediaTypes.video),e}),{}),PageRefreshed:Lt()};t&&t.gdprConsent&&(r.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies?t.gdprConsent.gdprApplies:null}),t&&t.uspConsent&&(r.uspConsent=t.uspConsent);var n=JSON.stringify(r);return{method:"POST",url:Nt(e,t),data:n,options:{withCredentials:!0}}},interpretResponse:function(e,t){var r=[],n={};try{n=JSON.parse(t.data).Bids}catch(e){}return e.body.forEach((function(e){var t=function(e,t){if(e&&(e.Ad||e.Native)){var r=t&&t[e.BidID];r&&(e.Width&&"0"!==e.Width||(e.Width=r.Width),e.Height&&"0"!==e.Height||(e.Height=r.Height));var n={requestId:e.BidID,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:Rt,meta:e.Meta||{advertiserDomains:[]}};if(r&&r.Native)n.native=function(e,t){if("object"===Ct(e.Native))return e.Native;var r={},n={},i={};if("string"==typeof e.Ad){n=JSON.parse(e.Ad.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),i=n.Content.Preview.Text;var o=n.TrackingPrefix+"/pixel?event_kind=IMPRESSION&attempt="+n.Attempt,a=n.TrackingPrefix+"/pixel?event_kind=INSERTION&attempt="+n.Attempt;n.Campaign&&(o+="&campaign="+n.Campaign,a+="&campaign="+n.Campaign),r.clickUrl=n.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+n.Attempt+"&campaign="+n.Campaign+"&url="+encodeURIComponent(n.Content.Landing.Url),n.OnEvents?(r.clickTrackers=Wt(n.OnEvents.CLICK),r.impressionTrackers=Wt(n.OnEvents.IMPRESSION),r.javascriptTrackers=Wt(n.OnEvents.IMPRESSION,!0)):r.impressionTrackers=[],r.impressionTrackers.push(o,a)}return Object.keys(t).map((function(o,a){switch(o){case"title":r[o]=i.TITLE;break;case"body":r[o]=i.DESCRIPTION;break;case"cta":r[o]=i.CALLTOACTION;break;case"sponsoredBy":r[o]=n.Content.Preview.Sponsor.Name;break;case"image":var s=t.image.sizes||[];s.length||(s[0]=e.Width||300,s[1]=e.Height||250),r[o]={url:zt(n,n.Content.Preview.Thumbnail.Image,s[0],s[1]),width:s[0],height:s[1]};break;case"icon":if(n.HasSponsorImage){var u=t.icon.sizes||[];u.length||(u[0]=50,u[1]=50),r[o]={url:zt(n,n.Content.Preview.Sponsor.Logo.Resource,u[0],u[1]),width:u[0],height:u[1]}}break;case"privacyIcon":r[o]=zt(n,n.Content.Preview.Credit.Logo.Resource,25,25);break;case"privacyLink":r[o]=n.Content.Preview.Credit.Url}})),r}(e,r.Native),n.mediaType="native";else if(r&&r.Video){var o=e.Vast||function(e){var t={};if("string"==typeof e.Ad)return t=JSON.parse(e.Ad.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),i.deepAccess(t,"Content.MainVideo.Vast")}(e);n.vastXml=o?window.atob(o):"",n.mediaType="video"}else n.width=e.Width,n.height=e.Height,n.ad=e.Ad;return n}}(e,n);t&&r.push(t)})),r}};function Lt(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function Nt(e,t){var r=function(e){var t=g()(e,(function(e){return e.params.DC}));return t?"-"+t.params.DC:""}(e);return i.buildUrl({protocol:"https",host:"".concat("hb-api").concat(r,".omnitagjs.com"),pathname:"/hb-api/prebid/v1",search:Bt(t)})}function Bt(e){var t={};if(e){var r=e.refererInfo;r&&(t.RefererUrl=encodeURIComponent(r.referer),r.numIframes>0&&(t.SafeFrame=!0))}var n=function(){var e;if(window.self!==window.top)try{e=window.top.document.head.querySelector('link[rel="canonical"][href]')}catch(e){}else e=document.head.querySelector('link[rel="canonical"][href]');return e?e.href:""}();n&&(t.CanonicalUrl=encodeURIComponent(n));var i=d.vc.getConfig("publisherDomain");return i&&(t.PublisherDomain=encodeURIComponent(i)),t}function qt(e){var t=e.sizes||[];return e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes||[]),i.parseSizesInput(t)}function Ft(e){var t={},r=e[0];if("string"!=typeof r)return t;var n=r.toUpperCase().split("X"),i=parseInt(n[0],10);i&&(t.width=i);var o=parseInt(n[1],10);return o&&(t.height=o),t}function Vt(e){return e?"https://blobs.omnitagjs.com/blobs/"+e.substr(16,2)+"/"+e.substr(16)+"/"+e:""}function zt(e,t,r,n){var i="";switch(t.Kind){case"INTERNAL":i=Vt(t.Data.Internal.BlobReference.Uid);break;case"EXTERNAL":var o=e.DynamicPrefix,a=t.Data.External.Url;if((a=(a=a.replace(/\[height\]/i,""+n)).replace(/\[width\]/i,""+r)).indexOf(o)>=0){var s=/.*url=([^&]*)/gm.exec(a);(i=s?s[1]:"")||(i=Vt(/.*key=([^&]*)/gm.exec(a)[1]))}else i=a}return i}function Wt(e,t){var r=[];return e?(e.map((function(e,n){(t&&"JAVASCRIPT_URL"===e.Kind||!t&&"PIXEL_URL"===e.Kind)&&r.push(e.Url)})),r):r}function Ht(){return Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ht.apply(this,arguments)}function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Kt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(0,ct.dX)(Ut);var Xt="aol",Yt="verizon",$t="onemobile",Jt="onedisplay",Qt="display-get",Zt="mobile-get",er="mobile-post",tr="iframe",rr="img",nr="image",ir=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],or=lr(xt||(xt=Kt(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""])),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),ar=lr(Dt||(Dt=Kt(["","/bidRequest?"])),"host"),sr=lr(jt||(jt=Kt(["dcn=","&pos=","&cmd=bid",""])),"dcn","pos","dynamicParams"),ur={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},cr="https";function lr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n[n.length-1]||{},s=[e[0]];return r.forEach((function(t,r){var o=i.isInteger(t)?n[t]:a[t];s.push(o,e[r+1])})),s.join("")}}function dr(e){return e===Xt||e===Yt||e===$t}function pr(e){if(dr(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function fr(e){return dr(e.bidder)&&e.params.dcn&&e.params.pos}function hr(e){return((t=e.bidder)===Xt||t===Yt||t===Jt)&&e.params.placement&&e.params.network;var t}function gr(e){return e.userIdAsEids.filter((function(e){return-1!==ir.indexOf(e.source)}))}var mr={code:Xt,gvlid:25,aliases:[$t,Jt,Yt],supportedMediaTypes:[A.Mk],isBidRequestValid:function(e){return hr(e)||function(e){return fr(e)||pr(e)}(e)},buildRequests:function(e,t){var r=this,n={};return t&&(n.gdpr=t.gdprConsent,n.uspConsent=t.uspConsent),e.map((function(e){var t=function(e){return fr(e)?Zt:pr(e)?er:hr(e)?Qt:void 0}(e);if(t)return r.formatBidRequest(t,e,n)}))},interpretResponse:function(e,t){var r=e.body;if(r){var n=this._parseBidResponse(r,t);if(n)return n}else i.logError("Empty bid response",t.bidderCode,r)},getUserSyncs:function(e,t){var r=!i.isEmpty(t)&&t[0].body;return r&&r.ext&&r.ext.pixels?this.parsePixelItems(r.ext.pixels):[]},formatBidRequest:function(e,t,r){var n;switch(e){case Qt:n={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60};break;case Zt:n={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600};break;case er:n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl:function(e,t){var r,n=e.params,o=n.server,a=n.region||"us";return ur.hasOwnProperty(a)||(i.logWarn("Unknown region '".concat(a,"' for AOL bidder.")),a="us"),r=o||ur[a],n.region=a,this.applyProtocol(or({host:r,network:n.network,placement:parseInt(n.placement),pageid:n.pageId||0,sizeid:n.sizeId||0,alias:n.alias||i.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(n,t)}))},buildOneMobileGetUrl:function(e,t){var r=e.params,n=r.dcn,i=r.pos,o=r.ext;"object"===Gt(e.userId)&&(o=o||{},gr(e).forEach((function(e){o["eid"+e.source]=e.uids[0].id})));var a=this.buildOneMobileBaseUrl(e);if(n&&i){var s=this.formatOneMobileDynamicParams(o,t);a+=sr({dcn:n,pos:i,dynamicParams:s})}return a},buildOneMobileBaseUrl:function(e){return this.applyProtocol(ar({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat(cr,":").concat(e):"".concat(cr,"://").concat(e)},formatMarketplaceDynamicParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};Ht(r,this.formatKeyValues(e.keyValues)),Ht(r,this.formatConsentData(t));var n="";return i._each(r,(function(e,t){n+="".concat(t,"=").concat(encodeURIComponent(e),";")})),n},formatOneMobileDynamicParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=1),Ht(e,this.formatConsentData(t));var r="";return i._each(e,(function(e,t){r+="&".concat(t,"=").concat(encodeURIComponent(e))})),r},buildOpenRtbRequestData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={id:e.params.id,imp:e.params.imp};if(this.isEUConsentRequired(t)&&(i.deepSetValue(r,"regs.ext.gdpr",1),t.gdpr.consentString&&i.deepSetValue(r,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&i.deepSetValue(r,"regs.ext.us_privacy",t.uspConsent),"object"===Gt(e.userId)){r.user=r.user||{},r.user.ext=r.user.ext||{};var n=gr(e);n.length>0&&(r.user.ext.eids=n)}return r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var t={};return i._each(e,(function(e,r){t["kv".concat(r)]=e})),t},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,n=[];if(e){var i=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);i&&i.forEach((function(e){var i=e.match(t)[0],o=e.match(r)[2];i&&o&&n.push({type:i===rr?nr:tr,url:o})}))}return n},_parseBidResponse:function(e,t){var r,n;try{r=e.seatbid[0].bid[0]}catch(e){return}if(r.ext&&r.ext.encp)n=r.ext.encp;else if(null===(n=r.price)||isNaN(n))return void i.logError("Invalid price in bid response",Xt,r);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:r.adm,cpm:n,width:r.w,height:r.h,creativeId:r.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:r.dealid,netRevenue:!0,meta:{advertiserDomains:r&&r.adomain?r.adomain:[]},ttl:t.ttl}},isOneMobileBidder:dr,isSecureProtocol:function(){return"https:"===document.location.protocol}};function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function yr(){return yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yr.apply(this,arguments)}function br(e){return function(e){if(Array.isArray(e))return _r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(mr);var wr="appnexus",Sr=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Tr=["age","externalUid","segments","gender","dnt","language"],Ir=["geo","device_id"],kr=["enabled","dongle","member_id","debug_timeout"],Ar={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Er={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Or=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Cr=(0,Pe.df)(32,wr),Pr={code:wr,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[A.Mk,A.pX,A.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r=e.map(Mr),n=g()(e,Lr),o={};!0===d.vc.getConfig("coppa")&&(o={coppa:!0}),n&&Object.keys(n.params.user).filter((function(e){return I()(Tr,e)})).forEach((function(e){var t=i.convertCamelToUnderscore(e);if("segments"===e&&i.isArray(n.params.user[e])){var r=[];n.params.user[e].forEach((function(e){i.isNumber(e)?r.push({id:e}):i.isPlainObject(e)&&r.push(e)})),o[t]=r}else"segments"!==e&&(o[t]=n.params.user[e])}));var a,s=g()(e,Br);s&&s.params&&s.params.app&&(a={},Object.keys(s.params.app).filter((function(e){return I()(Ir,e)})).forEach((function(e){return a[e]=s.params.app[e]})));var u,c=g()(e,qr);c&&c.params&&s.params.app&&s.params.app.id&&(u={appid:c.params.app.id});var l={},p={},f=Cr.getCookie("apn_prebid_debug")||null;if(f)try{l=JSON.parse(f)}catch(e){i.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var h=g()(e,Fr);h&&h.debug&&(l=h.debug)}l&&l.enabled&&Object.keys(l).filter((function(e){return I()(kr,e)})).forEach((function(e){p[e]=l[e]}));var m=g()(e,Nr),v=m?parseInt(m.params.member,10):0,y=e[0].schain,b=g()(e,zr),_={tags:br(r),user:o,sdk:{source:"pbjs",version:"4.43.4"},schain:y};if(b&&(_.iab_support={omidpn:"Appnexus",omidpv:"4.43.4"}),v>0&&(_.member_id=v),s&&(_.device=a),c&&(_.app=u),d.vc.getConfig("adpod.brandCategoryExclusion")&&(_.brand_category_uniqueness=!0),p.enabled&&(_.debug=p,i.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(p,null,4))),t&&t.gdprConsent&&(_.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var w=t.gdprConsent.addtlConsent,S=w.substring(w.indexOf("~")+1);_.gdpr_consent.addtl_consent=S.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(_.us_privacy=t.uspConsent),t&&t.refererInfo){var T={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};_.referrer_detection=T}if(g()(e,Vr)&&e.filter(Vr).forEach((function(e){var t=function(e,t){var r=t.mediaTypes.video,n=r.durationRangeSec,o=r.requireExactDuration,a=function(e){var t=e.adPodDurationSec,r=e.durationRangeSec,n=e.requireExactDuration,o=i.getMinValueFromArray(r),a=Math.floor(t/o);return n?Math.max(a,r.length):a}(t.mediaTypes.video),s=i.getMaxValueFromArray(n),u=e.filter((function(e){return e.uuid===t.bidId})),c=i.fill.apply(i,br(u).concat([a]));if(o){var l=Math.ceil(a/n.length),d=i.chunk(c,l);n.forEach((function(e,t){d[t].map((function(t){Wr(t,"minduration",e),Wr(t,"maxduration",e)}))}))}else c.map((function(e){return Wr(e,"maxduration",s)}));return c}(r,e),n=_.tags.filter((function(t){return t.uuid!==e.bidId}));_.tags=[].concat(br(n),br(t))})),e[0].userId){var k=[];Kr(k,i.deepAccess(e[0],"userId.flocId.id"),"chrome.com",null),Kr(k,i.deepAccess(e[0],"userId.criteoId"),"criteo.com",null),Kr(k,i.deepAccess(e[0],"userId.netId"),"netid.de",null),Kr(k,i.deepAccess(e[0],"userId.idl_env"),"liveramp.com",null),Kr(k,i.deepAccess(e[0],"userId.tdid"),"adserver.org","TDID"),Kr(k,i.deepAccess(e[0],"userId.uid2.id"),"uidapi.com","UID2"),k.length&&(_.eids=k)}r[0].publisher_id&&(_.publisher_id=r[0].publisher_id);var A=function(e,t){var r=[],n={withCredentials:!0},o="https://ib.adnxs.com/ut/v3/prebid";if(Rr(t)||(o="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==i.getParameterByName("apn_test").toUpperCase()&&!0!==d.vc.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1}),e.tags.length>15){var a=i.deepClone(e);i.chunk(e.tags,15).forEach((function(e){a.tags=e;var i=JSON.stringify(a);r.push({method:"POST",url:o,data:i,bidderRequest:t,options:n})}))}else{var s=JSON.stringify(e);r={method:"POST",url:o,data:s,bidderRequest:t,options:n}}return r}(_,t);return A},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var a="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(a+=": ".concat(e.error)),i.logError(a),o}if(e.tags&&e.tags.forEach((function(e){var t,a=(t=e)&&t.ads&&t.ads.length&&g()(t.ads,(function(e){return e.rtb}));if(a&&0!==a.cpm&&I()(r.supportedMediaTypes,a.ad_type)){var s=function(e,t,r){var n=i.getBidRequest(e.uuid,[r]),o={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(o.meta=yr({},o.meta,{advertiserDomains:[]})),t.advertiser_id&&(o.meta=yr({},o.meta,{advertiserId:t.advertiser_id})),t.rtb.video)switch(yr(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),i.deepAccess(n,"mediaTypes.video.context")){case A.Oh:var a=(0,ct.Q1)(n.bidder,t.brand_category_id);o.meta=yr({},o.meta,{primaryCatId:a});var s=t.deal_priority;o.video={context:A.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:s},o.vastUrl=t.rtb.video.asset_url;break;case k.gZ:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var u=g()(r.bids,(function(t){return t.bidId===e.uuid})),c=i.deepAccess(u,"renderer.options");o.renderer=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=v.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(Hr)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return i.logMessage("AppNexus outstream video impression event")},loaded:function(){return i.logMessage("AppNexus outstream video loaded event")},ended:function(){i.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(o.adUnitCode,t,c)}break;case k.LD:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[A.B5]){var l=t.rtb[A.B5],d=t.viewability.config.replace("src=","data-src="),p=l.javascript_trackers;null==p?p=d:i.isStr(p)?p=[p,d]:p.push(d),o[A.B5]={title:l.title,body:l.desc,body2:l.desc2,cta:l.ctatext,rating:l.rating,sponsoredBy:l.sponsored,privacyLink:l.privacy_link,address:l.address,downloads:l.downloads,likes:l.likes,phone:l.phone,price:l.price,salePrice:l.saleprice,clickUrl:l.link.url,displayUrl:l.displayurl,clickTrackers:l.link.click_trackers,impressionTrackers:l.impression_trackers,javascriptTrackers:p},l.main_img&&(o.native.image={url:l.main_img.url,height:l.main_img.height,width:l.main_img.width}),l.icon&&(o.native.icon={url:l.icon.url,height:l.icon.height,width:l.icon.width})}else{yr(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers){var f=t.rtb.trackers[0].impression_urls[0],h=i.createTrackPixelHtml(f);o.ad+=h}}catch(e){i.logError("Error appending tracking pixel",e)}}return o}(e,a,n);s.mediaType=function(e){var t=e.ad_type;return t===A.pX?A.pX:t===A.B5?A.B5:A.Mk}(a),o.push(s)}})),e.debug&&e.debug.debug_info){var s="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;s=s.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),i.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),i.logMessage(s)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r){if(e.iframeEnabled&&Rr({gdprConsent:r}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t){return e=i.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:i.transformBidderParamKeywords,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,xr(e.keywords)&&e.keywords.forEach(Dr),Object.keys(e).forEach((function(t){var r=i.convertCamelToUnderscore(t);r!==t&&(e[r]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(i.isStr(e)&&jr(e))t=e;else if(i.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];jr(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(t)for(var r="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,n=function(e){var t=e.indexOf('src="')+5,r=e.indexOf('"',t);return e.substring(t,r)}(t),o=n.replace("dom_id=%native_dom_id%",r),a=document.getElementsByTagName("iframe"),s=!1,u=0;u<a.length&&!s;u++){var c=a[u];try{var l=c.contentDocument||c.contentWindow.document;if(l)for(var d=l.getElementsByTagName("script"),p=0;p<d.length&&!s;p++){var f=d[p];f.getAttribute("data-src")==n&&(f.setAttribute("src",o),f.setAttribute("data-src",""),f.removeAttribute&&f.removeAttribute("data-src"),s=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function xr(e){return!!(i.isArray(e)&&e.length>0)}function Dr(e){xr(e.value)&&""===e.value[0]&&delete e.value}function jr(e){var t=e.match(Or),r=null!=t&&t.length>=1,n=e.match("trk.js"),i=null!=n&&n.length>=1;return e.startsWith("<script")&&i&&r}function Rr(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==i.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1"))),t}function Mr(e){var t={};t.sizes=Ur(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var r=function(e){if(!i.isFn(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return i.isPlainObject(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(r&&(t.reserve=r),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=Ur(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),!i.isEmpty(e.params.keywords)){var n=i.transformBidderParamKeywords(e.params.keywords);n.length>0&&n.forEach(Dr),t.keywords=n}var o,a,s=i.deepAccess(e,"ortb2Imp.ext.data.pbadslot");if(s&&(t.gpid=s),(e.mediaType===A.B5||i.deepAccess(e,"mediaTypes.".concat(A.B5)))&&(t.ad_types.push(A.B5),0===t.sizes.length&&(t.sizes=Ur([1,1])),e.nativeParams)){var u=(o=e.nativeParams,a={},Object.keys(o).forEach((function(e){var t=Er[e]&&Er[e].serverName||Er[e]||e,r=Er[e]&&Er[e].requiredParams;if(a[t]=yr({},r,o[e]),(t===Er.image.serverName||t===Er.icon.serverName)&&a[t].sizes){var n=a[t].sizes;(i.isArrayOfNums(n)||i.isArray(n)&&n.length>0&&n.every((function(e){return i.isArrayOfNums(e)})))&&(a[t].sizes=Ur(a[t].sizes))}t===Er.privacyLink&&(a.privacy_supported=!0)})),a);t[A.B5]={layouts:[u]}}var c=i.deepAccess(e,"mediaTypes.".concat(A.pX)),l=i.deepAccess(e,"mediaTypes.video.context");t.hb_source=c&&"adpod"===l?7:1,(e.mediaType===A.pX||c)&&t.ad_types.push(A.pX),(e.mediaType===A.pX||c&&"outstream"!==l)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return I()(Sr,e)})).forEach((function(r){switch(r){case"context":case"playback_method":var n=e.params.video[r];n=i.isArray(n)?n[0]:n,t.video[r]=Ar[r][n];break;case"frameworks":break;default:t.video[r]=e.params.video[r]}})),e.params.video.frameworks&&i.isArray(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),e.renderer&&(t.video=yr({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&i.isArray(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var d=g()($.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return d&&d.mediaTypes&&d.mediaTypes.banner&&t.ad_types.push(A.Mk),0===t.ad_types.length&&delete t.ad_types,t}function Ur(e){var t=[],r={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===vr(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function Lr(e){return!!e.params.user}function Nr(e){return!!parseInt(e.params.member,10)}function Br(e){if(e.params)return!!e.params.app}function qr(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Fr(e){return!!e.debug}function Vr(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===A.Oh}function zr(e){var t=!1,r=e.params,n=e.params.video;return r.frameworks&&i.isArray(r.frameworks)&&(t=I()(e.params.frameworks,6)),!t&&n&&n.frameworks&&i.isArray(n.frameworks)&&(t=I()(e.params.video.frameworks,6)),t}function Wr(e,t,r){i.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function Hr(e){var t,r;t=e.adUnitCode,(r=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&r[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Gr.bind(null,e))}))}function Gr(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function Kr(e,t,r,n){return t&&(n?e.push({source:r,id:t,rti_partner:n}):e.push({source:r,id:t})),e}(0,ct.dX)(Pr);var Xr=r(6893),Yr=r(5195),$r=r.n(Yr);function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}function Qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zr,en,tn,rn,nn,on={value:!0,definedInConfig:!1},an=0,sn=!1,un={iab:function(e,t,r){function n(n,o){i.logInfo("Received a response from CMP",n),o?!1!==n.gdprApplies&&"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||e(n,r):t("CMP unable to register callback function.  Please check CMP setup.",r)}var o=function(){var t={};function n(){t.getConsentData&&t.getVendorConsents&&(i.logInfo("Received all requested responses from CMP",t),e(t,r))}return{consentDataCallback:function(e){t.getConsentData=e,n()},vendorConsentsCallback:function(e){t.getVendorConsents=e,n()}}}(),a={},s=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){"function"==typeof r.__tcfapi?(an=2,t=r.__tcfapi):(an=1,t=r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){an=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){an=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),u=s.cmpFrame,c=s.cmpFunction;if(!u)return t("CMP not found.",r);function l(e,t){var n=r.adUnits,o=1,a=1;if(Array.isArray(n)&&n.length>0){var s=i.getAdUnitSizes(n[0]);o=s[0][0],a=s[0][1]}window.$sf.ext.register(o,a,(function(r,n){if("cmpReturn"===r){var i="getConsentData"===e?n.vendorConsentData:n.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function d(e,t,r){var n=2===an?"__tcfapi":"__cmp",i="".concat(n,"Call");function o(e){var t="".concat(n,"Return"),r="string"==typeof e.data&&$r()(e.data,t)?JSON.parse(e.data):e.data;if(r[t]&&r[t].callId){var i=r[t];void 0!==a[i.callId]&&a[i.callId](i.returnValue,i.success)}}2===an?(window[n]=function(e,r,n,o){var s=Math.random()+"",u=Qr({},i,{command:e,version:r,parameter:o,callId:s});a[s]=n,t.postMessage(u,"*")},window.addEventListener("message",o,!1),window[n](e,an,r)):(window[n]=function(e,r,n){var o=Math.random()+"",s=Qr({},i,{command:e,parameter:r,callId:o});a[o]=n,t.postMessage(s,"*")},window.addEventListener("message",o,!1),window[n](e,void 0,r))}i.isFn(c)?(i.logInfo("Detected CMP API is directly accessible, calling it now..."),1===an?(c("getConsentData",null,o.consentDataCallback),c("getVendorConsents",null,o.vendorConsentsCallback)):2===an&&c("addEventListener",an,n)):1===an&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(i.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),l("getConsentData",o.consentDataCallback),l("getVendorConsents",o.vendorConsentsCallback)):(i.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===an?(d("getConsentData",u,o.consentDataCallback),d("getVendorConsents",u,o.vendorConsentsCallback)):2===an&&d("addEventListener",u,n))},static:function(e,t,r){e(rn,r)}};function cn(e,t){var r={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return nn?(i.logInfo("User consent information already known.  Pulling internally stored information..."),hn(null,r)):I()(Object.keys(un),Zr)?(un[Zr].call(this,ln,pn,r),void(r.haveExited||(0===en?ln(void 0,r):r.timer=setTimeout(dn.bind(null,r),en)))):(i.logWarn("CMP framework (".concat(Zr,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),r.nextFn.apply(r.context,r.args))}function ln(e,t){"static"===Zr&&2==(an=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var r=1===an?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||i.isStr(e.getConsentData.consentData)&&i.isPlainObject(e.getVendorConsents)&&Object.keys(e.getVendorConsents).length>1))}:2===an?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:tn,r=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||i.isStr(r)))}:null;on.definedInConfig&&2===an?i.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2"):on.definedInConfig||1!==an||i.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),i.isFn(r)?r(e)?pn("CMP returned unexpected value during lookup process.",t,e):(clearTimeout(t.timer),fn(e),hn(null,t)):pn("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,e)}function dn(e){pn("CMP workflow exceeded timeout threshold.",e)}function pn(e,t,r){clearTimeout(t.timer),on.value&&1===an&&fn(void 0),hn(e,t,r)}function fn(e){1===an?nn={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:tn}:(nn={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:tn},e&&e.addtlConsent&&i.isStr(e.addtlConsent)&&(nn.addtlConsent=e.addtlConsent)),nn.apiVersion=an,Xr.rp.setConsentData(nn)}function hn(e,t,r){if(!1===t.haveExited){t.haveExited=!0;var n=t.context,o=t.args,a=t.nextFn;e?on.value&&1===an?(i.logWarn(e+" 'allowAuctionWithoutConsent' activated.",r),a.apply(n,o)):(i.logError(e+" Canceling auction as per consentManagement config.",r),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():i.logError("Error executing bidsBackHandler")):a.apply(n,o)}}function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}d.vc.getConfig("consentManagement",(function(e){return function(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===Jr(e)?(i.isStr(e.cmpApi)?Zr=e.cmpApi:(Zr="iab",i.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),i.isNumber(e.timeout)?en=e.timeout:(en=1e4,i.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(on.value=e.allowAuctionWithoutConsent,on.definedInConfig=!0),tn=!0===e.defaultGdprScope,i.logInfo("consentManagement module has been activated..."),"static"===Zr&&(i.isPlainObject(e.consentData)?(rn=e.consentData,en=0):i.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),sn||pbjs.requestBids.before(cn,50),sn=!0):i.logWarn("consentManagement config not defined, exiting consent manager")}(e.consentManagement)}));var mn,vn,yn,bn,_n=!1,wn={iab:function(e,t,r){var n,o=(n={},{consentDataCallback:function(i,o){o&&i.uspString&&(n.usPrivacy=i.uspString),n.usPrivacy?e(n,r):t("Unable to get USP consent string.",r)}}),a={},s=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__uspapi){t=r.__uspapi,e=r;break}}catch(e){}try{if(r.frames.__uspapiLocator){e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{uspapiFrame:e,uspapiFunction:t}}(),u=s.uspapiFrame,c=s.uspapiFunction;if(!u)return t("USP CMP not found.",r);i.isFn(c)?(i.logInfo("Detected USP CMP is directly accessible, calling it now..."),c("getUSPData",1,o.consentDataCallback)):(i.logInfo("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,r){window.__uspapi=function(e,r,n){var i=Math.random()+"",o={__uspapiCall:{command:e,version:r,callId:i}};a[i]=n,t.postMessage(o,"*")},window.addEventListener("message",(function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&void 0!==a[t.callId]&&(a[t.callId](t.returnValue,t.success),delete a[t.callId])}),!1),window.__uspapi("getUSPData",1,r)}(0,u,o.consentDataCallback))},static:function(e,t,r){e(yn,r)}};function Sn(e,t){var r={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};if(!wn[mn])return i.logWarn("USP framework (".concat(mn,") is not a supported framework. Aborting consentManagement module and resuming auction.")),r.nextFn.apply(r.context,r.args);wn[mn].call(this,Tn,kn,r),r.haveExited||(0===vn?Tn(void 0,r):r.timer=setTimeout(In.bind(null,r),vn))}function Tn(e,t){e&&e.usPrivacy?(clearTimeout(t.timer),function(e){e&&e.usPrivacy&&(bn=e.usPrivacy,Xr.nX.setConsentData(bn))}(e),An(null,t)):kn("USPAPI returned unexpected value during lookup process.",t,e)}function In(e){kn("USPAPI workflow exceeded timeout threshold.",e)}function kn(e,t,r){clearTimeout(t.timer),An(e,t,r)}function An(e,t,r){if(!1===t.haveExited){t.haveExited=!0;var n=t.context,o=t.args,a=t.nextFn;e&&i.logWarn(e+" Resuming auction without consent data as per consentManagement config.",r),a.apply(n,o)}}function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}d.vc.getConfig("consentManagement",(function(e){return function(e){(e=e&&e.usp)&&"object"===gn(e)?(i.isStr(e.cmpApi)?mn=e.cmpApi:(mn="iab",i.logInfo("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),i.isNumber(e.timeout)?vn=e.timeout:(vn=50,i.logInfo("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),i.logInfo("USPAPI consentManagement module has been activated..."),"static"===mn&&(i.isPlainObject(e.consentData)&&i.isPlainObject(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(yn={usPrivacy:e.consentData.getUSPData.uspString}),vn=0):i.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),_n||pbjs.requestBids.before(Sn,50),_n=!0):i.logWarn("consentManagement.usp config not defined, exiting usp consent manager")}(e.consentManagement)})),r(3259);var On,Cn="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",Pn=[],xn={},Dn=!1,jn=!0,Rn="USD",Mn=!1,Un={},Ln={};function Nn(e){On?(i.logWarn(e),i.logWarn("Currency failed loading rates, falling back to currency.defaultRates")):i.logError(e)}function Bn(e){xn={},Mn=!0,i.logInfo("Installing addBidResponse decorator for currency module",arguments),n().convertCurrency=function(e,t,r){return parseFloat(e)*zn(t,r)},(0,S.v5)("addBidResponse").before(Fn,100),jn&&(jn=!1,(0,l.h)(e,{success:function(e){try{Un=JSON.parse(e),i.logInfo("currencyRates set to "+JSON.stringify(Un)),Dn=!0,Vn()}catch(t){Nn("Failed to parse currencyRates response: "+e)}},error:Nn}))}function qn(){i.logInfo("Uninstalling addBidResponse decorator for currency module",arguments),(0,S.v5)("addBidResponse").getHooks({hook:Fn}).remove(),delete n().convertCurrency,Rn="USD",xn={},Mn=!1,Dn=!1,jn=!0,Un={},Ln={}}function Fn(e,t,r){if(!r)return e.call(this,t);var n=r.bidderCode||r.bidder;if(Ln[n]){var o=Ln[n];r.currency&&o!==r.currency?i.logWarn("Currency default '".concat(n,": ").concat(o,"' ignored. adapter specified '").concat(r.currency,"'")):r.currency=o}if(r.currency||(i.logWarn('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*zn(this.currency,e)).toFixed(3)},r.currency===Rn)return e.call(this,t,r);Pn.push(function(e,t,r){return function(){var n=r[1];if(void 0!==n&&"currency"in n&&"cpm"in n){var o=n.currency;try{var a=zn(o);1!==a&&(n.cpm=(parseFloat(n.cpm)*a).toFixed(4),n.currency=Rn)}catch(e){i.logWarn("Returning NO_BID, getCurrencyConversion threw error: ",e),r[1]=(0,Ce.m)(u.STATUS.NO_BID,{bidder:n.bidderCode||n.bidder,bidId:n.requestId})}}return e.apply(t,r)}}(e,this,[t,r])),Mn&&!Dn||Vn()}function Vn(){for(;Pn.length>0;)Pn.shift()()}function zn(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn,n=null,o="".concat(e,"->").concat(r);if(o in xn)n=xn[o],i.logMessage("Using conversionCache value "+n+" for "+o);else if(!1===Mn){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");n=1}else if(e===r)n=1;else if(e in Un.conversions){if(!(r in(t=Un.conversions[e])))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");n=t[r],i.logInfo("getCurrencyConversion using direct "+e+" to "+r+" conversionRate "+n)}else if(r in Un.conversions){if(!(e in(t=Un.conversions[r])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");n=Wn(1/t[e],4),i.logInfo("getCurrencyConversion using reciprocal "+e+" to "+r+" conversionRate "+n)}else{var a=Object.keys(Un.conversions)[0];if(!(e in Un.conversions[a]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/Un.conversions[a][e];if(!(r in Un.conversions[a]))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");var u=Un.conversions[a][r];n=Wn(s*u,4),i.logInfo("getCurrencyConversion using intermediate "+e+" thru "+a+" to "+r+" conversionRate "+n)}return o in xn||(i.logMessage("Adding conversionCache value "+n+" for "+o),xn[o]=n),n}function Wn(e,t){for(var r=1,n=0;n<t;n++)r+="0";return Math.round(e*r)/r}function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Gn(e,t){if(e){if("string"==typeof e)return Kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kn(e,t):void 0}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}d.vc.getConfig("currency",(function(e){return function(e){var t=Cn;if("object"===En(e.rates)&&(Un.conversions=e.rates,Dn=!0,jn=!1),"object"===En(e.defaultRates)&&(On=e.defaultRates,Un.conversions=On,Dn=!0),"string"==typeof e.adServerCurrency){i.logInfo("enabling currency support",arguments),Rn=e.adServerCurrency,e.conversionRateFile&&(i.logInfo("currency using override conversionRateFile:",e.conversionRateFile),t=e.conversionRateFile);var r=t.indexOf("$$TODAY$$");if(-1!==r){var n=new Date,o="".concat(n.getMonth()+1),a="".concat(n.getDate());o.length<2&&(o="0".concat(o)),a.length<2&&(a="0".concat(a));var s="".concat(n.getFullYear()).concat(o).concat(a);t="".concat(t.substring(0,r)).concat(s).concat(t.substring(r+9,t.length))}Bn(t)}else i.logInfo("disabling currency support"),qn();"object"===En(e.bidderCurrencyDefault)&&(Ln=e.bidderCurrencyDefault)}(e.currency)}));var Xn=!1,Yn={code:"grid",supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){if(!e.length)return null;var r=null,n=null,o=null,a=null,s=null,u=null,c=null,l=null,p=t||{},f=p.bidderRequestId,h=p.auctionId,g=p.gdprConsent,m=p.uspConsent,v=p.timeout,y=p.refererInfo,b=y?encodeURIComponent(y.referer):"",_=[],w={};e.forEach((function(e){f||(f=e.bidderRequestId),h||(h=e.auctionId),a||(a=e.schain),s||(s=e.userId),u||(u=e.userIdAsEids);var t=e.params,c=t.uid,l=t.keywords,d=e.mediaTypes,p=e.bidId,g=e.adUnitCode,m=e.rtd,v=e.ortb2Imp;w[p]=e;var y=function(e,t){var r=e.video?"video":"banner",n=t.params.bidFloor||0;if("function"==typeof t.getFloor){var i=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,r)||Gn(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{w:n[0],h:n[1]}}))});"object"!==Hn(i)||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(n=Math.max(n,parseFloat(i.floor)))}return n}(d||{},e),b=m&&m.jwplayer&&m.jwplayer.targeting;b&&(!n&&b.segments&&(n=b.segments),!o&&b.content&&(o=b.content));var S={id:p,tagid:c.toString(),ext:{divid:g}};if(v&&v.ext&&v.ext.data&&(S.ext.data=v.ext.data,S.ext.data.adserver&&S.ext.data.adserver.adslot&&(S.ext.gpid=S.ext.data.adserver.adslot)),i.isEmpty(l)||(r||(r=l),S.ext.bidder={keywords:l}),y&&(S.bidfloor=y),!d||d[A.Mk]){var T=function(e,t){var r=t.sizes||e.sizes;if(r&&r.length){var n=r.map((function(e){return i.parseGPTSingleSizeArrayToRtbSize(e)})),o=i.parseGPTSingleSizeArrayToRtbSize(r[0]);return n.length&&(o.format=n),o}}(e,d?d[A.Mk]:{});T&&(S.banner=T)}if(d&&d[A.pX]){var I=function(e,t){var r=t.playerSize,n=t.mimes,o=t.durationRangeSec,a=t.protocols,s=(r||e.sizes||[])[0];if(s){var u=i.parseGPTSingleSizeArrayToRtbSize(s);return n&&(u.mimes=n),o&&2===o.length&&(u.minduration=o[0],u.maxduration=o[1]),a&&a.length&&(u.protocols=a),u}}(e,d[A.pX]);I&&(S.video=I)}(S.banner||S.video)&&_.push(S)}));var S={tid:h,ext:{wrapper:"Prebid_js",wrapper_version:"4.43.4"}};a&&(S.ext.schain=a);var T,I=d.vc.getConfig("bidderTimeout")||v,k=v?Math.min(I,v):I,E={id:f,site:{page:b},tmax:k,source:S,imp:_};o&&(E.site.content=o),n&&n.length&&(c={data:[{name:"iow_labs_pub_data",segment:n.map((function(e){return{name:"jwpseg",value:e}}))}]}),g&&g.consentString&&(l={consent:g.consentString}),u&&u.length&&((l=l||{}).eids=function(e){if(Array.isArray(e))return Kn(e)}(T=u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(T)||Gn(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l&&Object.keys(l).length&&((c=c||{}).ext=l),c&&(E.user=c);var O=i.deepAccess(d.vc.getConfig("ortb2.user"),"keywords")||null,C=i.deepAccess(d.vc.getConfig("ortb2.site"),"keywords")||null;return O&&((r=r||{}).user=r.user||{},r.user.ortb2=[{name:"keywords",keywords:O.split(",")}]),C&&((r=r||{}).site=r.site||{},r.site.ortb2=[{name:"keywords",keywords:C.split(",")}]),r&&(r=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n)if("site"===r||"user"===r){var i={};Object.keys(n).forEach((function(e){if(Array.isArray(n[e])){var t=[];n[e].forEach((function(e){if("object"===Hn(e)&&e.name){var r={name:e.name,segments:[]};Object.keys(e).forEach((function(t){Array.isArray(e[t])&&e[t].forEach((function(e){e&&("string"==typeof e?r.segments.push({name:t,value:e}):"segments"===t&&"string"==typeof e.name&&"string"==typeof e.value&&r.segments.push(e))}))})),r.segments.length&&t.push(r)}})),t.length&&(i[e]=t)}})),t[r]=i}else t[r]=n})),Object.keys(t).length&&t}(r))&&(E.ext={keywords:r}),g&&g.gdprApplies&&(E.regs={ext:{gdpr:g.gdprApplies?1:0}}),m&&(E.regs||(E.regs={ext:{}}),E.regs.ext.us_privacy=m),!0===d.vc.getConfig("coppa")&&(E.regs||(E.regs={}),E.regs.coppa=1),{method:"POST",url:"https://grid.bidswitch.net/hbjson",data:JSON.stringify(E),newFormat:!0,bidsMap:w}},interpretResponse:function(e,t){e=e&&e.body;var r,n=[];return e?e.seatbid&&!e.seatbid.length&&(r="Response has empty seatbid array"):r="Response is empty",!r&&e.seatbid&&e.seatbid.forEach((function(e){!function(e,t,r){if(e){var n;if(e.auid||(n="Bid from response has no auid parameter - "+JSON.stringify(e)),e.adm){var o=t.bidsMap[e.impid];if(o){var a={requestId:o.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};"video"===e.content_type?(a.vastXml=e.adm,a.mediaType=A.pX,a.adResponse={content:a.vastXml},o.renderer||o.mediaTypes&&o.mediaTypes.video&&"outstream"!==o.mediaTypes.video.context||(a.renderer=function(e,t){var r=v.install({id:t.id,url:t.url,loaded:!1});try{r.setRender($n)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return r}(0,{id:o.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(a.ad=e.adm,a.mediaType=A.Mk),r.push(a)}}else n="Bid from response has no adm parameter - "+JSON.stringify(e);n&&i.logError(n)}}(function(e){return e?e.bid?e.bid[0]||i.logError("Array of bid objects is empty"):i.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(e)):i.logError("Seatbid array from response has empty item"),e&&e.bid&&e.bid[0]}(e),t,n)})),r&&i.logError(r),n},getUserSyncs:function(e,t,r,n){if(!Xn&&e.pixelEnabled){var i="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?i+="&gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):i+="&gdpr_consent=".concat(r.consentString)),n&&(i+="&us_privacy=".concat(n)),Xn=!0,{type:"image",url:"https://x.bidswitch.net/sync?ssp=themediagrid"+i}}}};function $n(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Qn(){return Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(this,arguments)}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(Yn);var ei=function(e,t){return e.find(t)},ti=function(e,t){return e.includes(t)},ri=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],ni=["age","external_uid","segments","gender","dnt","language"],ii={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},oi={code:"groupm",aliases:["groupm","xaxis"],supportedMediaTypes:[A.Mk,A.pX,A.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r,n=e.map(si),i=ei(e,ci);i&&(r={},Object.keys(i.params.user).filter((function(e){return ti(ni,e)})).forEach((function(e){r[e]=i.params.user[e]})));var o,a=ei(e,li),s=a?parseInt(a.params.member,10):0,u={tags:(o=n,function(e){if(Array.isArray(e))return Zn(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return Zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),user:r,sdk:{source:"pbjs",version:"4.43.4"}};return s>0&&(u.member_id=s),t&&t.gdprConsent&&(u.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(u),bidderRequest:t}},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var a="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(a+=": ".concat(e.error)),i.logError(a),o}return e.tags&&e.tags.forEach((function(e){var t,a=(t=e)&&t.ads&&t.ads.length&&ei(t.ads,(function(e){return e.rtb}));if(a&&0!==a.cpm&&ti(r.supportedMediaTypes,a.ad_type)){var s=function(e,t,r){var n={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:99999999,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:t.buyer_member_id}};if(t.rtb.video){if(Qn(n,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastUrl:t.rtb.video.asset_url,vastImpUrl:t.notify_url,ttl:3600}),t.renderer_url){var o=i.deepAccess(r.bids[0],"renderer.options");Qn(n,{adResponse:e,renderer:ai(n.adUnitCode,t,o)}),n.adResponse.ad=n.adResponse.ads[0],n.adResponse.ad.video=n.adResponse.ad.rtb.video}}else if(t.rtb[A.B5]){var a=t.rtb[A.B5];n[A.B5]={title:a.title,body:a.desc,cta:a.ctatext,sponsoredBy:a.sponsored,clickUrl:a.link.url,clickTrackers:a.link.click_trackers,impressionTrackers:a.impression_trackers,javascriptTrackers:a.javascript_trackers},a.main_img&&(n.native.image={url:a.main_img.url,height:a.main_img.height,width:a.main_img.width}),a.icon&&(n.native.icon={url:a.icon.url,height:a.icon.height,width:a.icon.width})}else{Qn(n,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{var s=t.rtb.trackers[0].impression_urls[0],u=i.createTrackPixelHtml(s);n.ad+=u}catch(e){i.logError("Error appending tracking pixel",e)}}return n}(e,a,n);s.mediaType=function(e){var t=e.ad_type;return t===A.pX?A.pX:t===A.B5?A.B5:A.Mk}(a),o.push(s)}})),o},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function ai(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=v.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1});try{n.setRender(di)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return i.logMessage("GroupM outstream video impression event")},loaded:function(){return i.logMessage("GroupM outstream video loaded event")},ended:function(){i.logMessage("GroupM outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}function si(e){var t,r,n={};if(n.sizes=ui(e.sizes),n.primary_size=n.sizes[0],n.ad_types=[],n.uuid=e.bidId,e.params.placementId?n.id=parseInt(e.params.placementId,10):n.code=e.params.invCode,n.allow_smaller_sizes=e.params.allowSmallerSizes||!1,n.use_pmt_rule=e.params.usePaymentRule||!1,n.prebid=!0,n.disable_psa=!0,e.params.reserve&&(n.reserve=e.params.reserve),e.params.position&&(n.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(n.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(n.private_sizes=ui(e.params.privateSizes)),e.params.supplyType&&(n.supply_type=e.params.supplyType),e.params.pubClick&&(n.pubclick=e.params.pubClick),e.params.extInvCode&&(n.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(n.external_imp_id=e.params.externalImpId),i.isEmpty(e.params.keywords)||(n.keywords=i.transformBidderParamKeywords(e.params.keywords)),(e.mediaType===A.B5||i.deepAccess(e,"mediaTypes.".concat(A.B5)))&&(n.ad_types.push(A.B5),e.nativeParams)){var o=(t=e.nativeParams,r={},Object.keys(t).forEach((function(e){var n=ii[e]&&ii[e].serverName||ii[e]||e,i=ii[e]&&ii[e].requiredParams;r[n]=Qn({},i,t[e]);var o=ii[e]&&ii[e].minimumParams;if(i&&o){var a=Object.keys(t[e]),s=Object.keys(i),u=a.filter((function(e){return!ti(s,e)}));0===u.length&&(r[n]=Qn({},r[n],o))}})),r);n[A.B5]={layouts:[o]}}var a=i.deepAccess(e,"mediaTypes.".concat(A.pX)),s=i.deepAccess(e,"mediaTypes.video.context");return(e.mediaType===A.pX||a)&&n.ad_types.push(A.pX),(e.mediaType===A.pX||a&&"outstream"!==s)&&(n.require_asset_url=!0),e.params.video&&(n.video={},Object.keys(e.params.video).filter((function(e){return ti(ri,e)})).forEach((function(t){n.video[t]=e.params.video[t]}))),(i.isEmpty(e.mediaType)&&i.isEmpty(e.mediaTypes)||e.mediaType===A.Mk||e.mediaTypes&&e.mediaTypes[A.Mk])&&n.ad_types.push(A.Mk),n}function ui(e){var t=[],r={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===Jn(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function ci(e){return!!e.params.user}function li(e){return!!parseInt(e.params.member,10)}function di(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},pi.bind(null,e))}))}function pi(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}(0,ct.dX)(oi);var fi=r(4024),hi="id5id",gi="".concat(hi,"_privacy"),mi="html5",vi=1e4,yi="User ID - ID5 submodule: ",bi=["pbjs-id5id","id5id.1st","id5id"],_i=(0,Pe.df)(131,"id5Id"),wi={name:"id5Id",gvlid:131,decode:function(e,t){var r,n=0;if(e&&"string"==typeof e.universal_uid){r=e.universal_uid,n=e.link_type||n;var o=Oi(t),a=function(e,t){if(!(!i.isNumber(t)||t<0||t>1))return function(e){return e?(i.cyrb53Hash(e)%vi+vi)%vi:Math.floor(Math.random()*vi)}(e)<t*vi}(r,o.controlGroupPct);!0===o.enabled&&void 0===a?i.logError(yi+"A/B Testing controlGroupPct must be a number >= 0 and <= 1! Skipping A/B Testing"):!0===o.enabled&&!0===a?(i.logInfo(yi+"A/B Testing Enabled - user is in the Control Group, so the ID5 ID is NOT exposed"),r="",n=0):!0===o.enabled&&i.logInfo(yi+"A/B Testing Enabled - user is NOT in the Control Group, so the ID5 ID is exposed");var s={id5id:{uid:r,ext:{linkType:n}}};return!0===o.enabled&&i.deepSetValue(s,"id5id.ext.abTestingControlGroup",void 0!==a&&a),i.logInfo(yi+"Decoded ID",s),s}},getId:function(e,t,r){if(Si(e)){var n,o="https://id5-sync.com/g/v2/".concat(e.params.partner,".json"),a=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,s=Xr.nX.getConsentData(),u=(0,fi.n)(),c=r&&r.signature?r.signature:(bi.forEach((function(e){_i.getCookie(e)&&(n=JSON.parse(_i.getCookie(e))||n)})),n&&n.signature||""),d={partner:e.params.partner,gdpr:a,nbPage:Ai(e.params.partner),o:"pbjs",rf:u.referer,top:u.reachedTop?1:0,u:u.stack[0]||window.location.href,v:"4.43.4"};return!a||void 0===t.consentString||i.isEmpty(t.consentString)||i.isEmptyStr(t.consentString)||(d.gdpr_consent=t.consentString),void 0===s||i.isEmpty(s)||i.isEmptyStr(s)||(d.us_privacy=s),void 0===c||i.isEmptyStr(c)||(d.s=c),void 0===e.params.pd||i.isEmptyStr(e.params.pd)||(d.pd=e.params.pd),void 0===e.params.provider||i.isEmptyStr(e.params.provider)||(d.provider=e.params.provider),!0===Oi(e).enabled&&i.deepSetValue(d,"features.ab",1),{callback:function(t){var r={success:function(r){var n,o;if(r)try{n=JSON.parse(r),i.logInfo(yi+"response received from the server",n),ki(e.params.partner,0),n.privacy&&Ei(gi,JSON.stringify(n.privacy),30),e.storage.type===mi&&(o=e.params.partner,i.logInfo(yi+"removing legacy cookies"),bi.forEach((function(e){_i.setCookie("".concat(e)," ",Ti(-1)),_i.setCookie("".concat(e,"_nb")," ",Ti(-1)),_i.setCookie("".concat(e,"_").concat(o,"_nb")," ",Ti(-1)),_i.setCookie("".concat(e,"_last")," ",Ti(-1))})))}catch(e){i.logError(yi+e)}t(n)},error:function(e){i.logError(yi+"getId fetch encountered an error",e),t()}};i.logInfo(yi+"requesting an ID from the server",d),(0,l.h)(o,r,JSON.stringify(d),{method:"POST",withCredentials:!0})}}}},extendId:function(e,t,r){return Si(e),Ai(e&&e.params&&e.params.partner||0),i.logInfo(yi+"using cached ID",r),r}};function Si(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==mi&&i.logWarn(yi+"storage type recommended to be '".concat(mi,"'. In a future release this may become a strict requirement")),e.storage.name!==hi&&i.logWarn(yi+"storage name recommended to be '".concat(hi,"'. In a future release this may become a strict requirement")),!0):(i.logError(yi+"storage required to be set"),!1):(i.logError(yi+"partner required to be defined as a number"),!1)}function Ti(e){return new Date(Date.now()+864e5*e).toUTCString()}function Ii(e){return"".concat(hi,"_").concat(e,"_nb")}function ki(e,t){Ei(Ii(e),t,30)}function Ai(e){var t=function(e){var t,r,n=(t=Ii(e),""===(r=_i.getDataFromLocalStorage("".concat(t,"_exp")))||r&&new Date(r).getTime()-Date.now()>0?_i.getDataFromLocalStorage(t):(_i.removeDataFromLocalStorage(t),null));return n?parseInt(n):0}(e)+1;return ki(e,t),t}function Ei(e,t,r){_i.setDataInLocalStorage("".concat(e,"_exp"),Ti(r)),_i.setDataInLocalStorage("".concat(e),t)}function Oi(e){return e&&e.params&&e.params.abTesting||{enabled:!1}}(0,S.Bx)("userId",wi);var Ci={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=i.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3}};function Pi(e,t){var r=Ci[t];if(r&&e){var n={};n.source=r.source;var o=i.isFn(r.getValue)?r.getValue(e):e;if(i.isStr(o)){var a={id:o,atype:r.atype};if(i.isFn(r.getUidExt)){var s=r.getUidExt(e);s&&(a.ext=s)}if(n.uids=[a],i.isFn(r.getEidExt)){var u=r.getEidExt(e);u&&(n.ext=u)}return n}}return null}function xi(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else{var n=Pi(e[r],r);n&&t.push(n)}return t}function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}var ji=["skip","skipmin","skipafter"],Ri={version:"7.4.0",code:"improvedigital",gvlid:253,aliases:["id"],supportedMediaTypes:[A.Mk,A.B5,A.pX],isBidRequestValid:function(e){return!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId))},buildRequests:function(e,t){var r=e.map((function(e){return function(e){var t=i.getBidIdParameter("adUnitCode",e)||null,r=i.getBidIdParameter("placementId",e.params)||null,n=null,o=null;null===r&&(n=i.getBidIdParameter("publisherId",e.params)||null,o=i.getBidIdParameter("placementKey",e.params)||null);var a=i.getBidIdParameter("keyValues",e.params)||null,s=i.getBidIdParameter("size",e.params)||null,u=i.getBidIdParameter("bidId",e),c=i.getBidIdParameter("transactionId",e),l=d.vc.getConfig("currency.adServerCurrency"),p={};Mi(e)&&(p.adTypes=[A.pX]),(Mi(e)||Ui(e))&&(p.video=function(e){var t={};return Object.keys(Object(e.mediaTypes.video)).filter((function(e){return I()(ji,e)})).forEach((function(r){t[r]=e.mediaTypes.video[r]})),Object.keys(Object(e.params.video)).filter((function(e){return I()(ji,e)})).forEach((function(r){t[r]=e.params.video[r]})),t}(e)),r?p.placementId=r:(n&&(p.publisherId=n),o&&(p.placementKey=o)),a&&(p.keyValues=a),!0===d.vc.getConfig("improvedigital.usePrebidSizes")&&!Mi(e)&&!Ui(e)&&e.sizes&&e.sizes.length>0?p.format=e.sizes:s&&s.w&&s.h&&(p.size={},p.size.h=s.h,p.size.w=s.w),u&&(p.id=u),t&&(p.adUnitId=t),c&&(p.transactionId=c),l&&(p.currency=l);var f=function(e){if(!i.isFn(e.getFloor))return null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return i.isPlainObject(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e),h=null;return f||(f=i.getBidIdParameter("bidFloor",e.params),h=i.getBidIdParameter("bidFloorCur",e.params)),f&&(p.bidFloor=f,p.bidFloorCur=h?h.toUpperCase():"USD"),p}(e)})),n=new Bi("hb"),o={singleRequestMode:!0===d.vc.getConfig("improvedigital.singleRequest"),returnObjType:n.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT,libVersion:this.version};if(t&&t.gdprConsent&&t.gdprConsent.consentString&&(o.gdpr=t.gdprConsent.consentString),t&&t.uspConsent&&(o.usPrivacy=t.uspConsent),t&&t.refererInfo&&t.refererInfo.referer&&(o.referrer=t.refererInfo.referer),o.schain=e[0].schain,e[0].userId){var a=xi(e[0].userId);a.length&&i.deepSetValue(o,"user.ext.eids",a)}var s=n.createRequest(r,o);return s.errors&&s.errors.length>0&&i.logError("ID WARNING 0x01"),s.requests.forEach((function(e){return e.bidderRequest=t})),s.requests},interpretResponse:function(e,t){var r=t.bidderRequest,n=[];return i._each(e.body.bid,(function(e){if(e.price&&null!==e.price&&!e.hasOwnProperty("errorCode")&&(e.adm||e.native)){var t=i.getBidRequest(e.id,[r]),o={};if(e.native)o.native=(u=e.native,c={},u&&i.isArray(u.assets)?(u.assets.forEach((function(e){if(e.title)c.title=e.title.text;else if(e.data)switch(e.data.type){case 1:c.sponsoredBy=e.data.value;break;case 2:c.body=e.data.value;break;case 3:c.rating=e.data.value;break;case 4:c.likes=e.data.value;break;case 5:c.downloads=e.data.value;break;case 6:c.price=e.data.value;break;case 7:c.salePrice=e.data.value;break;case 8:c.phone=e.data.value;break;case 9:c.address=e.data.value;break;case 10:c.body2=e.data.value;break;case 11:c.displayUrl=e.data.value;break;case 12:c.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:c.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:c.image={url:e.img.url,width:e.img.w,height:e.img.h}}})),u.eventtrackers?(c.impressionTrackers=[],u.eventtrackers.forEach((function(e){if(1===e.event)switch(e.method){case 1:c.impressionTrackers.push(e.url);break;case 2:c.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}}))):(c.impressionTrackers=u.imptrackers||[],c.javascriptTrackers=u.jstracker),u.link&&(c.clickUrl=u.link.url,c.clickTrackers=u.link.clicktrackers),u.privacy&&(c.privacyLink=u.privacy),c):null),o.ortbNative=e.native,e.nurl&&o.native.impressionTrackers.unshift(e.nurl),o.mediaType=A.B5;else if(e.ad_type&&"video"===e.ad_type)o.vastXml=e.adm,o.mediaType=A.pX,Ui(t)&&(o.adResponse={content:o.vastXml,height:e.h,width:e.w},o.renderer=function(e){var t=v.install({id:e.adUnitCode,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,config:i.deepAccess(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(Li)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return t}(t));else{var a="";e.nurl&&e.nurl.length>0&&(a='<img src="'.concat(e.nurl,'" width="0" height="0" style="display:none">')),o.ad="".concat(a,"<script>").concat(e.adm,"<\/script>"),o.mediaType=A.Mk}if(o.cpm=parseFloat(e.price),o.creativeId=e.crid,o.currency=e.currency?e.currency.toUpperCase():"USD",i.isNumber(e.lid)&&e.buying_type&&"rtb"!==e.buying_type)o.dealId=e.lid;else if(Array.isArray(e.lid)&&Array.isArray(e.buying_type)&&e.lid.length===e.buying_type.length){var s=!1;e.buying_type.forEach((function(t,r){s||t&&"rtb"!==t&&(s=!0,o.dealId=e.lid[r])}))}o.height=e.h,o.netRevenue=!!e.isNet&&e.isNet,o.requestId=e.id,o.ttl=300,o.width=e.w,o.width&&o.height||(o.width=1,o.height=1),e.adomain&&(o.meta={advertiserDomains:e.adomain}),n.push(o)}var u,c})),n},getUserSyncs:function(e,t){if(e.pixelEnabled){var r=[];return t.forEach((function(e){e.body.bid.forEach((function(e){i.isArray(e.sync)&&e.sync.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}))}))})),r.map((function(e){return{type:"image",url:e}}))}return[]}};function Mi(e){var t=Object.keys(i.deepAccess(e,"mediaTypes",{})),r=i.deepAccess(e,"mediaTypes.video"),n=i.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||1===t.length&&r&&"outstream"!==n}function Ui(e){var t=i.deepAccess(e,"mediaTypes.video"),r=i.deepAccess(e,"mediaTypes.video.context");return t&&"outstream"===r}function Li(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Ni.bind(null,e))}))}function Ni(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function Bi(e){this.CONSTANTS={AD_SERVER_BASE_URL:"ice.360yield.com",END_POINT:e||"hb",AD_SERVER_URL_PARAM:"jsonp=",CLIENT_VERSION:"JS-6.4.0",MAX_URL_LENGTH:2083,ERROR_CODES:{MISSING_PLACEMENT_PARAMS:2,LIB_VERSION_MISSING:3},RETURN_OBJ_TYPE:{DEFAULT:0,URL_PARAMS_SPLIT:1}},this.getErrorReturn=function(e){return{idMappings:{},requests:{},errorCode:e}},this.createRequest=function(e,t,r){if(!t.libVersion)return this.getErrorReturn(this.CONSTANTS.ERROR_CODES.LIB_VERSION_MISSING);t.returnObjType=t.returnObjType||this.CONSTANTS.RETURN_OBJ_TYPE.DEFAULT,t.adServerBaseUrl="https://"+(t.adServerBaseUrl||this.CONSTANTS.AD_SERVER_BASE_URL);var n,o=[];if(i.isArray(e))for(var a=0;a<e.length;a++)n=this.createImpressionObject(e[a]),o.push(n);else n=this.createImpressionObject(e),o.push(n);var s=!0;t.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT&&(s=!1);var u={requests:[]};s&&(u.idMappings=[]);for(var c=null,l="".concat(t.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM),d={bid_request:this.createBasicBidRequestObject(t,r)},p=0;p<o.length;p++)if((n=o[p]).errorCode)(c=c||[]).push({errorCode:n.errorCode,adUnitId:n.adUnitId});else{s&&u.idMappings.push({adUnitId:n.adUnitId,id:n.impressionObject.id}),d.bid_request.imp=d.bid_request.imp||[],d.bid_request.imp.push(n.impressionObject);var f=!1;(l+encodeURIComponent(JSON.stringify(d))).length>this.CONSTANTS.MAX_URL_LENGTH&&(f=!0,d.bid_request.imp.length>1&&(d.bid_request.imp.pop(),s&&u.idMappings.pop(),p--)),!f&&t.singleRequestMode&&p!==o.length-1||(u.requests.push(this.formatRequest(t,d)),d={bid_request:this.createBasicBidRequestObject(t,r)})}return c&&(u.errors=c),u},this.formatRequest=function(e,t){return e.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT?{method:"GET",url:"".concat(e.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT),data:"".concat(this.CONSTANTS.AD_SERVER_URL_PARAM).concat(encodeURIComponent(JSON.stringify(t)))}:{url:"".concat(e.adServerBaseUrl,"/")+"".concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM)+encodeURIComponent(JSON.stringify(t))}},this.createBasicBidRequestObject=function(e,t){var r={secure:1};if(e.requestId?r.id=e.requestId:r.id=i.getUniqueIdentifierStr(),e.domain&&(r.domain=e.domain),e.page&&(r.page=e.page),e.ref&&(r.ref=e.ref),e.callback&&(r.callback=e.callback),e.libVersion&&(r.version=e.libVersion+"-"+this.CONSTANTS.CLIENT_VERSION),e.referrer&&(r.referrer=e.referrer),(e.gdpr||0===e.gdpr)&&(r.gdpr=e.gdpr),e.usPrivacy&&(r.us_privacy=e.usPrivacy),e.schain&&(r.schain=e.schain),e.user&&(r.user=e.user),t)for(var n in t)r[n]=t[n];return r},this.createImpressionObject=function(e){var t={},r={};if(t.impressionObject=r,e.id?r.id=e.id:r.id=i.getUniqueIdentifierStr(),e.adTypes&&(r.ad_types=e.adTypes),e.adUnitId&&(t.adUnitId=e.adUnitId),e.currency&&(r.currency=e.currency.toUpperCase()),e.bidFloor&&(r.bidfloor=e.bidFloor),e.bidFloorCur&&(r.bidfloorcur=e.bidFloorCur.toUpperCase()),e.placementId&&(r.pid=e.placementId),e.publisherId&&(r.pubid=e.publisherId),e.placementKey&&(r.pkey=e.placementKey),e.transactionId&&(r.tid=e.transactionId),!i.isEmpty(e.video)){var n=Di({},e.video);1!==n.skip&&(delete n.skipmin,delete n.skipafter,0!==n.skip&&(i.logWarn("video.skip: invalid value '".concat(n.skip,"'. Expected 0 or 1")),delete n.skip)),i.isEmpty(n)||(r.video=n)}if(e.keyValues)for(var o in e.keyValues)for(var a=0;a<e.keyValues[o].length;a++)r.kvw=r.kvw||{},r.kvw[o]=r.kvw[o]||[],r.kvw[o].push(e.keyValues[o][a]);if(r.banner={},e.size&&e.size.w&&e.size.h&&(r.banner.w=e.size.w,r.banner.h=e.size.h),e.format&&i.isArray(e.format)){var s=e.format.filter((function(e){return 2===e.length&&i.isInteger(e[0])&&i.isInteger(e[1])&&e[0]>=0&&e[1]>=0})).map((function(e){return{w:e[0],h:e[1]}}));s.length>0&&(r.banner.format=s)}return r.pid||r.pubid||r.pkey||r.banner&&r.banner.w&&r.banner.h||(t.impressionObject=null,t.errorCode=this.CONSTANTS.ERROR_CODES.MISSING_PLACEMENT_PARAMS),t}}function qi(){return qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}(0,ct.dX)(Ri);var Fi={code:"inskin",isBidRequestValid:function(e){return!(!e.params.networkId||!e.params.siteId)},buildRequests:function(e,t){var r,n={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return n;var i=qi({placements:[],time:Date.now(),user:{},url:t.refererInfo.referer,enableBotFiltering:!0,includePricingData:!0,parallel:!0},e[0].params);i.keywords=i.keywords||[];var o=[];if(t&&t.gdprConsent&&(i.consent={gdprVendorId:150,gdprConsentString:t.gdprConsent.consentString,gdprConsentRequired:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies},2===t.gdprConsent.apiVersion)){var a=t.gdprConsent.vendorData;a&&(a.purposeOneTreatment&&(i.keywords.push("cst-nodisclosure"),o.push("nodisclosure")),[{id:1,kw:"nocookies"},{id:2,kw:"nocontext"},{id:3,kw:"nodmp"},{id:4,kw:"nodata"},{id:7,kw:"noclicks"},{id:9,kw:"noresearch"}].map((function(e){(function(e,t){var r={150:{id:150,name:"Inskin Media LTD",purposes:{1:1,3:3,4:4,9:9,10:10},legIntPurposes:{2:2,7:7},flexiblePurposes:{2:2,7:7},specialPurposes:{1:1,2:2},features:{3:3},specialFeatures:{},policyUrl:"http://www.inskinmedia.com/privacy-policy.html"}},n=150;try{if(r[n].purposes[e]&&!r[n].flexiblePurposes[e]&&t.purpose.consents[e]&&t.vendor.consents[n])return!0}catch(e){}try{if(r[n].legIntPurposes[e]&&!r[n].flexiblePurposes[e]&&t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n])return!0}catch(e){}try{if(r[n].legIntPurposes[e]&&r[n].flexiblePurposes[e]&&(t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n]||t.purpose.consents[e]&&t.vendor.consents[n]))return!0}catch(e){}try{if(r[n].legIntPurposes[e]&&r[n].flexiblePurposes[e]&&t.purpose.consents[e]&&t.vendor.consents[n])return!0}catch(e){}try{if(r[n].purposes[e]&&r[n].flexiblePurposes[e]&&(t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n]||t.purpose.consents[e]&&t.vendor.consents[n]))return!0}catch(e){}try{if(r[n].purposes[e]&&r[n].flexiblePurposes[e]&&t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[n])return!0}catch(e){}return!1})(e.id,a)||(i.keywords.push("cst-"+e.kw),o.push(e.kw))})))}return e.map((function(e){r="https://mfad.inskinad.com/api/v2";var t,n,a=qi({divName:e.bidId,adTypes:e.adTypes||(t=e.sizes,n=[],t.forEach((function(e){var t=Vi.indexOf(e[0]+"x"+e[1]);t>=0&&n.push(t)})),n),eventIds:[40,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295]},e.params);a.adTypes.push(5,9,163,2163,3006),a.properties=a.properties||{},a.properties.screenWidth=screen.width,a.properties.screenHeight=screen.height,o.length&&(a.properties.restrictions=o),a.networkId&&a.siteId&&i.placements.push(a)})),n.data=JSON.stringify(i),n.bidRequest=e,n.url=r,n},interpretResponse:function(e,t){var r,n,i,o,a=[],s={};n=t.bidRequest,e=(e||{}).body;for(var u=0;u<n.length;u++)if(r={},i=(o=n[u]).bidId,s[i]=o,e){var c=e.decisions&&e.decisions[i],l=c&&c.contents&&c.contents[0]&&c.contents[0].data,d=l&&l.customData&&l.customData.pubCPM,p=c&&c.pricing&&c.pricing.clearPrice,f=d||p;c&&f&&(c.impressionUrl+="&property:pubcpm="+f,o.price=f,r.requestId=i,r.cpm=f,r.width=c.width,r.height=c.height,r.ad=zi(i,c),r.currency="USD",r.creativeId=c.adId,r.ttl=360,r.meta={advertiserDomains:c.adomain?c.adomain:[]},r.netRevenue=!0,a.push(r))}return a.length&&window.addEventListener("message",(function(t){if(t.data&&"ism-bid"===t.data.from&&e.decisions&&e.decisions[t.data.bidId]){var r="ism_tag_"+Math.floor(1e17*Math.random());window[r]={plr_AdSlot:t.source&&t.source.frameElement,bidId:t.data.bidId,bidPrice:s[t.data.bidId].price,serverResponse:e};var n=document.createElement("script");n.src="https://cdn.inskinad.com/isfe/publishercode/"+s[t.data.bidId].params.siteId+"/default.js?autoload&id="+r,document.getElementsByTagName("head")[0].appendChild(n)}})),a},getUserSyncs:function(e){var t=[];return e.pixelEnabled&&(t.push({type:"image",url:"https://e.serverbid.com/udb/9969/match?redir=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fpool%2Fset%2Fi.gif%3FpoolId%3D9969%26poolKey%3D"}),t.push({type:"image",url:"https://ssum.casalemedia.com/usermatchredir?s=185638&cb=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"})),e.iframeEnabled&&t.push({type:"iframe",url:"https://ssum-sec.casalemedia.com/usermatch?s=184665&cb=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"}),t}},Vi=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];function zi(e,t){return"<script>window.top.postMessage({from: 'ism-bid', bidId: '"+e+"'}, '*');<\/script>"+i.createTrackPixelHtml(t.impressionUrl)}function Wi(e){return function(e){if(Array.isArray(e))return Ji(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(r),!0).forEach((function(t){Ki(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ki(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Yi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function $i(e,t){if(e){if("string"==typeof e)return Ji(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ji(e,t):void 0}}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Vi[77]="970x90",Vi[123]="970x250",Vi[43]="300x600",(0,ct.dX)(Fi);var Qi="roundel",Zi=[A.Mk,A.pX],eo={JPY:1},to={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},ro=["britepoolid","id5id","lipbid","haloId","criteoId","lotamePanoramaId","merkleId","parrableId","connectid","sharedid","tapadId","quantcastId","pubcid","TDID","flocId"],no=["mimes","minduration","maxduration"],io=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"];function oo(e){var t=so(e);t.banner={};var r=i.deepAccess(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1],i.deepAccess(t,"ext.sid")||(t.ext.sid="".concat(r[0],"x").concat(r[1]))),t.banner.topframe=i.inIframe()?0:1,uo(e,t,A.Mk),t}function ao(e){var t=so(e),r=i.deepAccess(e,"mediaTypes.video"),n=i.deepAccess(e,"params.video");if(!fo(0,r,n))return{};for(var o in t.video=n?i.deepClone(e.params.video):{},r)-1===io.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=r[o]);if(t.video.minduration>t.video.maxduration)return i.logError("IX Bid Adapter: video minduration ["+t.video.minduration+"] cannot be greater than video maxduration ["+t.video.maxduration+"]"),{};var a=n&&n.context||r&&r.context;if(a&&("instream"===a?t.video.placement=1:"outstream"===a?t.video.placement=4:i.logWarn("IX Bid Adapter: video context '".concat(a,"' is not supported"))),!t.video.w||!t.video.h){var s=ho(i.deepAccess(t,"video.playerSize"))||ho(i.deepAccess(e,"params.size"));if(!s)return i.logWarn("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};t.video.w=s[0],t.video.h=s[1],i.deepAccess(t,"ext.sid")||(t.ext.sid="".concat(s[0],"x").concat(s[1]))}return uo(e,t,A.pX),t}function so(e){var t={};t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id));var r=i.deepAccess(e,"ortb2Imp.ext.data.adserver.adslot");return r&&(t.ext.dfp_ad_unit_code=r),t}function uo(e,t,r){var n=null,o=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),i.isFn(e.getFloor)){var a="*",s="*";if(r&&i.contains(Zi,r)){var u=t[r];a=r,s=[u.w,u.h]}try{o=e.getFloor({mediaType:a,size:s})}catch(e){i.logWarn("priceFloors module call getFloor failed, error : ",e)}}if(n&&o)return n.currency!==o.currency?void i.logWarn("The bid floor currency mismatch between IX params and priceFloors module config"):void(n.floor>o.floor?(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl="x"):(t.bidfloor=o.floor,t.bidfloorcur=o.currency,t.ext.fl="p"));o?(t.bidfloor=o.floor,t.bidfloorcur=o.currency,t.ext.fl="p"):n?(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl="x"):i.logInfo("IX Bid Adapter: No floors available, no floors applied")}function co(e,t,r){var n={},o=!(!i.deepAccess(e,"exp")||!i.isInteger(e.exp)),a=i.deepAccess(e,"dealid")||i.deepAccess(e,"ext.dealid");return eo.hasOwnProperty(t)?n.cpm=e.price/eo[t]:n.cpm=e.price/100,n.requestId=e.impid,a&&(n.dealId=a),n.netRevenue=!0,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",i.deepAccess(e,"ext.vasturl")?(n.vastUrl=e.ext.vasturl,n.width=r.video.w,n.height=r.video.h,n.mediaType=A.pX,n.ttl=o?e.exp:3600):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=A.Mk,n.ttl=o?e.exp:300),n.meta={},n.meta.networkId=i.deepAccess(e,"ext.dspid"),n.meta.brandId=i.deepAccess(e,"ext.advbrandid"),n.meta.brandName=i.deepAccess(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(n.meta.advertiserDomains=e.adomain),n}function lo(e){return Array.isArray(e)&&2===e.length&&i.isInteger(e[0])&&i.isInteger(e[1])}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(lo(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function fo(e,t,r){var n=!0;t||i.logWarn("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var o,a=Yi(no);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=t&&t.hasOwnProperty(s),c=r&&r.hasOwnProperty(s);u||c||(i.logError("IX Bid Adapter: "+s+" is not included in either the adunit or params level"),n=!1)}}catch(e){a.e(e)}finally{a.f()}if(!n)return!1;var l=t&&t.hasOwnProperty("protocol"),d=t&&t.hasOwnProperty("protocols"),p=r&&r.hasOwnProperty("protocol"),f=r&&r.hasOwnProperty("protocols");return l||d||p||f}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return lo(e)?e:!!lo(e[0])&&e[0]}function go(e,t){if(e)return g()(t,(function(t){return t.id===e}))}function mo(e,t,r,n){var o="https://htlb.casalemedia.com/cygnus",a=function(e,t){var r=[],n={};if(i.isArray(e)){var o,a=Yi(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;to[s.source]&&i.deepAccess(s,"uids.0")&&(n[s.source]=!0,s.uids[0].ext={rtiPartner:to[s.source]},delete s.uids[0].atype,r.push(s))}}catch(e){a.e(e)}finally{a.f()}}if(t&&t.id&&t.version){var u={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]};r.push(u),n["chrome.com"]=!0}return{toSend:r,seenSources:n}}(i.deepAccess(e,"0.userIdAsEids"),i.deepAccess(e,"0.userId.flocId")),s=a.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var u=window.headertag.getIdentityInfo();if(u&&"object"===Xi(u))for(var c in u)if(u.hasOwnProperty(c)){var l=u[c];!l.responsePending&&l.data&&"object"===Xi(l.data)&&Object.keys(l.data).length&&!a.seenSources[l.data.source]&&s.push(l.data)}}if(t&&t.bidderCode===Qi&&!a.seenSources["liveramp.com"])return[];var p={};p.id=e[0].bidderRequestId.toString(),p.site={},p.ext={},p.ext.source="prebid",p.ext.ixdiag={};var f=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,r){return r.indexOf(e)===t})),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"4.43.4",userIds:vo(e[0])},n=function(n){if(a=e.filter((function(e){return e.transactionId===t[n]}))[0],i.deepAccess(a,"mediaTypes")){if(Object.keys(a.mediaTypes).length>1&&r.mfu++,i.deepAccess(a,"mediaTypes.native")&&r.nu++,i.deepAccess(a,"mediaTypes.banner")&&r.bu++,"outstream"===i.deepAccess(a,"mediaTypes.video.context")){r.ou++;var o="object"===Xi(i.deepAccess(a,"renderer")||i.deepAccess(a,"mediaTypes.video.renderer"));r.ren=r.ren&&o?i.deepAccess(r,"ren"):o}"instream"===i.deepAccess(a,"mediaTypes.video.context")&&r.iu++,r.allu++}},o=0;o<t.length;o++){var a;n(o)}return r}(e);for(var h in f)p.ext.ixdiag[h]=f[h];if(e[0].schain&&(p.source={ext:{schain:e[0].schain}}),s.length>0&&(p.user={},p.user.eids=s),document.referrer&&""!==document.referrer&&(p.site.ref=document.referrer),t){if(t.gdprConsent){var g=t.gdprConsent;g.hasOwnProperty("gdprApplies")&&(p.regs={ext:{gdpr:g.gdprApplies?1:0}}),g.hasOwnProperty("consentString")&&(p.user=p.user||{},p.user.ext={consent:g.consentString||""},g.hasOwnProperty("addtlConsent")&&g.addtlConsent&&(p.user.ext.consented_providers_settings={consented_providers:g.addtlConsent}))}t.uspConsent&&i.deepSetValue(p,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(p.site.page=t.refererInfo.referer)}d.vc.getConfig("coppa")&&i.deepSetValue(p,"regs.coppa",1);var m={},v=t&&t.bidderCode||"ix",y=d.vc.getConfig(v);if(y){if("object"===Xi(y.firstPartyData)){var b=y.firstPartyData,_="?";for(var w in b)b.hasOwnProperty(w)&&(_+="".concat(encodeURIComponent(w),"=").concat(encodeURIComponent(b[w]),"&"));_=_.slice(0,-1),p.site.page+=_}"number"==typeof y.timeout&&(m.t=y.timeout),"boolean"==typeof y.detectMissingSizes?p.ext.ixdiag.dms=y.detectMissingSizes:p.ext.ixdiag.dms=!0}m.s=e[0].params.siteId,m.v=n,m.ac="j",m.sd=1,8.1===n&&(m.nf=1);var S=[],T={method:"GET",url:o,data:m},I=new Blob(["".concat(T.url).concat(i.parseQueryStringParameters(Gi(Gi({},T.data),{},{r:JSON.stringify(p)})))]).size,k=I,A=8e3,E=0,O=0,C=0;p.ext.ixdiag.msd=0,p.ext.ixdiag.msi=0,p.imp=[];for(var P=0,x=Object.keys(r),D=[];P<x.length&&S.length<4;){var j=r[x[P]];if(C=i.deepAccess(j,"missingCount")&&i.deepAccess(j,"ixImps")?j.missingCount:0,I<A?yo(j,A-I):i.logError("ix bidder: Base request size has exceeded maximum request size."),O=i.deepAccess(j,"missingImps")&&i.deepAccess(j,"ixImps")?j.missingImps.length:0,(k+=new Blob([encodeURIComponent(JSON.stringify(j))]).size)<A){var R,M;j.ixImps&&j.ixImps.length>0&&(R=p.imp).push.apply(R,Wi(j.ixImps)),p.ext.ixdiag.msd+=C,p.ext.ixdiag.msi+=O,j.hasOwnProperty("missingImps")&&j.missingImps.length>0&&(M=D).push.apply(M,Wi(j.missingImps)),P++}else{var U,L=i.deepClone(m);(U=p.imp).push.apply(U,Wi(D)),p.ext.ixdiag.sn=E,L.sn=E,E++,L.r=JSON.stringify(p),S.push({method:"GET",url:o,data:L}),D=[],k=I,p.imp=[],C=0,O=0,p.ext.ixdiag.msd=0,p.ext.ixdiag.msi=0}}if(k>I&&k<A&&S.length<4){var N,B=i.deepClone(m);(N=p.imp).push.apply(N,Wi(D)),S.length>0&&(p.ext.ixdiag.sn=E,B.sn=E),B.r=JSON.stringify(p),S.push({method:"GET",url:o,data:B})}return S}function vo(e){var t=e.userId||{};return ro.filter((function(e){return t[e]}))}function yo(e,t){var r=new Blob([encodeURIComponent(JSON.stringify(e))]).size;if(!(r<t))for(;r>t;)e.hasOwnProperty("missingImps")&&e.missingImps.length>0?e.missingImps.pop():e.hasOwnProperty("ixImps")&&e.ixImps.length>0&&e.ixImps.pop(),r=new Blob([encodeURIComponent(JSON.stringify(e))]).size}function bo(e,t){if(t)for(var r=0;r<e.length;r++){var n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}function _o(e,t,r){var n=e.transactionId;if(t.hasOwnProperty(n)){var o=[];t[n].hasOwnProperty("missingSizes")&&(o=t[n].missingSizes),bo(o,e.params.size),t[n].missingSizes=o}else if(i.deepAccess(e,"mediaTypes.banner.sizes")){var a=i.deepClone(e.mediaTypes.banner.sizes);bo(a,e.params.size);var s={missingSizes:a,impression:r};t[n]=s}}function wo(e,t,r){var n=i.deepClone(t);return n.ext.sid="".concat(r[0],"x").concat(r[1]),n.banner.w=r[0],n.banner.h=r[1],uo(e,n,A.Mk),n}var So={code:"ix",gvlid:10,aliases:[{code:Qi,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Zi,isBidRequestValid:function(e){var t,r,n=i.deepAccess(e,"params.video"),o=i.deepAccess(e,"params.size"),a=i.deepAccess(e,"mediaTypes.banner.sizes"),s=i.deepAccess(e,"mediaTypes.video"),u=i.deepAccess(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),l=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!i.contains(Zi,e.mediaType))return!1;if(i.deepAccess(e,"mediaTypes.banner")&&!a)return!1;if(o){var d=ho(o);if(!d)return i.logError("ix bidder params: size has invalid format."),!1;if(!po(e.sizes,d)&&!po(u,d)&&!po(a,d))return i.logError("ix bidder params: bid size is not included in ad unit sizes or player size."),!1}return"string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId?(i.logError("ix bidder params: siteId must be string or number value."),!1):!c&&!l||c&&l&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))?!(!a&&(s||n))||fo(0,s,n):(i.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var r=[],n={},o={},a=null,s={},u=Gi(Gi({},{detectMissingSizes:!0}),d.vc.getConfig("ix")),c=0;c<e.length;c++){a=e[c];var l=i.deepAccess(a,"mediaTypes.video"),p=i.deepAccess(a,"params.video");if((a.mediaType===A.pX||l||p)&&!o.hasOwnProperty(a.transactionId)){var f=ao(a);0!=Object.keys(f).length&&(o[a.transactionId]={},o[a.transactionId].ixImps=[],o[a.transactionId].ixImps.push(f))}if(a.mediaType===A.Mk||i.deepAccess(a,"mediaTypes.banner.sizes")||!a.mediaType&&!a.mediaTypes){var h=oo(a);i.deepAccess(a,"params.size")&&(n.hasOwnProperty(a.transactionId)||(n[a.transactionId]={}),n[a.transactionId].hasOwnProperty("ixImps")||(n[a.transactionId].ixImps=[]),n[a.transactionId].ixImps.push(h)),u.hasOwnProperty("detectMissingSizes")&&u.detectMissingSizes&&_o(a,s,h)}}for(var g in s)if(s.hasOwnProperty(g)){var m=s[g].missingSizes;n.hasOwnProperty(g)||(n[g]={}),n[g].hasOwnProperty("missingImps")||(n[g].missingImps=[],n[g].missingCount=0);for(var v=s[g].impression,y=0;y<m.length;y++){var b=wo(a,v,m[y]);n[g].missingImps.push(b),n[g].missingCount++}}return Object.keys(n).length>0&&r.push.apply(r,Wi(mo(e,t,n,7.2))),Object.keys(o).length>0&&r.push.apply(r,Wi(mo(e,t,o,8.1))),r},interpretResponse:function(e,t){var r=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var i=e.body,o=i.seatbid,a=0;a<o.length;a++)if(o[a].hasOwnProperty("bid"))for(var s=o[a].bid,u=JSON.parse(t.data.r),c=0;c<s.length;c++){var l=go(s[c].impid,u.imp);n=co(s[c],i.cur,l),r.push(n)}return r},transformBidParams:function(e,t){return i.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};(0,ct.dX)(So);var To=[],Io={code:"justpremium",gvlid:62,time:6e4,isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zone)},buildRequests:function(e,t){var r,n,o=(r={},n={},e.forEach((function(e){var t=e.params,i=t.zone;if(1!==r[i]){var o=t.allow||t.formats||[],a=t.exclude||[];if(0===o.length&&0===a.length)return r[t.zone]=1;r[i]=r[i]||[[],{}],r[i][0]=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r]===t[n]&&t.splice(n--,1);return t}(r[i][0].concat(o)),a.forEach((function(e){r[i][1][e]?r[i][1][e]++:r[i][1][e]=1})),n[i]=n[i]||0,a.length&&n[i]++}})),Object.keys(n).forEach((function(e){if(1!==r[e]){var t=[];Object.keys(r[e][1]).forEach((function(i){r[e][1][i]===n[e]&&t.push(i)})),r[e][1]=t}})),Object.keys(r).forEach((function(e){1!==r[e]&&r[e][1].length&&(r[e][0].forEach((function(t){var n=r[e][1].indexOf(t);n>-1&&r[e][1].splice(n,1)})),r[e][0].length=0),1===r[e]||r[e][0].length||r[e][1].length||(r[e]=1)})),r),a=function(){var e;try{e=window.top}catch(t){e=window}return{screenWidth:e.screen.width,screenHeight:e.screen.height,innerWidth:e.innerWidth,innerHeight:e.innerHeight}}(),s={zone:e.map((function(e){return parseInt(e.params.zone)})).filter((function(e,t,r){return r.indexOf(e)===t})),referer:t.refererInfo.referer,sw:a.screenWidth,sh:a.screenHeight,ww:a.innerWidth,wh:a.innerHeight,c:o,id:e[0].params.zone,sizes:{}};e.forEach((function(e){var t=e.params.zone,r=s.sizes;r[t]=r[t]||[],r[t].push.apply(r[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)})),(0,i.deepAccess)(e[0],"userId.pubcid")?s.pubcid=(0,i.deepAccess)(e[0],"userId.pubcid"):(0,i.deepAccess)(e[0],"crumbs.pubcid")&&(s.pubcid=(0,i.deepAccess)(e[0],"crumbs.pubcid")),s.uids=e[0].userId,t&&t.gdprConsent&&(s.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),s.version={prebid:"4.43.4",jp_adapter:"1.7"};var u=JSON.stringify(s);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:u,bids:e}},interpretResponse:function(e,t){var r=e.body,n=[];return t.bids.forEach((function(e){var t=function(e,t){var r=e.zone;if(t[r])for(var n=t[r].length;n--;)if(ko(e,t[r][n]))return t[r].splice(n,1).pop();return!1}(e.params,r.bid);if(t){var i=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],o={requestId:e.bidId,creativeId:t.id,width:i[0]||t.width,height:i[1]||t.height,ad:t.adm,cpm:t.price,netRevenue:!0,currency:t.currency||"USD",ttl:t.ttl||Io.time,format:t.format,meta:{advertiserDomains:t.adomain&&t.adomain.length>0?t.adomain:[]}};n.push(o)}})),n},getUserSyncs:function(e,t,r,n){var i="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now();return r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies&&r.consentString&&(i=i+"&consentString="+encodeURIComponent(r.consentString)),n&&(i=i+"&usPrivacy="+encodeURIComponent(n)),e.iframeEnabled&&To.push({type:"iframe",url:i}),To}};function ko(e,t){var r=t.format;return e.allow&&e.allow.length?e.allow.indexOf(r)>-1:!e.exclude||!e.exclude.length||e.exclude.indexOf(r)<0}function Ao(){return Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(this,arguments)}(0,ct.dX)(Io);var Eo,Oo,Co,Po="kargo",xo=(0,Pe.df)(972,Po),Do={gvlid:972,code:Po,isBidRequestValid:function(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function(e,t){var r,n=d.vc.getConfig("currency"),o=n&&n.adServerCurrency||"USD",a={},s={};i._each(e,(function(e){a[e.bidId]=e.params.placementId,s[e.bidId]=e.sizes})),e.length>0&&e[0].userId&&e[0].userId.tdid&&(r=e[0].userId.tdid);var u=Ao({},{sessionId:Do._getSessionId(),requestCount:Do._getRequestCount(),timeout:t.timeout,currency:o,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:a,bidSizes:s,prebidRawBidRequests:e},Do._getAllMetadata(r,t.uspConsent,t.gdprConsent)),c=encodeURIComponent(JSON.stringify(u));return Ao({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(c),currency:o})},interpretResponse:function(e,t){var r=e.body,n=[];for(var i in r){var o=r[i],a=void 0;o.metadata&&o.metadata.landingPageDomain&&(a={clickUrl:o.metadata.landingPageDomain,advertiserDomains:[o.metadata.landingPageDomain]}),n.push({requestId:i,cpm:Number(o.cpm),width:o.width,height:o.height,ad:o.adm,ttl:300,creativeId:o.id,dealId:o.targetingCustom,netRevenue:!0,currency:t.currency,meta:a})}return n},getUserSyncs:function(e,t,r,n){var i=[],o=Do._generateRandomUuid(),a=Do._getClientId(),s=r&&r.gdprApplies?1:0,u=r&&r.consentString?r.consentString:"";if("string"==typeof n&&4==n.length&&1==n[0]&&"Y"==n[2])return i;if(e.iframeEnabled&&o&&a)for(var c=0;c<5;c++)i.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}".replace("{UUID}",a).replace("{SEED}",o).replace("{INDEX}",c).replace("{GDPR}",s).replace("{GDPR_CONSENT}",u).replace("{US_PRIVACY}",n||"")});return i},_readCookie:function(e){if(!xo.cookiesAreEnabled())return null;for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},_getCrbFromCookie:function(){try{var e=JSON.parse(decodeURIComponent(Do._readCookie("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function(){try{return JSON.parse(atob(Do._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function(){var e=Do._getCrbFromLocalStorage();return Object.keys(e).length?e:Do._getCrbFromCookie()},_getKruxUserId:function(){return Do._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function(){return Do._getLocalStorageSafely("kxkar_segs")},_getKrux:function(){var e=Do._getKruxSegments(),t=[];return e&&(t=e.split(",")),{userID:Do._getKruxUserId(),segments:t}},_getLocalStorageSafely:function(e){try{return xo.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds:function(e,t,r){var n=Do._getCrb(),i={kargoID:n.userId,clientID:n.clientId,crbIDs:n.syncIds||{},optOut:n.optOut,usp:t};try{r&&(i.gdpr={consent:r.consentString||"",applies:!!r.gdprApplies})}catch(e){}return e&&(i.tdID=e),i},_getClientId:function(){return Do._getCrb().clientId},_getAllMetadata:function(e,t,r){return{userIDs:Do._getUserIds(e,t,r),krux:Do._getKrux(),pageURL:window.location.href,rawCRB:Do._readCookie("krg_crb"),rawCRBLocalStorage:Do._getLocalStorageSafely("krg_crb")}},_getSessionId:function(){return Eo||(Eo=Do._generateRandomUuid()),Eo},_getRequestCount:function(){return Oo===window.location.pathname?++Co:(Oo=window.location.pathname,Co=0)},_generateRandomUuid:function(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};function jo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}(0,ct.dX)(Do);var Mo,Uo=r(9060),Lo=r(6584),No=u.EVENTS,Bo=No.AUCTION_INIT,qo=No.AUCTION_END,Fo=No.REQUEST_BIDS,Vo=No.BID_REQUESTED,zo=No.BID_TIMEOUT,Wo=No.BID_RESPONSE,Ho=No.NO_BID,Go=No.BID_WON,Ko=No.BID_ADJUSTMENT,Xo=No.BIDDER_DONE,Yo=No.SET_TARGETING,$o=No.AD_RENDER_FAILED,Jo=No.AUCTION_DEBUG,Qo=No.ADD_AD_UNITS,Zo="endpoint",ea="bundle";function ta(){return ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function ra(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var na=(ra(Mo={},u.EVENTS.AUCTION_INIT,oa),ra(Mo,u.EVENTS.AUCTION_END,oa),ra(Mo,u.EVENTS.BID_REQUESTED,(function(e){return{bidderCode:e.bidderCode,time:e.start,bids:e.bids.map((function(e){return{transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidId:e.bidId,startTime:e.startTime,sizes:i.parseSizesInput(e.sizes).toString(),params:e.params}}))}})),ra(Mo,u.EVENTS.BID_TIMEOUT,(function(e){return e.map((function(e){return e.bidder})).filter(i.uniques)})),ra(Mo,u.EVENTS.BID_RESPONSE,(function(e){return{bidderCode:e.bidder,transactionId:e.transactionId,adUnitCode:e.adUnitCode,statusMessage:e.statusMessage,mediaType:e.mediaType,renderedSize:e.size,cpm:e.cpm,currency:e.currency,netRevenue:e.netRevenue,timeToRespond:e.timeToRespond,bidId:e.bidId,requestId:e.requestId,creativeId:e.creativeId}})),ra(Mo,u.EVENTS.BID_WON,(function(e){return{adId:e.adId,bidderCode:e.bidder,adUnitCode:e.adUnitCode,statusMessage:e.statusMessage,mediaType:e.mediaType,renderedSize:e.size,cpm:e.cpm,currency:e.currency,netRevenue:e.netRevenue,timeToRespond:e.timeToRespond,bidId:e.requestId,dealId:e.dealId,status:e.status,creativeId:e.creativeId}})),ra(Mo,u.EVENTS.NO_BID,(function(e){return{bidderCode:e.bidder,transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidId:e.bidId}})),Mo);var ia=ta(function(e){var t,r=e.url,n=e.analyticsType,i=e.global,o=e.handler,a=[],s=0,u=!0;return function(){if(u){for(var e=0;e<a.length;e++)a[e]();a.push=function(e){e()},u=!1}Lo.logMessage("event count sent to ".concat(i,": ").concat(s))}(),{track:function(e){var t=e.eventType,r=e.args;this.getAdapterType()===ea&&window[i](o,t,r),this.getAdapterType()===Zo&&c.apply(void 0,arguments)},enqueue:d,enableAnalytics:p,disableAnalytics:function(){Lo._each(t,(function(e,t){Uo.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:p},getAdapterType:function(){return n},getGlobal:function(){return i},getHandler:function(){return o},getUrl:function(){return r}};function c(e){var t=e.eventType,n=e.args,i=e.callback;(0,l.h)(r,i,JSON.stringify({eventType:t,args:n}))}function d(e){var t=e.eventType,r=e.args,n=this;i&&window[i]&&t&&r?this.track({eventType:t,args:r}):a.push((function(){s++,n.track({eventType:t,args:r})}))}function p(e){var r,n=this,o=this;"object"!==Ro(e)||"object"!==Ro(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)?(Uo.getEvents().forEach((function(e){if(e){var t=e.eventType,r=e.args;t!==zo&&d.call(o,{eventType:t,args:r})}})),jo(r={},Fo,(function(e){return n.enqueue({eventType:Fo,args:e})})),jo(r,Vo,(function(e){return n.enqueue({eventType:Vo,args:e})})),jo(r,Wo,(function(e){return n.enqueue({eventType:Wo,args:e})})),jo(r,Ho,(function(e){return n.enqueue({eventType:Ho,args:e})})),jo(r,zo,(function(e){return n.enqueue({eventType:zo,args:e})})),jo(r,Go,(function(e){return n.enqueue({eventType:Go,args:e})})),jo(r,Ko,(function(e){return n.enqueue({eventType:Ko,args:e})})),jo(r,Xo,(function(e){return n.enqueue({eventType:Xo,args:e})})),jo(r,Yo,(function(e){return n.enqueue({eventType:Yo,args:e})})),jo(r,qo,(function(e){return n.enqueue({eventType:qo,args:e})})),jo(r,$o,(function(e){return n.enqueue({eventType:$o,args:e})})),jo(r,Jo,(function(e){return n.enqueue({eventType:Jo,args:e})})),jo(r,Qo,(function(e){return n.enqueue({eventType:Qo,args:e})})),jo(r,Bo,(function(t){t.config="object"===Ro(e)&&e.options||{},n.enqueue({eventType:Bo,args:t})})),t=r,Lo._each(t,(function(e,t){Uo.on(t,e)}))):Lo.logMessage('Analytics adapter for "'.concat(i,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Lo.logMessage('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}({analyticsType:"endpoint"}),{track:function(e){var t,r,n=e.eventType,i=e.args;if(u.EVENTS.AUCTION_INIT===n&&ia.context.aggregatedEvents.splice(0),na[n]&&ia.context.aggregatedEvents.push({eventType:n,data:na[n](i)}),n===u.EVENTS.AUCTION_END){if(!ia.context.aggregatedEvents.filter((function(e){return e.eventType===u.EVENTS.BID_WON}))[0]&&me.getWinningBids()[0]){var o=na[u.EVENTS.BID_WON](me.getWinningBids()[0]);ia.context.aggregatedEvents.push({eventType:u.EVENTS.BID_WON,data:o})}!function(e){var t=e.host,r=e.method,n=e.payload,i={protocol:"https",hostname:void 0===t?"tracker.konduit.me":t,pathname:e.path};"GET"===r&&(i.search=n);var o,a,s=((o=i).protocol||"http")+"://"+(o.host||o.hostname+(o.port?":".concat(o.port):""))+(o.pathname||"")+(o.search?"?".concat((a=o.search||"",Object.keys(a).map((function(e){return Array.isArray(a[e])?a[e].map((function(t){return"".concat(e,"[]=").concat(t)})).join("&"):"".concat(e,"=").concat(a[e])})).join("&"))):"")+(o.hash?"#".concat(o.hash):"");(0,l.h)(s,void 0,"POST"===r?JSON.stringify(n):null,{contentType:"application/json",method:r,withCredentials:!0})}({method:"POST",path:"/analytics-initial-event",payload:(t=d.vc.getConfig("konduit.konduitId"),r=window.screen,{konduitId:t,prebidVersion:"4.43.4",konduitPrebidModuleVersion:"1.0.0",environment:{screen:{width:r.width,height:r.height},language:navigator.language},events:ia.context.aggregatedEvents})})}}});function oa(e){return{auctionId:e.auctionId,timestamp:e.timestamp,auctionEnd:e.auctionEnd,auctionStatus:e.auctionStatus,adUnitCodes:e.adUnitCodes,labels:e.labels,timeout:e.timeout}}ia.originEnableAnalytics=ia.enableAnalytics,ia.enableAnalytics=function(e){d.vc.getConfig("konduit.konduitId")?(ia.context={aggregatedEvents:[]},ia.originEnableAnalytics(e)):i.logError("A konduitId in config is required to use konduitAnalyticsAdapter")},Xr.ZP.registerAnalyticsAdapter({adapter:ia,code:"konduit"});var aa=n();function sa(e){return function(e){if(Array.isArray(e))return ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ua(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ua(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ca="1.0.0",la="konduit.konduitId",da="enableSendAllBids",pa="A konduitId param is required to be in configs",fa="No bids received in the auction",ha="A bid was not cached";function ga(e){return(e=[].slice.call(e)).unshift("".concat("Konduit",": ")),e}function ma(){i.logInfo.apply(i,sa(ga(arguments)))}function va(){i.logError.apply(i,sa(ga(arguments)))}function ya(e){var t=e.host,r=void 0===t?"p.konduit.me":t,n=e.protocol,i=void 0===n?"https":n,o=e.method,a=void 0===o?"GET":o,s=e.path,u=e.payload,c=e.callbacks,d=e.timeout,p={protocol:i,hostname:r,pathname:s};"GET"===a&&(p.search=u);var f,h,g=((f=p).protocol||"http")+"://"+(f.host||f.hostname+(f.port?":".concat(f.port):""))+(f.pathname||"")+(f.search?"?".concat((h=f.search||"",Object.keys(h).map((function(e){return Array.isArray(h[e])?h[e].map((function(t){return"".concat(e,"[]=").concat(t)})).join("&"):"".concat(e,"=").concat(h[e])})).join("&"))):"")+(f.hash?"#".concat(f.hash):"");(0,l.O)(d)(g,c,"POST"===a?JSON.stringify(u):null,{contentType:"application/json",method:a,withCredentials:!0})}function ba(e){return{auctionId:e.auctionId,vastUrl:e.vastUrl,bidderCode:e.bidderCode,creativeId:e.creativeId,adUnitCode:e.adUnitCode,cpm:e.cpm,currency:e.currency}}function _a(e,t,r){e.kCpm=e.cpm,e.adserverTargeting||(e.adserverTargeting={});var n=H(r)(e);d.vc.getConfig(da)&&(e.adserverTargeting["k_cpm_".concat(e.bidderCode)]=n),t.bidderCode===e.bidderCode&&t.creativeId===e.creativeId&&(e.adserverTargeting.k_cpm=n)}function wa(e,t,r,n){if(i.isNumber(e)){t.kCpm=e;var o=(0,c.D)(e,d.vc.getConfig("customPriceBucket"),d.vc.getConfig("currency.granularityMultiplier")),a=o.custom||o[n]||o.med;d.vc.getConfig(da)&&(t.adserverTargeting["k_cpm_".concat(t.bidderCode)]=a),r.bidderCode===t.bidderCode&&r.creativeId===t.creativeId&&(t.adserverTargeting.k_cpm=a)}}function Sa(e,t,r){i.isStr(e)&&(t.konduitCacheKey=e,d.vc.getConfig(da)&&(t.adserverTargeting["k_cache_key_".concat(t.bidderCode)]=e),r.bidderCode===t.bidderCode&&r.creativeId===t.creativeId&&(t.adserverTargeting.k_cache_key=e,t.adserverTargeting.konduit_cache_key=e))}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e,t){aa.adServers=aa.adServers||{},aa.adServers[e]=aa.adServers[e]||{},Object.keys(t).forEach((function(r){aa.adServers[e][r]?(0,i.logWarn)("Attempting to add an already registered function property ".concat(r," for AdServer ").concat(e,".")):aa.adServers[e][r]=t[r]}))}("konduit",{processBids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d.vc.getConfig(la);if(e=e||{},!t)return va(pa),e.callback&&e.callback(new Error(pa),[]),null;var r=e.bids||$.getBidsReceived(),n=e.bid||me.getWinningBids(e.adUnitCode,r)[0],o=[];if(d.vc.getConfig(da)?o.push.apply(o,sa(r)):n&&o.push(n),!o.length)return va(fa),e.callback&&e.callback(new Error(fa),[]),null;var a=d.vc.getConfig("priceGranularity"),s=[];o.forEach((function(e){_a(e,n,a),s.push(ba(e))})),ya({method:"POST",path:"/api/bidsProcessor",timeout:e.timeout||1e3,payload:{clientId:t,konduitPrebidModuleVersion:ca,enableSendAllBids:d.vc.getConfig(da),bids:s,bidResponsesCount:$.getBidsReceived().length},callbacks:{success:function(r){var s=null;ma("Bids processed successfully ",r);try{var u=JSON.parse(r),c=u.kCpmData,l=u.cacheData;if(i.isEmpty(l))throw new Error(ha);n.adserverTargeting.konduit_id=t,n.adserverTargeting.k_id=t,o.forEach((function(e){var t="".concat(e.bidderCode,":").concat(e.creativeId);wa(c[t],e,n,a),Sa(l[t],e,n)}))}catch(e){s=e,va("Error parsing JSON response for bidsProcessor data: ",e)}e.callback&&e.callback(s,o)},error:function(t){va("Bids were not processed successfully ",t),e.callback&&e.callback(i.isStr(t)?new Error(t):t,o)}}})}});var Ia={code:"oneVideo",VERSION:"3.1.1",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true",SYNC_ENDPOINT2:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params)return!1;if(e.params&&e.params.video&&e.params.video.e2etest)return!0;if(void 0===e.mediaTypes.video&&void 0===e.mediaTypes.banner)return i.logError("Failed validation: adUnit mediaTypes.video OR mediaTypes.banner not declared"),!1;if(e.mediaTypes.video){if(void 0===e.mediaTypes.video.playerSize&&e.params.video&&(void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight))return i.logError("Failed validation: Player size not declared in either mediaTypes.playerSize OR bid.params.video.plauerWidth & bid.params.video.playerHeight."),!1;if(void 0===e.mediaTypes.video.mimes&&(!e.params.video||void 0===e.params.video.mimes))return i.logError("Failed validation: adUnit mediaTypes.mimes OR params.video.mimes not declared"),!1;if("outstream"===e.mediaTypes.video.context&&e.params.video&&1===e.params.video.display)return i.logError("Failed validation: Dynamic Ad Placement cannot be used with context Outstream (params.video.display=1)"),!1}return e.mediaTypes.banner&&e.params.video&&!e.params.video.display?(i.logError("Failed validation: If you are trying to use Dynamic Ad Placement you must pass params.video.display=1"),!1):void 0!==e.params.pubId||(i.logError("Failed validation: Adapter cannot send requests without bid.params.pubId"),!1)},buildRequests:function(e,t){var r=t?t.gdprConsent:null;return e.map((function(e){var n=Ia.ENDPOINT,i=e.params.pubId;return e.params.video.e2etest&&(n=Ia.E2ETESTENDPOINT,i="HBExchange"),{method:"POST",url:n+i,data:Ea(e,r,t),bidRequest:e}}))},interpretResponse:function(e,t){var r,n,o,a=t.bidRequest;try{r=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&r&&(r.adm||r.nurl)&&r.price?(n=ka(a.sizes),(o={requestId:a.bidId,bidderCode:Ia.code,cpm:r.price,creativeId:r.crid,width:n.width,height:n.height,currency:e.cur,ttl:a.params.video.ttl>0&&a.params.video.ttl<=3600?a.params.video.ttl:300,netRevenue:!0,adUnitCode:a.adUnitCode,meta:{advertiserDomains:r.adomain}}).mediaType=a.mediaTypes.banner?"banner":"video",r.nurl?o.vastUrl=r.nurl:r.adm&&1===a.params.video.display?o.ad=r.adm:r.adm&&(o.vastXml=r.adm),a.mediaTypes.video&&(o.renderer="outstream"===a.mediaTypes.video.context?function(e,t){e.renderer||(e.renderer={},e.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",e.renderer.render=function(e){setTimeout((function(){o2PlayerRender(e)}),700)})}(a):void 0),o):(i.logWarn("No valid bids from ".concat(Ia.code," bidder")),[])},getUserSyncs:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.gdprApplies,i=r.consentString,o=void 0===i?"":i;if(e.pixelEnabled)return[{type:"image",url:Ia.SYNC_ENDPOINT1},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr=".concat(n?1:0,"&gdpr_consent=").concat(o,"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0")+encodeURI("&gdpr=".concat(n?1:0,"&gdpr_consent=").concat(o))},{type:"image",url:Ia.SYNC_ENDPOINT2}]}};function ka(e){var t,r,n=i.parseSizesInput(e),o=(t=n.length?n[0].split("x"):[],r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ta(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ta(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return{width:parseInt(a,10)||void 0,height:parseInt(s,10)||void 0}}function Aa(e){return!(!e||!e.gdprApplies)}function Ea(e,t,r){var n=r.refererInfo.referer,o=e.params.site&&e.params.site.page?e.params.site.page:n.href,a=e.params.site&&e.params.site.referrer?e.params.site.referrer:r.refererInfo.referer,s={currency:e.params.cur||"USD",mediaType:"video",size:"*"},u={id:i.generateUUID(),at:2,imp:[{id:"1",secure:"https:"===document.location.protocol,ext:{hb:1,prebidver:"4.43.4",adapterver:Ia.VERSION}}],site:{page:o,ref:a},device:{ua:navigator.userAgent},tmax:200};if(null==e.params.video.display||1!=e.params.video.display){if(u.imp[0].video={linearity:1},e.params.video.playerWidth&&e.params.video.playerHeight)u.imp[0].video.w=e.params.video.playerWidth,u.imp[0].video.h=e.params.video.playerHeight;else{var c=ka(e.mediaTypes.video.playerSize);u.imp[0].video.w=c.width,u.imp[0].video.h=c.height}e.params.video.mimes?u.imp[0].video.mimes=e.params.video.mimes:u.imp[0].video.mimes=e.mediaTypes.video.mimes,(e.mediaTypes.video.maxbitrate||e.params.video.maxbitrate)&&(u.imp[0].video.maxbitrate=e.params.video.maxbitrate||e.mediaTypes.video.maxbitrate),(e.mediaTypes.video.maxduration||e.params.video.maxduration)&&(u.imp[0].video.maxduration=e.params.video.maxduration||e.mediaTypes.video.maxduration),(e.mediaTypes.video.minduration||e.params.video.minduration)&&(u.imp[0].video.minduration=e.params.video.minduration||e.mediaTypes.video.minduration),(e.mediaTypes.video.api||e.params.video.api)&&(u.imp[0].video.api=e.params.video.api||e.mediaTypes.video.api),(e.mediaTypes.video.delivery||e.params.video.delivery)&&(u.imp[0].video.delivery=e.params.video.delivery||e.mediaTypes.video.delivery),(e.mediaTypes.video.position||e.params.video.position)&&(u.imp[0].video.pos=e.params.video.position||e.mediaTypes.video.position),(e.mediaTypes.video.playbackmethod||e.params.video.playbackmethod)&&(u.imp[0].video.playbackmethod=e.params.video.playbackmethod||e.mediaTypes.video.playbackmethod),(e.mediaTypes.video.placement||e.params.video.placement)&&(u.imp[0].video.placement=e.params.video.placement||e.mediaTypes.video.placement),e.params.video.rewarded&&(u.imp[0].ext.rewarded=e.params.video.rewarded),(e.mediaTypes.video.linearity||e.params.video.linearity)&&(u.imp[0].video.linearity=e.params.video.linearity||e.mediaTypes.video.linearity||1),(e.mediaTypes.video.protocols||e.params.video.protocols)&&(u.imp[0].video.protocols=e.params.video.protocols||e.mediaTypes.video.protocols||[2,5])}else 1==e.params.video.display&&(s.mediaType="banner",u.imp[0].banner={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.placement&&(u.imp[0].banner.placement=e.params.video.placement),e.params.video.maxduration&&(u.imp[0].banner.ext=u.imp[0].banner.ext||{},u.imp[0].banner.ext.maxduration=e.params.video.maxduration),e.params.video.minduration&&(u.imp[0].banner.ext=u.imp[0].banner.ext||{},u.imp[0].banner.ext.minduration=e.params.video.minduration));if(i.isFn(e.getFloor)){var l=e.getFloor(s);u.imp[0].bidfloor=l.floor,u.cur=l.currency}else u.imp[0].bidfloor=e.params.bidfloor;if(e.params.video.inventoryid&&(u.imp[0].ext.inventoryid=e.params.video.inventoryid),e.params.video.sid?(u.source={ext:{schain:{complete:1,nodes:[{sid:e.params.video.sid,rid:u.id}]}}},1==e.params.video.hp&&(u.source.ext.schain.nodes[0].hp=e.params.video.hp)):e.schain&&(u.source={ext:{schain:e.schain}},u.source.ext.schain.nodes[0].rid=u.id),e.params.site&&e.params.site.id&&(u.site.id=e.params.site.id),(Aa(t)||r&&r.uspConsent)&&(u.regs={ext:{}},Aa(t)&&(u.regs.ext.gdpr=1),t&&t.consentString&&(u.user={ext:{consent:t.consentString}}),r&&r.uspConsent&&(u.regs.ext.us_privacy=r.uspConsent)),e.params.video.e2etest&&(i.logMessage("E2E test mode enabled: \n The following parameters are being overridden by e2etest mode:\n* bidfloor:null\n* width:300\n* height:250\n* mimes: video/mp4, application/javascript\n* api:2\n* site.page/ref: verizonmedia.com\n* tmax:1000"),u.imp[0].bidfloor=null,u.imp[0].video.w=300,u.imp[0].video.h=250,u.imp[0].video.mimes=["video/mp4","application/javascript"],u.imp[0].video.api=[2],u.site.page="https://verizonmedia.com",u.site.ref="https://verizonmedia.com",u.tmax=1e3),e.params.video.custom&&i.isPlainObject(e.params.video.custom))for(var d in u.imp[0].ext.custom={},e.params.video.custom)(i.isStr(e.params.video.custom[d])||i.isNumber(e.params.video.custom[d]))&&(u.imp[0].ext.custom[d]=e.params.video.custom[d]);if(e.params.video.content&&i.isPlainObject(e.params.video.content)){u.site.content={};var p=["id","title","series","season","genre","contentrating","language"],f=["episode","prodq","context","livestream","len"],h=["cat"],g=["ext"];for(var m in e.params.video.content)p.indexOf(m)>-1&&i.isStr(e.params.video.content[m])||f.indexOf(m)>-1&&i.isNumber(e.params.video.content[m])||g.indexOf(m)>-1&&i.isPlainObject(e.params.video.content[m])||h.indexOf(m)>-1&&i.isArray(e.params.video.content[m])&&e.params.video.content[m].every((function(e){return i.isStr(e)}))?u.site.content[m]=e.params.video.content[m]:i.logMessage("oneVideo bid adapter validation error: ",m," is either not supported is OpenRTB V2.5 or value is undefined")}return u}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(Ia);var Ca=[A.Mk,A.pX],Pa=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],xa={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",haloId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",sharedId:"sharedid",tapadId:"tapadid",tdid:"ttduuid",verizonMediaId:"verizonmediaid"},Da={code:"openx",gvlid:69,supportedMediaTypes:Ca,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return i.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||i.deepAccess(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var r,n,o=[],a=function(e){return e.reduce((function(e,t){var r;return r=t,i.deepAccess(r,"mediaTypes.video")&&!i.deepAccess(r,"mediaTypes.banner")||r.mediaType===A.pX?e[0].push(t):e[1].push(t),e}),[[],[]])}(e),s=(n=2,function(e){if(Array.isArray(e))return e}(r=a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(r,n)||function(e,t){if(e){if("string"==typeof e)return Oa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oa(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],c=s[1];return c.length>0&&o.push(function(e,t){var r=[],n=!1,o=Ra(e,t),a=i._map(e,(function(e){return e.params.unit}));return o.aus=i._map(e,(function(e){return i.parseSizesInput(e.mediaTypes.banner.sizes).join(",")})).join("|"),o.divids=i._map(e,(function(e){return encodeURIComponent(e.adUnitCode)})).join(","),o.aucs=i._map(e,(function(e){var t=i.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")})).join(","),a.some((function(e){return e}))&&(o.auid=a.join(",")),e.some((function(e){return e.params.doNotTrack}))&&(o.ns=1),(!0===d.vc.getConfig("coppa")||e.some((function(e){return e.params.coppa})))&&(o.tfcd=1),e.forEach((function(e){if(e.params.customParams){var t=i._map(Object.keys(e.params.customParams),(function(t){return function(e,t){var r=t[e];return i.isArray(r)&&(r=r.join(",")),(e.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)})),o=window.btoa(t.join("&"));n=!0,r.push(o)}else r.push("")})),n&&(o.tps=r.join(",")),Ma(o,A.Mk,e),{method:"GET",url:o.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:o,payload:{bids:e,startTime:new Date}}}(c,t)),u.length>0&&u.forEach((function(e){o.push(function(e,t){var r=function(e,t){var r,n,o=i.deepAccess(e,"mediaTypes.video"),a=Ra([e],t),s=i.deepAccess(e,"params.video")||{},u=i.deepAccess(e,"mediaTypes.video.context"),c=i.deepAccess(e,"mediaTypes.video.playerSize");i.isArray(e.sizes)&&2===e.sizes.length&&!i.isArray(e.sizes[0])?(r=parseInt(e.sizes[0],10),n=parseInt(e.sizes[1],10)):i.isArray(e.sizes)&&i.isArray(e.sizes[0])&&2===e.sizes[0].length?(r=parseInt(e.sizes[0][0],10),n=parseInt(e.sizes[0][1],10)):i.isArray(c)&&2===c.length&&(r=parseInt(c[0],10),n=parseInt(c[1],10));var l={w:r,h:n},d=e.params.video||e.params.openrtb||{};d.openrtb&&(d=d.openrtb),i.isArray(d.imp)&&(d=d.imp[0].video),Object.keys(d).filter((function(e){return I()(Pa,e)})).forEach((function(e){return l[e]=d[e]})),Object.keys(o).filter((function(e){return I()(Pa,e)})).forEach((function(e){return l[e]=o[e]}));var p={imp:[{video:l}]};a.openrtb=JSON.stringify(p),a.auid=e.params.unit,a.vwd=r||s.vwd,a.vht=n||s.vht,"outstream"===u&&(a.vos="101"),s.mimes&&(a.vmimes=s.mimes),e.params.test&&(a.vtest=1);var f=i.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return f&&(a.aucs=encodeURIComponent(f)),Ma(a,A.pX,[e]),a}(e,t);return{method:"GET",url:r.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:r,payload:{bid:e,startTime:new Date}}}(e,t))})),o},interpretResponse:function(e,t){var r=e.body,n=function(e){return/avjp$/.test(e.url)?A.pX:A.Mk}(t);return n===A.pX?function(e,t){var r=t.bid,n=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&e.pub_rev>0){var o=i.parseUrl(e.vastUrl).search||{},a={};a.requestId=r.bidId,e.deal_id&&(a.dealId=e.deal_id),a.ttl=300,a.netRevenue=!0,a.currency=e.currency,a.cpm=parseInt(e.pub_rev,10)/1e3,a.width=parseInt(e.width,10),a.height=parseInt(e.height,10),a.creativeId=e.adid,a.vastUrl=e.vastUrl,a.mediaType=A.pX,e.ph=o.ph,e.colo=o.colo,e.ts=o.ts,n.push(a)}return n}(r,t.payload):function(e,t){for(var r=t.bids,n=(t.startTime,e.ads.ad),i=[],o=0;o<n.length;o++){var a=n[o],s=parseInt(a.idx,10),u={};if(u.requestId=r[s].bidId,a.pub_rev){u.cpm=Number(a.pub_rev)/1e3;var c=a.creative[0];c&&(u.width=c.width,u.height=c.height),u.creativeId=c.id,u.ad=a.html,a.deal_id&&(u.dealId=a.deal_id),u.ttl=300,u.netRevenue=!0,u.currency=a.currency,a.tbd&&(u.tbd=a.tbd),u.ts=a.ts,u.meta={},a.brand_id&&(u.meta.brandId=a.brand_id),a.adomain&&length(a.adomain)>0?u.meta.advertiserDomains=a.adomain:u.meta.advertiserDomains=[],a.adv_id&&(u.meta.dspid=a.adv_id),i.push(u)}}return i}(r,t.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled){var o=e.iframeEnabled?"iframe":"image",a=i.deepAccess(t,"0.body.ads.pixels")||i.deepAccess(t,"0.body.pixels")||function(e,t){var r=[];return e&&(r.push("gdpr="+(e.gdprApplies?1:0)),r.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&r.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(r.length>0?"?"+r.join("&"):"")}(r,n);return[{type:o,url:a}]}},transformBidParams:function(e,t){return i.convertTypes({unit:"string",customFloor:"number"},e)}};function ja(e){var t,r,n,i=window,o=document,a=o.documentElement;if(e){try{i=window.top,o=window.top.document}catch(e){return}a=o.documentElement,n=o.body,t=i.innerWidth||a.clientWidth||n.clientWidth,r=i.innerHeight||a.clientHeight||n.clientHeight}else a=o.documentElement,t=i.innerWidth||a.clientWidth,r=i.innerHeight||a.clientHeight;return"".concat(t,"x").concat(r)}function Ra(e,t){var r,n,o,a,s,u,c=i.inIframe();if(r={ju:d.vc.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:c,tz:(new Date).getTimezoneOffset(),tws:ja(c),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:i._map(e,(function(e){return e.transactionId})).join(","),nocache:(new Date).getTime()},e[0].params.platform&&(r.ph=e[0].params.platform),t.gdprConsent){var l=t.gdprConsent;void 0!==l.consentString&&(r.gdpr_consent=l.consentString),void 0!==l.gdprApplies&&(r.gdpr=l.gdprApplies?1:0),"iab"===d.vc.getConfig("consentManagement.cmpApi")&&(r.x_gdpr_f=1)}return t&&t.uspConsent&&(r.us_privacy=t.uspConsent),i.deepAccess(e[0],"crumbs.pubcid")&&i.deepSetValue(e[0],"userId.pubcid",i.deepAccess(e[0],"crumbs.pubcid")),n=r,o=e[0].userId,i._each(o,(function(e,t){var r=xa[t];if(xa.hasOwnProperty(t))switch(t){case"lipb":n[r]=e.lipbid;break;case"parrableId":n[r]=e.eid;break;case"id5id":n[r]=e.uid;break;default:n[r]=e}})),r=n,e[0].schain&&(r.schain=(a=e[0].schain,"".concat(a.ver,",").concat(a.complete,"!").concat((s=a.nodes,u=["asi","sid","hp","rid","name","domain"],s.map((function(e){return u.map((function(t){return e[t]||""})).join(",")})).join("!"))))),r}function Ma(e,t,r){var n=[],i=!1;r.forEach((function(e){var r=function(e,t){var r={},n=d.vc.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(r=e.getFloor({currency:n,mediaType:t,size:"*"}));var i=r.floor||e.params.customFloor||0;return Math.round(1e3*i)}(e,t);r?(n.push(r),i=!0):n.push(0)})),i&&(e.aumfs=n.join(","))}function Ua(){return Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}function La(e){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(e)}(0,ct.dX)(Da);var Na="https://elb.the-ozone-project.com",Ba="/openrtb2/auction",qa="/static/load-cookie.html",Fa="https://test.ozpr.net",Va="2.6.0",za={gvlid:524,aliases:[{code:"lmc",gvlid:524},{code:"newspassid",gvlid:524}],version:Va,code:"ozone",supportedMediaTypes:[A.pX,A.Mk],cookieSyncBag:{publisherId:null,siteId:null,userIdObject:{}},propertyBag:{pageId:null,buildRequestsStart:0,buildRequestsEnd:0,endpointOverride:null},whitelabel_defaults:{logId:"OZONE",bidder:"ozone",keyPrefix:"oz",auctionUrl:Na+Ba,cookieSyncUrl:Na+qa,rendererUrl:"https://prebid.the-ozone-project.com/ozone-renderer.js"},loadWhitelabelData:function(e){if(!this.propertyBag.whitelabel){this.propertyBag.whitelabel=JSON.parse(JSON.stringify(this.whitelabel_defaults));var t=e.bidder||"ozone";this.propertyBag.whitelabel.logId=t.toUpperCase(),this.propertyBag.whitelabel.bidder=t;var r=d.vc.getConfig(t)||{};i.logInfo("got bidderConfig: ",JSON.parse(JSON.stringify(r))),r.kvpPrefix&&(this.propertyBag.whitelabel.keyPrefix=r.kvpPrefix);var n=this.getGetParametersAsObject();r.endpointOverride&&(r.endpointOverride.origin&&(this.propertyBag.endpointOverride=r.endpointOverride.origin,this.propertyBag.whitelabel.auctionUrl=r.endpointOverride.origin+Ba,this.propertyBag.whitelabel.cookieSyncUrl=r.endpointOverride.origin+qa),n.hasOwnProperty("renderer")?n.renderer.match("%3A%2F%2F")?this.propertyBag.whitelabel.rendererUrl=decodeURIComponent(n.renderer):this.propertyBag.whitelabel.rendererUrl=n.renderer:r.endpointOverride.rendererUrl&&(this.propertyBag.whitelabel.rendererUrl=r.endpointOverride.rendererUrl),r.endpointOverride.cookieSyncUrl&&(this.propertyBag.whitelabel.cookieSyncUrl=r.endpointOverride.cookieSyncUrl),r.endpointOverride.auctionUrl&&(this.propertyBag.endpointOverride=r.endpointOverride.auctionUrl,this.propertyBag.whitelabel.auctionUrl=r.endpointOverride.auctionUrl));try{n.hasOwnProperty("auction")&&"dev"===n.auction&&(i.logInfo("GET: auction=dev"),this.propertyBag.whitelabel.auctionUrl=Fa+Ba),n.hasOwnProperty("cookiesync")&&"dev"===n.cookiesync&&(i.logInfo("GET: cookiesync=dev"),this.propertyBag.whitelabel.cookieSyncUrl=Fa+qa)}catch(e){}i.logInfo("set propertyBag.whitelabel to",this.propertyBag.whitelabel)}},getAuctionUrl:function(){return this.propertyBag.whitelabel.auctionUrl},getCookieSyncUrl:function(){return this.propertyBag.whitelabel.cookieSyncUrl},getRendererUrl:function(){return this.propertyBag.whitelabel.rendererUrl},isBidRequestValid:function(e){this.loadWhitelabelData(e),i.logInfo("isBidRequestValid : ",d.vc.getConfig(),e);var t=e.adUnitCode;if(!e.params.hasOwnProperty("placementId"))return i.logError("VALIDATION FAILED : missing placementId : siteId, placementId and publisherId are REQUIRED",t),!1;if(!this.isValidPlacementId(e.params.placementId))return i.logError("VALIDATION FAILED : placementId must be exactly 10 numeric characters",t),!1;if(!e.params.hasOwnProperty("publisherId"))return i.logError("VALIDATION FAILED : missing publisherId : siteId, placementId and publisherId are REQUIRED",t),!1;if(!e.params.publisherId.toString().match(/^[a-zA-Z0-9\-]{12}$/))return i.logError("VALIDATION FAILED : publisherId must be exactly 12 alphanumieric characters including hyphens",t),!1;if(!e.params.hasOwnProperty("siteId"))return i.logError("VALIDATION FAILED : missing siteId : siteId, placementId and publisherId are REQUIRED",t),!1;if(!e.params.siteId.toString().match(/^[0-9]{10}$/))return i.logError("VALIDATION FAILED : siteId must be exactly 10 numeric characters",t),!1;if(e.params.hasOwnProperty("customParams"))return i.logError("VALIDATION FAILED : customParams should be renamed to customData",t),!1;if(e.params.hasOwnProperty("customData")){if(!Array.isArray(e.params.customData))return i.logError("VALIDATION FAILED : customData is not an Array",t),!1;if(e.params.customData.length<1)return i.logError("VALIDATION FAILED : customData is an array but does not contain any elements",t),!1;if(!e.params.customData[0].hasOwnProperty("targeting"))return i.logError('VALIDATION FAILED : customData[0] does not contain "targeting"',t),!1;if("object"!=La(e.params.customData[0].targeting))return i.logError("VALIDATION FAILED : customData[0] targeting is not an object",t),!1}if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(A.pX)){if(!e.mediaTypes[A.pX].hasOwnProperty("context"))return i.logError("No video context key/value in bid. Rejecting bid: ",e),!1;if("instream"!==e.mediaTypes[A.pX].context&&"outstream"!==e.mediaTypes[A.pX].context)return i.logError("video.context is invalid. Only instream/outstream video is supported. Rejecting bid: ",e),!1}return!0},isValidPlacementId:function(e){return e.toString().match(/^[0-9]{10}$/)},buildRequests:function(e,t){var r=this;this.loadWhitelabelData(e[0]),this.propertyBag.buildRequestsStart=(new Date).getTime();var n=this.propertyBag.whitelabel.bidder,o=this.propertyBag.whitelabel.keyPrefix;if(i.logInfo("buildRequests time: ".concat(this.propertyBag.buildRequestsStart," v ").concat(Va," validBidRequests"),JSON.parse(JSON.stringify(e)),"bidderRequest",JSON.parse(JSON.stringify(t))),this.blockTheRequest())return[];var a={publisherId:"",siteId:""};e.length>0&&(this.cookieSyncBag.userIdObject=Ua(this.cookieSyncBag.userIdObject,this.findAllUserIds(e[0])),this.cookieSyncBag.siteId=i.deepAccess(e[0],"params.siteId"),this.cookieSyncBag.publisherId=i.deepAccess(e[0],"params.publisherId"),a=e[0].params),i.logInfo("cookie sync bag",this.cookieSyncBag);var s=this.getWhitelabelConfigItem("ozone.singleRequest");s=!1!==s,i.logInfo("config ".concat(n,".singleRequest : "),s);var u={};delete u.test;var c=d.vc.getConfig("ortb2");c&&i.deepAccess(c,"user")&&(i.logInfo("added FPD user object"),u.user=c.user);var l=this.getGetParametersAsObject(),p=o+"testmode",f=l[p]||null;u.device={w:window.innerWidth,h:window.innerHeight};var h=this.getPlacementIdOverrideFromGetParam(),g=e.map((function(e){var t={},o=h||r.getPlacementId(e);t.id=e.bidId,t.tagid=o,t.secure="https:"===window.location.protocol?1:0;var a,s,u=[];if(e.hasOwnProperty("mediaTypes")){if(e.mediaTypes.hasOwnProperty(A.Mk)&&(u=e.mediaTypes[A.Mk].sizes,i.logInfo("setting banner size from the mediaTypes.banner element for bidId "+t.id+": ",u)),e.mediaTypes.hasOwnProperty(A.pX)){if(i.logInfo("openrtb 2.5 compliant video"),"object"==La(e.mediaTypes[A.pX])){var l=i.deepAccess(e,"params.video",{});t.video=r.unpackVideoConfigIntoIABformat(e.mediaTypes[A.pX],l),t.video=r.addVideoDefaults(t.video,e.mediaTypes[A.pX],l)}var d=(a=t.video,(s=$a(a))?s[0]&&"object"===La(s[0])&&(i.logInfo("getWidthAndHeightFromVideoObject found nested array inside playerSize.",s[0]),"number"!=typeof(s=s[0])[0]&&"string"!=typeof s[0])?(i.logInfo("getWidthAndHeightFromVideoObject found non-number/string type inside the INNER array in playerSize. This is totally wrong - cannot continue.",s[0]),null):2!==s.length?(i.logInfo("getWidthAndHeightFromVideoObject found playerSize with length of "+s.length+". This is totally wrong - cannot continue."),null):{w:s[0],h:s[1]}:null);i.logInfo("setting video object from the mediaTypes.video element: "+t.id+":",t.video,"wh=",d),d&&"object"===La(d)?(t.video.w=d.w,t.video.h=d.h,function(e){var t=$a(e);return t?t.length<1?null:t[0]&&"object"===La(t[0]):null}(t.video)?(i.logInfo("setting obj.video.format to be an array of objects"),t.video.ext.format=[d]):(i.logInfo("setting obj.video.format to be an object"),t.video.ext.format=d)):i.logWarn("cannot set w, h & format values for video; the config is not right")}e.mediaTypes.hasOwnProperty(A.B5)&&(t.native=e.mediaTypes[A.B5],i.logInfo("setting native object from the mediaTypes.native element: "+t.id+":",t.native)),e.hasOwnProperty("getFloor")?(i.logInfo("This bidRequest object has property: getFloor"),t.floor=r.getFloorObjectForAuction(e),i.logInfo("obj.floor is : ",t.floor)):i.logInfo("This bidRequest object DOES NOT have property: getFloor")}else e.hasOwnProperty("sizes")?(i.logInfo("no mediaTypes detected - will use the sizes array in the config root"),u=e.sizes):i.logInfo("no mediaTypes detected, no sizes array in the config root either. Cannot set sizes for banner type");if(u.length>0&&(t.banner={topframe:1,w:u[0][0]||0,h:u[0][1]||0,format:u.map((function(e){return{w:e[0],h:e[1]}}))}),t.placementId=o,i.deepSetValue(t,"ext.prebid",{storedrequest:{id:o}}),t.ext[n]={},t.ext[n].adUnitCode=e.adUnitCode,t.ext[n].transactionId=e.transactionId,e.params.hasOwnProperty("customData")&&(t.ext[n].customData=e.params.customData),i.logInfo("obj.ext.".concat(n," is "),t.ext[n]),null!=f)if(i.logInfo("setting isTestMode to ",f),t.ext[n].hasOwnProperty("customData"))for(var g=0;g<t.ext[n].customData.length;g++)t.ext[n].customData[g].targeting[p]=f;else t.ext[n].customData=[{settings:{},targeting:{}}],t.ext[n].customData[0].targeting[p]=f;return c&&i.deepAccess(c,"site")&&(i.logInfo("added FPD site object"),i.deepAccess(t,"ext."+n+".customData.0.targeting",!1)?t.ext[n].customData[0].targeting=Ua(t.ext[n].customData[0].targeting,c.site):i.deepSetValue(t,"ext."+n+".customData.0.targeting",c.site)),t})),m={};if(m[n]={},m[n][o+"_pb_v"]=Va,m[n][o+"_rw"]=h?1:0,e.length>0){var v=this.cookieSyncBag.userIdObject;v.hasOwnProperty("pubcid")&&(m[n].pubcid=v.pubcid)}m[n].pv=this.getPageId();var y=this.getWhitelabelConfigItem("ozone.oz_omp_floor");i.logInfo("".concat(o,"_omp_floor dollar value = "),y),"number"==typeof y?m[n][o+"_omp_floor"]=y:void 0!==y&&i.logError("".concat(o,"_omp_floor is invalid - IF SET then this must be a number, representing dollar value eg. ").concat(o,"_omp_floor: 1.55. You have it set as a ")+La(y));var b=this.getWhitelabelConfigItem("ozone.oz_whitelist_adserver_keys"),_=i.isArray(b)&&b.length>0;m[n][o+"_kvp_rw"]=_?1:0,"ozone"!=n&&(i.logInfo("setting aliases object"),m.prebid={aliases:{ozone:n}}),l.hasOwnProperty("ozf")&&(m[n].ozf="true"==l.ozf||1==l.ozf?1:0),l.hasOwnProperty("ozpf")&&(m[n].ozpf="true"==l.ozpf||1==l.ozpf?1:0),l.hasOwnProperty("ozrp")&&l.ozrp.match(/^[0-3]$/)&&(m[n].ozrp=parseInt(l.ozrp)),l.hasOwnProperty("ozip")&&l.ozip.match(/^\d+$/)&&(m[n].ozip=parseInt(l.ozip)),null!=this.propertyBag.endpointOverride&&(m[n].origin=this.propertyBag.endpointOverride);var w=this.generateEids(e);if(u.site={publisher:{id:a.publisherId},page:document.location.href,id:a.siteId},u.test=l.hasOwnProperty("pbjs_debug")&&"true"===l.pbjs_debug?1:0,t&&t.gdprConsent){i.logInfo("ADDING GDPR info");var S=i.deepAccess(t,"gdprConsent.apiVersion",1);u.regs={ext:{gdpr:t.gdprConsent.gdprApplies?1:0,apiVersion:S}},i.deepAccess(u,"regs.ext.gdpr")?i.deepSetValue(u,"user.ext.consent",t.gdprConsent.consentString):i.logInfo("**** Strange CMP info: bidderRequest.gdprConsent exists BUT bidderRequest.gdprConsent.gdprApplies is false. See bidderRequest logged above. ****")}else i.logInfo("WILL NOT ADD GDPR info; no bidderRequest.gdprConsent object");if(t&&t.uspConsent?(i.logInfo("ADDING CCPA info"),i.deepSetValue(u,"user.ext.uspConsent",t.uspConsent)):i.logInfo("WILL NOT ADD CCPA info; no bidderRequest.uspConsent."),!0===d.vc.getConfig("coppa")&&i.deepSetValue(u,"regs.coppa",1),s){i.logInfo("buildRequests starting to generate response for a single request"),u.id=t.auctionId,u.auctionId=t.auctionId,u.imp=g,u.ext=m,u.source={tid:t.auctionId},i.deepSetValue(u,"user.ext.eids",w);var T={method:"POST",url:this.getAuctionUrl(),data:JSON.stringify(u),bidderRequest:t};return i.logInfo("buildRequests request data for single = ",JSON.parse(JSON.stringify(u))),this.propertyBag.buildRequestsEnd=(new Date).getTime(),i.logInfo("buildRequests going to return for single at time ".concat(this.propertyBag.buildRequestsEnd," (took ").concat(this.propertyBag.buildRequestsEnd-this.propertyBag.buildRequestsStart,"ms): "),T),T}var I=g.map((function(e){i.logInfo("buildRequests starting to generate non-single response, working on imp : ",e);var o=Ua({},u);return e.ext[n].pageAuctionId=t.auctionId,o.id=e.ext[n].transactionId,o.auctionId=e.ext[n].transactionId,o.imp=[e],o.ext=m,o.source={tid:e.ext[n].transactionId},i.deepSetValue(o,"user.ext.eids",w),i.logInfo("buildRequests RequestSingle (for non-single) = ",o),{method:"POST",url:r.getAuctionUrl(),data:JSON.stringify(o),bidderRequest:t}}));return this.propertyBag.buildRequestsEnd=(new Date).getTime(),i.logInfo("buildRequests going to return for non-single at time ".concat(this.propertyBag.buildRequestsEnd," (took ").concat(this.propertyBag.buildRequestsEnd-this.propertyBag.buildRequestsStart,"ms): "),I),I},getFloorObjectForAuction:function(e){var t={banner:i.deepAccess(e,"mediaTypes.banner.sizes",null),video:i.deepAccess(e,"mediaTypes.video.playerSize",null),native:i.deepAccess(e,"mediaTypes.native.image.sizes",null)};i.logInfo("getFloorObjectForAuction mediaTypesSizes : ",t);var r={};return t.banner&&(r.banner=e.getFloor({mediaType:"banner",currency:"USD",size:t.banner})),t.video&&(r.video=e.getFloor({mediaType:"video",currency:"USD",size:t.video})),t.native&&(r.native=e.getFloor({mediaType:"native",currency:"USD",size:t.native})),i.logInfo("getFloorObjectForAuction returning : ",JSON.parse(JSON.stringify(r))),r},interpretResponse:function(e,t){var r=this;t&&t.bidderRequest&&t.bidderRequest.bids&&this.loadWhitelabelData(t.bidderRequest.bids[0]);var n=(new Date).getTime(),o=this.propertyBag.whitelabel.bidder,a=this.propertyBag.whitelabel.keyPrefix;if(i.logInfo("interpretResponse time: ".concat(n," . Time between buildRequests done and interpretResponse start was ").concat(n-this.propertyBag.buildRequestsEnd,"ms")),i.logInfo("serverResponse, request",JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(t))),!(e=e.body||{}).hasOwnProperty("seatbid"))return[];if("object"!==La(e.seatbid))return[];var s=[],u=this.getWhitelabelConfigItem("ozone.enhancedAdserverTargeting");i.logInfo("enhancedAdserverTargeting",u),void 0===u&&(u=!0),i.logInfo("enhancedAdserverTargeting",u),e.seatbid=function(e){i.logInfo("injectAdIdsIntoAllBidResponses",e);for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.bid.length;n++)r.bid[n].adId="".concat(r.bid[n].impid,"-").concat(t,"-").concat(za.propertyBag.whitelabel.keyPrefix,"-").concat(n);return e}(e.seatbid),e.seatbid=this.removeSingleBidderMultipleBids(e.seatbid);for(var c=this.getWhitelabelConfigItem("ozone.oz_omp_floor"),l="number"==typeof c,d=this.getWhitelabelConfigItem("ozone.oz_whitelist_adserver_keys"),p=i.isArray(d)&&d.length>0,f=0;f<e.seatbid.length;f++)for(var h=e.seatbid[f],g=function(n){var g=r.getBidRequestForBidId(h.bid[n].impid,t.bidderRequest.bids);i.logInfo("seatbid:".concat(f,", bid:").concat(n," Going to set default w h for seatbid/bidRequest"),h.bid[n],g);var m=Ha(g),v=m.defaultWidth,y=m.defaultHeight,b=Ya(h.bid[n],v,y);b.meta={advertiserDomains:b.adomain||[]};var _=null,w=!1,S=i.deepAccess(b,"ext.prebid.type");i.logInfo("this bid type is : ".concat(S),n),S===A.pX&&(w=!0,"outstream"===(_=r.getVideoContextForBidId(b.bidId,t.bidderRequest.bids))?(i.logInfo("going to attach a renderer to OUTSTREAM video : ",n),b.renderer=Ja(b.bidId)):i.logInfo("bid is not an outstream video, will not attach a renderer: ",n));var T={};if(u){var I=Ka(b.bidId,e.seatbid);i.logInfo("Going to iterate allBidsForThisBidId",I),Object.keys(I).forEach((function(e,t,r){i.logInfo("adding adserverTargeting for ".concat(e," for bidId ").concat(b.bidId)),T[a+"_"+e]=e,T[a+"_"+e+"_crid"]=String(I[e].crid),T[a+"_"+e+"_adv"]=String(I[e].adomain),T[a+"_"+e+"_adId"]=String(I[e].adId),T[a+"_"+e+"_pb_r"]=Xa(I[e].price,I[e].ext.prebid.type),I[e].hasOwnProperty("dealid")&&(T[a+"_"+e+"_dealid"]=String(I[e].dealid)),l&&(T[a+"_"+e+"_omp"]=I[e].price>=c?"1":"0"),w&&(T[a+"_"+e+"_vid"]=_);var n=i.deepAccess(I[e],"ext.bidder.".concat(o,".floor"),null);null!=n&&(T[a+"_"+e+"_flr"]=n);var s=i.deepAccess(I[e],"ext.bidder.".concat(o,".ruleId"),null);null!=s&&(T[a+"_"+e+"_rid"]=s),e.match(/^ozappnexus/)&&(T[a+"_"+e+"_sid"]=String(I[e].cid))}))}else p?i.logWarn("You have set a whitelist of adserver keys but this will be ignored because ".concat(o,".enhancedAdserverTargeting is set to false. No per-bid keys will be sent to adserver.")):i.logInfo("".concat(o,".enhancedAdserverTargeting is set to false, so no per-bid keys will be sent to adserver."));var k=Ga(b.bidId,e.seatbid),E=k.seat,O=k.bid;T[a+"_auc_id"]=String(t.bidderRequest.auctionId),T[a+"_winner"]=String(E),T[a+"_bid"]="true",u&&(T[a+"_imp_id"]=String(O.impid),T[a+"_pb_v"]=Va,T[a+"_pb"]=O.price,T[a+"_pb_r"]=Xa(O.price,S),T[a+"_adId"]=String(O.adId),T[a+"_size"]="".concat(O.width,"x").concat(O.height)),p&&(i.logInfo("Going to filter out adserver targeting keys not in the whitelist: ",d),Object.keys(T).forEach((function(e){-1===d.indexOf(e)&&delete T[e]}))),b.adserverTargeting=T,s.push(b)},m=0;m<h.bid.length;m++)g(m);var v=(new Date).getTime();return i.logInfo("interpretResponse going to return at time ".concat(v," (took ").concat(v-n,"ms) Time from buildRequests Start -> interpretRequests End = ").concat(v-this.propertyBag.buildRequestsStart,"ms"),s),s},getWhitelabelConfigItem:function(e){if("ozone"==this.propertyBag.whitelabel.bidder)return d.vc.getConfig(e);var t=e.replace("ozone",this.propertyBag.whitelabel.bidder);return t=e.replace("oz_",this.propertyBag.whitelabel.keyPrefix+"_"),d.vc.getConfig(t)},removeSingleBidderMultipleBids:function(e){for(var t=[],r=0;r<e.length;r++){for(var n=e[r],o={seat:n.seat,bid:[]},a=[],s=0;s<n.bid.length;s++){var u=n.bid[s];if(!i.contains(a,u.impid)){a.push(u.impid);for(var c=s+1;c<n.bid.length;c++)n.bid[c].impid===u.impid&&n.bid[c].price>u.price&&(u=n.bid[c]);o.bid.push(u)}}t.push(o)}return t},getUserSyncs:function(e,t,r,n){if(i.logInfo("getUserSyncs optionsType",e,"serverResponse",t,"gdprConsent",r,"usPrivacy",n,"cookieSyncBag",this.cookieSyncBag),!t||0===t.length)return[];if(e.iframeEnabled){var o=[];for(var a in document.location.search.match(/pbjs_debug=true/)&&o.push("pbjs_debug=true"),o.push("gdpr="+(i.deepAccess(r,"gdprApplies",!1)?"1":"0")),o.push("gdpr_consent="+i.deepAccess(r,"consentString","")),o.push("usp_consent="+(n||"")),this.cookieSyncBag.userIdObject)o.push(a+"="+this.cookieSyncBag.userIdObject[a]);o.push("publisherId="+this.cookieSyncBag.publisherId),o.push("siteId="+this.cookieSyncBag.siteId),o.push("cb="+Date.now()),o.push("bidder="+this.propertyBag.whitelabel.bidder);var s=o.join("&");return s.length>0&&(s="?"+s),i.logInfo("getUserSyncs going to return cookie sync url : "+this.getCookieSyncUrl()+s),[{type:"iframe",url:this.getCookieSyncUrl()+s}]}},getBidRequestForBidId:function(e,t){for(var r=0;r<t.length;r++)if(t[r].bidId===e)return t[r];return null},getVideoContextForBidId:function(e,t){var r=this.getBidRequestForBidId(e,t);return null!=r?i.deepAccess(r,"mediaTypes.video.context","unknown"):null},findAllUserIds:function(e){var t={},r=["pubcid","tdid","idl_env","criteoId","lotamePanoramaId","fabrickId"];if(e.hasOwnProperty("userId")){for(var n in r){var o=r[n];e.userId.hasOwnProperty(o)&&("string"==typeof e.userId[o]?t[o]=e.userId[o]:"object"==La(e.userId[o])?(i.logError("WARNING: findAllUserIds had to use first key in user object to get value for bid.userId key: ".concat(o,". Prebid adapter should be updated.")),t[o]=e.userId[o][Object.keys(e.userId[o])[0]]):i.logError("failed to get string key value for userId : ".concat(o)))}var a=i.deepAccess(e.userId,"lipb.lipbid");a&&(t.lipb={lipbid:a});var s=i.deepAccess(e.userId,"id5id.uid");s&&(t.id5id=s);var u=i.deepAccess(e.userId,"parrableId.eid");u&&(t.parrableId=u);var c=i.deepAccess(e.userId,"sharedid.id");c&&(t.sharedid=c);var l=i.deepAccess(e.userId,"sharedid.third");l&&(t.sharedidthird=l)}if(!t.hasOwnProperty("pubcid")){var d=i.deepAccess(e,"crumbs.pubcid");d&&(t.pubcid=d)}return t},getPlacementId:function(e){return e.params.placementId.toString()},getPlacementIdOverrideFromGetParam:function(){var e=this.propertyBag.whitelabel.keyPrefix,t=this.getGetParametersAsObject();if(t.hasOwnProperty(e+"storedrequest")){if(this.isValidPlacementId(t[e+"storedrequest"]))return i.logInfo("using GET ".concat(e,"storedrequest ")+t[e+"storedrequest"]+" to replace placementId"),t[e+"storedrequest"];i.logError("GET ".concat(e,"storedrequest FAILED VALIDATION - will not use it"))}return null},generateEids:function(e){var t,r=e[0];return r&&r.userId&&(t=r.userIdAsEids,this.handleTTDId(t,e)),t},handleTTDId:function(e,t){var r=null,n=d.vc.getConfig("adsrvrOrgId");i.isStr(i.deepAccess(t,"0.userId.tdid"))?r=t[0].userId.tdid:n&&i.isStr(n.TDID)&&(r=n.TDID),null!==r&&e.push({source:"adserver.org",uids:[{id:r,atype:1,ext:{rtiPartner:"TDID"}}]})},getGetParametersAsObject:function(){for(var e=location.search.substr(1).split("&"),t={},r=null,n=0;n<e.length;n++)t[(r=e[n].split("="))[0]]=r[1];return t},blockTheRequest:function(){var e=this.getWhitelabelConfigItem("ozone.oz_request");return"boolean"==typeof e&&!e&&(i.logWarn("Will not allow auction : ".concat(this.propertyBag.whitelabel.keyPrefix,"one.").concat(this.propertyBag.whitelabel.keyPrefix,"_request is set to false")),!0)},getPageId:function(){if(null==this.propertyBag.pageId){for(var e="",t=20;t>0;t--)e+="0123456789abcdefghijklmnopqrstuvwxyz"[Math.floor(36*Math.random())];this.propertyBag.pageId=(new Date).getTime()+"_"+e}return this.propertyBag.pageId},unpackVideoConfigIntoIABformat:function(e,t){var r={ext:{}};return r=this._unpackVideoConfigIntoIABformat(r,e),this._unpackVideoConfigIntoIABformat(r,t)},_unpackVideoConfigIntoIABformat:function(e,t){var r=["mimes","minduration","maxduration","protocols","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype"],n=function(n){a=!1,r.forEach((function(r){r===n&&(e[n]=t[n],a=!0)})),a||(e.ext[n]=t[n])};for(var o in t){var a;n(o)}return t.hasOwnProperty("ext")&&"object"===La(t.ext)&&(t.hasOwnProperty("ext")?e.ext=i.mergeDeep(e.ext,t.ext):e.ext=t.ext),e},addVideoDefaults:function(e,t,r){return e=this._addVideoDefaults(e,t,!1),this._addVideoDefaults(e,r,!0)},_addVideoDefaults:function(e,t,r){var n=i.deepAccess(t,"context");"outstream"===n?e.placement=3:"instream"===n&&(e.placement=1);var o=i.deepAccess(t,"skippable",null);return null==o?r&&!e.hasOwnProperty("skip")&&(e.skip=o?1:0):e.skip=o?1:0,e}};function Wa(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:e}function Ha(e){if(!e)return i.logInfo("defaultSize received empty bid obj! going to return fixed default size"),{defaultHeight:250,defaultWidth:300};var t=e.sizes,r={};return r.defaultWidth=Wa(t)[0],r.defaultHeight=Wa(t)[1],r}function Ga(e,t){for(var r=null,n=null,i=0;i<t.length;i++)for(var o=t[i].bid,a=t[i].seat,s=0;s<o.length;s++)if(o[s].impid===e&&(null==r||r.price<o[s].price)){r=o[s],n=a;break}return{seat:n,bid:r}}function Ka(e,t){for(var r={},n=0;n<t.length;n++)for(var i=t[n].bid,o=t[n].seat,a=0;a<i.length;a++)i[a].impid===e&&(r.hasOwnProperty(o)?r[o].price<i[a].price&&(r[o]=i[a]):r[o]=i[a]);return r}function Xa(e,t){var r=d.vc.getConfig("mediaTypePriceGranularity.".concat(t)),n=d.vc.getConfig("customPriceBucket"),o=d.vc.getConfig("priceGranularity"),a=function(e,t,r,n){return"object"===La(t)?t:"custom"===r?n:""}(0,r,o,n),s=function(e,t,r){return"string"==typeof t?t:"object"===La(t)?"custom":"string"==typeof r?r:"auto"}(0,r,o);i.logInfo("getRoundedBid. price:",e,"mediaType:",t,"configkey:",s,"configObject:",a,"mediaTypeGranularity:",r,"strBuckets:",o);var u=(0,c.D)(e,a,d.vc.getConfig("currency.granularityMultiplier"));i.logInfo("priceStringsObj",u);var l={medium:"med",custom:"custom",high:"high",low:"low",dense:"dense"};if(l.hasOwnProperty(s)){var p=l[s];return i.logInfo("getRoundedBid: looking for priceStringsKey:",p),u[p]}return u.auto}function Ya(e,t,r){return e.cpm=e.price,e.bidId=e.impid,e.requestId=e.impid,e.width=e.w||t,e.height=e.h||r,e.ad=e.adm,e.netRevenue=!0,e.creativeId=e.crid,e.currency="USD",e.ttl=300,e}function $a(e){i.logInfo("getPlayerSizeFromObject received object",e);var t=i.deepAccess(e,"playerSize");return t||(t=i.deepAccess(e,"ext.playerSize")),t?"object"!==La(t)?(i.logError("getPlayerSizeFromObject FAILED: playerSize is not an object/array",e),null):t:(i.logError("getPlayerSizeFromObject FAILED: no playerSize in video object or ext",e),null)}function Ja(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=window.ozoneVideo;i.logInfo("newRenderer going to set loaded to ".concat(r?"true":"false"));var n=v.install({url:za.getRendererUrl(),config:t,loaded:r,adUnitCode:e});try{n.setRender(Qa)}catch(e){i.logError("Prebid Error when calling setRender on renderer",JSON.parse(JSON.stringify(n)),e)}return n}function Qa(e){i.logInfo("outstreamRender called. Going to push the call to window.ozoneVideo.outstreamRender(bid) bid =",JSON.parse(JSON.stringify(e))),e.renderer.push((function(){window.ozoneVideo.outstreamRender(e)}))}function Za(e){return function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?es(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(za),i.logInfo("*BidAdapter ".concat(Va," was loaded"));var ts="permutive",rs=(0,Pe.df)(null,ts);function ns(e,t){var r=e.adUnits||n().adUnits,o=function(e){var t=is("_psegs").map(Number).filter((function(e){return e>=1e6})).map(String),r=is("_ppam"),n=is("_pcrprs"),i={ac:[].concat(Za(n),Za(r),Za(t)),rubicon:is("_prubicons"),appnexus:is("_papns"),gam:is("_pdfps")};for(var o in i)i[o]=i[o].slice(0,e);return i}(t.params.maxSegs),a={deepSetValue:i.deepSetValue,deepAccess:i.deepAccess,isFn:i.isFn,mergeDeep:i.mergeDeep};r.forEach((function(e){e.bids.forEach((function(e){var r=e.bidder,n=function(e,t){var r=(0,i.deepAccess)(e,"params.acBidders")||[];return I()(r,t)}(t,r),s=function(e,t){var r=(0,i.deepAccess)(e,"params.overwrites.".concat(t));return r&&(0,i.isFn)(r)?r:null}(t,r),u=function(e){var t={appnexus:function(e,t,r){return r&&t.ac&&t.ac.length&&(0,i.deepSetValue)(e,"params.keywords.p_standard",t.ac),t.appnexus&&t.appnexus.length&&(0,i.deepSetValue)(e,"params.keywords.permutive",t.appnexus),e},rubicon:function(e,t,r){return r&&t.ac&&t.ac.length&&(0,i.deepSetValue)(e,"params.visitor.p_standard",t.ac),t.rubicon&&t.rubicon.length&&(0,i.deepSetValue)(e,"params.visitor.permutive",t.rubicon),e},ozone:function(e,t,r){return r&&t.ac&&t.ac.length&&(0,i.deepSetValue)(e,"params.customData.0.targeting.p_standard",t.ac),e},trustx:function(e,t,r){return r&&t.ac&&t.ac.length&&(0,i.deepSetValue)(e,"params.keywords.p_standard",t.ac),e}};return t[e]}(r);s?s(e,o,n,a,u):u&&u(e,o,n)}))}))}function is(e){try{return JSON.parse(rs.getDataFromLocalStorage(e)||"[]")}catch(e){return[]}}var os={name:ts,getBidRequestData:function(e,t,r){!function(n){try{!function(e,t,r){var n=void 0!==window.permutive&&"function"==typeof window.permutive.ready,o=(0,i.mergeDeep)({waitForIt:!1,params:{maxSegs:500,acBidders:[],overwrites:{}}},r);ns(e,o),o.waitForIt&&n?window.permutive.ready((function(){ns(e,o),t()}),"realtime"):t()}(e,t,r)}catch(e){(0,i.logError)(e)}}()},init:function(e,t){return!0}};(0,S.Bx)("realTimeData",os);var as=r(2548),ss={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}};function us(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?us(Object(r),!0).forEach((function(t){ls(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):us(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ls(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ps(){return ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}function fs(e){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(e)}var hs,gs,ms=d.vc.getConfig,vs=u.S2S.SRC,ys=0,bs={timeout:1e3,maxBids:1,adapter:"prebidServer",adapterOptions:{},syncUrlModifier:{}};function _s(e,t){if(0!==e.length){var r=e.shift();r.no_cookie?function(e,t,r,n,i){i.syncUrlModifier&&"function"==typeof i.syncUrlModifier[r]?ws(e,i.syncUrlModifier[r](e,t,r),r,n):ws(e,t,r,n)}(r.usersync.type,r.usersync.url,r.bidder,i.bind.call(_s,null,e,t),t):_s(e,t)}}function ws(e,t,r,n){t?"image"===e||"redirect"===e?(i.logMessage('Invoking image pixel user sync for bidder: "'.concat(r,'"')),i.triggerPixel(t,n)):"iframe"==e?(i.logMessage('Invoking iframe user sync for bidder: "'.concat(r,'"')),i.insertUserSyncIframe(t,n)):(i.logError('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),n()):(i.logError('No sync url for bidder "'.concat(r,'": ').concat(t)),n())}d.vc.setDefaults({s2sConfig:bs}),ms("s2sConfig",(function(e){return function(e){if(e){var t=Array.isArray(e)?e:[e],r=[];return t.every((function(t,n,o){!function(e){["endpoint","syncEndpoint"].forEach((function(t){if(i.isStr(e[t])){var r=e[t];e[t]={p1Consent:r,noP1Consent:r}}}))}(e);var a=function(e){if(e.defaultVendor){var t=e.defaultVendor,r=Object.keys(e);if(!ss[t])return i.logError("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(ss[t]).forEach((function(n){bs[n]!==e[n]&&I()(r,n)||(e[n]=ss[t][n])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(t);if(!1!==a){var s=function(e){var t=Object.keys(e);if(["accountId","bidders","endpoint"].filter((function(e){return!I()(t,e)&&(i.logError(e+" missing in server to server config"),!0)})).length>0)return!1}(t);if(!1!==s)return Array.isArray(t.bidders)&&(o[n].bidders=t.bidders.filter((function(e){return-1===r.indexOf(e)&&(r.push(e),!0)}))),!0}return i.logWarn("prebidServer: s2s config is disabled"),!1}))?hs=t:void 0}}(e.s2sConfig)}));var Ss={sponsoredBy:1,body:2,rating:3,likes:4,downloads:5,price:6,salePrice:7,phone:8,address:9,body2:10,cta:12},Ts=Object.keys(Ss),Is={icon:1,image:3},ks={img:1,js:2};[Ss,Is,{impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},ks].forEach((function(e){Object.keys(e).forEach((function(t){e[e[t]]=t}))}));var As={},Es={},Os={},Cs=function(e,t,r,n,o){var a=[],u={},c=t[0],l=new Set;if(r.forEach((function(e){for(var t=e.code,r=1;l.has(t);)r++,t="".concat(e.code,"-").concat(r);l.add(t);var o,p=(0,s.zs)(i.deepAccess(e,"mediaTypes.native"));if(p)try{o=Es[t]=Object.keys(p).reduce((function(e,t){var r=p[t];function n(e){return ps({required:r.required?1:0},e?i.cleanObj(e):{})}switch(t){case"image":case"icon":var o=Is[t],a=i.cleanObj({type:o,w:i.deepAccess(r,"sizes.0"),h:i.deepAccess(r,"sizes.1"),wmin:i.deepAccess(r,"aspect_ratios.0.min_width"),hmin:i.deepAccess(r,"aspect_ratios.0.min_height")});if(!(a.w&&a.h||a.hmin&&a.wmin))throw"invalid img sizes (must provide sizes or min_height & min_width if using aspect_ratios)";Array.isArray(r.aspect_ratios)&&(a.ext={aspectratios:r.aspect_ratios.map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}))}),e.push(n({img:a}));break;case"title":if(!r.len)throw"invalid title.len";e.push(n({title:{len:r.len}}));break;default:var s=Ss[t];s&&e.push(n({data:{type:s,len:r.len}}))}return e}),[])}catch(e){i.logError("error creating native request: "+String(e))}var f=i.deepAccess(e,"mediaTypes.video"),h=i.deepAccess(e,"mediaTypes.banner");e.bids.forEach((function(e){if(As["".concat(t).concat(e.bidder)]=e.bid_id,Xr.ZP.aliasRegistry[e.bidder]){var r=Xr.ZP.bidderRegistry[e.bidder];r&&!r.getSpec().skipPbsAliasing&&(u[e.bidder]=Xr.ZP.aliasRegistry[e.bidder])}}));var m={};if(h&&h.sizes){var v=i.parseSizesInput(h.sizes).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ds(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ds(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("x"),2),r=t[0],n=t[1];return{w:parseInt(r,10),h:parseInt(n,10)}}));m.banner={format:v}}if(i.isEmpty(f)||("outstream"!==f.context||f.renderer&&e.renderer?("instream"!==f.context||f.hasOwnProperty("placement")||(f.placement=1),m.video=Object.keys(f).filter((function(e){return"context"!==e})).reduce((function(e,t){return"playerSize"===t?(e.w=i.deepAccess(f,"".concat(t,".0.0")),e.h=i.deepAccess(f,"".concat(t,".0.1"))):e[t]=f[t],e}),{})):i.logError("Outstream bid without renderer cannot be sent to Prebid Server.")),o)try{m.native={request:JSON.stringify({context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}],assets:o}),ver:"1.2"}}catch(e){i.logError("error creating native request: "+String(e))}var y=e.bids.reduce((function(e,t){var r=Xr.ZP.bidderRegistry[t.bidder];return r&&r.getSpec().transformBidParams&&(t.params=r.getSpec().transformBidParams(t.params,!0)),e[t.bidder]=n.adapterOptions&&n.adapterOptions[t.bidder]?ps({},t.params,n.adapterOptions[t.bidder]):t.params,e}),cs({},i.deepAccess(e,"ortb2Imp.ext"))),b={id:t,ext:y,secure:n.secure},_=cs({},i.deepAccess(e,"ortb2Imp.ext.data"));Object.keys(_).forEach((function(e){"pbadslot"===e?"string"==typeof _[e]&&_[e]?i.deepSetValue(b,"ext.data.pbadslot",_[e]):delete b.ext.data.pbadslot:"adserver"===e?["name","adslot"].forEach((function(e){var t=i.deepAccess(_,"adserver.".concat(e));"string"==typeof t&&t&&i.deepSetValue(b,"ext.data.adserver.".concat(e.toLowerCase()),t)})):i.deepSetValue(b,"ext.data.".concat(e),_[e])})),ps(b,m);var w=g()(c.bids,(function(t){return t.adUnitCode===e.code&&t.storedAuctionResponse}));w&&i.deepSetValue(b,"ext.prebid.storedauctionresponse.id",w.storedAuctionResponse.toString());var S=g()(c.bids,(function(t){return t.adUnitCode===e.code&&"function"==typeof t.getFloor}));if(S){var T;try{T=S.getFloor({currency:d.vc.getConfig("currency.adServerCurrency")||"USD"})}catch(e){i.logError("PBS: getFloor threw an error: ",e)}T&&T.currency&&!isNaN(parseFloat(T.floor))&&(b.bidfloor=parseFloat(T.floor),b.bidfloorcur=T.currency)}(b.banner||b.video||b.native)&&a.push(b)})),a.length){var p={id:e.tid,source:{tid:e.tid},tmax:n.timeout,imp:a,test:ms("debug")?1:0,ext:{prebid:{auctiontimestamp:c.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}}}};p.ext.prebid=ps(p.ext.prebid,{channel:{name:"pbjs",version:pbjs.version}}),n.extPrebid&&"object"===fs(n.extPrebid)&&(p.ext.prebid=ps(p.ext.prebid,n.extPrebid));var f=d.vc.getConfig("currency.adServerCurrency");f&&"string"==typeof f?p.cur=[f]:Array.isArray(f)&&f.length&&(p.cur=[f[0]]),function(e,t,r){e&&("object"===fs(d.vc.getConfig("app"))?(e.app=d.vc.getConfig("app"),e.app.publisher={id:r}):(e.site={},i.isPlainObject(d.vc.getConfig("site"))&&(e.site=d.vc.getConfig("site")),i.deepAccess(e.site,"publisher.id")||i.deepSetValue(e.site,"publisher.id",r),e.site.page||(e.site.page=t)),"object"===fs(d.vc.getConfig("device"))&&(e.device=d.vc.getConfig("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight))}(p,t[0].refererInfo.referer,n.accountId);var h=i.deepAccess(t,"0.bids.0.schain");h&&(p.source.ext={schain:h}),i.isEmpty(u)||(p.ext.prebid.aliases=cs(cs({},p.ext.prebid.aliases),u));var m=i.deepAccess(t,"0.bids.0.userIdAsEids");i.isArray(m)&&m.length>0&&i.deepSetValue(p,"user.ext.eids",m),i.isArray(gs)&&gs.length>0&&(o&&i.isArray(o)&&gs.forEach((function(e){e.bidders&&(e.bidders=e.bidders.filter((function(e){return o.includes(e)})))})),i.deepSetValue(p,"ext.prebid.data.eidpermissions",gs));var v,y=d.vc.getConfig("multibid");if(y&&i.deepSetValue(p,"ext.prebid.multibid",y.reduce((function(e,t){var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),e.push(r),e}),[])),t)c.gdprConsent&&("boolean"==typeof c.gdprConsent.gdprApplies&&(v=c.gdprConsent.gdprApplies?1:0),i.deepSetValue(p,"regs.ext.gdpr",v),i.deepSetValue(p,"user.ext.consent",c.gdprConsent.consentString),c.gdprConsent.addtlConsent&&"string"==typeof c.gdprConsent.addtlConsent&&i.deepSetValue(p,"user.ext.ConsentedProvidersSettings.consented_providers",c.gdprConsent.addtlConsent)),c.uspConsent&&i.deepSetValue(p,"regs.ext.us_privacy",c.uspConsent);!0===ms("coppa")&&i.deepSetValue(p,"regs.coppa",1);var b=ms("ortb2")||{};return b.site&&i.mergeDeep(p,{site:b.site}),b.user&&i.mergeDeep(p,{user:b.user}),function(e){var t=d.vc.getBidderConfig(),r=Object.keys(t).reduce((function(e,r){var n=t[r];if(n.ortb2){var i={};n.ortb2.site&&(i.site=n.ortb2.site),n.ortb2.user&&(i.user=n.ortb2.user),e.push({bidders:[r],config:{ortb2:i}})}return e}),[]);r.length&&i.deepSetValue(e,"ext.prebid.bidderconfig",r)}(p),p}i.logError("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")};function Ps(e){var t,r,n=function(e,t){if([e,t].every(i.isStr))return Os["".concat(e).concat(t)]}(e.auctionId,e.adId);i.isStr(n)&&(i.logMessage('Invoking image pixel for wurl on BID_WIN: "'.concat(n,'"')),i.triggerPixel(n),[t=e.auctionId,r=e.adId].every(i.isStr)&&(Os["".concat(t).concat(r)]=void 0))}function xs(e,t){return function(e){var t=!0;return e&&e.gdprApplies&&2===e.apiVersion&&(t=!(!0!==i.deepAccess(e,"vendorData.purpose.consents.1"))),t}(t)?e.p1Consent:e.noP1Consent}function Ds(e){var t,r;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,r=e[0].uspConsent),{gdprConsent:t,uspConsent:r}}function js(){return js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function Rs(e){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(e)}(0,i.getPrebidInternal)().setEidPermissions=function(e){gs=e},Xr.ZP.registerBidAdapter(new function(){var e=new as.Z("prebidServer");return e.callBids=function(e,t,r,n,o){var s=i.deepClone(e.ad_units),c=Ds(t),p=c.gdprConsent,f=c.uspConsent,h=s.filter((function(e){return e.mediaTypes&&(e.mediaTypes.native||e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.mediaTypes.video&&e.mediaTypes.video.playerSize)})),m=h.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(i.uniques)})).reduce(i.flatten).filter(i.uniques);if(Array.isArray(hs)){e.s2sConfig&&e.s2sConfig.syncEndpoint&&xs(e.s2sConfig.syncEndpoint,p)&&function(e,t,r,n){if(hs.length!==ys){ys++;var o={uuid:i.generateUUID(),bidders:e,account:n.accountId},a=n.userSyncLimit;i.isNumber(a)&&a>0&&(o.limit=a),t&&(o.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(o.gdpr_consent=t.consentString)),r&&(o.us_privacy=r),"boolean"==typeof n.coopSync&&(o.coopSync=n.coopSync);var s=JSON.stringify(o);(0,l.h)(xs(n.syncEndpoint,t),(function(e){try{_s((e=JSON.parse(e)).bidder_status,n)}catch(e){i.logError(e)}}),s,{contentType:"text/plain",withCredentials:!0})}}(e.s2sConfig.bidders.map((function(e){return Xr.ZP.aliasRegistry[e]||e})).filter((function(e,t,r){return r.indexOf(e)===t})),p,f,e.s2sConfig);var v=Cs(e,t,h,e.s2sConfig,m),y=v&&JSON.stringify(v);i.logInfo("BidRequest: "+y),v&&y&&o(xs(e.s2sConfig.endpoint,p),{success:function(o){return function(e,t,r,n,o,s){var c,l=Ds(r),p=l.gdprConsent,f=l.uspConsent;try{(function(e,t,r){var n=[];return[["errors","serverErrors"],["responsetimemillis","serverResponseTimeMs"]].forEach((function(r){return function(e,t,r,n){var o=i.deepAccess(t,"ext.".concat(r));o&&Object.keys(o).forEach((function(t){var r=g()(e,(function(e){return e.bidderCode===t}));r&&(r[n]=o[t])}))}(t,e,r[0],r[1])})),e.seatbid&&e.seatbid.forEach((function(o){(o.bid||[]).forEach((function(a){var s,c="".concat(a.impid).concat(o.seat);As[c]&&(s=i.getBidRequest(As[c],t));var l=a.price,d=0!==l?u.STATUS.GOOD:u.STATUS.NO_BID,p=(0,Ce.m)(d,s||{bidder:o.seat,src:vs});p.cpm=l;var f=i.deepAccess(e,["ext","responsetimemillis",o.seat].join("."));s&&f&&(s.serverResponseTimeMs=f);var h,g,m,v=i.deepAccess(a,"ext.prebid.bidid");i.isStr(v)&&(p.pbsBidId=v),i.isStr(i.deepAccess(a,"ext.prebid.events.win"))&&(h=s.auctionId,g=p.adId,m=i.deepAccess(a,"ext.prebid.events.win"),[h,g].every(i.isStr)&&(Os["".concat(h).concat(g)]=m));var y=i.deepAccess(a,"ext.prebid.targeting");if(i.isPlainObject(y)&&(i.isStr(i.deepAccess(a,"ext.prebid.events.win"))&&(y=i.getDefinedParams(y,Object.keys(y).filter((function(e){return-1===e.indexOf("hb_winurl")&&-1===e.indexOf("hb_bidid")})))),p.adserverTargeting=y),p.seatBidId=a.id,i.deepAccess(a,"ext.prebid.type")===A.pX){p.mediaType=A.pX;var b=s.sizes&&s.sizes[0];p.playerWidth=b[0],p.playerHeight=b[1],a.ext.prebid.cache&&"object"===fs(a.ext.prebid.cache.vastXml)&&a.ext.prebid.cache.vastXml.cacheId&&a.ext.prebid.cache.vastXml.url?(p.videoCacheKey=a.ext.prebid.cache.vastXml.cacheId,p.vastUrl=a.ext.prebid.cache.vastXml.url):y&&y.hb_uuid&&y.hb_cache_host&&y.hb_cache_path&&(p.videoCacheKey=y.hb_uuid,p.vastUrl="https://".concat(y.hb_cache_host).concat(y.hb_cache_path,"?uuid=").concat(y.hb_uuid)),a.adm&&(p.vastXml=a.adm),!p.vastUrl&&a.nurl&&(p.vastUrl=a.nurl)}else if(i.deepAccess(a,"ext.prebid.type")===A.B5){var _,w;p.mediaType=A.B5,w="string"==typeof a.adm?p.adm=JSON.parse(a.adm):p.adm=a.adm;var S=(ls(_={},ks.img,w.imptrackers||[]),ls(_,ks.js,w.jstracker?[w.jstracker]:[]),_);if(w.eventtrackers&&w.eventtrackers.forEach((function(e){switch(e.method){case ks.img:S[ks.img].push(e.url);break;case ks.js:S[ks.js].push(e.url)}})),i.isPlainObject(w)&&Array.isArray(w.assets)){var T=Es[a.impid];p.native=i.cleanObj(w.assets.reduce((function(e,t){var r=T[t.id];return i.isPlainObject(t.img)?e[r.img.type?Is[r.img.type]:"image"]=i.pick(t.img,["url","w as width","h as height"]):i.isPlainObject(t.title)?e.title=t.title.text:i.isPlainObject(t.data)&&Ts.forEach((function(n){Ss[n]===r.data.type&&(e[n]=t.data.value)})),e}),i.cleanObj({clickUrl:w.link,clickTrackers:i.deepAccess(w,"link.clicktrackers"),impressionTrackers:S[ks.img],javascriptTrackers:S[ks.js]})))}else i.logError("prebid server native response contained no assets")}else a.adm&&a.nurl?(p.ad=a.adm,p.ad+=i.createTrackPixelHtml(decodeURIComponent(a.nurl))):a.adm?p.ad=a.adm:a.nurl&&(p.adUrl=a.nurl);p.width=a.w,p.height=a.h,a.dealid&&(p.dealId=a.dealid),p.requestId=s.bidId||s.bid_Id,p.creative_id=a.crid,p.creativeId=a.crid,a.burl&&(p.burl=a.burl),p.currency=e.cur?e.cur:"USD",p.meta={};var I=i.deepAccess(a,"ext.prebid.meta");I&&i.isPlainObject(I)&&(p.meta=i.deepClone(I)),a.adomain&&(p.meta.advertiserDomains=a.adomain);var k=r.defaultTtl||60;p.ttl=a.exp?a.exp:k,p.netRevenue=!a.netRevenue||a.netRevenue,n.push({adUnit:s.adUnitCode,bid:p})}))})),n})(c=JSON.parse(e),r,s).forEach((function(e){var t=e.adUnit,i=e.bid;(0,ct.JY)(t,i,r)&&n(t,i)})),r.forEach((function(e){return a().emit(u.EVENTS.BIDDER_DONE,e)}))}catch(e){i.logError(e)}(!c||c.status&&I()(c.status,"Error"))&&i.logError("error parsing response: ",c.status),o(),function(e,t,r){e.forEach((function(e){var n=Xr.ZP.getBidAdapter(e);n&&n.registerSyncs&&d.vc.runWithBidder(e,i.bind.call(n.registerSyncs,n,[],t,r))}))}(t,p,f)}(o,m,t,r,n,e.s2sConfig)},error:n},y,{contentType:"text/plain",withCredentials:!0})}},a().on(u.EVENTS.BID_WON,Ps),ps(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:vs})},"prebidServer");var Ms=(0,Pe.df)(),Us="_pubcid",Ls="_pubcid_optout",Ns=525600,Bs="PublisherCommonId",qs="_exp",Fs="cookie",Vs="html5",zs={enabled:!0,interval:Ns,typeEnabled:Vs,create:!0,extend:!0,pixelUrl:""};function Ws(e,t){var r;return t||(t=zs.typeEnabled),t===Fs?r=Ms.getCookie(e):t===Vs&&(r=function(e){var t=null;try{var r=Ms.getDataFromLocalStorage(e+qs);r?new Date(r).getTime()-Date.now()>0?t=Ms.getDataFromLocalStorage(e):function(e){try{Ms.removeDataFromLocalStorage(e+qs),Ms.removeDataFromLocalStorage(e)}catch(e){i.logMessage(e)}}(e):t=Ms.getDataFromLocalStorage(e)}catch(e){i.logMessage(e)}return t}(e)),"undefined"===r||"null"===r?null:r}function Hs(e,t,r){e&&t&&(zs.typeEnabled===Fs?function(e,t,r,n){var i=new Date;i.setTime(i.getTime()+1e3*r*60),Ms.setCookie(e,t,i.toGMTString(),"Lax")}(e,t,r):zs.typeEnabled===Vs&&function(e,t,r){try{if(void 0!==r&&null!=r){var n=new Date(Date.now()+60*r*1e3).toUTCString();Ms.setDataInLocalStorage(e+qs,n)}Ms.setDataInLocalStorage(e,t)}catch(e){i.logMessage(e)}}(e,t,r))}function Gs(e,t){if(!e)return!1;t=t||"";var r=i.parseUrl(e);r.search.id=encodeURIComponent("pubcid:"+t);var n=i.buildUrl(r);return a().on(u.EVENTS.AUCTION_END,(function e(){a().off(u.EVENTS.AUCTION_END,e),i.triggerPixel(n)})),!0}function Ks(e){return Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(e)}d.vc.getConfig("pubcid",(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enable,r=e.expInterval,n=e.type,i=void 0===n?"html5,cookie":n,o=e.create,a=e.extend,s=e.pixelUrl;void 0!==t&&(zs.enabled=t),void 0!==r&&(zs.interval=parseInt(r,10)),isNaN(zs.interval)&&(zs.interval=Ns),void 0!==o&&(zs.create=o),void 0!==a&&(zs.extend=a),void 0!==s&&(zs.pixelUrl=s),zs.typeEnabled=null;for(var u=i.split(","),c=0;c<u.length;++c){var l=u[c].trim();if(l===Fs){if(Ms.cookiesAreEnabled()){zs.typeEnabled=Fs;break}}else if(l===Vs&&Ms.hasLocalStorage()){zs.typeEnabled=Vs;break}}}(e.pubcid)})),Ms.cookiesAreEnabled()&&Ws(Ls,Fs)||Ms.hasLocalStorage()&&Ws(Ls,Vs)||pbjs.requestBids.before((function(e,t){var r=t.adUnits||pbjs.adUnits,n=null;return zs.enabled&&zs.typeEnabled?("object"===Rs(window[Bs])?(n=window[Bs].getId(),i.logMessage(Bs+": pubcid = "+n)):((n=Ws(Us))?zs.extend&&(Gs(zs.pixelUrl,n)||Hs(Us,n,zs.interval)):(zs.create&&(zs.typeEnabled===Vs&&(n=Ws(Us,Fs)),n||(n=i.generateUUID()),Hs(Us,n,zs.interval),n=Ws(Us)),Gs(zs.pixelUrl,n)),i.logMessage("pbjs: pubcid = "+n)),r&&n&&r.forEach((function(e){e.bids&&i.isArray(e.bids)&&e.bids.forEach((function(e){js(e,{crumbs:{pubcid:n}})}))})),e.call(this,t)):e.call(this,t)}));var Xs="PublisherCommonId",Ys="cookie",$s="html5",Js="https://id.sharedid.org/id",Qs="_sharedid",Zs=!1,eu=(0,Pe.df)(887,"pubCommonId");function tu(e,t){try{if(t){var r=e.storage.name+Qs,n=new Date(Date.now()+864e5*eu.expires).toUTCString();e.storage.type===Ys?eu.cookiesAreEnabled()&&eu.setCookie(r,t,n,"LAX",iu.domainOverride()):e.storage.type===$s&&eu.hasLocalStorage()&&(eu.setDataInLocalStorage("".concat(r,"_exp"),n),eu.setDataInLocalStorage(r,t))}}catch(e){i.logError(e)}}function ru(e){try{var t=e.storage.name+Qs;if(e.storage.type===Ys){if(eu.cookiesAreEnabled())return eu.getCookie(t)}else if(e.storage.type===$s&&eu.hasLocalStorage()){var r=eu.getDataFromLocalStorage("".concat(t,"_exp"));if(!r)return eu.getDataFromLocalStorage(t);if(new Date(r).getTime()-Date.now()>0)return eu.getDataFromLocalStorage(t)}}catch(e){i.logError(e)}}function nu(e,t,r,n){return function(o){"function"==typeof t&&t(),(0,l.h)(function(e){var t=Xr.nX.getConsentData(),r=Js;return t&&"string"==typeof t&&(r="".concat(Js,"?us_privacy=").concat(t)),e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?r=t?"".concat(r,"&gdpr=1&gdpr_consent=").concat(e.consentString):"".concat(Js,"?gdpr=1&gdpr_consent=").concat(e.consentString):r}(n),function(e,t,r){return{success:function(n){if(n)try{var o=JSON.parse(n);i.logInfo("PubCommonId: Generated SharedId: "+o.sharedId),o.sharedId&&("00000000000000000000000000"!==o.sharedId?tu(r,o.sharedId):function(e){try{var t=e.storage.name+Qs;e.storage.type===Ys?eu.cookiesAreEnabled()&&eu.setCookie(t,"","Thu, 01 Jan 1970 00:00:01 GMT"):e.storage.type===$s&&(eu.removeDataFromLocalStorage("".concat(t,"_exp")),eu.removeDataFromLocalStorage(t))}catch(e){i.logError(e)}}(r)),t(e)}catch(e){i.logError(e)}},error:function(e,t){i.logInfo("PubCommonId: failed to get sharedid")}}}(e,o,r),void 0,{method:"GET",withCredentials:!0})}}var iu={name:"pubCommonId",gvlid:887,makeCallback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var r=i.parseUrl(e);r.search.id=encodeURIComponent("pubcid:"+t);var n=i.buildUrl(r);return function(){i.triggerPixel(n)}}},decode:function(e,t){var r={pubcid:e},n=t.params,i=(n=void 0===n?{}:n).enableSharedId;if(void 0===i?Zs:i){var o=ru(t);o&&(r.sharedid={id:o})}return r},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=Xr.VP.getCoppa();if(!n){var o=e.params,a=(o=void 0===o?{}:o).create,s=void 0===a||a,u=o.pixelUrl,c=o.enableSharedId,l=void 0===c?Zs:c,d=r;if(!d){try{"object"===Ks(window[Xs])&&(d=window[Xs].getId())}catch(e){}d||(d=s&&i.hasDeviceAccess()?i.generateUUID():void 0)}var p=this.makeCallback(u,d),f=l?nu(d,p,e,t):p;return{id:d,callback:f}}i.logInfo("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0,r=Xr.VP.getCoppa();if(r)i.logInfo("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var n=e.params,o=(n=void 0===n?{}:n).extend,a=void 0!==o&&o,s=n.pixelUrl,u=n.enableSharedId,c=void 0===u?Zs:u;if(a){try{if("object"===Ks(window[Xs]))return void(c&&tu(e,ru(e)))}catch(e){}if(s){var l=this.makeCallback(s,t);return{callback:l}}return c&&tu(e,ru(e)),{id:t}}}},domainOverride:function(){for(var e,t,r=document.domain.split("."),n="_gd".concat(Date.now()),i=0;i<r.length;i++){var o=r.slice(i).join(".");if(eu.setCookie(n,"1",void 0,void 0,o),t=eu.getCookie(n),eu.setCookie(n,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,o),"1"!==t)return e;e=o}}};function ou(){return ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}function au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function su(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}(0,S.Bx)("userId",iu);var cu="PubMatic: ",lu="USD",du=void 0,pu="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),fu={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},hu="number",gu="array",mu={mimes:gu,minduration:hu,maxduration:hu,startdelay:hu,playbackmethod:gu,api:gu,protocols:gu,w:hu,h:hu,battr:gu,linearity:hu,placement:hu,minbitrate:hu,maxbitrate:hu,skip:hu},vu={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},yu=[{id:vu.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:vu.TITLE.ID,required:!0},{id:vu.IMAGE.ID,required:!0}],bu={1:"PMP",5:"PREF",6:"PMPG"},_u={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=_u.getRendererId("pubmatic",e.rendererCode),o=document.getElementById(e.adUnitCode),a=0;a<window.bluebillywig.renderers.length;a++)if(window.bluebillywig.renderers[a]._id===n){r=window.bluebillywig.renderers[a];break}r?r.bootstrap(t,o):i.logWarn("".concat(cu,": Couldn't find a renderer with ").concat(n))}else i.logWarn("".concat(cu,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=pu.replace("$RENDERER",e),n=v.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(_u.outstreamRender)}catch(e){i.logWarn("".concat(cu,": Error tying to setRender on renderer"),e)}return n},outstreamRender:function(e){e.renderer.push((function(){_u.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},wu=[A.Mk,A.pX,A.B5],Su=0,Tu=!1,Iu={},ku={};function Au(e,t){if(!i.isStr(t))return t&&i.logWarn("PubMatic: Ignoring param key: "+e+", expects string-value, found "+uu(t)),du;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||du;case"yob":return parseInt(t)||du;default:return t}}function Eu(e,t,r){var n,o="Ignoring param key: "+e+", expects "+r+", found "+uu(t);switch(r){case"boolean":n=i.isBoolean;break;case hu:n=i.isNumber;break;case"string":n=i.isStr;break;case gu:n=i.isArray}return n(t)?t:(i.logWarn(cu+o),du)}function Ou(e,t){var r=e.KEY;return{id:e.ID,required:t[r].required?1:0,data:{type:e.TYPE,len:t[r].len,ext:t[r].ext}}}function Cu(e){var t={assets:[]};for(var r in e){if(e.hasOwnProperty(r)){var n={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(r)))switch(r){case vu.TITLE.KEY:e[r].len||e[r].length?n={id:vu.TITLE.ID,required:e[r].required?1:0,title:{len:e[r].len||e[r].length,ext:e[r].ext}}:i.logWarn("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case vu.IMAGE.KEY:e[r].sizes&&e[r].sizes.length>0?n={id:vu.IMAGE.ID,required:e[r].required?1:0,img:{type:3,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:du),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:du),wmin:e[r].wmin||e[r].minimumWidth||(e[r].minsizes?e[r].minsizes[0]:du),hmin:e[r].hmin||e[r].minimumHeight||(e[r].minsizes?e[r].minsizes[1]:du),mimes:e[r].mimes,ext:e[r].ext}}:i.logWarn("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case vu.ICON.KEY:e[r].sizes&&e[r].sizes.length>0?n={id:vu.ICON.ID,required:e[r].required?1:0,img:{type:1,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:du),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:du)}}:i.logWarn("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case vu.VIDEO.KEY:n={id:vu.VIDEO.ID,required:e[r].required?1:0,video:{minduration:e[r].minduration,maxduration:e[r].maxduration,protocols:e[r].protocols,mimes:e[r].mimes,ext:e[r].ext}};break;case vu.EXT.KEY:n={id:vu.EXT.ID,required:e[r].required?1:0};break;case vu.LOGO.KEY:n={id:vu.LOGO.ID,required:e[r].required?1:0,img:{type:2,w:e[r].w||e[r].width||(e[r].sizes?e[r].sizes[0]:du),h:e[r].h||e[r].height||(e[r].sizes?e[r].sizes[1]:du)}};break;case vu.SPONSOREDBY.KEY:case vu.BODY.KEY:case vu.RATING.KEY:case vu.LIKES.KEY:case vu.DOWNLOADS.KEY:case vu.PRICE.KEY:case vu.SALEPRICE.KEY:case vu.PHONE.KEY:case vu.ADDRESS.KEY:case vu.DESC2.KEY:case vu.DISPLAYURL.KEY:case vu.CTA.KEY:n=Ou(ku[r],e)}}n&&n.id&&(t.assets[t.assets.length]=n)}var o=yu.length,a=0;return yu.forEach((function(e){for(var r=t.assets.length,n=0;n<r;n++)if(e.id==t.assets[n].id){a++;break}})),Tu=o!=a,t}function Pu(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(r!==du&&i.isArray(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=du,i.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(n=[],r.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=i.inIframe()?0:1}else i.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=du;return t}function xu(e){var t,r=i.mergeDeep(i.deepAccess(e.mediaTypes,"video"),e.params.video);if(r!==du){for(var n in t={},mu)r.hasOwnProperty(n)&&(t[n]=Eu(n,r[n],mu[n]));i.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):i.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=du,i.logWarn("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Du(e,t){var r=null,n=i.deepAccess(e,"0.userId.flocId");return n&&n.id&&(r=2===t?{id:"FLOC",name:"FLOC",ext:{ver:n.version},segment:[{id:n.id,name:"chrome.com",value:n.id.toString()}]}:{source:"chrome.com",uids:[{atype:1,id:n.id,ext:{ver:n.version}}]}),r}function ju(e){return!0===i.isArray(e)&&e.length>0}i._each(vu,(function(e){Iu[e.ID]=e.KEY})),i._each(vu,(function(e){ku[e.KEY]=e}));var Ru={code:"pubmatic",gvlid:76,supportedMediaTypes:[A.Mk,A.pX,A.B5],isBidRequestValid:function(e){if(e&&e.params){if(!i.isStr(e.params.publisherId))return i.logWarn("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(A.pX)){var t=i.deepAccess(e.mediaTypes,"video.mimes"),r=i.deepAccess(e,"params.video.mimes");if(!1===ju(t)&&!1===ju(r))return i.logWarn("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[A.pX].hasOwnProperty("context"))return i.logError("".concat(cu,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[A.pX].context&&!i.isStr(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[A.pX].hasOwnProperty("renderer"))return i.logError("".concat(cu,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1}return!0}return!1},buildRequests:function(e,t){var r;t&&t.refererInfo&&(r=t.refererInfo);var n,o=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(r),a=function(e){return{id:""+(new Date).getTime(),at:1,cur:[lu],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(o),s="",u=[],c=[];if(e.forEach((function(e){if((n=i.deepClone(e)).params.adSlot=n.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,i.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&i.logWarn("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,n=r.split(":");if(r=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void i.logWarn("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(A.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var o=0,a=[];o<e.mediaTypes.banner.sizes.length;o++)2===e.mediaTypes.banner.sizes[o].length&&a.push(e.mediaTypes.banner.sizes[o]);e.mediaTypes.banner.sizes=a,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(n),n.params.hasOwnProperty("video"));else if(!(n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(A.B5)||0!==n.params.width||0!==n.params.height))return void i.logWarn("PubMatic: Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n));o.pubId=o.pubId||n.params.publisherId,(o=function(e,t){var r,n,o;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),fu)fu.hasOwnProperty(r)&&(n=e[r])&&("object"===uu(o=fu[r])&&(n=o.f(n,t)),i.isStr(n)?t[r]=n:i.logWarn("PubMatic: Ignoring param : "+r+" with value : "+fu[r]+", expects string-value, found "+uu(n)));return t}(n.params,o)).transactionId=n.transactionId,""===s?s=n.params.currency||du:n.params.hasOwnProperty("currency")&&s!==n.params.currency&&i.logWarn("PubMatic: Currency specifier ignored. Only one currency permitted."),n.params.currency=s,n.params.hasOwnProperty("dctr")&&i.isStr(n.params.dctr)&&u.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&i.isArray(n.params.bcat)&&(c=c.concat(n.params.bcat));var t=function(e,t){var r,n,o={},a={},s=e.hasOwnProperty("sizes")?e.sizes:[],u="",c=[];if(function(e,t){t.params.deals&&(i.isArray(t.params.deals)?t.params.deals.forEach((function(t){i.isStr(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):i.logWarn("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):i.logWarn("PubMatic: Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Au("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Au("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Au("currency",e.params.currency):lu},e),function(e,t){var r,n="";if(t.params.dctr)if(n=t.params.dctr,i.isStr(n)&&n.length>0){var o=n.split("|");n="",o.forEach((function(e){n+=e.length>0?e.trim()+"|":""})),r=n.length,"|"===n.substring(r,r-1)&&(n=n.substring(0,r-1)),e.ext.key_val=n.trim()}else i.logWarn("PubMatic: Ignoring param : dctr with value : "+n+", expects string-value, found empty or non-string value")}(o,e),e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case A.Mk:(r=Pu(e))!==du&&(o.banner=r);break;case A.B5:a.request=JSON.stringify(Cu(e.nativeParams)),Tu?i.logWarn("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):o.native=a;break;case A.pX:(n=xu(e))!==du&&(o.video=n)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:i.inIframe()?0:1},i.isArray(s)&&s.length>1&&((s=s.splice(1,s.length-1)).forEach((function(e){c.push({w:e[0],h:e[1]})})),r.format=c),o.banner=r;return function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?au(Object(r),!0).forEach((function(t){su(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):au(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i.deepAccess(t,"ortb2Imp.ext.data"));Object.keys(r).forEach((function(t){"pbadslot"===t?"string"==typeof r[t]&&r[t]&&i.deepSetValue(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((function(t){var n=i.deepAccess(r,"adserver.".concat(t));"string"==typeof n&&n&&(i.deepSetValue(e,"ext.data.adserver.".concat(t.toLowerCase()),n),"adslot"===t&&i.deepSetValue(e,"ext.dfp_ad_unit_code",n))})):i.deepSetValue(e,"ext.data.".concat(t),r[t])}))}(o,e),function(e,t){var r=-1;"function"!=typeof t.getFloor||d.vc.getConfig("pubmatic.disableFloors")||[A.Mk,A.pX,A.B5].forEach((function(n){if(e.hasOwnProperty(n)){var i=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:"*"});if("object"===uu(i)&&i.currency===e.bidfloorcur&&!isNaN(parseInt(i.floor))){var o=parseFloat(i.floor);r=-1==r?o:Math.min(o,r)}}})),e.bidfloor&&(r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:du}(o,e),o.hasOwnProperty(A.Mk)||o.hasOwnProperty(A.B5)||o.hasOwnProperty(A.pX)?o:du}(n);t&&a.imp.push(t)})),0!=a.imp.length){var l,p;a.site.publisher.id=o.pubId.trim(),Su=o.pubId.trim(),a.ext.wrapper={},a.ext.wrapper.profile=parseInt(o.profId)||du,a.ext.wrapper.version=parseInt(o.verId)||du,a.ext.wrapper.wiid=o.wiid||t.auctionId,a.ext.wrapper.wv="prebid_prebid_4.43.4",a.ext.wrapper.transactionId=o.transactionId,a.ext.wrapper.wp="pbjs",a.user.gender=o.gender?o.gender.trim():du,a.user.geo={},a.user.geo.lat=Au("lat",o.lat),a.user.geo.lon=Au("lon",o.lon),a.user.yob=Au("yob",o.yob),a.device.geo=a.user.geo,a.site.page=o.kadpageurl.trim()||a.site.page.trim(),a.site.domain=(l=a.site.page,(p=document.createElement("a")).href=l,p.hostname),"object"===uu(d.vc.getConfig("content"))&&(a.site.content=d.vc.getConfig("content")),"object"===uu(d.vc.getConfig("device"))&&(a.device=ou(a.device,d.vc.getConfig("device"))),i.deepSetValue(a,"source.tid",o.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(a.test=1),e[0].schain&&i.deepSetValue(a,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(i.deepSetValue(a,"user.ext.consent",t.gdprConsent.consentString),i.deepSetValue(a,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&i.deepSetValue(a,"regs.ext.us_privacy",t.uspConsent),!0===d.vc.getConfig("coppa")&&i.deepSetValue(a,"regs.coppa",1),function(e,t){var r=i.deepAccess(t,"0.userIdAsEids"),n=Du(t,1);n&&(r||(r=[]),r.push(n)),i.isArray(r)&&r.length>0&&i.deepSetValue(e,"user.eids",r)}(a,e),function(e,t){(t=t.filter((function(e){return"string"==typeof e||(i.logWarn("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;i.logWarn("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(i.logWarn("PubMatic: bcat: Selected: ",t),e.bcat=t)}(a,c),function(e,t){var r=Du(t,2);r&&(e.user||(e.user={}),e.user.data||(e.user.data=[]),e.user.data.push(r))}(a,e);var f=d.vc.getConfig("ortb2")||{};return f.site&&i.mergeDeep(a,{site:f.site}),f.user&&i.mergeDeep(a,{user:f.user}),"object"===uu(d.vc.getConfig("app"))&&(a.app=d.vc.getConfig("app"),a.app.publisher=a.site.publisher,a.app.ext=a.site.ext||du,"object"!==uu(a.app.content)&&(a.app.content=a.site.content||du),delete a.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(a),bidderRequest:t}}},interpretResponse:function(e,t){var r=[],n=lu,o=JSON.parse(t.data),a=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&i.isArray(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((function(e){e.bid&&i.isArray(e.bid)&&e.bid.forEach((function(s){var u={requestId:s.impid,cpm:(parseFloat(s.price)||0).toFixed(2),width:s.w,height:s.h,creativeId:s.crid||s.id,dealId:s.dealid,currency:n,netRevenue:!0,ttl:300,referrer:a,ad:s.adm,pm_seat:e.seat||null,pm_dspid:s.ext&&s.ext.dspid?s.ext.dspid:null,partnerImpId:s.id||""};o.imp&&o.imp.length>0&&o.imp.forEach((function(e){if(s.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.BidType)t.mediaType=wu[e.ext.BidType];else{i.logInfo("PubMatic: bid.ext.BidType does not exist, checking alternatively for mediaType");var r=e.adm,n="",o=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=A.Mk;else if(o.test(r))t.mediaType=A.pX;else try{(n=JSON.parse(r.replace(/\\/g,"")))&&n.native&&(t.mediaType=A.B5)}catch(e){i.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+r)}}}(s,u),u.mediaType){case A.Mk:break;case A.pX:u.width=s.hasOwnProperty("w")?s.w:e.video.w,u.height=s.hasOwnProperty("h")?s.h:e.video.h,u.vastXml=s.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(r=t.bidderRequest.bids[o].params,n=t.bidderRequest.bids[o].mediaTypes[A.pX].context,i=t.bidderRequest.bids[o].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=_u.newRenderer(e.rendererCode,i))}}(u,t);break;case A.B5:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void i.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&r.native.assets.length>0){t.mediaType=A.B5;for(var n=0,o=r.native.assets.length;n<o;n++)switch(r.native.assets[n].id){case vu.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case vu.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case vu.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case vu.SPONSOREDBY.ID:case vu.BODY.ID:case vu.LIKES.ID:case vu.DOWNLOADS.ID:case vu.PRICE:case vu.SALEPRICE.ID:case vu.PHONE.ID:case vu.ADDRESS.ID:case vu.DESC2.ID:case vu.CTA.ID:case vu.RATING.ID:case vu.DISPLAYURL.ID:t.native[Iu[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(s,u)}})),s.ext&&s.ext.deal_channel&&(u.dealChannel=bu[s.ext.deal_channel]||null),u.meta={},s.ext&&s.ext.dspid&&(u.meta.networkId=s.ext.dspid),s.ext&&s.ext.advid&&(u.meta.buyerId=s.ext.advid),s.adomain&&s.adomain.length>0&&(u.meta.advertiserDomains=s.adomain,u.meta.clickUrl=s.adomain[0]),e.ext&&e.ext.buyid&&(u.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),r.push(u)}))})))}catch(e){i.logError(e)}return r},getUserSyncs:function(e,t,r,n){var i=""+Su;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===d.vc.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t){return i.convertTypes({publisherId:"string",adSlot:"string"},e)}};(0,ct.dX)(Ru);var Mu=(0,Pe.df)(),Uu={name:"quantcastId",decode:function(e){return e},getId:function(){var e=Mu.getCookie("__qca");return{id:e?{quantcastId:e}:void 0}}};(0,S.Bx)("userId",Uu);var Lu=new function(){this.code="rhythmone",this.supportedMediaTypes=[A.pX,A.Mk];var e=[2,3,5,6],t=["video/mp4"],r=[1,2,3,4],n=[1],o=[1,2,5],a={},s=this;function u(e,t){var r,n=[],o=0;if(t&&t.refererInfo&&t.refererInfo.stack.length){var s=document.createElement("a");s.href=t.refererInfo.stack[0],o="https:"==s.protocol?1:0}for(var u=0;u<e.length;u++){a[e[u].adUnitCode]=e[u];var c={};if(c.id=e[u].adUnitCode,c.bidfloor=parseFloat(i.deepAccess(e[u],"params.floor"))||0,c.secure=o,i.deepAccess(e[u],"mediaTypes.banner")||"banner"===i.deepAccess(e[u],"mediaType")){var l=d(e[u]);l&&(c.banner=l)}(i.deepAccess(e[u],"mediaTypes.video")||"video"===i.deepAccess(e[u],"mediaType"))&&(c.video=p(e[u])),(c.banner||c.video)&&(c.ext={bidder:{placementId:(r=e[u]).params.placementId,zone:r.params&&r.params.zone?r.params.zone:"1r",path:r.params&&r.params.path?r.params.path:"mvo"}},n.push(c))}return n}function c(e){var t={domain:"",page:"",ref:""};if(e&&e.refererInfo){var r=e.refererInfo;if(t.ref=r.referer,r.stack.length){t.page=r.stack[r.stack.length-1];var n=document.createElement("a");n.href=r.stack[0],t.domain=n.hostname}}return t}function l(e){var t=parseInt(e[0]),r=parseInt(e[1]);return t==t&&r==r&&[t,r]}function d(e){var t=e.sizes;e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes);var r=i.parseSizesInput(t),n=[];return r.forEach((function(e){if(e){var t=l(e.split("x"));t&&n.push({w:t[0],h:t[1]})}})),!!n.length&&{format:n}}function p(a){var s=[];if(i.deepAccess(a,"mediaTypes.video.playerSize")){var u=a.mediaTypes.video.playerSize;i.isArray(a.mediaTypes.video.playerSize[0])&&(u=a.mediaTypes.video.playerSize[0]);var c=l(u);c&&(s=c)}return{mimes:i.deepAccess(a,"mediaTypes.video.mimes")||t,protocols:i.deepAccess(a,"mediaTypes.video.protocols")||e,w:s[0],h:s[1],startdelay:i.deepAccess(a,"mediaTypes.video.startdelay")||0,skip:i.deepAccess(a,"mediaTypes.video.skip")||0,playbackmethod:i.deepAccess(a,"mediaTypes.video.playbackmethod")||r,delivery:i.deepAccess(a,"mediaTypes.video.delivery")||n,api:i.deepAccess(a,"mediaTypes.video.api")||o}}function f(e,t){for(var r=0;r<t.length;r++)if(t[r].params&&t[r].params[e])return t[r].params[e]}this.isBidRequestValid=function(e){return!(!e.params||!e.params.placementId)},this.getUserSyncs=function(e,t,r){return[]},this.buildRequests=function(e,t){var r=f("placementId",e);if(void 0===r||e.length<1)return[];var n=f("endpoint",e)||"https://tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}",o=f("zone",e)||"1r",a=f("path",e)||"mvo";n=(n=(n=n.replace(/\{placementId\}/i,r)).replace(/\{zone\}/i,o)).replace(/\{path\}/i,a);var s=/(^v|(\.0)+$)/gi;n+="&hbv="+"4.43.4".replace(s,"")+","+"2.1".replace(s,"");var l=function(e,t){var r={id:e[0].bidderRequestId,imp:u(e,t),site:c(t),device:{ua:navigator.userAgent,ip:"",dnt:i.getDNT()?1:0},user:{ext:{consent:i.deepAccess(t,"gdprConsent.gdprApplies")?t.gdprConsent.consentString:""}},at:1,tmax:1e3,regs:{ext:{gdpr:!!i.deepAccess(t,"gdprConsent.gdprApplies")&&Boolean(1&t.gdprConsent.gdprApplies)}}};return e[0].schain&&(r.source={ext:{schain:e[0].schain}}),r}(e,t);return l.imp.length?{method:"POST",url:n,data:JSON.stringify(l)}:{}},this.interpretResponse=function(e){var t=e.body||[],r=[],n=0;if(t.seatbid){var i=[];for(n=0;n<t.seatbid.length;n++)for(var o=0;o<t.seatbid[n].bid.length;o++)i.push(t.seatbid[n].bid[o]);t=i}for(n=0;n<t.length;n++){var u=t[n],c=a[u.impid],l={requestId:c.bidId,bidderCode:s.code,cpm:parseFloat(u.price),width:u.w,height:u.h,meta:{advertiserDomains:u.adomain},creativeId:u.crid,currency:"USD",netRevenue:!0,ttl:350};c.mediaTypes&&c.mediaTypes.video?(l.vastUrl=u.nurl,l.mediaType="video",l.ttl=600):l.ad=u.adm,r.push(l)}return r}};function Nu(e){return Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(e)}function Bu(){return Bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}(0,ct.dX)(Lu);var qu,Fu,Vu=[],zu=[],Wu=[];function Hu(){return{gdpr:Xr.rp.getConsentData(),usp:Xr.nX.getConsentData(),coppa:!!d.vc.getConfig("coppa")}}function Gu(e,t){Fu=Hu();var r=[],n=[];zu.forEach((function(e){if("function"==typeof e.getBidRequestData){r.push(e);var t=e.config;t&&t.waitForIt&&n.push(e)}}));var i,o=n.length&&qu.auctionDelay&&qu.auctionDelay>0,a=n.length,s=!1;if(!r.length)return c();if(o&&(i=setTimeout(c,qu.auctionDelay)),r.forEach((function(e){e.getBidRequestData(t,u.bind(e),e.config,Fu)})),!o)return c();function u(){if(!s)return this.config&&this.config.waitForIt&&a--,a<=0?c():void 0}function c(){s=!0,clearTimeout(i),e.call(this,t)}}function Ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(r),!0).forEach((function(t){Qu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yu(){return Yu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function $u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ju(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ju(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zu(e){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(e)}(0,S.bA)("realTimeData",(function(e){Vu.push(e)})),function(e){var t=e.getConfig("realTimeData",(function(e){var r=e.realTimeData;r.dataProviders?(t(),qu=r,Wu=r.dataProviders,a().on(u.EVENTS.AUCTION_INIT,(function(e){zu.forEach((function(t){t.onAuctionInitEvent&&t.onAuctionInitEvent(e,t.config,Fu)}))})),a().on(u.EVENTS.AUCTION_END,(function(e){!function(e){var t=zu.filter((function(e){return"function"==typeof e.getTargetingData}));if(t.length){var r=e.adUnitCodes;if(r){for(var n=[],o=t.length-1;o>=0;o--){var a=t[o].getTargetingData(r,t[o].config,Fu);a&&"object"===Nu(a)?n.push(a):i.logWarn("invalid getTargetingData response for sub module",t[o].name)}var s,c=(s=n,Array.isArray(s)&&s.length?s.reduce((function(e,t){for(var r in t)if(t.hasOwnProperty(r))if(e.hasOwnProperty(r)){var n=t[r];for(var i in n)n.hasOwnProperty(i)&&(e[r][i]=n[i])}else e[r]=t[r];return e}),{}):{});e.adUnits.forEach((function(e){var t=e.code&&c[e.code];t&&(e[u.JSON_MAPPING.ADSERVER_TARGETING]=Bu(e[u.JSON_MAPPING.ADSERVER_TARGETING]||{},t))})),e.adUnits}}}(e),zu.forEach((function(t){t.onAuctionEndEvent&&t.onAuctionEndEvent(e,t.config,Fu)}))})),a().on(u.EVENTS.BID_RESPONSE,(function(e){zu.forEach((function(t){t.onBidResponseEvent&&t.onBidResponseEvent(e,t.config,Fu)}))})),n().requestBids.before(Gu,40),function(){Fu=Hu();var e=[];Wu.forEach((function(t){var r=g()(Vu,(function(e){return e.name===t.name}));r&&r.init&&r.init(t,Fu)&&e.push(Bu(r,{config:t}))})),zu=e}()):i.logError("missing parameters for real time module")}))}(d.vc);var ec={};d.vc.getConfig("rubicon",(function(e){i.mergeDeep(ec,e.rubicon)}));var tc={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640"};i._each(tc,(function(e,t){return tc[e]=t}));var rc={code:"rubicon",gvlid:52,supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){if("object"!==Zu(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return i.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n=cc(e,!0);return!!n&&("video"!==n||function(e){var t=!0,r=Object.prototype.toString.call([]),n={mimes:r,protocols:r,linearity:Object.prototype.toString.call(0),api:r};return Object.keys(n).forEach((function(r){Object.prototype.toString.call(i.deepAccess(e,"mediaTypes.video."+r))!==n[r]&&(t=!1,i.logError("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+n[r]))})),t}(e))},buildRequests:function(e,t){var r=[],o=e.filter((function(e){return"video"===cc(e)})).map((function(e){e.startTime=(new Date).getTime();var r={id:e.transactionId,test:d.vc.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:d.vc.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:Qu({},e.bidder,e.params),video:i.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===ec.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:lc(d.vc)},bidders:{rubicon:{integration:ec.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(r.ext.prebid.aliases=Qu({},e.bidder,"rubicon"));var o,a,s,u,c=n().installedModules;if(!c||c.length&&-1===c.indexOf("rubiconAnalyticsAdapter")||i.deepSetValue(r,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||ec.disableFloors)o=parseFloat(i.deepAccess(e,"params.floor"));else{var l;try{l=e.getFloor({currency:"USD",mediaType:"video",size:oc(e,"video")})}catch(e){i.logError("Rubicon: getFloor threw an error: ",e)}o="object"!==Zu(l)||"USD"!==l.currency||isNaN(parseInt(l.floor))?void 0:parseFloat(l.floor)}isNaN(o)||(r.imp[0].bidfloor=o),r.imp[0].ext[e.bidder].video.size_id=(s=e,u=parseInt(i.deepAccess(s,"params.video.size_id")),isNaN(u)?"outstream"===i.deepAccess(s,"mediaTypes.".concat(A.pX,".context"))?203:201:u),function(e,t,r){e&&("object"===Zu(d.vc.getConfig("app"))?e.app=d.vc.getConfig("app"):e.site={page:nc(t,r)},"object"===Zu(d.vc.getConfig("device"))&&(e.device=d.vc.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(r){e[r]&&(e[r].content=Yu({language:t.params.video.language},e[r].content))})))}(r,e,t),function(e,t){"object"===Zu(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===Zu(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===Zu(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var r=oc(t,"video");e.imp[0].video.w=r[0],e.imp[0].video.h=r[1]}(r,e),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(a=t.gdprConsent.gdprApplies?1:0),i.deepSetValue(r,"regs.ext.gdpr",a),i.deepSetValue(r,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&i.deepSetValue(r,"regs.ext.us_privacy",t.uspConsent);var p=i.deepAccess(t,"bids.0.userIdAsEids");p&&p.length&&i.deepSetValue(r,"user.ext.eids",p);var f=d.vc.getConfig("user.id");f&&i.deepSetValue(r,"user.id",f),!0===d.vc.getConfig("coppa")&&i.deepSetValue(r,"regs.coppa",1),e.schain&&dc(e.schain)&&i.deepSetValue(r,"source.ext.schain",e.schain);var h=d.vc.getConfig("multibid");return h&&i.deepSetValue(r,"ext.prebid.multibid",h.reduce((function(e,t){var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),e.push(r),e}),[])),ac(e,A.pX,r),e.storedAuctionResponse&&i.deepSetValue(r.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),i.deepSetValue(r.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://".concat(ec.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:r,bidRequest:e}}));if(!0!==ec.singleRequest)r=o.concat(e.filter((function(e){return"banner"===cc(e)})).map((function(e){var r=rc.createSlotParams(e,t);return{method:"GET",url:"https://".concat(ec.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:rc.getOrderedParams(r).reduce((function(e,t){var n=r[t];return i.isStr(n)&&""!==n||i.isNumber(n)?"".concat(e).concat(pc(t,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var a=e.filter((function(e){return"banner"===cc(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});r=o.concat(Object.keys(a).reduce((function(e,r){var n;return(n=a[r],10,n.map((function(e,t){return t%10==0?n.slice(t,t+10):null})).filter((function(e){return e}))).forEach((function(r){var n=rc.combineSlotUrlParams(r.map((function(e){return rc.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(ec.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:rc.getOrderedParams(n).reduce((function(e,t){var r=n[t];return i.isStr(r)&&""!==r||i.isNumber(r)?"".concat(e).concat(pc(t,r),"&"):e}),"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})})),e}),[]))}return r},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,n){return Object.keys(r).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(n,1,r[i])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r=e.params,n=oc(e,"banner"),o=$u(r.latLong||[],2),a=o[0],s=o[1],u={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:n[0],alt_size_ids:n.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>=.01?r.floor:void 0,rp_secure:"1",tk_flint:"".concat(ec.int_type||"pbjs_lite","_v4.43.4"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:nc(e,t)};if("function"==typeof e.getFloor&&!ec.disableFloors){var c;try{c=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){i.logError("Rubicon: getFloor threw an error: ",e)}u.rp_hard_floor="object"!==Zu(c)||"USD"!==c.currency||isNaN(parseInt(c.floor))?void 0:c.floor}u.p_pos="atf"===r.position||"btf"===r.position?r.position:"";var l=d.vc.getConfig("user.id");return l&&(u.ppuid=l),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(u.tpid_tdid=e.uids[0].id,u["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(u["tpid_liveintent.com"]=e.uids[0].id,u["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(u["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?u.x_liverampidl=e.uids[0].id:"sharedid.org"===e.source?u["eid_sharedid.org"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.third||""):"id5-sync.com"===e.source?u["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):u["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!u.ppuid){var t=g()(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(u.ppuid=t.id)}}catch(t){i.logWarn("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(u.gdpr=Number(t.gdprConsent.gdprApplies)),u.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(u.us_privacy=encodeURIComponent(t.uspConsent)),u.rp_maxbids=t.bidLimit||1,ac(e,A.Mk,u),!0===d.vc.getConfig("coppa")&&(u.coppa=1),e.schain&&dc(e.schain)&&(u.rp_schain=rc.serializeSupplyChain(e.schain)),u},serializeSupplyChain:function(e){if(!dc(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return"".concat(t,",").concat(r,"!").concat(rc.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var r=t.bidRequest;if(!(e=e.body)||"object"!==Zu(e))return[];if(e.seatbid){var n=i.deepAccess(e,"ext.errors.rubicon");Array.isArray(n)&&n.length>0&&i.logWarn("Rubicon: Error in video response");var o=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(n){var a={requestId:r.bidId,currency:e.cur||"USD",creativeId:n.crid,cpm:n.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==ec.netRevenue,width:n.w||i.deepAccess(r,"mediaTypes.video.w")||i.deepAccess(r,"params.video.playerWidth"),height:n.h||i.deepAccess(r,"mediaTypes.video.h")||i.deepAccess(r,"params.video.playerHeight")};n.id&&(a.seatBidId=n.id),n.dealid&&(a.dealId=n.dealid),n.adomain&&i.deepSetValue(a,"meta.advertiserDomains",Array.isArray(n.adomain)?n.adomain:[n.adomain]),i.deepAccess(n,"ext.bidder.rp.advid")&&i.deepSetValue(a,"meta.advertiserId",n.ext.bidder.rp.advid);var s=i.deepAccess(e,"ext.responsetimemillis.rubicon");if(r&&s&&(r.serverResponseTimeMs=s),i.deepAccess(n,"ext.prebid.type")===A.pX){a.mediaType=A.pX,i.deepSetValue(a,"meta.mediaType",A.pX);var u=i.deepAccess(n,"ext.prebid.targeting");u&&"object"===Zu(u)&&(a.adserverTargeting=u),n.ext.prebid.cache&&"object"===Zu(n.ext.prebid.cache.vastXml)&&n.ext.prebid.cache.vastXml.cacheId&&n.ext.prebid.cache.vastXml.url?(a.videoCacheKey=n.ext.prebid.cache.vastXml.cacheId,a.vastUrl=n.ext.prebid.cache.vastXml.url):u&&u.hb_uuid&&u.hb_cache_host&&u.hb_cache_path&&(a.videoCacheKey=u.hb_uuid,a.vastUrl="https://".concat(u.hb_cache_host).concat(u.hb_cache_path,"?uuid=").concat(u.hb_uuid)),n.adm&&(a.vastXml=n.adm),n.nurl&&(a.vastUrl=n.nurl),!a.vastUrl&&n.nurl&&(a.vastUrl=n.nurl),"outstream"===i.deepAccess(r,"mediaTypes.video.context").toLowerCase()&&(a.renderer=function(e){var t=v.install({id:e.adId,url:ec.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.0.0.js",config:ec.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(ic)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return t}(a))}else i.logWarn("Rubicon: video response received non-video media type");o.push(a)}))})),o}var a,s=e.ads,u=0;return"object"!==Zu(r)||Array.isArray(r)||"video"!==cc(r)||"object"!==Zu(s)||(s=s[r.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(t,n,o){if(n.impression_id&&a===n.impression_id?u++:a=n.impression_id,"ok"!==n.status)return t;var s,c,l=Array.isArray(r)?r[o-u]:r;if(l&&"object"===Zu(l)){var d={requestId:l.bidId,currency:"USD",creativeId:n.creative_id||"".concat(n.network||"","-").concat(n.advertiser||""),cpm:n.cpm||0,dealId:n.deal,ttl:300,netRevenue:!1!==ec.netRevenue,rubicon:{advertiserId:n.advertiser,networkId:n.network},meta:{advertiserId:n.advertiser,networkId:n.network,mediaType:A.Mk}};if(n.creative_type&&(d.mediaType=n.creative_type),n.adomain&&(d.meta.advertiserDomains=Array.isArray(n.adomain)?n.adomain:[n.adomain]),n.creative_type===A.pX)d.width=l.params.video.playerWidth,d.height=l.params.video.playerHeight,d.vastUrl=n.creative_depot_url,d.impression_id=n.impression_id,d.videoCacheKey=n.impression_id;else{d.ad=(s=n.script,c=n.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(c,"'>\n<script type='text/javascript'>").concat(s,"<\/script>\n</div>\n</body>\n</html>"));var p=$u(tc[n.size_id].split("x").map((function(e){return Number(e)})),2);d.width=p[0],d.height=p[1]}d.rubiconTargeting=(Array.isArray(n.targeting)?n.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:l.adUnitCode}),t.push(d)}else i.logError("Rubicon: bidRequest undefined at index position:".concat(o),r,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,r,n){if(!fc&&e.iframeEnabled){var i="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?i+="?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):i+="?gdpr_consent=".concat(r.consentString)),n&&(i+="".concat(i?"&":"?","us_privacy=").concat(encodeURIComponent(n))),fc=!0,{type:"iframe",url:"https://".concat(ec.syncHost||"eus",".rubiconproject.com/usync.html")+i}}},transformBidParams:function(e,t){return i.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function nc(e,t){var r=d.vc.getConfig("pageUrl");return e.params.referrer?r=e.params.referrer:r||(r=t.refererInfo.referer),e.params.secure?r.replace(/^http:/i,"https:"):r}function ic(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:"#".concat(e.adUnitCode),align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function oc(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(i.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var o=[];return Array.isArray(r.sizes)?o=r.sizes:void 0!==i.deepAccess(e,"mediaTypes.banner.sizes")?o=sc(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=sc(e.sizes):i.logWarn("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort((function(e,r){var n=t.indexOf(e),i=t.indexOf(r);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-r}))}(o)}function ac(e,t,r){var n={user:{ext:{data:Xu({},e.params.visitor)}},site:{ext:{data:Xu({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=i.isArray(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var o=i.mergeDeep({},d.vc.getConfig("ortb2")||{},n),a=i.deepAccess(e.ortb2Imp,"ext.data")||{},s={user:[3],site:[1,2]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},c=function(e,t,r){if("data"===t&&Array.isArray(e))return e.filter((function(e){return e.segment&&i.deepAccess(e,"ext.segtax")&&s[r]&&-1!==s[r].indexOf(i.deepAccess(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString();if("object"!==Zu(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){if("object"!==Zu(e)&&void 0!==e)return e.toString();i.logWarn("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else i.logWarn("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")},l=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=c(e,n,t),a=u[n]&&i?"".concat(u[n]):"data"===n?"".concat(u[t],"iab"):"".concat(u[t]).concat(n);r[a]=r[a]?r[a].concat(",",o):o};Object.keys(a).forEach((function(e){"adserver"===e?["name","adslot"].forEach((function(t){a[e][t]&&(a[e][t]=a[e][t].toString().replace(/^\/+/,""))})):"pbadslot"===e&&(a[e]=a[e].toString().replace(/^\/+/,""))})),t===A.Mk?(["site","user"].forEach((function(e){Object.keys(o[e]).forEach((function(t){"site"===e&&"content"===t&&o[e][t].data?l(o[e][t].data,e,"data"):"ext"!==t?l(o[e][t],e,t):o[e][t].data&&Object.keys(o[e].ext.data).forEach((function(t){l(o[e].ext.data[t],e,t,!1)}))}))})),Object.keys(a).forEach((function(e){"adserver"===e?l(a[e].adslot,name,e):l(a[e],"site",e)}))):(Object.keys(a).length&&i.mergeDeep(r.imp[0].ext,{data:a}),i.mergeDeep(r,o))}function sc(e){return i.parseSizesInput(e).reduce((function(e,t){var r=parseInt(tc[t],10);return r&&e.push(r),e}),[])}function uc(e){return"object"===Zu(i.deepAccess(e,"params.video"))&&void 0!==i.deepAccess(e,"mediaTypes.".concat(A.pX))}function cc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return uc(e)?-1===["outstream","instream"].indexOf(i.deepAccess(e,"mediaTypes.".concat(A.pX,".context")))?void(t&&i.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):oc(e,"video").length<2?void(t&&i.logError("Rubicon: could not determine the playerSize of the video")):(t&&i.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===oc(e,"banner").length?void(t&&i.logError("Rubicon: could not determine the sizes for banner request")):(t&&i.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function lc(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function dc(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?r.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||i.logError("Rubicon: required schain params missing"),t):t}function pc(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var fc=!1;function hc(){return hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}(0,ct.dX)(rc);var gc="sharethrough",mc=[1,1],vc={b64EncodeUnicode:_c,handleIframe:function(){var e=!1;if(!window.lockedInFrame){var t=document.createElement("script");t.src="https://native.sharethrough.com/assets/sfp-set-targeting.js",t.type="text/javascript";try{window.document.getElementsByTagName("body")[0].appendChild(t),e=!0}catch(e){i.logError("Trouble writing frame buster script, error details:",e)}}if(!(e?window.top.STR&&window.top.STR.Tag:window.STR&&window.STR.Tag)){var r=document.createElement("script");r.src="https://native.sharethrough.com/assets/sfp.js",r.type="text/javascript";try{e?window.top.document.getElementsByTagName("body")[0].appendChild(r):window.document.getElementsByTagName("body")[0].appendChild(r)}catch(e){i.logError("Trouble writing sfp script, error details:",e)}}},isLockedInFrame:function(){window.lockedInFrame=!1;try{window.lockedInFrame=!window.top.document}catch(e){window.lockedInFrame=e instanceof DOMException}},getProtocol:function(){return document.location.protocol}},yc={code:gc,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===gc},buildRequests:function(e,t){return e.map((function(e){var r={placement_key:e.params.pkey,bidId:e.bidId,consent_required:!1,instant_play_capable:wc(),hbSource:"prebid",hbVersion:"4.43.4",strVersion:"3.4.0"};hc(r,function(e){if(!e.userId)return{};var t={},r=i.deepAccess(e,"userId.tdid");r&&(t.ttduid=r);var n=i.deepAccess(e,"userId.pubcid")||i.deepAccess(e,"crumbs.pubcid");n&&(t.pubcid=n);var o=i.deepAccess(e,"userId.idl_env");o&&(t.idluid=o);var a=i.deepAccess(e,"userId.id5id.uid");if(a){t.id5uid={id:a};var s=i.deepAccess(e,"userId.id5id.ext.linkType");s&&(t.id5uid.linkType=s)}var u=i.deepAccess(e,"userId.lipb.lipbid");u&&(t.liuid=u);var c=i.deepAccess(e,"userId.sharedid");return c&&(t.shduid=c),t}(e));var n=vc.getProtocol().indexOf("http")<0;r.secure=n||vc.getProtocol().indexOf("https")>-1,t&&t.gdprConsent&&t.gdprConsent.consentString&&(r.consent_string=t.gdprConsent.consentString),t&&t.gdprConsent&&(r.consent_required=!!t.gdprConsent.gdprApplies),t&&t.uspConsent&&(r.us_privacy=t.uspConsent),!0===d.vc.getConfig("coppa")&&(r.coppa=!0),e.schain&&(r.schain=JSON.stringify(e.schain));var o=function(e){if(i.isFn(e.getFloor)){var t=e.getFloor({currency:"USD",mediaType:"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});if(i.isPlainObject(t)&&!isNaN(t.floor)&&"USD"===t.currency)return parseFloat(t.floor)}return null}(e);return o&&(r.bidfloor=o),e.params.badv&&(r.badv=e.params.badv),e.params.bcat&&(r.bcat=e.params.bcat),{method:"POST",url:"https://btlr.sharethrough.com/WYu2BXv1/v1",data:r,strData:{skipIframeBusting:e.params.iframe,iframeSize:e.params.iframeSize,sizes:e.sizes}}}))},interpretResponse:function(e,t){var r=e.body;if(!r||!r.creatives||!r.creatives.length)return[];var n=r.creatives[0],i=mc;return(t.strData.iframeSize||t.strData.sizes.length)&&(i=t.strData.iframeSize?t.strData.iframeSize:function(e){function t(e){return e[0]*e[1]}return e.reduce((function(e,r){return t(r)>t(e)?r:e}))}(t.strData.sizes)),[{requestId:t.data.bidId,width:i[0],height:i[1],cpm:n.cpm,creativeId:n.creative.creative_key,dealId:n.creative.deal_id,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:n.creative&&n.creative.adomain?n.creative.adomain:[]},ad:bc(r,t)}]},getUserSyncs:function(e,t,r,n){var i=n?"&us_privacy=".concat(n):"",o=[];return e.pixelEnabled&&t.length>0&&t[0].body&&t[0].body.cookieSyncUrls&&t[0].body.cookieSyncUrls.forEach((function(e){o.push({type:"image",url:e+i})})),o},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};function bc(e,t){var r="str_response_".concat(t.data.bidId),n='\n    <div data-str-native-key="'.concat(t.data.placement_key,'" data-stx-response-name="').concat(r,'">\n    </div>\n    <script>var ').concat(r,' = "').concat(_c(JSON.stringify(e)),'"<\/script>\n  ');return t.strData.skipIframeBusting?n+='<script src="https://native.sharethrough.com/assets/sfp.js"><\/script>':n+="\n      <script>\n        (".concat(vc.isLockedInFrame.toString(),")()\n      <\/script>\n      <script>\n        (").concat(vc.handleIframe.toString(),")()\n      <\/script>"),n}function _c(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function wc(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),r=/iPhone|iPad|iPod/i.test(e),n=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),i=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),o=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&n>=53||r&&(o>=10||i>=53)||!t&&!r)}(0,ct.dX)(yc);var Sc={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;var t=["asi","sid","hp","rid","name","domain"];return"".concat(e.ver,",").concat(e.complete,"!")+e.nodes.map((function(e){return t.map((function(t){return e[t]?encodeURIComponent(e[t]):""})).join(",")})).join("!")},buildRequests:function(e,t){return e.map((function(e){var r={siteid:e.params.siteId,pageid:e.params.pageId,formatid:e.params.formatId,currencyCode:d.vc.getConfig("currency.adServerCurrency"),bidfloor:e.params.bidfloor||0,targeting:e.params.target&&""!==e.params.target?e.params.target:void 0,buid:e.params.buId&&""!==e.params.buId?e.params.buId:void 0,appname:e.params.appName&&""!==e.params.appName?e.params.appName:void 0,ckid:e.params.ckId||0,tagId:e.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.referer?t.refererInfo.referer:void 0,transactionId:e.transactionId,timeout:d.vc.getConfig("bidderTimeout"),bidId:e.bidId,prebidVersion:"4.43.4",schain:Sc.serializeSupplyChain(e.schain)},n=i.deepAccess(e,"mediaTypes.video");if(n){if(!n||"instream"!==n.context&&"outstream"!==n.context)return{};var o=null;e.params.video&&e.params.video.protocol?o=e.params.video.protocol:Array.isArray(n.protocols)&&(o=Math.max.apply(Math,n.protocols));var a=2;e.params.video&&e.params.video.startDelay?a=e.params.video.startDelay:0==n.startdelay?a=1:-1==n.startdelay?a=2:-2==n.startdelay&&(a=3);var s=n.playerSize[0];r.isVideo="instream"===n.context,r.mediaType=A.pX,r.videoData={videoProtocol:o,playerWidth:s[0],playerHeight:s[1],adBreak:a}}else{var u=i.deepAccess(e,"mediaTypes.banner");r.sizes=u.sizes.map((function(e){return{w:e[0],h:e[1]}}))}t&&t.gdprConsent&&(r.addtl_consent=t.gdprConsent.addtlConsent,r.gdpr_consent=t.gdprConsent.consentString,r.gdpr=t.gdprConsent.gdprApplies),e&&e.userId&&(r.eids=xi(e.userId)),t&&t.uspConsent&&(r.us_privacy=t.uspConsent);var c=JSON.stringify(r);return{method:"POST",url:(void 0!==e.params.domain?e.params.domain:"https://prg.smartadserver.com")+"/prebid/v1",data:c}}))},interpretResponse:function(e,t){var r=[],n=e.body;try{if(n&&!n.isNoAd){var o=JSON.parse(t.data),a={requestId:o.bidId,cpm:n.cpm,width:n.width,height:n.height,creativeId:n.creativeId,dealId:n.dealId,currency:n.currency,netRevenue:n.isNetCpm,ttl:n.ttl,dspPixels:n.dspPixels,meta:{advertiserDomains:n.adomain?n.adomain:[]}};o.mediaType===A.pX?(a.mediaType=A.pX,a.vastUrl=n.adUrl,a.vastXml=n.ad,a.content=n.ad):(a.adUrl=n.adUrl,a.ad=n.ad),r.push(a)}}catch(e){i.logError("Error while parsing smart server response",e)}return r},getUserSyncs:function(e,t){var r=[];return e.iframeEnabled&&t.length>0?r.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){r.push({type:"image",url:e})})),r}};function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}(0,ct.dX)(Sc);var Ic={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},kc={code:"spotx",gvlid:165,aliases:["spotx"],supportedMediaTypes:[A.pX],isBidRequestValid:function(e){if(e&&"object"!==Tc(e.params))return i.logError("spotx: params is not defined or is incorrect in the bidder settings."),!1;if(!i.deepAccess(e,"mediaTypes.video"))return i.logError("spotx: mediaTypes.video is not present in the bidder settings."),!1;var t=i.deepAccess(e,"mediaTypes.video.playerSize");if(!t||!i.isArray(t))return i.logError("spotx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!i.getBidIdParameter("channel_id",e.params))return i.logError("spotx: channel_id is not present in bidder params"),!1;if(("outstream"==i.deepAccess(e,"mediaTypes.video.context")||"outstream"==i.deepAccess(e,"params.ad_unit"))&&!i.getBidIdParameter("outstream_function",e.params)){if(!i.getBidIdParameter("outstream_options",e.params))return i.logError("spotx: please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!i.getBidIdParameter("slot",e.params.outstream_options))return i.logError("spotx: please define parameter slot in outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,t){var r=t.refererInfo.referer,n=!!r.match(/^https:/);return e.map((function(e){var o;o=i.getBidIdParameter("page",e.params)?i.getBidIdParameter("page",e.params):d.vc.getConfig("pageUrl")?d.vc.getConfig("pageUrl"):r;var a=i.getBidIdParameter("channel_id",e.params),s=null,u=i.deepAccess(e,"mediaTypes.video.playerSize"),c=u[0][0],l=u[0][1],p=n||(i.getBidIdParameter("secure",e.params)?1:0),f={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=i.getBidIdParameter("hide_skin",e.params)&&(f.hide_skin=+!!i.getBidIdParameter("hide_skin",e.params)),""!=i.getBidIdParameter("ad_volume",e.params)&&(f.ad_volume=i.getBidIdParameter("ad_volume",e.params)),""!=i.getBidIdParameter("ad_unit",e.params)&&(f.ad_unit=i.getBidIdParameter("ad_unit",e.params)),""!=i.getBidIdParameter("outstream_options",e.params)&&(f.outstream_options=i.getBidIdParameter("outstream_options",e.params)),""!=i.getBidIdParameter("outstream_function",e.params)&&(f.outstream_function=i.getBidIdParameter("outstream_function",e.params)),""!=i.getBidIdParameter("custom",e.params)&&(f.custom=i.getBidIdParameter("custom",e.params)),""!=i.getBidIdParameter("pre_market_bids",e.params)&&i.isArray(i.getBidIdParameter("pre_market_bids",e.params))){var h=i.getBidIdParameter("pre_market_bids",e.params);for(var g in f.pre_market_bids=[],h){var m=h[g],v="";m.vast_url?v='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+m.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":m.vast_string&&(v=m.vast_string),f.pre_market_bids.push({id:m.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:m.deal_id,price:m.price,adm:v}]}],cur:m.currency,ext:{event_log:[{}]}})}}var y=i.getBidIdParameter("mimes",e.params)||["application/javascript","video/mp4","video/webm"],b={id:e.bidId,secure:p,video:{w:c,h:l,ext:f,mimes:y}};""!=i.getBidIdParameter("price_floor",e.params)&&(b.bidfloor=i.getBidIdParameter("price_floor",e.params)),""!=i.getBidIdParameter("start_delay",e.params)&&(b.video.startdelay=0+Boolean(i.getBidIdParameter("start_delay",e.params))),""!=i.getBidIdParameter("min_duration",e.params)&&(b.video.minduration=i.getBidIdParameter("min_duration",e.params)),""!=i.getBidIdParameter("max_duration",e.params)&&(b.video.maxduration=i.getBidIdParameter("max_duration",e.params)),""!=i.getBidIdParameter("placement_type",e.params)&&(b.video.ext.placement=i.getBidIdParameter("placement_type",e.params)),""!=i.getBidIdParameter("position",e.params)&&(b.video.ext.pos=i.getBidIdParameter("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(s=e.crumbs.pubcid);var _=navigator.language?"language":"userLanguage",w={id:a,imp:b,site:{id:"",page:o,content:"content"},device:{h:screen.height,w:screen.width,dnt:i.getDNT()?1:0,language:navigator[_].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},ext:{wrap_response:1}};d.vc.getConfig("cache")&&d.vc.getConfig("cache.url")&&!0===d.vc.getConfig("cache.ignoreBidderCacheKey")&&(w.ext.wrap_response=0),i.getBidIdParameter("number_of_ads",e.params)&&(w.ext.number_of_ads=i.getBidIdParameter("number_of_ads",e.params));var S={};return 1==i.getBidIdParameter("spotx_all_google_consent",e.params)&&(S.consented_providers_settings=Ic),t&&t.gdprConsent&&(S.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&i.deepSetValue(w,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&i.deepSetValue(w,"regs.ext.us_privacy",t.uspConsent),i.deepAccess(e,"userId.id5id.uid")&&(S.eids=S.eids||[],S.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id.uid,ext:e.userId.id5id.ext||{}}]})),s&&(S.fpc=s),e&&e.schain&&(w.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(S.eids=S.eids||[],S.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),i.isEmpty(S)||(w.user={ext:S}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+a+"?src_sys=prebid",data:w,bidRequest:t}}))},interpretResponse:function(e,t){var r=[],n=e.body;return n&&i.isArray(n.seatbid)&&i._each(n.seatbid,(function(e){i._each(e.bid,(function(e){var o={};for(var a in t.bidRequest.bids)e.impid==t.bidRequest.bids[a].bidId&&(o=t.bidRequest.bids[a]);i._each(o.params.pre_market_bids,(function(t){t.deal_id==e.id&&(e.price=t.price,n.cur=t.currency)}));var s={requestId:o.bidId,currency:n.cur||"USD",cpm:e.price,creativeId:e.crid||"",dealId:e.dealid||"",ttl:360,netRevenue:!0,channel_id:n.id,mediaType:A.pX,width:e.w,height:e.h};d.vc.getConfig("cache")&&d.vc.getConfig("cache.url")&&!0===d.vc.getConfig("cache.ignoreBidderCacheKey")?s.vastXml=e.adm:(s.cache_key=e.ext.cache_key,s.vastUrl="https://search.spotxchange.com/ad/vast.html?key="+e.ext.cache_key,s.videoCacheKey=e.ext.cache_key),s.meta=s.meta||{},e&&e.adomain&&e.adomain.length>0&&(s.meta.advertiserDomains=e.adomain);var u=i.deepAccess(o,"mediaTypes.video.context"),c=i.deepAccess(o,"params.ad_unit");if("outstream"==u||"outstream"==c){var l=i.deepAccess(o,"mediaTypes.video.playerSize"),p=v.install({id:0,url:"/",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:l[0][0],player_height:l[0][1],content_page_url:i.deepAccess(t,"data.site.page"),ad_mute:+!!i.deepAccess(o,"params.ad_mute"),hide_skin:+!!i.deepAccess(o,"params.hide_skin"),outstream_options:i.deepAccess(o,"params.outstream_options"),outstream_function:i.deepAccess(o,"params.outstream_function")}});try{p.setRender(Ac),p.setEventHandlers({impression:function(){return i.logMessage("SpotX outstream video impression event")},loaded:function(){return i.logMessage("SpotX outstream video loaded event")},ended:function(){i.logMessage("SpotX outstream renderer video event")}})}catch(e){i.logWarn("Prebid Error calling setRender or setEventHandlers on renderer",e)}s.renderer=p}r.push(s)}))})),r}};function Ac(e){var t=function(e){var t=i.getBidIdParameter("slot",e.renderer.config.outstream_options);i.logMessage("[SPOTX][renderer] Handle SpotX outstream renderer");var r=window.document.createElement("script");r.type="text/javascript",r.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var n={};n["data-spotx_channel_id"]=""+e.channel_id,n["data-spotx_vast_url"]=""+e.vastUrl,n["data-spotx_content_page_url"]=e.renderer.config.content_page_url,n["data-spotx_ad_unit"]="incontent",i.logMessage("[SPOTX][renderer] Default behavior"),i.getBidIdParameter("ad_mute",e.renderer.config.outstream_options)&&(n["data-spotx_ad_mute"]="1"),n["data-spotx_collapse"]="0",n["data-spotx_autoplay"]="1",n["data-spotx_blocked_autoplay_override_mode"]="1",n["data-spotx_video_slot_can_autoplay"]="1";var o=i.getBidIdParameter("playersize_auto_adapt",e.renderer.config.outstream_options);if(o&&i.isBoolean(o)&&!0===o){var a=e.width&&i.isNumber(e.width)&&e.height&&i.isNumber(e.height)?e.width/e.height:4/3,s=window.document.getElementById(t).clientWidth,u=e.renderer.config.player_width,c=e.renderer.config.player_height,l=0,d=0;s<u&&(c=(u=s)/a),a<=1?(l=Math.round(c*a),d=c):(l=u,d=Math.round(u/a)),n["data-spotx_content_width"]=""+l,n["data-spotx_content_height"]=""+d}var p=i.getBidIdParameter("custom_override",e.renderer.config.outstream_options);if(p&&i.isPlainObject(p))for(var f in i.logMessage("[SPOTX][renderer] Custom behavior."),p)p.hasOwnProperty(f)&&("channel_id"===f||"vast_url"===f||"content_page_url"===f||"ad_unit"===f?i.logWarn("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+f):n["data-spotx_"+f]=p[f]);for(var h in n)n.hasOwnProperty(h)&&r.setAttribute(h,n[h]);return r}(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var r=i.getBidIdParameter("in_iframe",e.renderer.config.outstream_options);if(r&&"IFRAME"==window.document.getElementById(r).nodeName){var n=window.document.getElementById(r),o=n.contentDocument;!o&&n.contentWindow&&(o=n.contentWindow.document),o.body.appendChild(t)}else{var a=i.getBidIdParameter("slot",e.renderer.config.outstream_options);a&&window.document.getElementById(a)?window.document.getElementById(a).appendChild(t):window.document.getElementsByTagName("head")[0].appendChild(t)}}catch(e){i.logError("[SPOTX][renderer] Error:"+e.message)}}(0,ct.dX)(kc);var Ec,Oc="https://id.sharedid.org/id",Cc=86400,Pc="0123456789ABCDEFGHJKMNPQRSTVWXYZ",xc=Pc.length,Dc=Math.pow(2,48)-1,jc=(Ec||(Ec=function(e){e||(e="undefined"!=typeof window?window:null);var t=e&&(e.crypto||e.msCrypto);return t?function(){var e=new Uint8Array(1);return t.getRandomValues(e),e[0]/255}:function(){return Math.random()}}()),function(e){return isNaN(e)&&(e=Date.now()),function(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(!1===Number.isInteger(e))throw Mc("time must be an integer");if(e>Dc)throw Mc("cannot encode time greater than "+Dc);if(e<0)throw Mc("time must be positive");if(!1===Number.isInteger(t))throw Mc("length must be an integer");if(t<0)throw Mc("length must be positive");for(var r,n="";t>0;t--)n=Pc.charAt(r=e%xc)+n,e=(e-r)/xc;return n}(e,10)+function(e,t){for(var r="";e>0;e--)r=Uc(t)+r;return r}(16,Ec)});function Rc(e,t){var r={};return r.id=e,r.ts=i.timestamp(),t&&(r.ns=!0),i.logInfo("SharedId: cookie Value: "+JSON.stringify(r)),r}function Mc(e){i.logError(e);var t=new Error(e);return t.source="sharedId",t}function Uc(e){var t=Math.floor(e()*xc);return t===xc&&(t=xc-1),Pc.charAt(t)}function Lc(e){var t=Xr.nX.getConsentData(),r=Oc;return t&&(r="".concat(Oc,"?us_privacy=").concat(t)),e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?r=t?"".concat(r,"&gdpr=1&gdpr_consent=").concat(e.consentString):"".concat(Oc,"?gdpr=1&gdpr_consent=").concat(e.consentString):r}var Nc={name:"sharedId",gvlid:887,decode:function(e){return e?function(e){var t={},r=e&&"string"==typeof e.id?e.id:void 0;if("00000000000000000000000000"!=r){if(r){var n={id:r};return null==(e&&"boolean"==typeof e.ns?e.ns:void 0)&&(n.third=r),t.sharedid=n,i.logInfo("SharedId: Decoded value "+JSON.stringify(t)),t}return r}}(e):void 0},getId:function(e,t){if(!Xr.VP.getCoppa())return{callback:function(e){i.logInfo("SharedId: Sharedid doesnt exists, new cookie creation"),(0,l.h)(Lc(t),function(e){return{success:function(t){var r={};if(t)try{var n=JSON.parse(t);i.logInfo("SharedId: Generated SharedId: "+n.sharedId),r=Rc(n.sharedId,!1)}catch(e){i.logError(e)}e(r)},error:function(t,r){var n=Rc(jc(),!0);i.logInfo("SharedId: Ulid Generated SharedId: "+n.id),e(n)}}}(e),void 0,{method:"GET",withCredentials:!0})}};i.logInfo("SharedId: IDs not provided for coppa requests, exiting SharedId")},extendId:function(e,t,r){if(!Xr.VP.getCoppa()){var n=e&&e.params||{};return i.logInfo("SharedId: Existing shared id "+r.id),{callback:function(e){if(function(e,t){if(t.ns)return!0;e&&"number"==typeof e.syncTime||i.logInfo("SharedId: Sync time is not configured or is not a number");var r=e&&"number"==typeof e.syncTime?e.syncTime:Cc;r>Cc&&(r=Cc);var n,o=t.ts;return!!o&&(n=(i.timestamp()-o)/1e3,Math.abs(Math.round(n))>=r)}(n,r)){i.logInfo("SharedId: Existing shared id "+r+" is not synced");var o={};o.sharedId=r.id;var a=JSON.stringify(o);(0,l.h)(Lc(t),function(e,t){return{success:function(r){if(i.logInfo("SharedId: id to be synced: "+e.id),r)try{var n=JSON.parse(r);e=Rc(n.sharedId,!1),i.logInfo("SharedId: Older SharedId: "+e.id)}catch(e){i.logError(e)}t(e)},error:function(){i.logInfo("SharedId: Sync error for id : "+e.id),t(e)}}}(r,e),a,{method:"POST",withCredentials:!0})}}}}i.logInfo("SharedId: IDs not provided for coppa requests, exiting SharedId")}};(0,S.Bx)("userId",Nc);var Bc=r(6584),qc={code:"teads",gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t=!1;if(void 0!==e.params){var r=Wc(Bc.getValue(e.params,"placementId")),n=Wc(Bc.getValue(e.params,"pageId"));t=r&&n}return t||Bc.logError("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){var r,n=e.map(zc),i={referrer:Fc(t),pageReferrer:document.referrer,networkBandwidth:(r=window.navigator,r&&r.connection&&r.connection.downlink>=0?r.connection.downlink.toString():""),timeToFirstByte:Vc(window),data:n,deviceWidth:screen.width,hb_version:"4.43.4"};e[0].schain&&(i.schain=e[0].schain);var o=t.gdprConsent;if(t&&o){var a="boolean"==typeof o.gdprApplies,s="string"==typeof o.consentString,u=a?function(e,t,r){var n=12;return e?function(e,t){return e&&1===t?e.hasGlobalScope||e.hasGlobalConsent:!(!e||2!==t||e.isServiceSpecific)}(t,r)&&(n=11):n=0,n}(o.gdprApplies,o.vendorData,o.apiVersion):22;i.gdpr_iab={consent:s?o.consentString:"",status:u,apiVersion:o.apiVersion}}return t&&t.uspConsent&&(i.us_privacy=t.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(i)}},interpretResponse:function(e,t){var r=[];return(e=e.body).responses&&e.responses.forEach((function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),r.push(t)})),r}};function Fc(e){var t="";return e&&e.refererInfo&&e.refererInfo.referer&&(t=e.refererInfo.referer),t}function Vc(e){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,r=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(r)return r.toString();var n=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return n?n.toString():""}function zc(e){var t={},r=Bc.getValue(e.params,"placementId"),n=Bc.getValue(e.params,"pageId");return t.sizes=function(e){return Bc.parseSizesInput(function(e){var t=Bc.deepAccess(e,"mediaTypes.video.playerSize"),r=Bc.deepAccess(e,"mediaTypes.video.sizes"),n=Bc.deepAccess(e,"mediaTypes.banner.sizes");return Bc.isArray(n)||Bc.isArray(t)||Bc.isArray(r)?[n,r,t].reduce((function(e,t){return Bc.isArray(t)&&(Bc.isArray(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),t.bidId=Bc.getBidIdParameter("bidId",e),t.bidderRequestId=Bc.getBidIdParameter("bidderRequestId",e),t.placementId=parseInt(r,10),t.pageId=parseInt(n,10),t.adUnitCode=Bc.getBidIdParameter("adUnitCode",e),t.auctionId=Bc.getBidIdParameter("auctionId",e),t.transactionId=Bc.getBidIdParameter("transactionId",e),t}function Wc(e){return parseInt(e)>0}function Hc(e){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(e)}function Gc(){return Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}(0,ct.dX)(qc);var Kc="telaria",Xc="tremorhub.com",Yc="ads.".concat(Xc,"/ad/tag"),$c="events.".concat(Xc,"/diag"),Jc={code:Kc,aliases:["tremor","tremorvideo"],supportedMediaTypes:[A.pX],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adCode&&e.params.supplyCode)},buildRequests:function(e,t){var r=[];return e.forEach((function(e){var n=function(e,t){var r,n,o=i.deepAccess(e,"mediaTypes.video.playerSize");o||i.logWarn("Although player size isn't required it is highly recommended"),o&&(!i.isArray(o)||2!==o.length||isNaN(o[0])||isNaN(o[1])?"object"===Hc(o)&&(r=o[0][0],n=o[0][1]):(r=o[0],n=o[1]));var a=i.deepAccess(e,"params.supplyCode"),s=i.deepAccess(e,"params.adCode");if(a&&s){var u="https://".concat(a,".").concat(Yc,"?adCode=").concat(s);r&&(u+="&playerWidth=".concat(r)),n&&(u+="&playerHeight=".concat(n));var c=Gc({srcPageUrl:Qc()},e.params);return delete c.adCode,u+="".concat(el(c,e.schain)),u+="&transactionId=".concat(e.transactionId),t&&(t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(u+="&gdpr=".concat(t.gdprConsent.gdprApplies?1:0)),t.gdprConsent.consentString&&(u+="&gdpr_consent=".concat(t.gdprConsent.consentString))),t.refererInfo&&t.refererInfo.referer&&(u+="&referrer=".concat(encodeURIComponent(t.refererInfo.referer)))),u+"&hb=1&fmt=json"}}(e,t);n&&r.push({method:"GET",url:n,bidId:e.bidId,vastUrl:n.split("&fmt=json")[0]})})),r},interpretResponse:function(e,t){var r,n,o,a=[];try{r=e.body,t.url.split("&").forEach((function(e){var t=e.toLowerCase();t.indexOf("player")>-1&&(t.indexOf("width")>-1?n=e.split("=")[1]:t.indexOf("height")>-1&&(o=e.split("=")[1]))}))}catch(e){i.logError(e),n=0,o=0}if(!r||r.error){var s="in response for ".concat(t.bidderCode," adapter");r&&r.error&&(s+=": ".concat(r.error)),i.logError(s)}else i.isEmpty(r.seatbid)||r.seatbid[0].bid.forEach((function(e){a.push(function(e,t,r,n,i,o){var a=(0,Ce.m)(e,t);return r&&Gc(a,{requestId:t.bidId,cpm:r.price,creativeId:r.crid||"-1",vastXml:r.adm,vastUrl:t.vastUrl,mediaType:"video",width:n,height:i,bidderCode:"telaria",currency:"USD",netRevenue:!0,ttl:300,ad:r.adm}),a.meta=a.meta||{},r&&r.adomain&&r.adomain.length>0&&(a.meta.advertiserDomains=r.adomain),a}(u.STATUS.GOOD,t,e,n,o))}));return a},getUserSyncs:function(e,t){var r=[];return e.pixelEnabled&&t.length&&(i.deepAccess(t,"0.body.ext.telaria.userSync")||[]).forEach((function(e){return r.push({type:"image",url:e})})),r},onTimeout:function(e){var t=tl(e);t&&i.triggerPixel(t)}};function Qc(){return encodeURIComponent(document.location.href)}function Zc(e){return""!==e&&void 0!==e?encodeURIComponent(e):""}function el(e,t){var r="";if(!i.isEmpty(e)){for(var n in e)"schain"!==n&&e.hasOwnProperty(n)&&!i.isEmpty(e[n])&&(r+="&".concat(n,"=").concat(e[n]));r+=function(e){if(i.isEmpty(e))return"";var t="&schain=".concat(e.ver,",").concat(e.complete);return e.nodes.forEach((function(e){t+="!",t+="".concat(Zc(e.asi),","),t+="".concat(Zc(e.sid),","),t+="".concat(Zc(e.hp),","),t+="".concat(Zc(e.rid),","),t+="".concat(Zc(e.name),","),t+="".concat(Zc(e.domain))})),t}(i.isEmpty(t)?e.schain:t)}return r}var tl=function(e){var t=i.deepAccess(e,"0.params.0");if(!i.isEmpty(t)){var r="https://".concat($c);return t=Gc({srcPageUrl:Qc()},t),(r+="".concat(el(t)))+"&hb=1&evt=TO"}};function rl(){return rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(this,arguments)}function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?il(Object(r),!0).forEach((function(t){al(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sl(e){return function(e){if(Array.isArray(e))return ul(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ul(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ul(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(Jc);var cl=!0,ll=null,dl={gvlid:28,code:"triplelift",supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var r="https://tlx.3lift.com/header/auction?",n=function(e){var t,r,n,o,a,s,u={},c=e[0].schain,l=(t={},r={},n={},o=d.vc.getLegacyFpd(d.vc.getConfig("ortb2"))||{},a=rl({},o.context),s=rl({},o.user),hl(r,a),hl(n,s),i.isEmpty(r)||(t.context=r),i.isEmpty(n)||(t.user=n),t);u.imp=e.map((function(e,t){var r,n={id:t,tagid:e.params.inventoryCode,floor:fl(e)};return pl(e)?n.video=function(e){var t=ol(ol({},e.params.video),e.mediaTypes.video);return t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1]),"instream"===t.context&&(t.placement=1),delete t.playerSize,t}(e):e.mediaTypes.banner&&(n.banner={format:(r=e.sizes,r.filter(ml).map((function(e){return{w:e[0],h:e[1]}})))}),i.isEmpty(e.ortb2Imp)||(n.fpd=function(e){var t={},r={};return hl(r,e.ext),i.isEmpty(r)||(t.context=r),t}(e.ortb2Imp)),n}));var p=[].concat(sl(gl([e[0]],"tdid","adserver.org","TDID")),sl(function(e){return gl(e,"idl_env","liveramp.com","idl")}([e[0]])),sl(function(e){return gl(e,"criteoId","criteo.com","criteoId")}([e[0]])),sl(function(e){return gl(e,"pubcid","pubcid.org","pubcid")}([e[0]])));p.length>0&&(u.user={ext:{eids:p}});var f=function(e,t){var r={};return i.isEmpty(e)||(r.schain=ol({},e)),i.isEmpty(t)||(r.fpd=ol({},t)),r}(c,l);return i.isEmpty(f)||(u.ext=f),u}(e);if(r=i.tryAppendQueryString(r,"lib","prebid"),r=i.tryAppendQueryString(r,"v","4.43.4"),t&&t.refererInfo){var o=t.refererInfo.referer;r=i.tryAppendQueryString(r,"referrer",o)}return t&&t.timeout&&(r=i.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(cl=t.gdprConsent.gdprApplies,r=i.tryAppendQueryString(r,"gdpr",cl.toString())),void 0!==t.gdprConsent.consentString&&(ll=t.gdprConsent.consentString,r=i.tryAppendQueryString(r,"cmp_cs",ll))),t&&t.uspConsent&&(r=i.tryAppendQueryString(r,"us_privacy",t.uspConsent)),!0===d.vc.getConfig("coppa")&&(r=i.tryAppendQueryString(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),i.logMessage("tlCall request built: "+r),{method:"POST",url:r,data:n,bidderRequest:t}},interpretResponse:function(e,t){var r=t.bidderRequest;return(e.body.bids||[]).map((function(e){return function(e,t){var r={},n=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(r={requestId:s.bidId,cpm:t.cpm,width:n,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},pl(s)&&(r.vastXml=t.ad,r.mediaType="video"),t.advertiser_name&&(r.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(r.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(r.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(r.meta.mediaType="native")),r}(r,e)}))},getUserSyncs:function(e,t,r,n){var o=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(o){var a="https://eb2.3lift.com/sync?";return"image"===o&&(a=i.tryAppendQueryString(a,"px",1),a=i.tryAppendQueryString(a,"src","prebid")),null!==ll&&(a=i.tryAppendQueryString(a,"gdpr",cl),a=i.tryAppendQueryString(a,"cmp_cs",ll)),n&&(a=i.tryAppendQueryString(a,"us_privacy",n)),[{type:o,url:a}]}}};function pl(e){return!!e.mediaTypes.video&&!!e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase()}function fl(e){var t=null;if("function"==typeof e.getFloor){var r=e.getFloor({currency:"USD",mediaType:pl(e)?"video":"banner",size:"*"});"object"!==nl(r)||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}return null!==t?t:e.params.floor}function hl(e,t){i.isEmpty(t)||Object.keys(t).forEach((function(r){null!=t[r]&&(e[r]=t[r])}))}function gl(e,t,r,n){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter((function(e){return!!e})).map(function(e,t){return function(r){return{source:e,uids:[{id:r,ext:{rtiPartner:t}}]}}}(r,n))}function ml(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,ct.dX)(dl);var vl="unifiedId",yl={name:vl,gvlid:21,decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){var t=e&&e.params||{};if(t&&("string"==typeof t.partner||"string"==typeof t.url)){var r=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){var t={success:function(t){var r;if(t)try{r=JSON.parse(t)}catch(e){i.logError(e)}e(r)},error:function(t){i.logError("".concat(vl,": ID fetch encountered an error"),t),e()}};(0,l.h)(r,t,void 0,{method:"GET",withCredentials:!0})}}}i.logError("User ID - unifiedId submodule requires either partner or url to be defined")}};function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,S.Bx)("userId",yl);var _l,wl,Sl,Tl,Il="User ID",kl="cookie",Al="html5",El="_pbjs_userid_consent_data",Ol="_pbjs_id_optout",Cl=(0,Pe.eA)("userid"),Pl=[],xl=!1,Dl=[],jl=[],Rl=[];function Ml(e,t){var r=e.config.storage,n="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var o=i.isPlainObject(t)?JSON.stringify(t):t,a=new Date(Date.now()+864e5*r.expires).toUTCString();r.type===kl?(Cl.setCookie(r.name,o,a,"Lax",n),"number"==typeof r.refreshInSeconds&&Cl.setCookie("".concat(r.name,"_last"),(new Date).toUTCString(),a,"Lax",n)):r.type===Al&&(Cl.setDataInLocalStorage("".concat(r.name,"_exp"),a),Cl.setDataInLocalStorage(r.name,encodeURIComponent(o)),"number"==typeof r.refreshInSeconds&&Cl.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){i.logError(e)}}function Ul(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=r?"".concat(e.name,"_").concat(r):e.name;try{if(e.type===kl)t=Cl.getCookie(n);else if(e.type===Al){var o=Cl.getDataFromLocalStorage("".concat(e.name,"_exp"));""===o?t=Cl.getDataFromLocalStorage(n):o&&new Date(o).getTime()-Date.now()>0&&(t=decodeURIComponent(Cl.getDataFromLocalStorage(n)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){i.logError(e)}return t}function Ll(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),i.cyrb53Hash(JSON.stringify(t))}function Nl(e){try{var t=new Date(Date.now()+2592e6).toUTCString();Cl.setCookie(El,Ll(e),t,"Lax")}catch(e){i.logError(e)}}function Bl(){try{return Cl.getCookie(El)}catch(e){i.logError(e)}}function ql(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return!1;if(1===e.apiVersion&&!1===i.deepAccess(e,"vendorData.purposeConsents.1"))return!1;if(2===e.apiVersion&&!1===i.deepAccess(e,"vendorData.purpose.consents.1"))return!1}return!0}function Fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!Cl.cookiesAreEnabled())return e;var t,r,n=e.split(".");if(2==n.length)return e;var o=-2,a="_rdc".concat(Date.now()),s="writeable";do{t=n.slice(o).join(".");var u=new Date(i.timestamp()+1e4).toUTCString();Cl.setCookie(a,s,u,"Lax",t,void 0);var c=Cl.getCookie(a,void 0);c===s?(r=!1,Cl.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(o+=-1,r=Math.abs(o)<=n.length)}while(r);return t}function Vl(e,t){var r=function(){};t&&(r=i.delayExecution((function(){clearTimeout(wl),t()}),e.length)),e.forEach((function(e){e.callback((function(t){t?(e.config.storage&&Ml(e,t),e.idObj=e.submodule.decode(t,e.config)):i.logInfo("".concat(Il,": ").concat(e.submodule.name," - request id responded with an empty value")),r()})),e.callback=void 0}))}function zl(e){return Array.isArray(e)&&e.length?e.filter((function(e){return i.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(r){e[r]=t.idObj[r]})),e}),{}):{}}function Wl(e){var t=!1;if(void 0===_l&&(_l=function(e,t){var r=Yl(e,t),n=r.userIdModules;if(!r.hasValidated&&!ql(t))return i.logWarn("".concat(Il," - gdpr permission not valid for local storage or cookies, exit module")),[];var o=Bl();return Nl(t),n.reduce((function(e,r){return $l(r,t,o,!1),e.push(r),e}),[])}(Dl,Xr.rp.getConsentData()),_l.length)){!function(e){var t=(0,i.getPrebidInternal)().setEidPermissions;"function"==typeof t&&i.isArray(e)&&t(function(e){var t=[];return e.filter((function(e){return i.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){i.deepAccess(e,"config.bidders")&&Array.isArray(e.config.bidders)&&i.deepAccess(Ci,r+".source")&&t.push({source:Ci[r].source,bidders:e.config.bidders})}))})),t}(e))}(_l);var r=_l.filter((function(e){return i.isFn(e.callback)}));if(r.length)if(e&&Tl>0){t=!0;var n=!1,o=function(){n||(n=!0,e())};i.logInfo("".concat(Il," - auction delayed by ").concat(Tl," at most to fetch ids")),wl=setTimeout(o,Tl),Vl(r,o)}else a().on(u.EVENTS.AUCTION_END,(function e(){a().off(u.EVENTS.AUCTION_END,e),Sl>0?setTimeout((function(){Vl(r)}),Sl):Vl(r)}))}e&&!t&&e()}function Hl(e,t){Wl((function(){(function(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&i.isArray(e.bids)&&e.bids.forEach((function(e){var r=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((function(e){return!e.config.bidders||!i.isArray(e.config.bidders)||I()(e.config.bidders,t)})).filter((function(e){return i.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(r){e[r]=t.idObj[r]})),e}),{}):{}}(t,e.bidder);Object.keys(r).length&&(e.userId=r,e.userIdAsEids=xi(r))}))}))})(t.adUnits||n().adUnits,_l),e.call(this,t)}))}function Gl(){return Wl(),zl(_l)}function Kl(){return Wl(),xi(zl(_l))}function Xl(e,t){var r=e?e.submoduleNames:null;r||(r=[]),Wl((function(){var e=Xr.rp.getConsentData(),n=Yl(Dl,e),o=n.userIdModules;if(n.hasValidated||ql(e)){var a=Bl();Nl(e);var s,u=[],c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return bl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;r.length>0&&-1===r.indexOf(l.submodule.name)||(i.logInfo("".concat(Il," - refreshing ").concat(l.submodule.name)),$l(l,e,a,!0),i.isFn(l.callback)&&u.push(l))}}catch(e){c.e(e)}finally{c.f()}u.length>0&&Vl(u),t&&t()}else i.logWarn("".concat(Il," - gdpr permission not valid for local storage or cookies, exit module"))}))}var Yl=(0,S.z3)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function $l(e,t,r,n){if(e.config.storage){var o,a=Ul(e.config.storage),s=!1;if("number"==typeof e.config.storage.refreshInSeconds){var u=new Date(Ul(e.config.storage,"last"));s=u&&Date.now()-u.getTime()>1e3*e.config.storage.refreshInSeconds}!a||s||n||!function(e,t){return null!=e&&e===Ll(t)}(r,t)?o=e.submodule.getId(e.config,t,a):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,t,a)),i.isPlainObject(o)&&(o.id&&(Ml(e,o.id),a=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),a&&(e.idObj=e.submodule.decode(a,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,t,void 0);i.isPlainObject(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}}function Jl(){var e=function(e,t,r){return Array.isArray(e)?e.reduce((function(e,t){return!t||i.isEmptyStr(t.name)||(!t.storage||i.isEmptyStr(t.storage.type)||i.isEmptyStr(t.storage.name)||-1===r.indexOf(t.storage.type)?i.isPlainObject(t.value)?e.push(t):t.storage||t.value||e.push(t):e.push(t)),e}),[]):[]}(jl,0,Pl);if(e.length){var t=Rl.filter((function(e){return!g()(Dl,(function(t){return t.name===e.name}))}));Dl=t.map((function(t){var r=g()(e,(function(e){return e.name&&e.name.toLowerCase()===t.name.toLowerCase()}));return r&&t.name!==r.name&&(r.name=t.name),t.findRootDomain=Fl,r?{submodule:t,config:r,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})),!xl&&Dl.length&&(n().requestBids.before(Hl,40),i.logInfo("".concat(Il," - usersync config updated for ").concat(Dl.length," submodules: "),Dl.map((function(e){return e.submodule.name}))),xl=!0)}}function Ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){Dl=[],jl=[],xl=!1,_l=void 0,-1!==(Pl=[Cl.localStorageIsEnabled()?Al:null,Cl.cookiesAreEnabled()?kl:null].filter((function(e){return null!==e}))).indexOf(kl)&&Cl.getCookie(Ol)?i.logInfo("".concat(Il," - opt-out cookie found, exit module")):-1!==Pl.indexOf(Al)&&Cl.getDataFromLocalStorage(Ol)?i.logInfo("".concat(Il," - opt-out localStorage found, exit module")):(e.getConfig((function(e){var t=e.userSync;t&&t.userIds&&(jl=t.userIds,Sl=i.isNumber(t.syncDelay)?t.syncDelay:500,Tl=i.isNumber(t.auctionDelay)?t.auctionDelay:0,Jl())})),n().getUserIds=Gl,n().getUserIdsAsEids=Kl,n().refreshUserIds=Xl)}(d.vc),(0,S.bA)("userId",(function(e){g()(Rl,(function(t){return t.name===e.name}))||(Rl.push(e),Jl())}));var ed="$prebid.version$",td="USD",rd=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com","pubcid.org","parrable.com","britepool.com","hcn.health","crwdcntrl.net","criteo.com","merkleinc.com","netid.de","zeotap.com","audigent.com","quantcast.com","nextroll.com","idx.lat","neustar.biz","mediawallahscript.com","tapad.com","novatiq.com","uidapi.com","deepintent.com","akamai.com","admixer.net","adtelligent.com","amxrtb.com","intimatemerger.com"];function nd(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function id(e){return i.isArray(e)&&2===e.length&&!i.isArray(e[0])?[nd(e)]:e.map(nd)}function od(e){return i.isArray(i.deepAccess(e,"userIdAsEids"))?e.userIdAsEids.filter((function(e){return-1!==rd.indexOf(e.source)})):[]}function ad(e){return i.deepAccess(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function sd(){var e=d.vc.getConfig("yahoossp.mode");return void 0===(e=e?e.toLowerCase():void 0)||"banner"===e?"banner":"video"===e?"video":"all"===e?"*":void 0}function ud(e){var t=sd(),r={currency:i.deepAccess(e,"params.bidOverride.cur")||td,mediaType:t,size:"*"};return!!i.isFn(e.getFloor)&&e.getFloor(r)}function cd(e,t,r,n){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(r),!0).forEach((function(t){Zl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n);for(var a in r)switch(e){case"string":t.includes(a)&&i.isStr(r[a])&&(o[a]=r[a]);break;case"number":t.includes(a)&&i.isNumber(r[a])&&(o[a]=r[a]);break;case"array":t.includes(a)&&i.isArray(r[a])&&(o[a]=r[a]);break;case"object":t.includes(a)&&i.isPlainObject(r[a])&&(o[a]=r[a])}return o}function ld(e,t){if(e){var r={id:i.generateUUID(),cur:[ud(e).currency||i.deepAccess(t,"params.bidOverride.cur")||td],imp:[],site:{id:i.deepAccess(t,"params.dcn"),page:i.deepAccess(e,"refererInfo.referer")},device:{dnt:0,ua:navigator.userAgent,ip:i.deepAccess(t,"params.bidOverride.device.ip")||i.deepAccess(t,"params.ext.ip")||void 0},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.0",prebidver:ed,integration:{name:"prebid.js",ver:ed}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:od(t)}}};return d.vc.getConfig("ortb2")&&(r=function(e,t){var r=d.vc.getConfig("ortb2"),n=r.site||void 0,o=i.deepAccess(n,"content")||void 0,a=i.deepAccess(r,"user")||void 0;if(n&&i.isPlainObject(n)){e.site=cd("string",["name","domain","page","ref","keywords","search"],n,e.site),e.site=cd("array",["cat","sectioncat","pagecat"],n,e.site)}if(o&&i.isPlainObject(o)){e.site.content=cd("string",["id","title","series","season","genre","contentrating","language"],o,e.site.content),e.site.content=cd("number",["episode","prodq","context","livestream","len"],o,e.site.content),e.site.content=cd("array",["cat"],o,e.site.content),e.site.content=cd("object",["ext"],o,e.site.content)}if(a&&i.isPlainObject(a)){e.user=cd("string",["id","buyeruid","gender","keywords","customdata"],a,e.user),e.user=cd("number",["yob"],a,e.user),e.user=cd("object",["data","ext"],a,e.user)}return e}(r)),i.deepAccess(t,"schain")&&(r.source.ext.schain=t.schain,r.source.ext.schain.nodes[0].rid=r.id),r}}function dd(e,t){var r=sd();if(t&&e){var n={id:e.bidId,secure:ad(e),tagid:e.params.pos,bidfloor:ud(e).floor||i.deepAccess(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==r&&"banner"!==r&&"*"!==r||(n.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:id(e.sizes)},e.mediaTypes.banner.pos&&(n.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&("video"===r||"*"===r)){var o=id(e.mediaTypes.video.playerSize);n.video={mimes:i.deepAccess(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:i.deepAccess(e,"params.bidOverride.imp.video.w")||o[0].w,h:i.deepAccess(e,"params.bidOverride.imp.video.h")||o[0].h,maxbitrate:i.deepAccess(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:i.deepAccess(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:i.deepAccess(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:i.deepAccess(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:i.deepAccess(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:i.deepAccess(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:i.deepAccess(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:i.deepAccess(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:i.deepAccess(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:i.deepAccess(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],rewarded:i.deepAccess(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(n.ext={pos:e.params.pos,dfp_ad_unit_code:e.adUnitCode},i.deepAccess(e,"params.ortb2Imp")){var a=i.deepAccess(e,"params.ortb2Imp.ext.data");n.ext=cd("object",["data"],a,n.ext)}t.imp.push(n)}}function pd(e){var t=e.payload,r=e.requestOptions,n=e.bidderRequest;if(!0===i.deepAccess(n,"params.testing.e2etest")){i.logInfo("yahoossp adapter e2etest mode is active"),r.withCredentials=!1;var o=sd();t.imp.forEach((function(e){e.ext.e2eTestMode=!0,"banner"===o?e.tagid="8a969978017a7aaabab4ab0bc01a0009":"video"===o?e.tagid="8a96958a017a7a57ac375d50c0c700cc":(i.logWarn('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),i.logWarn("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))})),t.site.id="8a969516017a7a396ec539d97f540011"}return{url:d.vc.getConfig("yahoossp.endpoint")||"https://c2shb.ssp.yahoo.com/bidRequest",method:"POST",data:t,options:r,bidderRequest:n}}var fd={code:"yahoossp",aliases:[],supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){var t=e.params;return!0===i.deepAccess(t,"testing.e2etest")||!!(i.isPlainObject(t)&&i.isStr(t.dcn)&&t.dcn.length>0&&i.isStr(t.pos)&&t.pos.length>0)||(i.logWarn("yahoossp bidder params missing or incorrect, please pass object with dcn & pos"),!1)},buildRequests:function(e,t){if(!i.isEmpty(e)&&!i.isEmpty(t)){var r={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};r.withCredentials=function(e){return!(e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion)}(t);var n=function(e){var t=sd(),r=[];return"banner"===t?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===A.Mk}))})):"video"===t?r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===A.pX}))})):"*"===t&&(r=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===A.Mk||e===A.pX}))}))),r}(e);if(!0===d.vc.getConfig("yahoossp.singleRequestMode")){var o=ld(t,n[0]);return n.forEach((function(e){dd(e,o)})),pd({payload:o,requestOptions:r,bidderRequest:t})}return n.map((function(e){var n=ld(t,e);return dd(e,n),pd({payload:n,requestOptions:r,bidderRequest:e})}))}i.logWarn('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,t){var r=t.data,n=t.bidderRequest;i.logWarn("+++ serverResponse: ",e),i.logWarn("+++ data: ",r),i.logWarn("+++ bidderRequest: ",n);var o=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach((function(e){var t;try{t=e.bid[0]}catch(e){return o}var r=t.ext&&t.ext.encp?t.ext.encp:t.price,a={adId:t.id,adUnitCode:n.adUnitCode,requestId:t.impid,bidderCode:fd.code,cpm:r,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||td,dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:3600,meta:{advertiserDomains:t.adomain}},s=function(e){var t=e.adm;return t.includes("o2playerSettings")||t.includes("YAHOO.VideoPlatform.VideoPlayer")||t.includes("AdPlacement")?"banner":t.includes("VAST")?"video":void 0}(t);"banner"===s?(a.mediaType="banner",a.ad=t.adm,a.meta.mediaType="banner"):"video"===s&&(a.mediaType="video",a.meta.mediaType="video",a.vastXml=t.adm,t.nurl&&(a.vastUrl=t.nurl)),"outstream"!==i.deepAccess(n,"mediaTypes.video.context")||a.renderer||(a.renderer=function(e,t){if(!e.renderer){var r=v.install({url:"https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender((function(t){setTimeout((function(){o2PlayerRender(t)}),i.deepAccess(e,"params.testing.renderer.setTimeout")||700)}))}catch(e){i.logWarn("yahoossp renderer error: setRender() failed",e)}return r}}(n)||void 0),o.push(a)})),o):o},getUserSyncs:function(e,t,r,n){var o=!i.isEmpty(t)&&t[0].body;return o&&o.ext&&o.ext.pixels?function(e,t){var r=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,i=[];if(t){var o=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);o&&o.forEach((function(t){var o=t.match(r)[0],a=t.match(n)[2];if(o&&a){var s="img"===o.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===s||!e.pixelEnabled&&"image"===s)return;i.push({type:s,url:a})}}))}return i}(e,o.ext.pixels):[]}};(0,ct.dX)(fd),ut.processQueue();var hd=ut},7337:function(e,t,r){"use strict";r.r(t),r.d(t,{allDescriptions:function(){return _},get:function(){return y},getById:function(){return b}});var n=r(7200),i=r(3436),o=r(5059);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}var p={},f=(0,n.ap)().width>1580,h=r.g.PageCriteria.isMobile&&!r.g.PageCriteria.isTablet,g=-1!==["home","ushome","auhome"].indexOf(r.g.PageCriteria.channel),m="news"===r.g.PageCriteria.channel,v=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.broker).on("update description",(function(e,t){p[e]=t,r.emit("slot descriptions updated",p)})),r.emit("slot descriptions updated",p);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();v.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.log;p=function(e){var t=e("plugins.slots.descriptions",{}),r=e("plugins.slots.properties",{}),n=e("plugins.slots.loadConditions",{}),o=e("plugins.slots.loadConditions.slots",{}),a=e("plugins.slots.loadConditions.oopSlots",{});return Object.keys(t).reduce((function(e,s){var u=t[s].replace(/, +/g,",").replace(/ +/g," ").split(" "),c={type:u[2],adUnit:(0,i.Z)(s),pos:s,size:u[2].split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))})),id:u[0],parentId:u[0],slots:[]};return u[1]&&"-"!==u[1]&&(c.dfpPos=u[1]),c=function(e,t,r,n,i){return e.constants?(t&&t[i]&&e.constants[t[i]]&&(n.loadCondition=e.constants[t[i]]),r[i]&&r[i]&&e.constants[r[i]]&&(n.oopLoadCondition=e.constants[r[i]]),n):n}(n,o,a,c,s),c=function(e,t,r){return Object.keys(e).reduce((function(n,i){var o=e[i][r];if(void 0!==o)if("conditionalSizes"===i){if(!o||!o.condition||!o.sizes)return;(o.condition.wideSkies&&f||o.condition.isPhone&&h||o.condition.or&&o.condition.homeChannel&&(o.condition.homeChannel&&g||o.condition.newsChannel&&m)||o&&o.condition.and&&o.condition.homeChannel&&o.condition.homeChannel&&g&&!o.condition.isPhone&&!h)&&(t.size=o.sizes.split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))})))}else n[i]=o;return n}),t)}(r,c,s),e[s]=c,e}),{})}(t);var o=Object.entries(t("slotDescription",{})).reduce((function(e,t){var r,o=c(t,2),a=o[0],l=o[1];return l.conditionalSizes&&(n("conditionalSizes found",a,l),function(e){var t,r;null!==(t=e.conditionalSizes)&&void 0!==t&&t.wideSkies&&null!==(r=e.conditionalSizes)&&void 0!==r&&r.sizes&&f&&(e.size=e.conditionalSizes.sizes)}(l)),s(s({},e),{},u({},a,s({type:(r=l.size,r.map((function(e){var t=c(e,2),r=t[0],n=t[1];return"".concat(r,"x").concat(n)})).join(",")),adUnit:(0,i.Z)(l.unit||a),pos:a,parentId:l.id,slots:[],slotTypes:["gpt"],earlyBidding:!0},l)))}),{});n("descriptionsFromSlotDescription",o),r("slotDescriptions.initial",p=s(s({},p),o))};var y=function(e){var t=p[e];return t&&!t.pos&&(t.pos=e),t};function b(e){return(0,o.sE)(p,(function(t){return t.id===e}))}var _=function(){return p};v.isAdsFreeSupported=!0,v.ccpa={enabledIfDissent:!0},v.gdpr={enabledIfDissent:!0},t.default=v},875:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{hd:function(){return E},oP:function(){return I}});var c="mol.ads.cmp.tcf.cache",l=["getTCData","hasUserConsentedToAll","hasUserDissentedToAll","getPurposesByVendorMap","getConsentDegree","getValidTCData","consentedVendors","getStoredRepromptVersion"],d=location.search.match(/adsDebug=[^&]*tcfv2/)?function(){var e;return(e=console).info.apply(e,arguments)}:function(){},p=[],f=window,h=!1;function g(){var e=f.document;if(!f.frames.__tcfapiLocator)if("interactive"===e.readyState||"complete"===e.readyState){var t=e.createElement("iframe");t.style.display="none",t.name="__tcfapiLocator",e.body.appendChild(t),h&&(e.removeEventListener("readystatechange",g),h=!1)}else"function"==typeof e.addEventListener?(e.addEventListener("readystatechange",g),h=!0):setTimeout(g,5)}d("creating");var m=localStorage.getItem(c),v={};m&&(v=JSON.parse(m));var y=0,b={},_=function(e,t){var r=v.getTCData,n=y++;d("adding provisional listener:",n),b[n]={},p.push(["addEventListener",2,function(e,r){var i=e.listenerId;b[n]?(b[n].realListenerId=i,b[n].listenerId=i,t(s(s({},e),{},{listenerId:n}),r)):d("ignoring event coz already removed listener:",{listenerId:n,realListenerId:i})}]),r&&t(s(s({},r),{},{listenerId:n,eventStatus:"tcloaded",cached:!0}),!0)},w=function(e,t){var r=e[3];d("removing provisional listener:",r);var n=b[r];if(!n)return d("unknown listener:",r),void t(!1);var i=n.realListenerId;delete b[r],i&&p.push(["removeEventListener",2,function(e){return t(e)},i]),t(!0)};function S(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return p;var i=r[2],o=r[0];switch(o){case"setGdprApplies":r.length>3&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof i&&i("set",!0));break;case"ping":"function"==typeof i&&i({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"});break;default:if(l.length){if("addEventListener"===o)return _(0,i);if("removeEventListener"===o)return w(r,i)}if(~l.indexOf(o)){r[3]&&d("cache method called with argument:",r[3]);var a=v[o];if(void 0!==a)return d("returning cached value for",o),void i(a,!0)}d("queueing",o),p.push(r)}}function T(e){var t=e&&e.source;if(t&&"function"==typeof t.postMessage){var r="string"==typeof e.data,n=e.data;if(r)try{n=JSON.parse(e.data)}catch(e){return}if("object"===o(n)&&n.__tcfapiCall){var i=n.__tcfapiCall;window.__tcfapi(i.command,i.version,(function(e,n){var o={__tcfapiReturn:{returnValue:e,success:n,callId:i.callId}};t.postMessage(r?JSON.stringify(o):o,"*")}),i.parameter)}}else t&&"function"!=typeof t.postMessage&&d("Message event.source.postMessage is not a function, bailing")}function I(){r.g.adverts.tcfv2Installed||(r.g.adverts.tcfv2Installed=!0,g(),f.__tcfapi=S,f.addEventListener("message",T,!1),r.g.adverts.updateCache=k)}function k(e,t){return A.apply(this,arguments)}function A(){return A=i(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tcString.length){e.next=4;break}return i=l.map((function(e){return new Promise((function(t){r.g.__tcfapi(e,2,(function(r){n("caching",e);var i=JSON.parse(localStorage.getItem(c))||{};i[e]=r,localStorage.setItem(c,JSON.stringify(i)),t()}))}))})),e.next=4,Promise.all(i);case 4:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}var E=function(){return!!localStorage.getItem(c)}},7700:function(e,t,r){"use strict";r.d(t,{B:function(){return n}});var n=Date.now()},2236:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l=r(9742),d=r(645),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=g,t.SlowBuffer=function(e){return+e!=e&&(e=0),g.alloc(+e)},t.INSPECT_MAX_BYTES=50;var f=2147483647;function h(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,g.prototype),t}function g(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return y(e)}return m(e,t,r)}function m(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!g.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|S(e,t),n=h(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(re(e,Uint8Array)){var t=new Uint8Array(e);return _(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(e));if(re(e,ArrayBuffer)||e&&re(e.buffer,ArrayBuffer))return _(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(re(e,SharedArrayBuffer)||e&&re(e.buffer,SharedArrayBuffer)))return _(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return g.from(n,t,r);var i=function(e){if(g.isBuffer(e)){var t=0|w(e.length),r=h(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||ne(e.length)?h(0):b(e):"Buffer"===e.type&&Array.isArray(e.data)?b(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return g.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(e))}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function y(e){return v(e),h(e<0?0:0|w(e))}function b(e){for(var t=e.length<0?0:0|w(e.length),r=h(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function _(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,g.prototype),n}function w(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function S(e,t){if(g.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||re(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(e));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ee(e).length;default:if(i)return n?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function T(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return U(this,t,r);case"base64":return D(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function I(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function k(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ne(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=g.from(t,n)),g.isBuffer(t))return 0===t.length?-1:A(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):A(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var d=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){d=!1;break}if(d)return o}return-1}function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(ne(s))return o;e[r+o]=s}return o}function O(e,t,r,n){return te(Z(t,e.length-r),e,r,n)}function C(e,t,r,n){return te(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return te(ee(t),e,r,n)}function x(e,t,r,n){return te(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function D(e,t,r){return 0===t&&r===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,d=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=e[i+1]))&&(d=(31&o)<<6|63&u)>127&&(a=d);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(d=(15&o)<<12|(63&u)<<6|63&c)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(d=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}t.kMaxLength=f,g.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),g.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(e,t,r){return m(e,t,r)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(e,t,r){return function(e,t,r){return v(e),e<=0?h(e):void 0!==t?"string"==typeof r?h(e).fill(t,r):h(e).fill(t):h(e)}(e,t,r)},g.allocUnsafe=function(e){return y(e)},g.allocUnsafeSlow=function(e){return y(e)},g.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==g.prototype},g.compare=function(e,t){if(re(e,Uint8Array)&&(e=g.from(e,e.offset,e.byteLength)),re(t,Uint8Array)&&(t=g.from(t,t.offset,t.byteLength)),!g.isBuffer(e)||!g.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},g.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return g.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=g.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(re(o,Uint8Array))i+o.length>n.length?(g.isBuffer(o)||(o=g.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!g.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},g.byteLength=S,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)I(this,t,t+1);return this},g.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)I(this,t,t+3),I(this,t+1,t+2);return this},g.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)I(this,t,t+7),I(this,t+1,t+6),I(this,t+2,t+5),I(this,t+3,t+4);return this},g.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):T.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(e){if(!g.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===g.compare(this,e)},g.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},p&&(g.prototype[p]=g.prototype.inspect),g.prototype.compare=function(e,t,r,n,i){if(re(e,Uint8Array)&&(e=g.from(e,e.offset,e.byteLength)),!g.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(e));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r),d=0;d<s;++d)if(u[d]!==l[d]){o=u[d],a=l[d];break}return o<a?-1:a<o?1:0},g.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},g.prototype.indexOf=function(e,t,r){return k(this,e,t,r,!0)},g.prototype.lastIndexOf=function(e,t,r){return k(this,e,t,r,!1)},g.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":case"latin1":case"binary":return C(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function U(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function L(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=ie[e[o]];return i}function N(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function q(e,t,r,n,i,o){if(!g.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,i){Y(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function V(e,t,r,n,i){Y(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function z(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function W(e,t,r,n,i){return t=+t,r>>>=0,i||z(e,0,r,4),d.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,i){return t=+t,r>>>=0,i||z(e,0,r,8),d.write(e,t,r,n,52,8),r+8}g.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,g.prototype),n},g.prototype.readUintLE=g.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},g.prototype.readUintBE=g.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},g.prototype.readUint8=g.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},g.prototype.readBigUInt64LE=oe((function(e){$(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),g.prototype.readBigUInt64BE=oe((function(e){$(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),g.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},g.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},g.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},g.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},g.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},g.prototype.readBigInt64LE=oe((function(e){$(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),g.prototype.readBigInt64BE=oe((function(e){$(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),g.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),d.read(this,e,!0,23,4)},g.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),d.read(this,e,!1,23,4)},g.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),d.read(this,e,!0,52,8)},g.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),d.read(this,e,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||q(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||q(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},g.prototype.writeUint8=g.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,1,255,0),this[t]=255&e,t+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},g.prototype.writeBigUInt64LE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),g.prototype.writeBigUInt64BE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),g.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);q(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},g.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);q(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},g.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},g.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},g.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},g.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},g.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},g.prototype.writeBigInt64LE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),g.prototype.writeBigInt64BE=oe((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),g.prototype.writeFloatLE=function(e,t,r){return W(this,e,t,!0,r)},g.prototype.writeFloatBE=function(e,t,r){return W(this,e,t,!1,r)},g.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},g.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},g.prototype.copy=function(e,t,r,n){if(!g.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},g.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!g.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=g.isBuffer(e)?e:g.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var G={};function K(e,t,r){G[e]=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(h,r);var c,l,d,p,f=(d=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(d);if(p){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return a(this,e)});function h(){var r;return n(this,h),r=f.call(this),Object.defineProperty(s(r),"message",{value:t.apply(s(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return c=h,(l=[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}])&&i(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),h}(r)}function X(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function Y(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"==typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new G.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||J(t,e.length-(r+1))}(n,i,o)}function $(e,t){if("number"!=typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function J(e,t,r){if(Math.floor(e)!==e)throw $(e,r),new G.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(c(t))}),TypeError),K("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=X(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=X(i)),i+="n"),n+" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function Z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function ee(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function te(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function re(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ne(e){return e!=e}var ie=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function oe(e){return"undefined"==typeof BigInt?ae:e}function ae(){throw new Error("BigInt not supported")}},3259:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _src_adloader_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5823),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3435),_src_config_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4204),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6093),_src_utils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6584),core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2332),core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4__),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3648);function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=33,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_6__.df)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var r,n,i=_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getLegacyFpd(_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("ortb2"))||{};if(_extends(t,{publisherExt:i.context,userExt:i.user,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout((function(){(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_0__.B)(PUBLISHER_TAG_URL,BIDDER_CODE)}),t.timeout)),publisherTagAvailable()){var o=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"4.43.4");r=o.buildCdbUrl(),n=o.buildCdbRequest()}else{var a=buildContext(e,t);r=buildCdbUrl(a),n=buildCdbRequest(a,e,t)}if(n)return{method:"POST",url:r,data:n,bidRequests:e}},interpretResponse:function(e,t){var r=e.body||e;if(publisherTagAvailable()){var n=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(n)return n.interpretResponse(r,t)}var i=[];return r&&r.slots&&_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.isArray(r.slots)&&r.slots.forEach((function(e){var r=core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4___default()(t.bidRequests,(function(t){return t.adUnitCode===e.impid&&(!t.params.zoneId||parseInt(t.params.zoneId)===e.zoneid)})),n=r.bidId,o={requestId:n,adId:e.bidId||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.getUniqueIdentifierStr(),cpm:e.cpm,currency:e.currency,netRevenue:!0,ttl:e.ttl||60,creativeId:n,width:e.width,height:e.height,dealId:e.dealCode};e.native?r.params.nativeCallback?o.ad=createNativeAd(n,e.native,r.params.nativeCallback):(o.native=createPrebidNativeAd(e.native),o.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5):e.video?(o.vastUrl=e.displayurl,o.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.pX):o.ad=e.creative,i.push(o)})),i},onTimeout:function(e){if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r="";t&&t.refererInfo&&(r=t.refererInfo.referer);var n=_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.parseUrl(r).search,i={url:r,debug:"1"===n.pbt_debug,noLog:"1"===n.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(i.amp=!0)})),i}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("4.43.4"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,r){var n,i={publisher:{url:e.url,ext:r.publisherExt},slots:t.map((function(e){n=e.params.networkId||n;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=_extends({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),e.params.nativeCallback||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.".concat(_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5))?(t.native=!0,checkNativeSendId(e)||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),t.sizes=parseSizes(retrieveBannerSizes(e),parseNativeSize)):t.sizes=parseSizes(retrieveBannerSizes(e),parseSize),hasVideoMediaType(e)){var r={playersizes:parseSizes(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api};r.skip=e.params.video.skip,r.placement=e.params.video.placement,r.minduration=e.params.video.minduration,r.playbackmethod=e.params.video.playbackmethod,r.startdelay=e.params.video.startdelay,t.video=r}return t}))};return n&&(i.publisher.networkid=n),i.user={ext:r.userExt},r&&r.ceh&&(i.user.ceh=r.ceh),r&&r.gdprConsent&&(i.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(i.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),i.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(i.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(i.user.uspIab=r.uspConsent),i}function retrieveBannerSizes(e){return _src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes}function parseSizes(e,t){return Array.isArray(e[0])?e.map((function(e){return t(e)})):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"params.video")&&void 0!==_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api"].forEach((function(r){void 0===_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video."+r)&&(t=!1,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logError("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))})),["skip","placement","playbackmethod"].forEach((function(r){void 0===_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"params.video."+r)&&(t=!1,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logError("Criteo Bid Adapter: params.video."+r+" is required"))})),t){if("instream"==e.mediaTypes.video.context&&1===e.params.video.placement)return!0;if("outstream"==e.mediaTypes.video.context&&1!==e.params.video.placement)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((function(e){return e.url}))}}function createNativeAd(e,t,r){var n="criteo_prebid_native_slots";return window[n]=window[n]||{},window[n][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(n,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_5__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logInfo("Using Criteo FastBid"),eval(publisherTag)):(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_1__.dX)(spec)},316:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(6584),i={};function o(e,t,r){var n=function(e,t){var r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},2548:function(e,t,r){"use strict";function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,{Z:function(){return n}})},6893:function(e,t,r){"use strict";r.d(t,{VP:function(){return x},nX:function(){return P},rp:function(){return C}});var n=r(6584),i=r(2231),o=r(5643),a=r(3435),s=r(6667),u=r(4204),c=r(5858),l=r(1608),d=r.n(l),p=r(2332),f=r.n(p),h=r(316),g=r(4024);function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}var b,_=r(6584),w=r(1999),S=r(9060),T={},I=T.bidderRegistry={},k=T.aliasRegistry={},A=[];u.vc.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(A=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var E={},O=(0,c.z3)("sync",(function(e){var t=e.bidderCode,r=e.auctionId,a=e.bidderRequestId,s=e.adUnits,u=e.labels,c=e.src;return s.reduce((function(e,s){var l=(0,i.$n)((0,i.g7)(s,u),s.mediaTypes,s.sizes),d=l.active,p=l.mediaTypes,f=l.filterResults;return d?f&&_.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" banner sizes from '),f.before,"to ",f.after):_.logInfo('Size mapping disabled adUnit "'.concat(s.code,'"')),d&&e.push(s.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var l=s.nativeParams||_.deepAccess(s,"mediaTypes.native");l&&(t=y({},t,{nativeParams:(0,o.zs)(l)})),t=y({},t,(0,n.getDefinedParams)(s,["ortb2Imp","mediaType","renderer","storedAuctionResponse"]));var d=(0,i.$n)((0,i.g7)(t,u),p),f=d.active,g=d.mediaTypes,m=d.filterResults;return f?m&&_.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'" banner sizes from '),m.before,"to ",m.after):_.logInfo('Size mapping deactivated adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'"')),_.isValidMediaTypes(g)?t=y({},t,{mediaTypes:g}):_.logError("mediaTypes is not correctly configured for adunit ".concat(s.code)),f&&e.push(y({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:_.deepAccess(g,"banner.sizes")||_.deepAccess(g,"video.playerSize")||[],bidId:t.bid_id||_.getUniqueIdentifierStr(),bidderRequestId:a,auctionId:r,src:c,bidRequestsCount:h.f.getRequestsCounter(s.code),bidderRequestsCount:h.f.getBidderRequestsCounter(s.code,t.bidder),bidderWinsCount:h.f.getBidderWinsCounter(s.code,t.bidder)})),e}),[])),e}),[]).reduce(n.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),C={consentData:null,setConsentData:function(e){C.consentData=e},getConsentData:function(){return C.consentData}},P={consentData:null,setConsentData:function(e){P.consentData=e},getConsentData:function(){return P.consentData}},x={getCoppa:function(){return!!u.vc.getConfig("coppa")}},D=[],j=[];function R(e){return e&&e.enabled&&e.testing&&b}function M(e,t,r){try{var i=I[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&(_.logInfo("Invoking ".concat(e,".").concat(t)),u.vc.runWithBidder(e,n.bind.call(i[t],i,r)))}catch(r){_.logWarn("Error calling ".concat(t," of ").concat(e))}}T.makeBidRequests=(0,c.z3)("sync",(function(e,t,r,i,o){S.emit(w.EVENTS.BEFORE_REQUEST_BIDS,e);var a=(0,n.getBidderCodes)(e);u.vc.getConfig("bidderSequence")===u.FD&&(a=(0,n.shuffle)(a));var s=(0,g.n)(),c=a,l=[];0===j.length&&(T.s2STestingEnabled=!1,A.forEach((function(e){var t;e&&e.enabled&&e.bidders&&e.bidders.length&&j.push.apply(j,function(e){if(Array.isArray(e))return v(e)}(t=e.bidders)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))),A.forEach((function(t){t&&t.enabled&&R(t)&&(b.calculateBidSources(t),b.getSourceBidderMap(e,j)[b.CLIENT].forEach((function(e){d()(D,e)||D.push(e)})))})),c=a.filter((function(e){return!d()(j,e)||d()(D,e)}));var p=j;A.forEach((function(n){if(n&&n.enabled){(function(e){return Boolean(R(e)&&e.testServerOnly)})(n)&&function(e,t){return Boolean(f()(e,(function(e){return f()(e.bids,(function(e){return(e.bidSource||t.bidderControl&&t.bidderControl[e.bidder])&&e.finalSource===b.SERVER}))})))}(e,n)&&(_.logWarn("testServerOnly: True.  All client requests will be suppressed."),c.length=0);var i=function(e,t){var r=t.bidders,n=_.deepClone(e);return n.forEach((function(e){e.bids=e.bids.filter((function(e){return d()(r,e.bidder)&&(!R(t)||e.finalSource!==b.CLIENT)})).map((function(e){return e.bid_id=_.getUniqueIdentifierStr(),e}))})),n.filter((function(e){return 0!==e.bids.length}))}(e,n),a=_.generateUUID();p.forEach((function(e){var u=_.getUniqueIdentifierStr(),c={bidderCode:e,auctionId:r,bidderRequestId:u,tid:a,bids:O({bidderCode:e,auctionId:r,bidderRequestId:u,adUnits:_.deepClone(i),labels:o,src:w.S2S.SRC}),auctionStart:t,timeout:n.timeout,src:w.S2S.SRC,refererInfo:s};0!==c.bids.length&&l.push(c)})),i.forEach((function(e){var t=e.bids.filter((function(e){return f()(l,(function(t){return f()(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),l.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=i.filter((function(e){return e.bids.length>0})))}))}}));var h=function(e){var t=_.deepClone(e);return t.forEach((function(e){e.bids=e.bids.filter((function(e){return!D.length||e.finalSource!==b.SERVER}))})),t.filter((function(e){return 0!==e.bids.length}))}(e);return c.forEach((function(e){var n=_.getUniqueIdentifierStr(),a={bidderCode:e,auctionId:r,bidderRequestId:n,bids:O({bidderCode:e,auctionId:r,bidderRequestId:n,adUnits:_.deepClone(h),labels:o,src:"client"}),auctionStart:t,timeout:i,refererInfo:s},u=I[e];u||_.logError("Trying to make a request for bidder that does not exist: ".concat(e)),u&&a.bids&&0!==a.bids.length&&l.push(a)})),C.getConsentData()&&l.forEach((function(e){e.gdprConsent=C.getConsentData()})),P.getConsentData()&&l.forEach((function(e){e.uspConsent=P.getConsentData()})),l}),"makeBidRequests"),T.callBids=function(e,t,r,i,o,a,c){if(t.length){var l=(v=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e}),[[],[]]),y=2,function(e){if(Array.isArray(e))return e}(v)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(v,y)||m(v,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=l[0],f=l[1],h=[];f.forEach((function(e){for(var t=-1,r=0;r<h.length;++r)if(e.tid===h[r].tid){t=r;break}t<=-1&&h.push(e)}));var g=0;A.forEach((function(e){if(e&&h[g]&&d()(e.bidders,h[g].bidderCode)){var t=(0,s.O)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),u=e.bidders,c=I[e.adapter],l=h[g].tid,p=h[g].adUnitsS2SCopy,m=f.filter((function(e){return e.tid===l}));if(c){var v={tid:l,ad_units:p,s2sConfig:e};if(v.ad_units.length){var y=m.map((function(e){return e.start=(0,n.timestamp)(),i.bind(e)})),b=v.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);_.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(u.filter((function(e){return d()(b,e)})).join(","))),m.forEach((function(e){S.emit(w.EVENTS.BID_REQUESTED,e)})),c.callBids(v,f,(function(e,t){var i=(0,n.getBidderRequest)(f,t.bidderCode,e);i&&r.call(i,e,t)}),(function(){return y.forEach((function(e){return e()}))}),t)}}else _.logError("missing "+e.adapter);g++}})),p.forEach((function(e){e.start=(0,n.timestamp)();var t=I[e.bidderCode];u.vc.runWithBidder(e.bidderCode,(function(){_.logMessage("CALLING BIDDER"),S.emit(w.EVENTS.BID_REQUESTED,e)}));var l=(0,s.O)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),d=i.bind(e);try{u.vc.runWithBidder(e.bidderCode,n.bind.call(t.callBids,t,e,r.bind(e),d,l,c,u.vc.callbackWithBidder(e.bidderCode)))}catch(t){_.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),d()}}))}else _.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");var v,y},T.videoAdapters=[],T.registerBidAdapter=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.supportedMediaTypes,i=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(I[t]=e,d()(i,"video")&&T.videoAdapters.push(t),d()(i,"native")&&o.Sg.push(t)):_.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):_.logError("bidAdapter or bidderCode not specified")},T.aliasBidAdapter=function(e,t,r){if(void 0===I[t]){var n=I[e];if(void 0===n){var i=[];A.forEach((function(r){if(r.bidders&&r.bidders.length){var n=r&&r.bidders;r&&d()(n,t)?k[t]=e:i.push(e)}})),i.forEach((function(e){_.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var s,u=function(e){var t=[];return d()(T.videoAdapters,e)&&t.push("video"),d()(o.Sg,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)(s=new n.constructor).setBidderCode(t);else{var c=n.getSpec(),l=r&&r.gvlid,p=r&&r.skipPbsAliasing;s=(0,a.PZ)(y({},c,{code:t,gvlid:l,skipPbsAliasing:p})),k[t]=e}T.registerBidAdapter(s,t,{supportedMediaTypes:u})}catch(t){_.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else _.logMessage('alias name "'+t+'" has been already specified.')},T.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,n=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,E[r]={adapter:t,gvlid:n}):_.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):_.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},T.enableAnalytics=function(e){_.isArray(e)||(e=[e]),_._each(e,(function(e){var t=E[e.provider].adapter;t?t.enableAnalytics(e):_.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))}))},T.getBidAdapter=function(e){return I[e]},T.getAnalyticsAdapter=function(e){return E[e]},T.callTimedOutBidders=function(e,t,r){t=t.map((function(t){return t.params=_.getUserConfiguredParams(e,t.adUnitCode,t.bidder),t.timeout=r,t})),t=_.groupBy(t,"bidder"),Object.keys(t).forEach((function(e){M(e,"onTimeout",t[e])}))},T.callBidWonBidder=function(e,t,r){t.params=_.getUserConfiguredParams(r,t.adUnitCode,t.bidder),h.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),M(e,"onBidWon",t)},T.callSetTargetingBidder=function(e,t){M(e,"onSetTargeting",t)},T.callBidViewableBidder=function(e,t){M(e,"onBidViewable",t)},t.ZP=T},3435:function(e,t,r){"use strict";r.d(t,{JY:function(){return O},PZ:function(){return k},Q1:function(){return E},dX:function(){return I}});var n=r(2548),i=r(6893),o=r(4204),a=r(3124),s=r(4767),u=r(5643),c=r(3593),l=r(1999),d=r(9060),p=r.n(d),f=r(1608),h=r.n(f),g=r(6667),m=r(6584),v=r(6093),y=r(5858);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var S=(0,r(3648).eA)("bidderFactory"),T=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function I(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){var r=k(e);i.ZP.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var n,o,a=t;(0,m.isPlainObject)(t)&&(a=t.code,n=t.gvlid,o=t.skipPbsAliasing),i.ZP.aliasRegistry[a]=e.code,r(w({},e,{code:a,gvlid:n,skipPbsAliasing:o}))}))}function k(e){return w(new n.Z(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(n,i,s,u,c,d){if(Array.isArray(n.bids)){var f={},h=[],g=n.bids.filter(r);if(0!==g.length){var v={};g.forEach((function(e){v[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}));var y=e.buildRequests(g,n);if(y&&0!==y.length){Array.isArray(y)||(y=[y]);var b=(0,m.delayExecution)(d(S),y.length);y.forEach((function(t){switch(t.method){case"GET":u("".concat(t.url).concat((r=t.data)?"?".concat("object"===_(r)?(0,m.parseQueryStringParameters)(r):r):""),{success:d(o),error:s},void 0,w({method:"GET",withCredentials:!0},t.options));break;case"POST":u(t.url,{success:d(o),error:s},"string"==typeof t.data?t.data:JSON.stringify(t.data),w({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,m.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),b()}var r;function o(r,o){c(e.code);try{r=JSON.parse(r)}catch(e){}var s;r={body:r,headers:{get:o.getResponseHeader.bind(o)}},h.push(r);try{s=e.interpretResponse(r,t)}catch(t){return(0,m.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void b()}function u(t){var r=v[t.requestId];if(r){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||w({},t[r.bidder]);var o=w((0,a.m)(l.STATUS.GOOD,r),t);!function(e,t){f[e]=!0,O(e,t,[n])&&i(e,t)}(r.adUnitCode,o)}else(0,m.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))}s&&((0,m.isArray)(s)?s.forEach(u):u(s)),b(s)}function s(t){c(e.code),(0,m.logError)("Server call for ".concat(e.code," failed: ").concat(t,". Continuing without bids.")),b()}}))}else S()}else S()}function S(){s(),o.vc.runWithBidder(e.code,(function(){p().emit(l.EVENTS.BIDDER_DONE,n),t(h,n.gdprConsent,n.uspConsent)}))}}});function t(t,r,n){A(e,t,r,n)}function r(t){return!!e.isBidRequestValid(t)||((0,m.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var A=(0,y.z3)("async",(function(e,t,r,n){var a=o.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(a||!i.ZP.aliasRegistry[e.code])){var u=o.vc.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!u||!u.iframe&&!u.all),pixelEnabled:!(!u||!u.image&&!u.all)},t,r,n);c&&(Array.isArray(c)||(c=[c]),c.forEach((function(t){s.k_.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function E(e,t){var r=i.ZP.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),o=n.localStorageKey?n.localStorageKey:r.getBidderCode(),a=S.getDataFromLocalStorage(o);if(a){try{a=JSON.parse(a)}catch(t){(0,m.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return a.mapping[t]?a.mapping[t]:null}}}function O(e,t,r){function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(i=Object.keys(t),T.every((function(e){return h()(i,e)&&!h()([void 0,null],t[e])}))?"native"!==t.mediaType||(0,u.r4)(t,r)?"video"!==t.mediaType||(0,c.Dn)(t,r)?!("banner"===t.mediaType&&!function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var n,i,o=(0,m.getBidderRequest)(r,t.bidderCode,e),a=o&&o.bids&&o.bids[0]&&o.bids[0].sizes,s=(0,m.parseSizesInput)(a);if(1===s.length){var u=(n=s[0].split("x"),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1];return t.width=parseInt(c,10),t.height=parseInt(l,10),!0}return!1}(e,t,r)&&((0,m.logError)(n("Banner bids require a width and height")),1)):((0,m.logError)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,m.logError)(n("Native bid missing some required properties.")),!1):((0,m.logError)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):((0,m.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,m.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}(0,y.v5)("checkAdUnitSetup").before((function(e,t){if(!o.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return(0,m.deepAccess)(e,"mediaTypes.video.context")===v.Oh})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(m.flatten,[]).filter(m.uniques).forEach((function(e){var t=i.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var r=t.getSpec().getMappingFileInfo(),n=r.refreshInDays?r.refreshInDays:1,o=r.localStorageKey?r.localStorageKey:t.getSpec().code,a=S.getDataFromLocalStorage(o);try{(!(a=a?JSON.parse(a):void 0)||(0,m.timestamp)()>a.lastUpdated+24*n*60*60*1e3)&&(0,g.h)(r.url,{success:function(t){try{t=JSON.parse(t);var r={lastUpdated:(0,m.timestamp)(),mapping:t.mapping};S.setDataInLocalStorage(o,JSON.stringify(r))}catch(t){(0,m.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){(0,m.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){(0,m.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}))},5823:function(e,t,r){"use strict";r.d(t,{B:function(){return u}});var n=r(1608),i=r.n(n),o=r(6584),a={},s=["adloox","criteo","outstream","adagio","browsi"];function u(e,t,r){if(t&&e){if(i()(s,t))return a[e]?(r&&"function"==typeof r&&(a[e].loaded?r():a[e].callbacks.push(r)),a[e].tag):(a[e]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&a[e].callbacks.push(r),o.logWarn("module ".concat(t," is loading external JavaScript")),function(t,r){var n=document.createElement("script");return n.type="text/javascript",n.async=!0,a[e].tag=n,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,r())}:n.onload=function(){r()},n.src=t,o.insertElement(n),n}(e,(function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(e){o.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));o.logError("".concat(t," not whitelisted for loading external JavaScript"))}else o.logError("cannot load external script without url and moduleCode")}},6667:function(e,t,r){"use strict";r.d(t,{O:function(){return u},h:function(){return s}});var n=r(4204);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=r(6584),s=u();function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.request,s=t.done;return function(t,u,c){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var d,p=l.method||(c?"POST":"GET"),f=document.createElement("a");f.href=t;var h="object"===o(u)&&null!==u?u:{success:function(){a.logMessage("xhr success")},error:function(e){a.logError("xhr error",null,e)}};if("function"==typeof u&&(h.success=u),(d=new window.XMLHttpRequest).onreadystatechange=function(){if(4===d.readyState){"function"==typeof s&&s(f.origin);var e=d.status;e>=200&&e<300||304===e?h.success(d.responseText,d):h.error(d.statusText,d)}},n.vc.getConfig("disableAjaxTimeout")||(d.ontimeout=function(){a.logError("  xhr timeout after ",d.timeout,"ms")}),"GET"===p&&c){var g=a.parseUrl(t,l);i(g.search,c),t=a.buildUrl(g)}d.open(p,t,!0),n.vc.getConfig("disableAjaxTimeout")||(d.timeout=e),l.withCredentials&&(d.withCredentials=!0),a._each(l.customHeaders,(function(e,t){d.setRequestHeader(t,e)})),l.preflight&&d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.setRequestHeader("Content-Type",l.contentType||"text/plain"),"function"==typeof r&&r(f.origin),"POST"===p&&c?d.send(c):d.send()}catch(e){a.logError("xhr construction",e)}}}},3124:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var n=r(6584);function i(e,t){var r=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=n.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}function o(e,t){return new i(e,t)}},4204:function(e,t,r){"use strict";r.d(t,{FD:function(){return _},vc:function(){return I}});var n=r(2773),i=r(2332),o=r.n(i),a=r(1608),s=r.n(a),u=r(5743),c=r.n(u),l=r(6584),d=["fpd"];function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}var g=r(7385),m=r(6584),v=r(1999),y="TRUE"===m.getParameterByName(v.DEBUG_MODE).toUpperCase(),b=window.location.origin,_="random",w={};w[_]=!0,w.fixed=!0;var S=_,T={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},I=function(){var e,t,r,i=[],a=null;function u(){e={};var i={_debug:y,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:b,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:T.MEDIUM,set priceGranularity(e){s(e)&&("string"==typeof e?this._priceGranularity=a(e)?e:T.MEDIUM:m.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=T.CUSTOM,m.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(r,n){return s(e[n])?"string"==typeof e?r[n]=a(e[n])?e[n]:t._priceGranularity:m.isPlainObject(e)&&(r[n]=e[n],m.logMessage("Using custom price granularity for ".concat(n))):m.logWarn("Invalid price granularity for media type: ".concat(n)),r}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:S,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){w[e]?this._bidderSequence=e:m.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!m.isPlainObject(e))return m.logWarn("Auction Options must be an object"),!1;for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if("secondaryBidders"!==n&&"suppressStaleRender"!==n)return m.logWarn("Auction Options given an incorrect param: ".concat(n)),!1;if("secondaryBidders"===n){if(!m.isArray(e[n]))return m.logWarn("Auction Options ".concat(n," must be of type Array")),!1;if(!e[n].every(m.isStr))return m.logWarn("Auction Options ".concat(n," must be only string")),!1}else if("suppressStaleRender"===n&&!m.isBoolean(e[n]))return m.logWarn("Auction Options ".concat(n," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function a(e){return o()(Object.keys(T),(function(t){return e===T[t]}))}function s(e){if(!e)return m.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)a(e)||m.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(m.isPlainObject(e)&&!(0,n.t)(e))return m.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&A(Object.keys(t).reduce((function(e,r){return t[r]!==i[r]&&(e[r]=i[r]||{}),e}),{})),t=i,r={}}function v(){if(a&&r&&m.isPlainObject(r[a])){var e=r[a],n=new(c())(Object.keys(t).concat(Object.keys(e)));return g(n).reduce((function(r,n){return void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:m.isPlainObject(e[n])?r[n]=(0,l.mergeDeep)({},t[n],e[n]):r[n]=e[n],r}),{})}return h({},t)}function _(e){var t={};return Object.keys(e).forEach((function(r){var n="context"===r?"site":r;t[n]="site"===n||"user"===n?Object.keys(e[r]).reduce((function(t,n){return"data"===n?m.mergeDeep(t,{ext:{data:e[r][n]}}):m.mergeDeep(t,p({},n,e[r][n])),t}),{}):e[r]})),t}function I(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(r){Object.keys(e[r]).forEach((function(n){"data"===n?m.mergeDeep(t,{ext:{data:e[r][n]}}):"object"!==f(e[r][n])||Array.isArray(e[r][n])?m.mergeDeep(t,{ext:{data:p({},n.toLowerCase(),e[r][n])}}):Object.keys(e[r][n]).forEach((function(i){m.mergeDeep(t,{ext:{data:p({},n.toLowerCase(),p({},i.toLowerCase(),e[r][n][i]))}})}))}))})),t}function k(e,t){var r=t;if("string"!=typeof e&&(r=e,e="*"),"function"==typeof r){var n={topic:e,callback:r};return i.push(n),function(){i.splice(i.indexOf(n),1)}}m.logError("listener must be a function")}function A(e){var t=Object.keys(e);i.filter((function(e){return s()(t,e.topic)})).forEach((function(t){t.callback(p({},t.topic,e[t.topic]))})),i.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function E(e,t){a=e;try{return t()}finally{O()}}function O(){a=null}return u(),{getCurrentBidder:function(){return a},resetBidder:O,getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?m.deepAccess(v(),e):v()}return k.apply(void 0,arguments)},setConfig:function(r){if(m.isPlainObject(r)){var n=Object.keys(r),i={};n.forEach((function(n){var o="fpd"===n?"ortb2":n,a="fpd"===n?_(r[n]):r[n];m.isPlainObject(e[o])&&m.isPlainObject(a)&&(a=h({},e[o],a)),i[o]=t[o]=a})),A(i)}else m.logError("setConfig options must be an object")},setDefaults:function(r){m.isPlainObject(e)?(h(e,r),h(t,r)):m.logError("defaults must be an object")},resetConfig:u,runWithBidder:E,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return E(e,(r=m.bind).call.apply(r,[t,this].concat(i)))}m.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(e){try{!function(e){if(!m.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!m.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((function(t){r[t]||(r[t]={}),Object.keys(e.config).forEach((function(n){var i="fpd"===n?"ortb2":n,o="fpd"===n?_(e.config[n]):e.config[n];m.isPlainObject(o)?r[t][i]=h({},r[t][i]||{},o):r[t][i]=o}))}))}catch(e){m.logError(e)}},getBidderConfig:function(){return r},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){var r;e.fpd?(e.ortb2Imp?m.mergeDeep(e.ortb2Imp,I(e.fpd)):e.ortb2Imp=I(e.fpd),t.push(((r=e).fpd,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,d)))):t.push(e)})),t},getLegacyFpd:function(e){if("object"===f(e)){var t={};return Object.keys(e).forEach((function(r){var n="site"===r?"context":r;t[n]="context"===n||"user"===n?Object.keys(e[r]).filter((function(e){return"data"!==e})).reduce((function(t,n){return"ext"===n?m.mergeDeep(t,e[r][n]):m.mergeDeep(t,p({},n,e[r][n])),t}),{}):e[r]})),t}},getLegacyImpFpd:function(e){if("object"===f(e)){var t={};return m.deepAccess(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(r){"pbadslot"===r?m.mergeDeep(t,{context:{pbAdSlot:e.ext.data[r]}}):"adserver"===r?m.mergeDeep(t,{context:{adServer:e.ext.data[r]}}):m.mergeDeep(t,{context:{data:p({},r,e.ext.data[r])}})})),t}}}}()},2773:function(e,t,r){"use strict";r.d(t,{D:function(){return d},t:function(){return f}});var n=r(2332),i=r.n(n),o=r(6584),a={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},u={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},l={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":p(e,a,r),med:""===n?"":p(e,s,r),high:""===n?"":p(e,u,r),auto:""===n?"":p(e,l,r),dense:""===n?"":p(e,c,r),custom:""===n?"":p(e,t,r)}}function p(e,t,r){var n="";if(!f(t))return n;var o=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),a=0,s=i()(t.buckets,(function(t){if(e>o.max*r){var i=t.precision;void 0===i&&(i=2),n=(t.max*r).toFixed(i)}else{if(e<=t.max*r&&e>=a*r)return t.min=a,t;a=t.max}}));return s&&(n=function(e,t,r){var n=void 0!==t.precision?t.precision:2,i=t.increment*r,o=t.min*r,a=Math.pow(10,n+2),s=(e*a-o*a)/(i*a),u=Math.floor(s)*i+o;return(u=Number(u.toFixed(10))).toFixed(n)}(e,s,r)),n}function f(e){if(o.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},9060:function(e,t,r){function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var i=r(6584),o=r(1999),a=Array.prototype.slice,s=Array.prototype.push,u=i._map(o.EVENTS,(function(e){return e})),c=o.EVENT_ID_PATHS,l=[];e.exports=function(){var e={},t={};function r(t,r){i.logMessage("Emitting event for: "+t);var n=r[0]||{},o=n[c[t]],a=e[t]||{que:[]},u=i._map(a,(function(e,t){return t})),d=[];l.push({eventType:t,args:n,id:o,elapsedTime:i.getPerformanceNow()}),o&&i.contains(u,o)&&s.apply(d,a[o].que),s.apply(d,a.que),i._each(d,(function(e){if(e)try{e.apply(null,r)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return i.contains(u,e)}(t)){var o=e[t]||{que:[]};n?(o[n]=o[n]||{que:[]},o[n].que.push(r)):o.que.push(r),e[t]=o}else i.logError("Wrong event name : "+t+" Valid event names :"+u)},t.emit=function(e){var t=a.call(arguments,1);r(e,t)},t.off=function(t,r,n){var o=e[t];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[n])||n&&(i.isEmpty(o[n])||i.isEmpty(o[n].que))||(n?i._each(o[n].que,(function(e){var t=o[n].que;e===r&&t.splice(t.indexOf(e),1)})):i._each(o.que,(function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.getEvents=function(){var e=[];return i._each(l,(function(t){var r=n({},t);e.push(r)})),e},t}()},5858:function(e,t,r){"use strict";r.d(t,{Bx:function(){return c},bA:function(){return u},v5:function(){return s},z3:function(){return a}});var n=r(1432),i=r.n(n);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=i()({ready:i().SYNC|i().ASYNC|i().QUEUE}),s=a.get;function u(e,t){a("async",(function(e){e.forEach((function(e){return t.apply(void 0,function(e){if(Array.isArray(e))return o(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r}))}),e)([])}function c(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];s(e).before((function(e,t){t.push(r),e(t)}))}},6093:function(e,t,r){"use strict";r.d(t,{B5:function(){return n},Mk:function(){return o},Oh:function(){return a},pX:function(){return i}});var n="native",i="video",o="banner",a="adpod"},5643:function(e,t,r){"use strict";r.d(t,{JL:function(){return b},Sg:function(){return d},Ur:function(){return v},e6:function(){return m},eK:function(){return y},r4:function(){return g},xc:function(){return p},zs:function(){return h}});var n=r(6584),i=r(1608),o=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r(1999),d=[],p=Object.keys(l.NATIVE_KEYS).map((function(e){return l.NATIVE_KEYS[e]})),f={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function h(e){return e&&e.type&&((t=e.type)&&o()(Object.keys(f),t)||((0,n.logError)("".concat(t," nativeParam is not supported")),0))?f[e.type]:e;var t}function g(e,t){var r=(0,n.getBidRequest)(e.requestId,t);if(!r)return!1;if(!(0,n.deepAccess)(e,"native.clickUrl"))return!1;var i=r.nativeParams;if(!i)return!0;var a=Object.keys(i).filter((function(e){return i[e].required})),s=Object.keys(e.native).filter((function(t){return e.native[t]}));return a.every((function(e){return o()(s,e)}))}function m(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,n.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(n.triggerPixel),e.action}function v(e,t){var r={};(0,n.deepAccess)(t,"nativeParams.rendererUrl")?e.native.rendererUrl=_(t.nativeParams.rendererUrl):(0,n.deepAccess)(t,"nativeParams.adTemplate")&&(e.native.adTemplate=_(t.nativeParams.adTemplate));var i=!1!==(0,n.deepAccess)(t,"nativeParams.sendTargetingKeys"),o=function(e){var t={};return(0,n.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),u(u({},l.NATIVE_KEYS),t)}(t),a=u(u({},e.native),e.native.ext);return delete a.ext,Object.keys(a).forEach((function(a){var s=o[a],u=_(e.native[a])||_((0,n.deepAccess)(e,"native.ext.".concat(a)));if("adTemplate"!==a&&s&&u){var c=(0,n.deepAccess)(t,"nativeParams.".concat(a,".sendId"));"boolean"!=typeof c&&(c=(0,n.deepAccess)(t,"nativeParams.ext.".concat(a,".sendId"))),c&&(u="".concat(s,":").concat(e.adId));var l=(0,n.deepAccess)(t,"nativeParams.".concat(a,".sendTargetingKeys"));"boolean"!=typeof l&&(l=(0,n.deepAccess)(t,"nativeParams.ext.".concat(a,".sendTargetingKeys"))),("boolean"==typeof l?l:i)&&(r[s]=u)}})),r}function y(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(r.adTemplate=_(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(r.rendererUrl=_(t.native.rendererUrl)),e.assets.forEach((function(e){var i=(0,n.getKeyByValue)(l.NATIVE_KEYS,e),o=_(t.native[i]);r.assets.push({key:i,value:o})})),r}function b(e,t){var r={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,n){if("adTemplate"===e&&t.native[e])r.adTemplate=_(t.native[e]);else if("rendererUrl"===e&&t.native[e])r.rendererUrl=_(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(n){if(t.native[e][n]){var i=_(t.native[e][n]);r.assets.push({key:n,value:i})}}));else if(t.native[e]&&l.NATIVE_KEYS.hasOwnProperty(e)){var i=_(t.native[e]);r.assets.push({key:e,value:i})}})),r}function _(e){return"object"===a(e)&&e.url?e.url:e}},4024:function(e,t,r){"use strict";r.d(t,{n:function(){return o}});var n=r(4204),i=r(6584),o=function(e){function t(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){var r,o,a,s=[],u=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),c=n.vc.getConfig("maxNestedIframes"),l=!1,d=0,p=!1,f=!1;do{var h=r,g=f,m=void 0,v=!1,y=null;f=!1,r=r?r.parent:e;try{m=r.location.href||null}catch(e){v=!0}if(v)if(g){var b=h.context;try{o=y=b.sourceUrl,p=!0,r===e.top&&(l=!0),b.canonicalUrl&&(a=b.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var _=h.document.referrer;_&&(y=_,r===e.top&&(l=!0))}catch(e){}!y&&u&&u[d-1]&&(y=u[d-1]),y&&!p&&(o=y)}else{if(m&&(o=y=m,p=!1,r===e.top)){l=!0;var w=t(r.document);w&&(a=w)}r.context&&r.context.sourceUrl&&(f=!0)}s.push(y),d++}while(r!==e.top&&d<c);return s.reverse(),{referer:o||null,reachedTop:l,isAmp:p,numIframes:d-1,stack:s,canonicalUrl:a||null}}}(window)},2231:function(e,t,r){"use strict";r.d(t,{$n:function(){return d},g7:function(){return c},lO:function(){return l}});var n=r(4204),i=r(6584),o=r(1608),a=r.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var u=[];function c(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=p(t);return!r.shouldFilter||!!r.sizesSupported[e]}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,r=void 0===t?[]:t,n=e.labelAll,o=void 0!==n&&n,s=e.activeLabels,c=void 0===s?[]:s,l=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u,h=p(f);l=(0,i.isPlainObject)(l)?(0,i.deepClone)(l):d?{banner:{sizes:d}}:{};var g=(0,i.deepAccess)(l,"banner.sizes");h.shouldFilter&&g&&(l.banner.sizes=g.filter((function(e){return h.sizesSupported[e]})));var m=Object.keys(l),v={active:m.every((function(e){return"banner"!==e}))||m.some((function(e){return"banner"===e}))&&(0,i.deepAccess)(l,"banner.sizes.length")>0&&(0===r.length||!o&&(r.some((function(e){return h.labels[e]}))||r.some((function(e){return a()(c,e)})))||o&&r.reduce((function(e,t){return e?h.labels[t]||a()(c,t):e}),!0)),mediaTypes:l};return g&&g.length!==l.banner.sizes.length&&(v.filterResults={before:g,after:l.banner.sizes}),v}function p(e){return e.reduce((function(e,t){if("object"===s(t)&&"string"==typeof t.mediaQuery){var r=!1;if(""===t.mediaQuery)r=!0;else try{r=(0,i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(r){return(t[r]||[]).forEach((function(t){return e[r][t]=!0}))})))}else(0,i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}n.vc.getConfig("sizeConfig",(function(e){return function(e){u=e}(e.sizeConfig)}))},3648:function(e,t,r){"use strict";r.d(t,{Ld:function(){return u},df:function(){return p},eA:function(){return d}});var n=r(5858),i=r(6584),o=r(1608),a=r.n(o),s=["core","prebid-module"],u=[];function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,r=e.moduleName,n=e.moduleType;function o(e){return a()(s,n)?e({valid:!0}):(l(t,r,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)o=e(t);else{var r={hasEnforcementHook:!1,valid:i.hasDeviceAccess()};o=e(r)}})),o);var o}var c=function(e,t,r,n,i,a){var s=function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=r&&""!==r?" ;expires=".concat(r):"",u=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(n?"; SameSite=".concat(n):"").concat(u)}};if(!a||"function"!=typeof a)return o(s);u.push((function(){var e=o(s);a(e)}))},d=function(e,t){var r=function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null};if(!t||"function"!=typeof t)return o(r);u.push((function(){var e=o(r);t(e)}))},p=function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return o(t);u.push((function(){var r=o(t);e(r)}))},f=function(e){var t=function(e){return!(!e||!e.valid||!i.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return o(t);u.push((function(){var r=o(t);e(r)}))},h=function(e,t,r){var n=function(r){r&&r.valid&&v()&&window.localStorage.setItem(e,t)};if(!r||"function"!=typeof r)return o(n);u.push((function(){var e=o(n);r(e)}))},g=function(e,t){var r=function(t){return t&&t.valid&&v()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return o(r);u.push((function(){var e=o(r);t(e)}))},m=function(e,t){var r=function(t){t&&t.valid&&v()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return o(r);u.push((function(){var e=o(r);t(e)}))},v=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){i.logError("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return o(t);u.push((function(){var r=o(t);e(r)}))},y=function(e,t){var r=function(t){if(t&&t.valid){var r=[];if(i.hasDeviceAccess())for(var n=document.cookie.split(";");n.length;){var o=n.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&r.push(decodeURIComponent(o.slice(a+1)))}return r}};if(!t||"function"!=typeof t)return o(r);u.push((function(){var e=o(r);t(e)}))};return{setCookie:c,getCookie:d,localStorageIsEnabled:p,cookiesAreEnabled:f,setDataInLocalStorage:h,getDataFromLocalStorage:g,removeDataFromLocalStorage:m,hasLocalStorage:v,findSimilarCookies:y}}var l=(0,n.z3)("async",(function(e,t,r,n){n(r)}),"validateStorageEnforcement");function d(e){return c({moduleName:e,moduleType:"core"})}function p(e,t){return c({gvlid:e,moduleName:t})}},4767:function(e,t,r){"use strict";r.d(t,{k_:function(){return f}});var n=r(6584),i=r(4204),o=r(1608),a=r.n(o),s=r(3648);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}i.vc.setDefaults({userSync:n.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var d=(0,s.eA)("usersync"),p=!n.isSafariBrowser()&&d.cookiesAreEnabled(),f=function(e){var t={},r={image:[],iframe:[]},o=new Set,s={},c={image:!0,iframe:!1},d=e.config;function p(){if(d.syncEnabled&&e.browserSupportsCookies){try{c.image&&f(r.image,(function(e){var t=u(e,2),r=t[0],i=t[1];n.logMessage("Invoking image pixel user sync for bidder: ".concat(r)),n.triggerPixel(i)})),c.iframe&&f(r.iframe,(function(e){var t=u(e,2),r=t[0],i=t[1];n.logMessage("Invoking iframe user sync for bidder: ".concat(r)),n.insertUserSyncIframe(i)}))}catch(e){return n.logError("Error firing user syncs",e)}r={image:[],iframe:[]}}}function f(e,t){n.shuffle(e).forEach((function(e){t(e),o.add(e[0])}))}return i.vc.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;n.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}d=l(d,e.userSync)})),t.registerSync=function(e,i,a){return o.has(i)?n.logMessage('already fired syncs for "'.concat(i,'", ignoring registerSync call')):d.syncEnabled&&n.isArray(r[e])?i?0!==d.syncsPerBidder&&Number(s[i])>=d.syncsPerBidder?n.logWarn('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(r[e].push([i,a]),void(s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,i))):n.logWarn('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):n.logWarn("Bidder is required for registering sync"):n.logWarn('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(p,Number(e));p()},t.triggerUserSyncs=function(){d.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!d.filterSettings||!function(e,t){var r=d.filterSettings;if(function(e,t){if(e.all&&e[t])return n.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var r=e.all?e.all:e[t],i=e.all?"all":t;if(!r)return!1;var o=r.filter,a=r.bidders;return o&&"include"!==o&&"exclude"!==o?(n.logWarn('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every((function(e){return n.isStr(e)&&"*"!==e})))||(n.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(r,e)){c[e]=!0;var i=r.all?r.all:r[e],o="*"===i.bidders?[t]:i.bidders,s={include:function(e,t){return!a()(e,t)},exclude:function(e,t){return a()(e,t)}};return s[i.filter||"include"](o,t)}return!c[e]}(e,t)},t}({config:i.vc.getConfig("userSync"),browserSupportsCookies:p})},6584:function(e,t,r){"use strict";r.r(t),r.d(t,{_each:function(){return de},_map:function(){return fe},adUnitsFilter:function(){return Ue},bind:function(){return x},buildUrl:function(){return _t},callBurl:function(){return ve},checkCookieSupport:function(){return He},chunk:function(){return ft},cleanObj:function(){return st},compareOn:function(){return mt},contains:function(){return pe},convertCamelToUnderscore:function(){return at},convertTypes:function(){return lt},createInvisibleIframe:function(){return ee},createTrackPixelHtml:function(){return _e},createTrackPixelIframeHtml:function(){return we},cyrb53Hash:function(){return Tt},debugTurnedOn:function(){return Z},deepAccess:function(){return l},deepClone:function(){return Le},deepEqual:function(){return wt},deepSetValue:function(){return d},delayExecution:function(){return Ge},fill:function(){return pt},flatten:function(){return Ie},formatQS:function(){return yt},generateUUID:function(){return R},getAdUnitSizes:function(){return B},getBidIdParameter:function(){return M},getBidRequest:function(){return ke},getBidderCodes:function(){return Ce},getBidderRequest:function(){return $e},getDNT:function(){return Ze},getDefinedParams:function(){return Xe},getGptSlotInfoForAdUnitCode:function(){return nt},getHighestCpm:function(){return xe},getKeyByValue:function(){return Oe},getKeys:function(){return Ae},getLatestHighestCpmBid:function(){return je},getMaxValueFromArray:function(){return gt},getMinValueFromArray:function(){return ht},getOldestHighestCpmBid:function(){return De},getOrigin:function(){return Qe},getParameterByName:function(){return te},getPerformanceNow:function(){return ze},getPrebidInternal:function(){return O},getUniqueIdentifierStr:function(){return j},getUserConfiguredParams:function(){return Je},getValue:function(){return Ee},getValueString:function(){return Se},getWindowLocation:function(){return G},getWindowSelf:function(){return H},getWindowTop:function(){return W},groupBy:function(){return Ke},hasConsoleLogger:function(){return Q},hasDeviceAccess:function(){return We},hasOwn:function(){return he},inIframe:function(){return Ne},insertElement:function(){return ge},insertHtmlIntoIframe:function(){return ye},insertUserSyncIframe:function(){return be},internal:function(){return A},isA:function(){return re},isAdUnitCodeMatchingSlot:function(){return tt},isArray:function(){return oe},isArrayOfNums:function(){return dt},isBoolean:function(){return ue},isEmpty:function(){return ce},isEmptyStr:function(){return le},isFn:function(){return ne},isGptPubadsDefined:function(){return Pe},isInteger:function(){return ot},isNumber:function(){return ae},isPlainObject:function(){return se},isSafariBrowser:function(){return Be},isSlotMatchingAdUnitCode:function(){return rt},isStr:function(){return ie},isValidMediaTypes:function(){return Ye},logError:function(){return $},logInfo:function(){return X},logMessage:function(){return K},logWarn:function(){return Y},mergeDeep:function(){return St},parseGPTSingleSizeArray:function(){return F},parseGPTSingleSizeArrayToRtbSize:function(){return V},parseQS:function(){return vt},parseQueryStringParameters:function(){return L},parseSizesInput:function(){return q},parseUrl:function(){return bt},pick:function(){return ut},replaceAuctionPrice:function(){return qe},replaceClickThrough:function(){return Fe},shuffle:function(){return Me},timestamp:function(){return Ve},transformAdServerTargetingObj:function(){return N},transformBidderParamKeywords:function(){return ct},triggerPixel:function(){return me},tryAppendQueryString:function(){return U},uniques:function(){return Te},unsupportedBidderMessage:function(){return it}});var n=r(4204),i=r(7079),o=r.n(i),a=r(2332),s=r.n(a),u=r(1608),c=r.n(u);function l(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}function d(e,t,r){t.split&&(t=t.split("."));for(var n,i=0,o=t.length,a=e;i<o;++i)n=a[t[i]],a=a[t[i]]=i===o-1?r:null!=n?n:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var y=r(1999),b=Object.prototype.toString,_=Boolean(window.console),w=Boolean(_&&window.console.log),S=Boolean(_&&window.console.info),T=Boolean(_&&window.console.warn),I=Boolean(_&&window.console.error),k=r(9060),A={checkCookieSupport:He,createTrackPixelIframeHtml:we,getWindowSelf:H,getWindowTop:W,getWindowLocation:G,insertUserSyncIframe:be,insertElement:ge,isFn:ne,triggerPixel:me,logError:$,logWarn:Y,logMessage:K,logInfo:X,parseQS:vt,formatQS:yt,deepEqual:wt},E={};function O(){return E}var C,P={},x=function(e,t){return t}.bind(null,1,P)()===P?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},D=(C=0,function(){return++C});function j(){return D()+Math.random().toString(16).substr(2)}function R(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,R)}function M(e,t){return t&&t[e]?t[e]:""}function U(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function L(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t.replace(/&$/,"")}function N(e){return e&&Object.getOwnPropertyNames(e).length>0?Ae(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(Ee(e,t)))})).join("&"):""}function B(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var r=e.mediaTypes.banner.sizes;Array.isArray(r[0])?t=r:t.push(r)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function q(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)he(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"===v(e)){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(F(e));else for(var a=0;a<o;a++)t.push(F(e[a]))}return t}function F(e){if(z(e))return e[0]+"x"+e[1]}function V(e){if(z(e))return{w:e[0],h:e[1]}}function z(e){return oe(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function W(){return window.top}function H(){return window.self}function G(){return window.location}function K(){Z()&&w&&console.log.apply(console,J(arguments,"MESSAGE:"))}function X(){Z()&&S&&console.info.apply(console,J(arguments,"INFO:"))}function Y(){Z()&&T&&console.warn.apply(console,J(arguments,"WARNING:")),k.emit(y.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function $(){Z()&&I&&console.error.apply(console,J(arguments,"ERROR:")),k.emit(y.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function J(e,t){e=[].slice.call(e);var r=n.vc.getCurrentBidder();return t&&e.unshift(t),r&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(r?"%c".concat(r):"")),e;function i(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function Q(){return w}function Z(){return!!n.vc.getConfig("debug")}function ee(){var e=document.createElement("iframe");return e.id=j(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function te(e){return vt(G().search)[e]||""}function re(e,t){return b.call(e)==="[object "+t+"]"}function ne(e){return re(e,"Function")}function ie(e){return re(e,"String")}function oe(e){return re(e,"Array")}function ae(e){return re(e,"Number")}function se(e){return re(e,"Object")}function ue(e){return re(e,"Boolean")}function ce(e){if(!e)return!0;if(oe(e)||ie(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function le(e){return ie(e)&&(!e||0===e.length)}function de(e,t){if(!ce(e)){if(ne(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(n>0)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function pe(e,t){if(ce(e))return!1;if(ne(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function fe(e,t){if(ce(e))return[];if(ne(e.map))return e.map(t);var r=[];return de(e,(function(n,i){r.push(t(n,i,e))})),r}function he(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ge(e,t,r,n){var i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=n?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function me(e,t){var r=new Image;t&&A.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function ve(e){var t=e.source,r=e.burl;t===y.S2S.SRC&&r&&A.triggerPixel(r)}function ye(e){if(e){var t=document.createElement("iframe");t.id=j(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",A.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function be(e,t){var r=A.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),n=document.createElement("div");n.innerHTML=r;var i=n.firstChild;t&&A.isFn(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),A.insertElement(i,document,"html",!0)}function _e(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""}function we(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'.concat(r,'"')),"<iframe ".concat(r,' id="').concat(j(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function Se(e,t,r){return null==t?r:ie(t)?t:ae(t)?t.toString():void A.logWarn("Unsuported type for param: "+e+" required type: String")}function Te(e,t,r){return r.indexOf(e)===t}function Ie(e,t){return e.concat(t)}function ke(e,t){var r;if(e)return t.some((function(t){var n=s()(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(r){return t[r]===e}))}));return n&&(r=n),n})),r}function Ae(e){return Object.keys(e)}function Ee(e,t){return e[t]}function Oe(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Ie,[])})).reduce(Ie).filter(Te)}function Pe(){if(window.googletag&&ne(window.googletag.pubads)&&ne(window.googletag.pubads().getSlots))return!0}var xe=Re("timeToRespond",(function(e,t){return e>t})),De=Re("responseTimestamp",(function(e,t){return e>t})),je=Re("responseTimestamp",(function(e,t){return e<t}));function Re(e,t){return function(r,n){return r.cpm===n.cpm?t(r[e],n[e])?n:r:r.cpm<n.cpm?n:r}}function Me(e){for(var t=e.length;t>0;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function Ue(e,t){return c()(e,t&&t.adUnitCode)}function Le(e){return o()(e)}function Ne(){try{return A.getWindowSelf()!==A.getWindowTop()}catch(e){return!0}}function Be(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function qe(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Fe(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function Ve(){return(new Date).getTime()}function ze(){return window.performance&&window.performance.now&&window.performance.now()||0}function We(){return!1!==n.vc.getConfig("deviceAccess")}function He(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ge(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}}function Ke(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Xe(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,r){return m(t,g({},r,e[r]))}),{})}function Ye(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return c()(t,e)}))&&(!e.video||!e.video.context||c()(["instream","outstream","adpod"],e.video.context))}function $e(e,t,r){return s()(e,(function(e){return e.bids.filter((function(e){return e.bidder===t&&e.adUnitCode===r})).length>0}))||{start:null,auctionId:null}}function Je(e,t,r){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(Ie,[]).filter((function(e){return e.bidder===r})).map((function(e){return e.params||{}}))}function Qe(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function Ze(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var et=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function tt(e){return function(t){return et(e,t)}}function rt(e){return function(t){return et(t,e)}}function nt(e){var t;return Pe()&&(t=s()(window.googletag.pubads().getSlots(),rt(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function it(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function ot(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function at(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function st(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function ut(e,t){return"object"!==v(e)?{}:t.reduce((function(r,n,i){if("function"==typeof n)return r;var o=n,a=n.match(/^(.+?)\sas\s(.+?)$/i);a&&(n=a[1],o=a[2]);var s=e[n];return"function"==typeof t[i+1]&&(s=t[i+1](s,r)),void 0!==s&&(r[o]=s),r}),{})}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",r=[];return de(e,(function(e,n){if(oe(e)){var i=[];de(e,(function(e){((e=Se(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(!ie(e=Se(t+"."+n,e)))return;e=[e]}r.push({key:n,value:e})})),r}function lt(e,t){return Object.keys(e).forEach((function(r){var n,i;t[r]&&(ne(e[r])?t[r]=e[r](t[r]):t[r]=(n=e[r],i=t[r],"string"===n?i&&i.toString():"number"===n?Number(i):i),isNaN(t[r])&&delete t.key)})),t}function dt(e,t){return oe(e)&&(!t||e.length===t)&&e.every((function(e){return ot(e)}))}function pt(e,t){for(var r=[],n=0;n<t;n++){var i=se(e)?Le(e):e;r.push(i)}return r}function ft(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t,o=i+t;r.push(e.slice(i,o))}return r}function ht(e){return Math.min.apply(Math,p(e))}function gt(e){return Math.max.apply(Math,p(e))}function mt(e){return function(t,r){return t[e]<r[e]?1:t[e]>r[e]?-1:0}}function vt(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var r,n,i=(r=t.split("="),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(r,n)||f(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];return/\[\]$/.test(o)?(e[o=o.replace("[]","")]=e[o]||[],e[o].push(a)):e[o]=a||"",e}),{}):{}}function yt(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function bt(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:A.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function _t(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(A.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function wt(e,t){if(e===t)return!0;if("object"===v(e)&&null!==e&&"object"===v(t)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!wt(e[r],t[r]))return!1}return!0}return!1}function St(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var i=r.shift();if(se(e)&&se(i))for(var o in i)se(i[o])?(e[o]||m(e,g({},o,{})),St(e[o],i[o])):oe(i[o])&&e[o]?oe(e[o])&&(e[o]=e[o].concat(i[o])):m(e,g({},o,i[o]));return St.apply(void 0,[e].concat(r))}function Tt(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(ne(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},i=3735928559^r,o=1103547991^r,a=0;a<e.length;a++)i=n(i^(t=e.charCodeAt(a)),2654435761),o=n(o^t,1597334677);return i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909),(4294967296*(2097151&(o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909)))+(i>>>0)).toString()}},3593:function(e,t,r){"use strict";r.d(t,{Dn:function(){return u},LD:function(){return s},gZ:function(){return a}}),r(6893);var n=r(6584),i=r(4204),o=(r(1608),r(5858)),a="outstream",s="instream";function u(e,t){var r=(0,n.getBidRequest)(e.requestId,t),i=r&&(0,n.deepAccess)(r,"mediaTypes.video"),o=i&&(0,n.deepAccess)(i,"context");return c(e,r,i,o)}var c=(0,o.z3)("sync",(function(e,t,r,o){return!t||r&&o!==a?i.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,n.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):o!==a||!!(e.renderer||t.renderer||r.renderer)}),"checkVideoBidSetup")},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},5741:function(e,t,r){var n=r(4685);e.exports=n},5299:function(e,t,r){var n=r(7698);e.exports=n},5906:function(e,t,r){var n=r(4609);e.exports=n},6082:function(e,t,r){var n=r(5519);e.exports=n},1224:function(e,t,r){var n=r(5804);e.exports=n},2987:function(e,t,r){r(833);var n=r(5379);e.exports=n("Array","find")},4493:function(e,t,r){r(7971),r(3242);var n=r(4058);e.exports=n.Array.from},2415:function(e,t,r){r(7690);var n=r(5379);e.exports=n("Array","includes")},6998:function(e,t,r){r(6274),r(5967),r(9008),r(7971);var n=r(4058);e.exports=n.Set},7611:function(e,t,r){r(1035);var n=r(5379);e.exports=n("String","includes")},2332:function(e,t,r){var n=r(5741);e.exports=n},7385:function(e,t,r){var n=r(5299);e.exports=n},1608:function(e,t,r){var n=r(5906);e.exports=n},5743:function(e,t,r){var n=r(6082);r(5800),r(3676),r(2645),r(2578),r(4573),r(7421),r(3787),r(256),r(2032),r(1873),r(6566),r(987),r(1892),r(3352),r(6988),r(6875),r(3859),r(6690),e.exports=n},5195:function(e,t,r){var n=r(1224);e.exports=n},4883:function(e,t,r){var n=r(1899),i=r(7475),o=r(9826),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},174:function(e,t,r){var n=r(1899),i=r(4284),o=r(9826),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},1851:function(e,t,r){var n=r(1899),i=r(7475),o=n.String,a=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},8479:function(e){e.exports=function(){}},7359:function(e,t,r){var n=r(1899),i=r(7046),o=n.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},6059:function(e,t,r){var n=r(1899),i=r(941),o=n.String,a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},7135:function(e,t,r){var n=r(5981);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},1354:function(e,t,r){"use strict";var n=r(1899),i=r(6843),o=r(8834),a=r(9678),s=r(5196),u=r(6782),c=r(4284),l=r(623),d=r(5449),p=r(3476),f=r(2902),h=n.Array;e.exports=function(e){var t=a(e),r=c(this),n=arguments.length,g=n>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,n>2?arguments[2]:void 0));var v,y,b,_,w,S,T=f(t),I=0;if(!T||this==h&&u(T))for(v=l(t),y=r?new this(v):h(v);v>I;I++)S=m?g(t[I],I):t[I],d(y,I,S);else for(w=(_=p(t,T)).next,y=r?new this:[];!(b=o(w,_)).done;I++)S=m?s(_,g,[b.value,I],!0):b.value,d(y,I,S);return y.length=I,y}},1692:function(e,t,r){var n=r(4529),i=r(9413),o=r(623),a=function(e){return function(t,r,a){var s,u=n(t),c=o(u),l=i(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3610:function(e,t,r){var n=r(6843),i=r(5329),o=r(7026),a=r(9678),s=r(623),u=r(4692),c=i([].push),l=function(e){var t=1==e,r=2==e,i=3==e,l=4==e,d=6==e,p=7==e,f=5==e||d;return function(h,g,m,v){for(var y,b,_=a(h),w=o(_),S=n(g,m),T=s(w),I=0,k=v||u,A=t?k(h,T):r||p?k(h,0):void 0;T>I;I++)if((f||I in w)&&(b=S(y=w[I],I,_),e))if(t)A[I]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return I;case 2:c(A,y)}else switch(e){case 4:return!1;case 7:c(A,y)}return d?-1:i||l?l:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},5790:function(e,t,r){var n=r(1899),i=r(9413),o=r(623),a=r(5449),s=n.Array,u=Math.max;e.exports=function(e,t,r){for(var n=o(e),c=i(t,n),l=i(void 0===r?n:r,n),d=s(u(l-c,0)),p=0;c<l;c++,p++)a(d,p,e[c]);return d.length=p,d}},3765:function(e,t,r){var n=r(5329);e.exports=n([].slice)},5693:function(e,t,r){var n=r(1899),i=r(1052),o=r(4284),a=r(941),s=r(9813)("species"),u=n.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===u||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},4692:function(e,t,r){var n=r(5693);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},5196:function(e,t,r){var n=r(6059),i=r(7609);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},1385:function(e,t,r){var n=r(9813)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},2532:function(e,t,r){var n=r(5329),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},9697:function(e,t,r){var n=r(1899),i=r(2885),o=r(7475),a=r(2532),s=r(9813)("toStringTag"),u=n.Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?r:c?a(t):"Object"==(n=a(t))&&o(t.callee)?"Arguments":n}},7622:function(e,t,r){"use strict";var n=r(8834),i=r(4883),o=r(6059);e.exports=function(){for(var e=o(this),t=i(e.add),r=0,a=arguments.length;r<a;r++)n(t,e,arguments[r]);return e}},8984:function(e,t,r){"use strict";var n=r(8834),i=r(4883),o=r(6059);e.exports=function(){for(var e,t=o(this),r=i(t.delete),a=!0,s=0,u=arguments.length;s<u;s++)e=n(r,t,arguments[s]),a=a&&e;return!!a}},3590:function(e,t,r){"use strict";var n=r(6843),i=r(8834),o=r(4883),a=r(174),s=r(3091),u=[].push;e.exports=function(e){var t,r,c,l,d=arguments.length,p=d>1?arguments[1]:void 0;return a(this),(t=void 0!==p)&&o(p),null==e?new this:(r=[],t?(c=0,l=n(p,d>2?arguments[2]:void 0),s(e,(function(e){i(u,r,l(e,c++))}))):s(e,u,{that:r}),new this(r))}},5226:function(e,t,r){"use strict";var n=r(3765);e.exports=function(){return new this(n(arguments))}},5616:function(e,t,r){"use strict";var n=r(5988).f,i=r(9290),o=r(7524),a=r(6843),s=r(7359),u=r(3091),c=r(7771),l=r(4431),d=r(5746),p=r(1647).fastKey,f=r(5402),h=f.set,g=f.getterFor;e.exports={getConstructor:function(e,t,r,c){var l=e((function(e,n){s(e,f),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=n&&u(n,e[c],{that:e,AS_ENTRIES:r})})),f=l.prototype,m=g(t),v=function(e,t,r){var n,i,o=m(e),a=y(e,t);return a?a.value=r:(o.last=a={index:i=p(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),d?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var r,n=m(e),i=p(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(f,{clear:function(){for(var e=m(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,r=m(t),n=y(t,e);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),d?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=m(this),n=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(f,r?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&n(f,"size",{get:function(){return m(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",i=g(t),o=g(n);c(e,t,(function(e,t){h(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},4683:function(e,t,r){"use strict";var n=r(6887),i=r(1899),o=r(1647),a=r(5981),s=r(2029),u=r(3091),c=r(7359),l=r(7475),d=r(941),p=r(904),f=r(5988).f,h=r(3610).forEach,g=r(5746),m=r(5402),v=m.set,y=m.getterFor;e.exports=function(e,t,r){var m,b=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),w=b?"set":"add",S=i[e],T=S&&S.prototype,I={};if(g&&l(S)&&(_||T.forEach&&!a((function(){(new S).entries().next()})))){var k=(m=t((function(t,r){v(c(t,k),{type:e,collection:new S}),null!=r&&u(r,t[w],{that:t,AS_ENTRIES:b})}))).prototype,A=y(e);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in T)||_&&"clear"==e||s(k,e,(function(r,n){var i=A(this).collection;if(!t&&_&&!d(r))return"get"==e&&void 0;var o=i[e](0===r?0:r,n);return t?this:o}))})),_||f(k,"size",{configurable:!0,get:function(){return A(this).collection.size}})}else m=r.getConstructor(t,e,b,w),o.enable();return p(m,e,!1,!0),I[e]=m,n({global:!0,forced:!0},I),_||r.setStrong(m,e,b),m}},7772:function(e,t,r){var n=r(9813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},4160:function(e,t,r){var n=r(5981);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:function(e,t,r){"use strict";var n=r(5143).IteratorPrototype,i=r(9290),o=r(1887),a=r(904),s=r(2077),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=i(n,{next:o(+!c,r)}),a(e,l,!1,!0),s[l]=u,e}},2029:function(e,t,r){var n=r(5746),i=r(5988),o=r(1887);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},1887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5449:function(e,t,r){"use strict";var n=r(3894),i=r(5988),o=r(1887);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},7771:function(e,t,r){"use strict";var n=r(6887),i=r(8834),o=r(2529),a=r(9417),s=r(7475),u=r(1046),c=r(249),l=r(8929),d=r(904),p=r(2029),f=r(9754),h=r(9813),g=r(2077),m=r(5143),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=h("iterator"),S="keys",T="values",I="entries",k=function(){return this};e.exports=function(e,t,r,a,h,m,A){u(r,t,a);var E,O,C,P=function(e){if(e===h&&M)return M;if(!_&&e in j)return j[e];switch(e){case S:case T:case I:return function(){return new r(this,e)}}return function(){return new r(this)}},x=t+" Iterator",D=!1,j=e.prototype,R=j[w]||j["@@iterator"]||h&&j[h],M=!_&&R||P(h),U="Array"==t&&j.entries||R;if(U&&(E=c(U.call(new e)))!==Object.prototype&&E.next&&(o||c(E)===b||(l?l(E,b):s(E[w])||f(E,w,k)),d(E,x,!0,!0),o&&(g[x]=k)),v&&h==T&&R&&R.name!==T&&(!o&&y?p(j,"name",T):(D=!0,M=function(){return i(R,this)})),h)if(O={values:P(T),keys:m?M:P(S),entries:P(I)},A)for(C in O)(_||D||!(C in j))&&f(j,C,O[C]);else n({target:t,proto:!0,forced:_||D},O);return o&&!A||j[w]===M||f(j,w,M,{name:h}),g[t]=M,O}},5746:function(e,t,r){var n=r(5981);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:function(e,t,r){var n=r(1899),i=r(941),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2861:function(e,t,r){var n=r(626);e.exports=n("navigator","userAgent")||""},3385:function(e,t,r){var n,i,o=r(1899),a=r(2861),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},5379:function(e,t,r){var n=r(626);e.exports=n},6759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6887:function(e,t,r){"use strict";var n=r(1899),i=r(9730),o=r(5329),a=r(7475),s=r(9677).f,u=r(7252),c=r(4058),l=r(6843),d=r(2029),p=r(953),f=function(e){var t=function(r,n,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,i,h,g,m,v,y,b,_=e.target,w=e.global,S=e.stat,T=e.proto,I=w?n:S?n[_]:(n[_]||{}).prototype,k=w?c:c[_]||d(c,_,{})[_],A=k.prototype;for(h in t)r=!u(w?h:_+(S?".":"#")+h,e.forced)&&I&&p(I,h),m=k[h],r&&(v=e.noTargetGet?(b=s(I,h))&&b.value:I[h]),g=r&&v?v:t[h],r&&typeof m==typeof g||(y=e.bind&&r?l(g,n):e.wrap&&r?f(g):T&&a(g)?o(g):g,(e.sham||g&&g.sham||m&&m.sham)&&d(y,"sham",!0),d(k,h,y),T&&(p(c,i=_+"Prototype")||d(c,i,{}),d(c[i],h,g),e.real&&A&&!A[h]&&d(A,h,g)))}},5981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5602:function(e,t,r){var n=r(5981);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9730:function(e,t,r){var n=r(8285),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},6843:function(e,t,r){var n=r(5329),i=r(4883),o=r(8285),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},8285:function(e,t,r){var n=r(5981);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8834:function(e,t,r){var n=r(8285),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},9417:function(e,t,r){var n=r(5746),i=r(953),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},5329:function(e,t,r){var n=r(8285),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},626:function(e,t,r){var n=r(4058),i=r(1899),o=r(7475),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},2902:function(e,t,r){var n=r(9697),i=r(9733),o=r(2077),a=r(9813)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[n(e)]}},3476:function(e,t,r){var n=r(1899),i=r(8834),o=r(4883),a=r(6059),s=r(9826),u=r(2902),c=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?u(e):t;if(o(r))return a(i(r,e));throw c(s(e)+" is not iterable")}},9733:function(e,t,r){var n=r(4883);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},9571:function(e,t,r){var n=r(3476);e.exports=n},1899:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},953:function(e,t,r){var n=r(5329),i=r(9678),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7748:function(e){e.exports={}},5463:function(e,t,r){var n=r(626);e.exports=n("document","documentElement")},2840:function(e,t,r){var n=r(5746),i=r(5981),o=r(1333);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:function(e,t,r){var n=r(1899),i=r(5329),o=r(5981),a=r(2532),s=n.Object,u=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):s(e)}:s},1302:function(e,t,r){var n=r(5329),i=r(7475),o=r(3030),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},1647:function(e,t,r){var n=r(6887),i=r(5329),o=r(7748),a=r(941),s=r(953),u=r(5988).f,c=r(946),l=r(684),d=r(1584),p=r(9418),f=r(5602),h=!1,g=p("meta"),m=0,v=function(e){u(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},h=!0;var e=c.f,t=i([].splice),r={};r[g]=1,e(r).length&&(c.f=function(r){for(var n=e(r),i=0,o=n.length;i<o;i++)if(n[i]===g){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return f&&h&&d(e)&&!s(e,g)&&v(e),e}};o[g]=!0},5402:function(e,t,r){var n,i,o,a=r(8019),s=r(1899),u=r(5329),c=r(941),l=r(2029),d=r(953),p=r(3030),f=r(4262),h=r(7748),g="Object already initialized",m=s.TypeError,v=s.WeakMap;if(a||p.state){var y=p.state||(p.state=new v),b=u(y.get),_=u(y.has),w=u(y.set);n=function(e,t){if(_(y,e))throw new m(g);return t.facade=e,w(y,e,t),t},i=function(e){return b(y,e)||{}},o=function(e){return _(y,e)}}else{var S=f("state");h[S]=!0,n=function(e,t){if(d(e,S))throw new m(g);return t.facade=e,l(e,S,t),t},i=function(e){return d(e,S)?e[S]:{}},o=function(e){return d(e,S)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},6782:function(e,t,r){var n=r(9813),i=r(2077),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},1052:function(e,t,r){var n=r(2532);e.exports=Array.isArray||function(e){return"Array"==n(e)}},7475:function(e){e.exports=function(e){return"function"==typeof e}},4284:function(e,t,r){var n=r(5329),i=r(5981),o=r(7475),a=r(9697),s=r(626),u=r(1302),c=function(){},l=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=n(p.exec),h=!p.exec(c),g=function(e){if(!o(e))return!1;try{return d(c,l,e),!0}catch(e){return!1}},m=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,u(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},7252:function(e,t,r){var n=r(5981),i=r(7475),o=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},941:function(e,t,r){var n=r(7475);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},2529:function(e){e.exports=!0},685:function(e,t,r){var n=r(941),i=r(2532),o=r(9813)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},6664:function(e,t,r){var n=r(1899),i=r(626),o=r(7475),a=r(7046),s=r(2302),u=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,u(e))}},3091:function(e,t,r){var n=r(1899),i=r(6843),o=r(8834),a=r(6059),s=r(9826),u=r(6782),c=r(623),l=r(7046),d=r(3476),p=r(2902),f=r(7609),h=n.TypeError,g=function(e,t){this.stopped=e,this.result=t},m=g.prototype;e.exports=function(e,t,r){var n,v,y,b,_,w,S,T=r&&r.that,I=!(!r||!r.AS_ENTRIES),k=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),E=i(t,T),O=function(e){return n&&f(n,"normal",e),new g(!0,e)},C=function(e){return I?(a(e),A?E(e[0],e[1],O):E(e[0],e[1])):A?E(e,O):E(e)};if(k)n=e;else{if(!(v=p(e)))throw h(s(e)+" is not iterable");if(u(v)){for(y=0,b=c(e);b>y;y++)if((_=C(e[y]))&&l(m,_))return _;return new g(!1)}n=d(e,v)}for(w=n.next;!(S=o(w,n)).done;){try{_=C(S.value)}catch(e){f(n,"throw",e)}if("object"==typeof _&&_&&l(m,_))return _}return new g(!1)}},7609:function(e,t,r){var n=r(8834),i=r(6059),o=r(9733);e.exports=function(e,t,r){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return i(a),r}},5143:function(e,t,r){"use strict";var n,i,o,a=r(5981),s=r(7475),u=r(9290),c=r(249),l=r(9754),d=r(9813),p=r(2529),f=d("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(n=i):h=!0),null==n||a((function(){var e={};return n[f].call(e)!==e}))?n={}:p&&(n=u(n)),s(n[f])||l(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},2077:function(e){e.exports={}},623:function(e,t,r){var n=r(3057);e.exports=function(e){return n(e.length)}},2497:function(e,t,r){var n=r(3385),i=r(5981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8019:function(e,t,r){var n=r(1899),i=r(7475),o=r(1302),a=n.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},344:function(e,t,r){var n=r(1899),i=r(685),o=n.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},9290:function(e,t,r){var n,i=r(6059),o=r(9938),a=r(6759),s=r(7748),u=r(5463),c=r(1333),l=r(4262)("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&n?f(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):f(n);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=i(e),r=new d,d.prototype=null,r[l]=e):r=h(),void 0===t?r:o.f(r,t)}},9938:function(e,t,r){var n=r(5746),i=r(3937),o=r(5988),a=r(6059),s=r(4529),u=r(4771);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),i=u(t),c=i.length,l=0;c>l;)o.f(e,r=i[l++],n[r]);return e}},5988:function(e,t,r){var n=r(1899),i=r(5746),o=r(2840),a=r(3937),s=r(6059),u=r(3894),c=n.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,r){if(s(e),t=u(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=d(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(s(e),t=u(t),s(r),o)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9677:function(e,t,r){var n=r(5746),i=r(8834),o=r(6760),a=r(1887),s=r(4529),u=r(3894),c=r(953),l=r(2840),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},684:function(e,t,r){var n=r(2532),i=r(4529),o=r(946).f,a=r(5790),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(i(e))}},946:function(e,t,r){var n=r(5629),i=r(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},249:function(e,t,r){var n=r(1899),i=r(953),o=r(7475),a=r(9678),s=r(4262),u=r(4160),c=s("IE_PROTO"),l=n.Object,d=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof l?d:null}},1584:function(e,t,r){var n=r(5981),i=r(941),o=r(2532),a=r(7135),s=Object.isExtensible,u=n((function(){s(1)}));e.exports=u||a?function(e){return!!i(e)&&(!a||"ArrayBuffer"!=o(e))&&(!s||s(e))}:s},7046:function(e,t,r){var n=r(5329);e.exports=n({}.isPrototypeOf)},5629:function(e,t,r){var n=r(5329),i=r(953),o=r(4529),a=r(1692).indexOf,s=r(7748),u=n([].push);e.exports=function(e,t){var r,n=o(e),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;t.length>c;)i(n,r=t[c++])&&(~a(l,r)||u(l,r));return l}},4771:function(e,t,r){var n=r(5629),i=r(6759);e.exports=Object.keys||function(e){return n(e,i)}},6760:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8929:function(e,t,r){var n=r(5329),i=r(6059),o=r(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},5623:function(e,t,r){"use strict";var n=r(2885),i=r(9697);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},9811:function(e,t,r){var n=r(1899),i=r(8834),o=r(7475),a=r(941),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&o(r=e.toString)&&!a(n=i(r,e)))return n;if(o(r=e.valueOf)&&!a(n=i(r,e)))return n;if("string"!==t&&o(r=e.toString)&&!a(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},4058:function(e){e.exports={}},7524:function(e,t,r){var n=r(9754);e.exports=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e}},9754:function(e,t,r){var n=r(2029);e.exports=function(e,t,r,i){i&&i.enumerable?e[t]=r:n(e,t,r)}},8219:function(e,t,r){var n=r(1899).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},4911:function(e,t,r){var n=r(1899),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},4431:function(e,t,r){"use strict";var n=r(626),i=r(5988),o=r(9813),a=r(5746),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},904:function(e,t,r){var n=r(2885),i=r(5988).f,o=r(2029),a=r(953),s=r(5623),u=r(9813)("toStringTag");e.exports=function(e,t,r,c){if(e){var l=r?e:e.prototype;a(l,u)||i(l,u,{configurable:!0,value:t}),c&&!n&&o(l,"toString",s)}}},4262:function(e,t,r){var n=r(8726),i=r(9418),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:function(e,t,r){var n=r(1899),i=r(4911),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},8726:function(e,t,r){var n=r(2529),i=r(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"})},487:function(e,t,r){var n=r(6059),i=r(174),o=r(9813)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},4620:function(e,t,r){var n=r(5329),i=r(2435),o=r(5803),a=r(8219),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,d=o(a(t)),p=i(r),f=d.length;return p<0||p>=f?e?"":void 0:(n=u(d,p))<55296||n>56319||p+1===f||(l=u(d,p+1))<56320||l>57343?e?s(d,p):n:e?c(d,p,p+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},9413:function(e,t,r){var n=r(2435),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},4529:function(e,t,r){var n=r(7026),i=r(8219);e.exports=function(e){return n(i(e))}},2435:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},3057:function(e,t,r){var n=r(2435),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},9678:function(e,t,r){var n=r(1899),i=r(8219),o=n.Object;e.exports=function(e){return o(i(e))}},6935:function(e,t,r){var n=r(1899),i=r(8834),o=r(941),a=r(6664),s=r(9733),u=r(9811),c=r(9813),l=n.TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,n=s(e,d);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!o(r)||a(r))return r;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},3894:function(e,t,r){var n=r(6935),i=r(6664);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},2885:function(e,t,r){var n={};n[r(9813)("toStringTag")]="z",e.exports="[object z]"===String(n)},5803:function(e,t,r){var n=r(1899),i=r(9697),o=n.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:function(e,t,r){var n=r(1899).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},9418:function(e,t,r){var n=r(5329),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},2302:function(e,t,r){var n=r(2497);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:function(e,t,r){var n=r(5746),i=r(5981);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9813:function(e,t,r){var n=r(1899),i=r(8726),o=r(953),a=r(9418),s=r(2497),u=r(2302),c=i("wks"),l=n.Symbol,d=l&&l.for,p=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(l,e)?c[e]=l[e]:c[e]=u&&d?d(t):p(t)}return c[e]}},833:function(e,t,r){"use strict";var n=r(6887),i=r(3610).find,o=r(8479),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},3242:function(e,t,r){var n=r(6887),i=r(1354);n({target:"Array",stat:!0,forced:!r(1385)((function(e){Array.from(e)}))},{from:i})},7690:function(e,t,r){"use strict";var n=r(6887),i=r(1692).includes,o=r(8479);n({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6274:function(e,t,r){"use strict";var n=r(4529),i=r(8479),o=r(2077),a=r(5402),s=r(5988).f,u=r(7771),c=r(2529),l=r(5746),d="Array Iterator",p=a.set,f=a.getterFor(d);e.exports=u(Array,"Array",(function(e,t){p(this,{type:d,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var h=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},5967:function(){},9008:function(e,t,r){"use strict";r(4683)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(5616))},1035:function(e,t,r){"use strict";var n=r(6887),i=r(5329),o=r(344),a=r(8219),s=r(5803),u=r(7772),c=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},7971:function(e,t,r){"use strict";var n=r(4620).charAt,i=r(5803),o=r(5402),a=r(7771),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},2645:function(e,t,r){"use strict";r(6887)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:r(7622)})},2578:function(e,t,r){"use strict";r(6887)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:r(8984)})},7421:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(8834),a=r(4883),s=r(6059),u=r(487),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){var t=s(this),r=new(u(t,i("Set")))(t),n=a(r.delete);return c(e,(function(e){o(n,r,e)})),r}})},4573:function(e,t,r){"use strict";var n=r(6887),i=r(6059),o=r(6843),a=r(9571),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),r=a(t),n=o(e,arguments.length>1?arguments[1]:void 0);return!s(r,(function(e,r){if(!n(e,e,t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3787:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(8834),a=r(4883),s=r(6059),u=r(6843),c=r(487),l=r(9571),d=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=s(this),r=l(t),n=u(e,arguments.length>1?arguments[1]:void 0),p=new(c(t,i("Set"))),f=a(p.add);return d(r,(function(e){n(e,e,t)&&o(f,p,e)}),{IS_ITERATOR:!0}),p}})},256:function(e,t,r){"use strict";var n=r(6887),i=r(6059),o=r(6843),a=r(9571),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),r=a(t),n=o(e,arguments.length>1?arguments[1]:void 0);return s(r,(function(e,r){if(n(e,e,t))return r(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5800:function(e,t,r){r(6887)({target:"Set",stat:!0,forced:!0},{from:r(3590)})},2032:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(8834),a=r(4883),s=r(6059),u=r(487),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){var t=s(this),r=new(u(t,i("Set"))),n=a(t.has),l=a(r.add);return c(e,(function(e){o(n,t,e)&&o(l,r,e)})),r}})},1873:function(e,t,r){"use strict";var n=r(6887),i=r(8834),o=r(4883),a=r(6059),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){var t=a(this),r=o(t.has);return!s(e,(function(e,n){if(!0===i(r,t,e))return n()}),{INTERRUPTED:!0}).stopped}})},6566:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(8834),a=r(4883),s=r(7475),u=r(6059),c=r(3476),l=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){var t=c(this),r=u(e),n=r.has;return s(n)||(r=new(i("Set"))(e),n=a(r.has)),!l(t,(function(e,t){if(!1===o(n,r,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},987:function(e,t,r){"use strict";var n=r(6887),i=r(8834),o=r(4883),a=r(6059),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){var t=a(this),r=o(t.has);return!s(e,(function(e,n){if(!1===i(r,t,e))return n()}),{INTERRUPTED:!0}).stopped}})},1892:function(e,t,r){"use strict";var n=r(6887),i=r(5329),o=r(6059),a=r(5803),s=r(9571),u=r(3091),c=i([].join),l=[].push;n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=o(this),r=s(t),n=void 0===e?",":a(e),i=[];return u(r,l,{that:i,IS_ITERATOR:!0}),c(i,n)}})},3352:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(6843),a=r(8834),s=r(4883),u=r(6059),c=r(487),l=r(9571),d=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=u(this),r=l(t),n=o(e,arguments.length>1?arguments[1]:void 0),p=new(c(t,i("Set"))),f=s(p.add);return d(r,(function(e){a(f,p,n(e,e,t))}),{IS_ITERATOR:!0}),p}})},3676:function(e,t,r){r(6887)({target:"Set",stat:!0,forced:!0},{of:r(5226)})},6988:function(e,t,r){"use strict";var n=r(6887),i=r(1899),o=r(4883),a=r(6059),s=r(9571),u=r(3091),c=i.TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=a(this),r=s(t),n=arguments.length<2,i=n?void 0:arguments[1];if(o(e),u(r,(function(r){n?(n=!1,i=r):i=e(i,r,r,t)}),{IS_ITERATOR:!0}),n)throw c("Reduce of empty set with no initial value");return i}})},6875:function(e,t,r){"use strict";var n=r(6887),i=r(6059),o=r(6843),a=r(9571),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),r=a(t),n=o(e,arguments.length>1?arguments[1]:void 0);return s(r,(function(e,r){if(n(e,e,t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3859:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(8834),a=r(4883),s=r(6059),u=r(487),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){var t=s(this),r=new(u(t,i("Set")))(t),n=a(r.delete),l=a(r.add);return c(e,(function(e){o(n,r,e)||o(l,r,e)})),r}})},6690:function(e,t,r){"use strict";var n=r(6887),i=r(626),o=r(4883),a=r(6059),s=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){var t=a(this),r=new(s(t,i("Set")))(t);return u(e,o(r.add),{that:r}),r}})},7634:function(e,t,r){r(6274);var n=r(3281),i=r(1899),o=r(9697),a=r(2029),s=r(2077),u=r(9813)("toStringTag");for(var c in n){var l=i[c],d=l&&l.prototype;d&&o(d)!==u&&a(d,u,c),s[c]=s.Array}},4685:function(e,t,r){var n=r(2987);e.exports=n},7698:function(e,t,r){var n=r(4493);e.exports=n},4609:function(e,t,r){var n=r(2415);e.exports=n},5519:function(e,t,r){var n=r(6998);r(7634),e.exports=n},5804:function(e,t,r){var n=r(7611);e.exports=n},4611:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",n=this.t,i=this.DB-n*this.DB%4;if(n-- >0)for(i<this.DB&&(e=this[n]>>i)>0&&(t=!0,r=l(e));n>=0;)i<4?(e=(this[n]&(1<<i)-1)<<4-i,e|=this[--n]>>(i+=this.DB-4)):(e=this[n]>>(i-=4)&15,i<=0&&(i+=this.DB,--n)),e>0&&(t=!0),t&&(r+=l(e));return t?r:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var r=t.length,n=!1,i=0;--r>=0;){var o=c(t,r);o<0?"-"==t.charAt(r)&&(n=!0):(n=!1,0==i?this[this.t++]=o:i+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this[this.t++]=o>>this.DB-i):this[this.t-1]|=o<<i,(i+=4)>=this.DB&&(i-=this.DB))}this.clamp(),n&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=i();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var r=i();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.divRemTo=function(t,r,n){var a=t.abs();if(!(a.t<=0)){var s=this.abs();if(s.t<a.t)return null!=r&&r.fromHexString("0"),void(null!=n&&this.copyTo(n));null==n&&(n=i());var u=i(),c=this.s,l=t.s,d=this.DB-o(a[a.t-1]);d>0?(a.lShiftTo(d,u),s.lShiftTo(d,n)):(a.copyTo(u),s.copyTo(n));var p=u.t,f=u[p-1];if(0!=f){var h=f*(1<<this.F1)+(p>1?u[p-2]>>this.F2:0),g=this.FV/h,m=(1<<this.F1)/h,v=1<<this.F2,y=n.t,b=y-p,_=null==r?i():r;for(u.dlShiftTo(b,_),n.compareTo(_)>=0&&(n[n.t++]=1,n.subTo(_,n)),e.ONE.dlShiftTo(p,_),_.subTo(u,u);u.t<p;)u[u.t++]=0;for(;--b>=0;){var w=n[--y]==f?this.DM:Math.floor(n[y]*g+(n[y-1]+v)*m);if((n[y]+=u.am(0,w,n,b,0,p))<w)for(u.dlShiftTo(b,_),n.subTo(_,n);n[y]<--w;)n.subTo(_,n)}null!=r&&(n.drShiftTo(p,r),c!=l&&e.ZERO.subTo(r,r)),n.t=p,n.clamp(),d>0&&n.rShiftTo(d,n),c<0&&e.ZERO.subTo(n,n)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new d(t):new p(t),this.exp(e,r)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=i(),a=i(),s=r.convert(this),u=o(t)-1;for(s.copyTo(n);--u>=0;)if(r.sqrTo(n,a),(t&1<<u)>0)r.mulTo(a,s,n);else{var c=n;n=a,a=c}return r.revert(n)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.am1=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},e.prototype.am2=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),r[n++]=1073741823&u}return i},e.prototype.am3=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+s*c,r[n++]=268435455&u}return i},e}();function i(){return new n(null)}function o(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=n,t.nbi=i,t.nbits=o;var a,s,u=[];for(a="0".charCodeAt(0),s=0;s<=9;++s)u[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)u[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)u[a++]=s;function c(e,t){var r=u[e.charCodeAt(t)];return null==r?-1:r}function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.intAt=c,t.int2char=l,t.b64toHex=function(e){var t,r="",n=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));o<0||(0==n?(r+=l(o>>2),i=3&o,n=1):1==n?(r+=l(i<<2|o>>4),i=15&o,n=2):2==n?(r+=l(i),r+=l(o>>2),i=3&o,n=3):(r+=l(i<<2|o>>4),r+=l(15&o),n=0))}return 1==n&&(r+=l(i<<2)),r},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var d=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),p=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function f(e){var t=i();return t.fromHexString(e.toString()),t}t.nbv=f,n.ZERO=f(0),n.ONE=f(1),"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=n.prototype.am2,r=30):"Netscape"!=navigator.appName?(n.prototype.am=n.prototype.am1,r=26):(n.prototype.am=n.prototype.am3,r=28),n.prototype.DB=r,n.prototype.DM=(1<<r)-1,n.prototype.DV=1<<r,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-r,n.prototype.F2=2*r-52},4950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(i/16),a=new Array(o),s=0;s<o;s++){a[s]=new Array(16);for(var u=0;u<16;u++)a[s][u]=t.charCodeAt(64*s+4*u)<<24|t.charCodeAt(64*s+4*u+1)<<16|t.charCodeAt(64*s+4*u+2)<<8|t.charCodeAt(64*s+4*u+3)<<0}var c=8*(t.length-1)/Math.pow(2,32),l=8*(t.length-1)>>>0;for(a[o-1][14]=Math.floor(c),a[o-1][15]=l,s=0;s<o;s++){for(var d=new Array(64),p=0;p<16;p++)d[p]=a[s][p];for(p=16;p<64;p++)d[p]=e.q1(d[p-2])+d[p-7]+e.q0(d[p-15])+d[p-16]>>>0;var f=n[0],h=n[1],g=n[2],m=n[3],v=n[4],y=n[5],b=n[6],_=n[7];for(p=0;p<64;p++){var w=_+e.z1(v)+e.Ch(v,y,b)+r[p]+d[p],S=e.z0(f)+e.Maj(f,h,g);_=b,b=y,y=v,v=m+w>>>0,m=g,g=h,h=f,f=w+S>>>0}n[0]=n[0]+f>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+m>>>0,n[4]=n[4]+v>>>0,n[5]=n[5]+y>>>0,n[6]=n[6]+b>>>0,n[7]=n[7]+_>>>0}var T=new Array(n.length);for(_=0;_<n.length;_++)T[_]=("00000000"+n[_].toString(16)).slice(-8);return T.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,r){return e&t^~e&r},e.Maj=function(e,t,r){return e&t^e&r^t&r},e}();t.Sha256=r},1582:function(e,t,r){"use strict";var n=r(4611),i=r(4950);t.T=function(e,t,r,o){var a=new n.BigInteger(n.b64toHex(t)),s=new n.BigInteger(n.b64toHex(r)),u=a.modPowInt(o,s);return n.removeExtraSymbols(u.toHexString())===i.Sha256.hash(e)}},7187:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a,c;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var c=u.length,l=h(u,c);for(r=0;r<c;++r)n(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1432:function(e){a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,n="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return n.call(i(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function a(e){var s,u={},c=[];function l(e,t){return"function"==typeof e?h.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?h.apply(null,arguments):"object"==typeof e?d.apply(null,arguments):void 0}function d(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),o=n[0],a=n[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=h(a,s,r?[r,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function p(e){var t=Array.isArray(e)?e:e.split(".");return n.call(t,(function(r,n,i){var o=r[n],a=!1;return o||(i===t.length-1?(s||c.push((function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[n]=f((function(e){r[n]=e,a=!0}))):r[n]={})}),u)}function f(e){var t=[],n=[],i=function(){},a={before:function(e,r){return u.call(this,t,"before",e,r)},after:function(e,t){return u.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==typeof e&&(r=r.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{o(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},s={install:function(r,o,a){this.type=r,i=a,a(t,n),e&&e(o)}};return r.set(a.after,s),a;function u(e,r,o,a){var s={hook:o,type:r,priority:a||10,remove:function(){var r=e.indexOf(s);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,n),this}}function h(t,n,u){var l=n.after&&r.get(n.after);if(l){if(l.type!==t)throw"fun-hooks: recreated hookable with different type";return n}var d,h,g=u?p(u):f(),m={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return s||c.push(v),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?h=new Proxy(n,m):(h=function(){return m.apply?m.apply(n,this,i(arguments)):n.apply(this,arguments)},o(h,g)),r.get(h.after).install(t,h,(function(e,r){var n,o=[];function a(e){o.push(e.hook)}e.length||r.length?(e.forEach(a),n=o.push(void 0)-1,r.forEach(a),d=function(e,r,a){var s,u=0,c="async"===t&&"function"==typeof a[a.length-1]&&a.pop();function l(e){"sync"===t?s=e:c&&c.apply(null,arguments)}function d(e){if(o[u]){var n=i(arguments);return d.bail=l,n.unshift(d),o[u++].apply(r,n)}"sync"===t?s=e:c&&c.apply(null,arguments)}return o[n]=function(){var n=i(arguments,1);"async"===t&&c&&(delete d.bail,n.push(d));var o=e.apply(r,n);"sync"===t&&d(o)},d.apply(null,a),s}):d=void 0,v()})),h;function v(){!s&&("sync"!==t||e.ready&a.SYNC)&&("async"!==t||e.ready&a.ASYNC)?"sync"!==t&&e.ready&a.QUEUE?m.apply=function(){var e=arguments;c.push((function(){h.apply(e[1],e[2])}))}:m.apply=function(){throw"fun-hooks: hooked function not ready"}:m.apply=d}}return(e=o({},t,e)).ready?l.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(c)}:s=!0,l.get=p,l}e.exports=a},9144:function(e,t,r){var n,i=void 0!==r.g?r.g:"undefined"!=typeof window?window:{},o=r(5893);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=n},8908:function(e,t,r){var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},645:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=c}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+f]=255&a,f+=h,a/=256,c-=8);e[r+f-h]|=128*g}},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},7376:function(e){e.exports=function(e){if(!e)return!1;var r=t.call(e);return"[object Function]"===r||"function"==typeof e&&"[object RegExp]"!==r||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},2604:function(e,t){"use strict";var r=["weeks","years","months","days","hours","minutes","seconds"],n=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0}),i=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)");t.Qc=function(e){return e.match(i).slice(1).reduce((function(e,t,n){return e[r[n]]=parseFloat(t)||0,e}),{})},t.my=function(e,t){e=Object.assign({},n,e);var r=t?t.getTime():Date.now(),i=new Date(r);return(function(e,t){e=Object.assign({},n,e);var r=t?t.getTime():Date.now(),i=new Date(r);return i.setFullYear(i.getFullYear()+e.years),i.setMonth(i.getMonth()+e.months),i.setDate(i.getDate()+e.days),i.setHours(i.getHours()+e.hours),i.setMinutes(i.getMinutes()+e.minutes),i.setMilliseconds(i.getMilliseconds()+1e3*e.seconds),i.setDate(i.getDate()+7*e.weeks),i}(e,i).getTime()-i.getTime())/1e3}},7079:function(e){e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},7537:function(e,t){function r(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var r,o=String(e);return(r=n[o.toLowerCase()])?r:(r=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}r.isEventKey=function(e,t){if(e&&"object"==typeof e){var r=e.which||e.keyCode||e.charCode;if(null==r)return!1;if("string"==typeof t){var o;if(o=n[t.toLowerCase()])return o===r;if(o=i[t.toLowerCase()])return o===r}else if("number"==typeof t)return t===r;return!1}};var n=(t=e.exports=r).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var a=t.names=t.title={};for(o in n)a[n[o]]=o;for(var s in i)n[s]=i[s]},9208:function(e,t,r){var n,i="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),h=Array.prototype,g=Function.prototype,m=Object.prototype,v=f["__core-js_shared__"],y=(n=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",b=g.toString,_=m.hasOwnProperty,w=m.toString,S=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=f.Symbol,I=h.splice,k=R(f,"Map"),A=R(Object,"create"),E=T?T.prototype:void 0,O=E?E.toString:void 0;function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function j(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function R(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!B(e)||y&&y in e)return!1;var t=function(e){var t=B(e)?w.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:l;return t.test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}C.prototype.clear=function(){this.__data__=A?A(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(A){var r=t[e];return r===i?void 0:r}return _.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return A?void 0!==t[e]:_.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=A&&void 0===t?i:t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,r=D(t,e);return!(r<0||(r==t.length-1?t.pop():I.call(t,r,1),0))},P.prototype.get=function(e){var t=this.__data__,r=D(t,e);return r<0?void 0:t[r][1]},P.prototype.has=function(e){return D(this.__data__,e)>-1},P.prototype.set=function(e,t){var r=this.__data__,n=D(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new C,map:new(k||P),string:new C}},x.prototype.delete=function(e){return j(this,e).delete(e)},x.prototype.get=function(e){return j(this,e).get(e)},x.prototype.has=function(e){return j(this,e).has(e)},x.prototype.set=function(e,t){return j(this,e).set(e,t),this};var M=L((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(q(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return s.test(e)&&r.push(""),e.replace(u,(function(e,t,n,i){r.push(n?i.replace(c,"$1"):t||e)})),r}));function U(e){if("string"==typeof e||q(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function L(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(L.Cache||x),r}L.Cache=x;var N=Array.isArray;function B(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function q(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==w.call(e)}e.exports=function(e,t,r){var n=null==e?void 0:function(e,t){var r;t=function(e,t){if(N(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!q(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:N(r=t)?r:M(r);for(var n=0,i=t.length;null!=e&&n<i;)e=e[U(t[n++])];return n&&n==i?e:void 0}(e,t);return void 0===n?r:n}},394:function(e,t,r){var n="__lodash_hash_undefined__",i=/^\[object .+?Constructor\]$/,o="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")();function u(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function c(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,d);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}function l(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function d(e){return e!=e}function p(e,t){return e.has(t)}var f,h=Array.prototype,g=Function.prototype,m=Object.prototype,v=s["__core-js_shared__"],y=(f=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",b=g.toString,_=m.hasOwnProperty,w=m.toString,S=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=h.splice,I=Math.max,k=Math.min,A=M(s,"Map"),E=M(Object,"create");function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.__data__=new P;++t<r;)this.add(e[t])}function D(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function j(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!B(e)}(e)}(e)?e:[]}function R(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function M(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!q(e)||y&&y in e)return!1;var t=B(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:i;return t.test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}O.prototype.clear=function(){this.__data__=E?E(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(E){var r=t[e];return r===n?void 0:r}return _.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:_.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?n:t,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(e){var t=this.__data__,r=D(t,e);return!(r<0||(r==t.length-1?t.pop():T.call(t,r,1),0))},C.prototype.get=function(e){var t=this.__data__,r=D(t,e);return r<0?void 0:t[r][1]},C.prototype.has=function(e){return D(this.__data__,e)>-1},C.prototype.set=function(e,t){var r=this.__data__,n=D(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new O,map:new(A||C),string:new O}},P.prototype.delete=function(e){return R(this,e).delete(e)},P.prototype.get=function(e){return R(this,e).get(e)},P.prototype.has=function(e){return R(this,e).has(e)},P.prototype.set=function(e,t){return R(this,e).set(e,t),this},x.prototype.add=x.prototype.push=function(e){return this.__data__.set(e,n),this},x.prototype.has=function(e){return this.__data__.has(e)};var U,L,N=(U=function(e){var t=l(e,j);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=c,i=e[0].length,o=e.length,a=o,s=Array(o),u=1/0,l=[];a--;){var d=e[a];u=k(d.length,u),s[a]=i>=120&&d.length>=120?new x(a&&d):void 0}d=e[0];var f=-1,h=s[0];e:for(;++f<i&&l.length<u;){var g=d[f],m=g;if(g=0!==g?g:0,!(h?p(h,m):n(l,m,r))){for(a=o;--a;){var v=s[a];if(!(v?p(v,m):n(e[a],m,r)))continue e}h&&h.push(m),l.push(g)}}return l}(t):[]},L=I(void 0===L?U.length-1:L,0),function(){for(var e=arguments,t=-1,r=I(e.length-L,0),n=Array(r);++t<r;)n[t]=e[L+t];t=-1;for(var i=Array(L+1);++t<L;)i[t]=e[t];return i[L]=n,u(U,this,i)});function B(e){var t=q(e)?w.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=N},773:function(e,t,r){var n,i="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")(),c=Array.prototype,l=Function.prototype,d=Object.prototype,p=u["__core-js_shared__"],f=(n=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=l.toString,g=d.hasOwnProperty,m=d.toString,v=RegExp("^"+h.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=c.splice,b=A(u,"Map"),_=A(Object,"create");function w(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function S(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function k(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function A(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!O(e)||f&&f in e)return!1;var t=function(e){var t=O(e)?m.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:o;return t.test(function(e){if(null!=e){try{return h.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function E(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(E.Cache||T),r}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}w.prototype.clear=function(){this.__data__=_?_(null):{}},w.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},w.prototype.get=function(e){var t=this.__data__;if(_){var r=t[e];return r===i?void 0:r}return g.call(t,e)?t[e]:void 0},w.prototype.has=function(e){var t=this.__data__;return _?void 0!==t[e]:g.call(t,e)},w.prototype.set=function(e,t){return this.__data__[e]=_&&void 0===t?i:t,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(e){var t=this.__data__,r=I(t,e);return!(r<0||(r==t.length-1?t.pop():y.call(t,r,1),0))},S.prototype.get=function(e){var t=this.__data__,r=I(t,e);return r<0?void 0:t[r][1]},S.prototype.has=function(e){return I(this.__data__,e)>-1},S.prototype.set=function(e,t){var r=this.__data__,n=I(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new w,map:new(b||S),string:new w}},T.prototype.delete=function(e){return k(this,e).delete(e)},T.prototype.get=function(e){return k(this,e).get(e)},T.prototype.has=function(e){return k(this,e).has(e)},T.prototype.set=function(e,t){return k(this,e).set(e,t),this},E.Cache=T,e.exports=E},2378:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[o]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),h=t&&!t.nodeType&&t,g=h&&e&&!e.nodeType&&e,m=g&&g.exports===h,v=m&&d.process,y=function(){try{return g&&g.require&&g.require("util").types||v&&v.binding&&v.binding("util")}catch(e){}}(),b=y&&y.isTypedArray;function _(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var w,S,T,I=Array.prototype,k=Function.prototype,A=Object.prototype,E=f["__core-js_shared__"],O=k.toString,C=A.hasOwnProperty,P=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",x=A.toString,D=O.call(Object),j=RegExp("^"+O.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=m?f.Buffer:void 0,M=f.Symbol,U=f.Uint8Array,L=(R&&R.allocUnsafe,S=Object.getPrototypeOf,T=Object,function(e){return S(T(e))}),N=Object.create,B=A.propertyIsEnumerable,q=I.splice,F=M?M.toStringTag:void 0,V=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=R?R.isBuffer:void 0,W=Math.max,H=Date.now,G=ue(f,"Map"),K=ue(Object,"create"),X=function(){function e(){}return function(t){if(!_e(t))return{};if(N)return N(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Y(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=this.__data__=new $(e);this.size=t.size}function Z(e,t,r){(void 0!==r&&!fe(e[t],r)||void 0===r&&!(t in e))&&re(e,t,r)}function ee(e,t,r){var n=e[t];C.call(e,t)&&fe(n,r)&&(void 0!==r||t in e)||re(e,t,r)}function te(e,t){for(var r=e.length;r--;)if(fe(e[r][0],t))return r;return-1}function re(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Y.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:C.call(t,e)},Y.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},$.prototype.clear=function(){this.__data__=[],this.size=0},$.prototype.delete=function(e){var t=this.__data__,r=te(t,e);return!(r<0||(r==t.length-1?t.pop():q.call(t,r,1),--this.size,0))},$.prototype.get=function(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]},$.prototype.has=function(e){return te(this.__data__,e)>-1},$.prototype.set=function(e,t){var r=this.__data__,n=te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(G||$),string:new Y}},J.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return se(this,e).get(e)},J.prototype.has=function(e){return se(this,e).has(e)},J.prototype.set=function(e,t){var r=se(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Q.prototype.clear=function(){this.__data__=new $,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var r=this.__data__;if(r instanceof $){var n=r.__data__;if(!G||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new J(n)}return r.set(e,t),this.size=r.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=C.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch(e){}var i=x.call(e);return n&&(t?e[F]=r:delete e[F]),i}(e):function(e){return x.call(e)}(e)}function ie(e){return we(e)&&ne(e)==o}function oe(e,t,r,n,i){e!==t&&function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}}(t,(function(o,a){if(i||(i=new Q),_e(o))!function(e,t,r,n,i,o,a){var u=de(e,r),c=de(t,r),l=a.get(c);if(l)Z(e,r,l);else{var d,p,f,h,g,m=o?o(u,c,r+"",e,t,a):void 0,v=void 0===m;if(v){var y=ge(c),b=!y&&ve(c),_=!y&&!b&&Se(c);m=c,y||b||_?ge(u)?m=u:we(g=u)&&me(g)?m=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(u):b?(v=!1,m=function(e,t){return e.slice()}(c)):_?(v=!1,h=new(f=(d=c).buffer).constructor(f.byteLength),new U(h).set(new U(f)),p=h,m=new d.constructor(p,d.byteOffset,d.length)):m=[]:function(e){if(!we(e)||ne(e)!=s)return!1;var t=L(e);if(null===t)return!0;var r=C.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&O.call(r)==D}(c)||he(c)?(m=u,he(u)?m=function(e){return function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=void 0;void 0===u&&(u=e[s]),i?re(r,s,u):ee(r,s,u)}return r}(e,Te(e))}(u):_e(u)&&!ye(u)||(m=function(e){return"function"!=typeof e.constructor||le(e)?{}:X(L(e))}(c))):v=!1}v&&(a.set(c,m),i(m,c,n,o,a),a.delete(c)),Z(e,r,m)}}(e,t,a,r,oe,n,i);else{var u=n?n(de(e,a),o,a+"",e,t,i):void 0;void 0===u&&(u=o),Z(e,a,u)}}),Te)}var ae=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ae;function se(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_e(e)||function(e){return!!P&&P in e}(e))&&(ye(e)?j:u).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function ce(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&c.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pe=function(e){var t=0,r=0;return function(){var n=H(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ae);function fe(e,t){return e===t||e!=e&&t!=t}var he=ie(function(){return arguments}())?ie:function(e){return we(e)&&C.call(e,"callee")&&!B.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&be(e.length)&&!ye(e)}var ve=z||function(){return!1};function ye(e){if(!_e(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Se=b?function(e){return function(t){return e(t)}}(b):function(e){return we(e)&&be(e.length)&&!!l[ne(e)]};function Te(e){return me(e)?function(e,t){var r=ge(e),n=!r&&he(e),i=!r&&!n&&ve(e),o=!r&&!n&&!i&&Se(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!C.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ce(c,u))||s.push(c);return s}(e,!0):function(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=le(e),r=[];for(var n in e)("constructor"!=n||!t&&C.call(e,n))&&r.push(n);return r}(e)}var Ie,ke=(Ie=function(e,t,r){oe(e,t,r)},function(e,t){return pe(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=W(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),_(e,this,s)}}(e,t,Ae),e+"")}((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Ie.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!_e(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ce(t,r.length):"string"==n&&t in r)&&fe(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Ie(e,a,r)}return e})));function Ae(e){return e}e.exports=ke},8554:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[o]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=d||p||Function("return this")(),h=t&&!t.nodeType&&t,g=h&&e&&!e.nodeType&&e,m=g&&g.exports===h,v=m&&d.process,y=function(){try{return g&&g.require&&g.require("util").types||v&&v.binding&&v.binding("util")}catch(e){}}(),b=y&&y.isTypedArray;function _(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var w,S,T,I=Array.prototype,k=Function.prototype,A=Object.prototype,E=f["__core-js_shared__"],O=k.toString,C=A.hasOwnProperty,P=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",x=A.toString,D=O.call(Object),j=RegExp("^"+O.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=m?f.Buffer:void 0,M=f.Symbol,U=f.Uint8Array,L=(R&&R.allocUnsafe,S=Object.getPrototypeOf,T=Object,function(e){return S(T(e))}),N=Object.create,B=A.propertyIsEnumerable,q=I.splice,F=M?M.toStringTag:void 0,V=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=R?R.isBuffer:void 0,W=Math.max,H=Date.now,G=ue(f,"Map"),K=ue(Object,"create"),X=function(){function e(){}return function(t){if(!_e(t))return{};if(N)return N(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Y(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=this.__data__=new $(e);this.size=t.size}function Z(e,t,r){(void 0!==r&&!fe(e[t],r)||void 0===r&&!(t in e))&&re(e,t,r)}function ee(e,t,r){var n=e[t];C.call(e,t)&&fe(n,r)&&(void 0!==r||t in e)||re(e,t,r)}function te(e,t){for(var r=e.length;r--;)if(fe(e[r][0],t))return r;return-1}function re(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Y.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:C.call(t,e)},Y.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},$.prototype.clear=function(){this.__data__=[],this.size=0},$.prototype.delete=function(e){var t=this.__data__,r=te(t,e);return!(r<0||(r==t.length-1?t.pop():q.call(t,r,1),--this.size,0))},$.prototype.get=function(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]},$.prototype.has=function(e){return te(this.__data__,e)>-1},$.prototype.set=function(e,t){var r=this.__data__,n=te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new(G||$),string:new Y}},J.prototype.delete=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return se(this,e).get(e)},J.prototype.has=function(e){return se(this,e).has(e)},J.prototype.set=function(e,t){var r=se(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Q.prototype.clear=function(){this.__data__=new $,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var r=this.__data__;if(r instanceof $){var n=r.__data__;if(!G||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new J(n)}return r.set(e,t),this.size=r.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=C.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch(e){}var i=x.call(e);return n&&(t?e[F]=r:delete e[F]),i}(e):function(e){return x.call(e)}(e)}function ie(e){return we(e)&&ne(e)==o}function oe(e,t,r,n,i){e!==t&&function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}}(t,(function(o,a){if(i||(i=new Q),_e(o))!function(e,t,r,n,i,o,a){var u=de(e,r),c=de(t,r),l=a.get(c);if(l)Z(e,r,l);else{var d,p,f,h,g,m=o?o(u,c,r+"",e,t,a):void 0,v=void 0===m;if(v){var y=ge(c),b=!y&&ve(c),_=!y&&!b&&Se(c);m=c,y||b||_?ge(u)?m=u:we(g=u)&&me(g)?m=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(u):b?(v=!1,m=function(e,t){return e.slice()}(c)):_?(v=!1,h=new(f=(d=c).buffer).constructor(f.byteLength),new U(h).set(new U(f)),p=h,m=new d.constructor(p,d.byteOffset,d.length)):m=[]:function(e){if(!we(e)||ne(e)!=s)return!1;var t=L(e);if(null===t)return!0;var r=C.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&O.call(r)==D}(c)||he(c)?(m=u,he(u)?m=function(e){return function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=void 0;void 0===u&&(u=e[s]),i?re(r,s,u):ee(r,s,u)}return r}(e,Te(e))}(u):_e(u)&&!ye(u)||(m=function(e){return"function"!=typeof e.constructor||le(e)?{}:X(L(e))}(c))):v=!1}v&&(a.set(c,m),i(m,c,n,o,a),a.delete(c)),Z(e,r,m)}}(e,t,a,r,oe,n,i);else{var u=n?n(de(e,a),o,a+"",e,t,i):void 0;void 0===u&&(u=o),Z(e,a,u)}}),Te)}var ae=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ae;function se(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!_e(e)||function(e){return!!P&&P in e}(e))&&(ye(e)?j:u).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function ce(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&c.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pe=function(e){var t=0,r=0;return function(){var n=H(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ae);function fe(e,t){return e===t||e!=e&&t!=t}var he=ie(function(){return arguments}())?ie:function(e){return we(e)&&C.call(e,"callee")&&!B.call(e,"callee")},ge=Array.isArray;function me(e){return null!=e&&be(e.length)&&!ye(e)}var ve=z||function(){return!1};function ye(e){if(!_e(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function we(e){return null!=e&&"object"==typeof e}var Se=b?function(e){return function(t){return e(t)}}(b):function(e){return we(e)&&be(e.length)&&!!l[ne(e)]};function Te(e){return me(e)?function(e,t){var r=ge(e),n=!r&&he(e),i=!r&&!n&&ve(e),o=!r&&!n&&!i&&Se(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!C.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ce(c,u))||s.push(c);return s}(e,!0):function(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=le(e),r=[];for(var n in e)("constructor"!=n||!t&&C.call(e,n))&&r.push(n);return r}(e)}var Ie,ke=(Ie=function(e,t,r,n){oe(e,t,r,n)},function(e,t){return pe(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=W(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),_(e,this,s)}}(e,t,Ae),e+"")}((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Ie.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!_e(r))return!1;var n=typeof t;return!!("number"==n?me(r)&&ce(t,r.length):"string"==n&&t in r)&&fe(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Ie(e,a,r,i)}return e})));function Ae(e){return e}e.exports=ke},1468:function(e,t,r){var n,i="__lodash_hash_undefined__",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,h=p||f||Function("return this")(),g=Array.prototype,m=Function.prototype,v=Object.prototype,y=h["__core-js_shared__"],b=(n=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",_=m.toString,w=v.hasOwnProperty,S=v.toString,T=RegExp("^"+_.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=h.Symbol,k=g.splice,A=U(h,"Map"),E=U(Object,"create"),O=I?I.prototype:void 0,C=O?O.toString:void 0;function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e,t,r){var n=e[t];w.call(e,t)&&F(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function R(e,t){for(var r=e.length;r--;)if(F(e[r][0],t))return r;return-1}function M(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function U(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!z(e)||b&&b in e)return!1;var t=function(e){var t=z(e)?S.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:l;return t.test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function L(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}P.prototype.clear=function(){this.__data__=E?E(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(E){var r=t[e];return r===i?void 0:r}return w.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:w.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?i:t,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():k.call(t,r,1),0))},x.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},x.prototype.has=function(e){return R(this.__data__,e)>-1},x.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new P,map:new(A||x),string:new P}},D.prototype.delete=function(e){return M(this,e).delete(e)},D.prototype.get=function(e){return M(this,e).get(e)},D.prototype.has=function(e){return M(this,e).has(e)},D.prototype.set=function(e,t){return M(this,e).set(e,t),this};var N=q((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return C?C.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return s.test(e)&&r.push(""),e.replace(u,(function(e,t,n,i){r.push(n?i.replace(c,"$1"):t||e)})),r}));function B(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(q.Cache||D),r}function F(e,t){return e===t||e!=e&&t!=t}q.Cache=D;var V=Array.isArray;function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==S.call(e)}e.exports=function(e,t,r){return null==e?e:function(e,t,r,n){if(!z(e))return e;t=function(e,t){if(V(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!W(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return V(e)?e:N(e)}(t);for(var i=-1,s=t.length,u=s-1,c=e;null!=c&&++i<s;){var l=B(t[i]),d=r;if(i!=u){var p=c[l];void 0===(d=n?n(p,l,c):void 0)&&(d=z(p)?p:L(t[i+1])?[]:{})}j(c,l,d),c=c[l]}return e}(e,t,r)}},4221:function(e,t,r){var n=r(6894).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===r.version?(r.earliestPresentationTime=t.getUint32(i),r.firstOffset=t.getUint32(i+4),i+=8):(r.earliestPresentationTime=n(e.subarray(i)),r.firstOffset=n(e.subarray(i+8)),i+=16),i+=2;var o=t.getUint16(i);for(i+=2;o>0;i+=12,o--)r.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return r}},1489:function(e){var t,r,n,i,o,a,s,u=9e4;t=function(e){return e*u},r=function(e,t){return e*t},n=function(e){return e/u},i=function(e,t){return e/t},o=function(e,r){return t(i(e,r))},a=function(e,t){return r(n(e),t)},s=function(e,t,r){return n(r?e:e-t)},e.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:t,secondsToAudioTs:r,videoTsToSeconds:n,audioTsToSeconds:i,audioTsToVideoTs:o,videoTsToAudioTs:a,metadataTsToSeconds:s}},6894:function(e){var t=Math.pow(2,32);e.exports={getUint64:function(e){var r,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(r=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(r):r:n.getUint32(0)*t+n.getUint32(4)},MAX_UINT32:t}},4155:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function d(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2635:function(e,t,r){var n=r(7055);e.exports=function(e){var t,r="",i=e||{};return function(e,i,o,a,s,u,c,l){r=r+'<div class="branded-content"><div class="branded-content__title">'+n.escape(null==(t=c)?"":t)+'</div><div class="branded-content__player vjs-video-container vjs-responsive"><video class="video-js vjs-default-skin"'+n.attr("id",s,!0,!0)+n.attr("controls",!0,!0,!0)+' preload="false"'+n.attr("width",l,!0,!0)+n.attr("height",a,!0,!0)+n.attr("data-opts",i,!0,!0)+"><source"+n.attr("src",u,!0,!0)+' type="video/mp4"></video></div><div class="branded-content__description"><a'+n.attr("href",e,!0,!0)+' rel="nofollow" target="_blank">'+n.escape(null==(t=o)?"":t)+"</a></div></div>"}.call(this,"click"in i?i.click:"undefined"!=typeof click?click:void 0,"dataOpts"in i?i.dataOpts:"undefined"!=typeof dataOpts?dataOpts:void 0,"description"in i?i.description:"undefined"!=typeof description?description:void 0,"height"in i?i.height:"undefined"!=typeof height?height:void 0,"id"in i?i.id:"undefined"!=typeof id?id:void 0,"src"in i?i.src:"undefined"!=typeof src?src:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"width"in i?i.width:"undefined"!=typeof width?width:void 0),r}},567:function(e,t,r){var n=r(7055);e.exports=function(e){var t="",r=e||{};return function(e,r,i,o,a){t=t+'<div class="branded-content"><div class="branded-content__player vjs-video-container vjs-responsive"><video class="video-js vjs-default-skin"'+n.attr("id",i,!0,!0)+n.attr("controls",!0,!0,!0)+' preload="false"'+n.attr("width",a,!0,!0)+n.attr("height",r,!0,!0)+n.attr("data-opts",e,!0,!0)+"><source"+n.attr("src",o,!0,!0)+' type="video/mp4"></video></div></div>'}.call(this,"dataOpts"in r?r.dataOpts:"undefined"!=typeof dataOpts?dataOpts:void 0,"height"in r?r.height:"undefined"!=typeof height?height:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"src"in r?r.src:"undefined"!=typeof src?src:void 0,"width"in r?r.width:"undefined"!=typeof width?width:void 0),t}},705:function(e,t,r){r(7055),e.exports=function(e){return""+'<div style="position:fixed; z-index:999999; top:20px; left:20px;"><button id="debugRemoteButton" style="background-color:red; color:white; border:1px solid darkred; padding:10px;">Mark as buggy</button><div id="debugRemoteButtonText" style="display:none;"><textarea style="display:block;"></textarea><button style="background-color:red; color:white; display:block; border:1px solid darkred; padding:10px;">Send</button></div></div>'}},4426:function(e,t,r){var n=r(7055);e.exports=function(e){var t="",r=e||{};return function(e,r){t=t+'<video class="video-js"'+n.attr("controls",!0,!0,!0)+' data-setup="{}" height="250"'+n.attr("id",r,!0,!0)+n.attr("poster",e,!0,!0)+' preload="auto" width="445"><p class="vjs-no-js">To view this video please enable JavaScript, \nand consider upgrading to a web browser that <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video><div id="mpu_player_wrapper"><div class="adHolder" id="mpu_player"></div></div>'}.call(this,"poster"in r?r.poster:"undefined"!=typeof poster?poster:void 0,"videoId"in r?r.videoId:"undefined"!=typeof videoId?videoId:void 0),t}},8676:function(e,t,r){var n=r(7055);e.exports=function(e){var t="",r=e||{};return function(e,r,i,o){t=t+"<script>window.dataLayer = window.dataLayer || []\nwindow.dataLayer.push({\n  'gtm.start': new Date().getTime(),\n  event: 'gtm.js'\n})\nconst analytics = window['$$mm-analytics'] = window['$$mm-analytics'] || {}\nif (typeof analytics.firstEmbed === 'undefined') {\n  analytics.firstEmbed = Date.now()\n}\n<\/script><script"+n.attr("src",i,!0,!0)+'><\/script><iframe height="0" width="0"'+n.attr("src",r,!0,!0)+"></iframe><script"+(n.attr("async",!0,!0,!0)+n.attr("src",e,!0,!0))+"><\/script><script"+(n.attr("async",!0,!0,!0)+n.attr("src",o,!0,!0))+"><\/script>"}.call(this,"configScript"in r?r.configScript:"undefined"!=typeof configScript?configScript:void 0,"googleTagManagerIframeScript"in r?r.googleTagManagerIframeScript:"undefined"!=typeof googleTagManagerIframeScript?googleTagManagerIframeScript:void 0,"googleTagManagerScript"in r?r.googleTagManagerScript:"undefined"!=typeof googleTagManagerScript?googleTagManagerScript:void 0,"injectorScript"in r?r.injectorScript:"undefined"!=typeof injectorScript?injectorScript:void 0),t}},7055:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){return Array.isArray(e)?function(e,t){for(var r,n="",o="",a=Array.isArray(t),s=0;s<e.length;s++)(r=i(e[s]))&&(a&&t[s]&&(r=u(r)),n=n+o+r,o=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",r="";for(var i in e)i&&e[i]&&n.call(e,i)&&(t=t+r+i,r=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var r in e)n.call(e,r)&&(t=t+r+":"+e[r]+";");return t}return e+""}function a(e,t,r,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var i=typeof t;return"object"!==i&&"function"!==i||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),r||-1===t.indexOf('"'))?(r&&(t=u(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,r){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=e(n,t[i]);return n}for(var a in r)if("class"===a){var s=t[a]||[];t[a]=(Array.isArray(s)?s:[s]).concat(r[a]||[])}else if("style"===a){s=(s=o(t[a]))&&";"!==s[s.length-1]?s+";":s;var u=o(r[a]);u=u&&";"!==u[u.length-1]?u+";":u,t[a]=s+u}else t[a]=r[a];return t},t.classes=i,t.style=o,t.attr=a,t.attrs=function(e,t){var r="";for(var s in e)if(n.call(e,s)){var u=e[s];if("class"===s){r=a(s,u=i(u),!1,t)+r;continue}"style"===s&&(u=o(u)),r+=a(s,u,!1,t)}return r};var s=/["&<>]/;function u(e){var t=""+e,r=s.exec(t);if(!r)return e;var n,i,o,a="";for(n=r.index,i=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==n&&(a+=t.substring(i,n)),i=n+1,a+=o}return i!==n?a+t.substring(i,n):a}t.escape=u,t.rethrow=function e(t,n,i,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||o))throw t.message+=" on line "+i,t;try{o=o||r(7835).readFileSync(n,"utf8")}catch(r){e(t,null,i)}var a=3,s=o.split("\n"),u=Math.max(i-a,0),c=Math.min(s.length,i+a);throw a=s.slice(u,c).map((function(e,t){var r=t+u+1;return(r==i?"  > ":"    ")+r+"| "+e})).join("\n"),t.path=n,t.message=(n||"Pug")+":"+i+"\n"+a+"\n\n"+t.message,t}},4281:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:function(e,t,r){"use strict";var n=r(4155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(9481),a=r(4229);r(5717)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:function(e,t,r){"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:function(e,t,r){"use strict";var n,i=r(4155);e.exports=k,k.ReadableState=I,r(7187).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(2503),u=r(2236).Buffer,c=r.g.Uint8Array||function(){},l=r(4616);o=l&&l.debuglog?l.debuglog("stream"):function(){};var d,p,f,h=r(7327),g=r(1195),m=r(2457).getHighWaterMark,v=r(4281).q,y=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(k,s);var S=g.errorOrDestroy,T=["error","close","destroy","pause","resume"];function I(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(2553).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||r(6753),!(this instanceof k))return new k(e);var t=this instanceof n;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new w):E(e,s,t,!0);else if(s.ended)S(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):D(e,s)):E(e,s,t,!1)}else n||(s.reading=!1,D(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),D(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},k.prototype.unshift=function(e){return A(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){d||(d=r(2553).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function D(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){o("readable nexttick read 0"),e.read(0)}function U(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):P(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){S(this,new _("_read()"))},k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",d),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",c);var l=!1;function d(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==F(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){o("onerror",t),g(),e.removeListener("error",p),0===a(e,"error")&&S(e,t)}function f(){e.removeListener("finish",h),g()}function h(){o("onfinish"),e.removeListener("close",f),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?P(this):n.reading||i.nextTick(M,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(R,this),r},k.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(R,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(U,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<T.length;a++)e.on(T[a],this.emit.bind(this,T[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=r(5850)),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=N,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===f&&(f=r(5167)),f(k,e,t)})},4605:function(e,t,r){"use strict";e.exports=l;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(6753);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,r){p(e,t,r)}))}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(5717)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:function(e,t,r){"use strict";var n,i=r(4155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=k,k.WritableState=I;var a,s={deprecate:r(4927)},u=r(2503),c=r(2236).Buffer,l=r.g.Uint8Array||function(){},d=r(1195),p=r(2457).getHighWaterMark,f=r(4281).q,h=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function T(){}function I(e,t,a){n=n||r(6753),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=C(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?i.nextTick(E,e,r,a,o):E(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function k(e){var t=this instanceof(n=n||r(6753));if(!t&&!a.call(k,this))return new k(e);this._writableState=new I(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function A(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,A(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,d=r.callback;if(A(e,t,!1,t.objectMode?1:c.length,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(k,u),I.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(I.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===k&&e&&e._writableState instanceof I}})):a=function(e){return e instanceof this},k.prototype.pipe=function(){S(this,new v)},k.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=T),o.ending?function(e,t){var r=new _;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new b:"string"==typeof r||t.objectMode||(o=new h("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(e,t){t(e)}},5850:function(e,t,r){"use strict";var n,i=r(4155);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(8610),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),p=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[s]=null,e[u]=null,t(h(r,!1)))}}function m(e){i.nextTick(g,e)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(h(void 0,!0))}))}));var r,n=this[d];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(h(void 0,!0)):t[p](r,n)}),n)}}(n,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[p])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),v);e.exports=function(e){var t,r=Object.create(y,(o(t={},f,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,p,{value:function(e,t){var n=r[f].read();n?(r[d]=null,r[s]=null,r[u]=null,e(h(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[d]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[d]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[u]=null,n(h(void 0,!0))),r[l]=!0})),e.on("readable",m.bind(null,r)),r}},7327:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(2236).Buffer,s=r(2361).inspect,u=s&&s.custom||"inspect";function c(e,t,r){a.prototype.copy.call(e,t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),r=this.head,n=0;r;)c(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},1195:function(e,t,r){"use strict";var n=r(4155);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,r){"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){a=!1,d=!0,s||o.call(t)},f=function(e){o.call(t,e)},h=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",h),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",p),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",l),t.removeListener("abort",h),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",p),t.removeListener("error",f),t.removeListener("close",h)}}},5167:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:function(e,t,r){"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},2457:function(e,t,r){"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:function(e,t,r){e.exports=r(7187).EventEmitter},5974:function(e){e.exports=function(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}},2830:function(e,t,r){e.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},2553:function(e,t,r){"use strict";var n=r(396).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},396:function(e,t,r){var n=r(2236),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},9945:function(e){var t,r,n,i,o;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var l=s.path,d=l.substring(0,l.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(d)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(e){var r=t.exec(e);return r?{scheme:r[1]||"",netLoc:r[2]||"",path:r[3]||"",params:r[4]||"",query:r[5]||"",fragment:r[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},4927:function(e,t,r){function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},8893:function(e,t){"use strict";t.Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3653:function(e,t,r){"use strict";var n;r.d(t,{Z:function(){return o}});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}},3958:function(e,t,r){"use strict";for(var n=r(7283),i=[],o=0;o<256;++o)i.push((o+256).toString(16).substr(1));t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,n.Z)(r))throw TypeError("Stringified UUID is invalid");return r}},2045:function(e,t,r){"use strict";var n=r(3653),i=r(3958);t.Z=function(e,t,r){var o=(e=e||{}).random||(e.rng||n.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=o[a];return t}return(0,i.Z)(o)}},7283:function(e,t,r){"use strict";var n=r(8893);t.Z=function(e){return"string"==typeof e&&n.Z.test(e)}},3407:function(e,t,r){var n=r(8908),i=e.exports={WebVTT:r(3706),VTTCue:r(2230),VTTRegion:r(3710)};n.vttjs=i,n.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=n.VTTCue,u=n.VTTRegion;i.shim=function(){n.VTTCue=o,n.VTTRegion=a},i.restore=function(){n.VTTCue=s,n.VTTRegion=u},n.VTTCue||i.shim()},3706:function(e,t,r){var n=r(9144),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function s(){this.values=i(null)}function u(e,t,r,n){var i=n?e.split(n):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(r);2===a.length&&t(a[0],a[1])}}function c(e,t,r){var n=e;function i(){var t=a(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=i(),c(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),c(),t.endTime=i(),c(),function(e,t){var n=new s;u(e,(function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","center","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");try{t.line=n.get("line","auto")}catch(e){}t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100);try{t.align=n.get("align","center")}catch(e){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(e){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=i(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=n.createElement&&n.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},h={rt:"ruby"};function g(e,t){function r(){if(!t)return null;var e,r=t.match(/^([^<]*)(<[^>]*>?)?/);return e=r[1]?r[1]:r[2],t=t.substr(e.length),e}function n(e,t){return!h[t.localName]||h[t.localName]===e.localName}function i(t,r){var n=d[t];if(!n)return null;var i=e.document.createElement(n),o=f[t];return o&&r&&(i[o]=r.trim()),i}for(var o,s,u=e.document.createElement("div"),c=u,g=[];null!==(o=r());)if("<"!==o[0])c.appendChild(e.document.createTextNode((s=o,l.innerHTML=s,s=l.textContent,l.textContent="",s)));else{if("/"===o[1]){g.length&&g[g.length-1]===o.substr(2).replace(">","")&&(g.pop(),c=c.parentNode);continue}var m,v=a(o.substr(1,o.length-2));if(v){m=e.document.createProcessingInstruction("timestamp",v),c.appendChild(m);continue}var y=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=i(y[1],y[3])))continue;if(!n(c,m))continue;if(y[2]){var b=y[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),r=t?e.slice(3):e;if(p.hasOwnProperty(r)){var n=t?"background-color":"color",i=p[r];m.style[n]=i}})),m.className=b.join(" ")}g.push(y[1]),c.appendChild(m),c=m}return u}var m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(e){for(var t=0;t<m.length;t++){var r=m[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function y(e){var t=[],r="";if(!e||!e.childNodes)return"ltr";function n(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function i(e){if(!e||!e.length)return null;var t=e.pop(),r=t.textContent||t.innerText;if(r){var o=r.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):r}return"ruby"===t.tagName?i(e):t.childNodes?(n(e,t),i(e)):void 0}for(n(t,e);r=i(t);)for(var o=0;o<r.length;o++)if(v(r.charCodeAt(o)))return"rtl";return"ltr"}function b(){}function _(e,t,r){b.call(this),this.cue=t,this.cueDiv=g(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,r,n,i;if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||r,this.bottom=e.bottom||i+(e.height||r),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function S(e,t,r,n){var i=new w(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=i.lineHeight,l=c*Math.round(a),d=r[u]+c,p=s[0];Math.abs(l)>d&&(l=l<0?-1:1,l*=Math.ceil(d/c)*c),a<0&&(l+=""===o.vertical?r.height:r.width,s=s.reverse()),i.move(p,l)}else{var f=i.lineHeight/r.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new w(t)}var h=function(e,t){for(var i,o=new w(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var u=e.intersectPercentage(r);a>u&&(i=new w(e),a=u),e=new w(o)}return i||o}(i,s);t.move(h.toCSSCompatValues(r))}function T(){}b.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},_.prototype=i(b.prototype),_.prototype.constructor=_,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},T.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},T.convertCueToDOMTree=function(e,t){return e&&t?g(e,t):null},T.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=w.getSimpleBoxPosition(n),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var r,s,u=0;u<t.length;u++)s=t[u],r=new _(e,s,a),n.appendChild(r.div),S(0,r,o,i),s.displayState=r.div,i.push(w.getSimpleBoxPosition(r))}()}else for(var s=0;s<t.length;s++)n.appendChild(t[s].displayState)},T.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},T.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,r=this;function n(){for(var e=r.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var l=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new o(o.Errors.BadSignature);r.state="HEADER"}for(var d=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(d?d=!1:i=n(),r.state){case"HEADER":/:/.test(i)?(t=i).match(/X-TIMESTAMP-MAP/)?u(t,(function(e,t){"X-TIMESTAMP-MAP"===e&&function(e){var t=new s;u(e,(function(e,r){switch(e){case"MPEGT":t.integer(e+"S",r);break;case"LOCA":t.set(e+"L",a(r))}}),/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}),/=/):u(t,(function(e,t){"Region"===e&&function(e){var t=new s;if(u(e,(function(e,r){switch(e){case"id":t.set(e,r);break;case"width":t.percent(e,r);break;case"lines":t.integer(e,r);break;case"regionanchor":case"viewportanchor":var n=r.split(",");if(2!==n.length)break;var i=new s;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,r,["up"])}}),/=/,/\s/),t.has("id")){var n=new(r.vttjs.VTTRegion||r.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),r.onregion&&r.onregion(n),r.regionList.push({id:t.get("id"),region:n})}}(t)}),/:/):i||(r.state="ID");continue;case"NOTE":i||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){r.state="NOTE";break}if(!i)continue;r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,"");try{r.cue.align="center"}catch(e){r.cue.align="middle"}if(r.state="CUE",-1===i.indexOf("--\x3e")){r.cue.id=i;continue}case"CUE":try{c(i,r.cue,r.regionList)}catch(e){r.reportOrThrowError(e),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var p=-1!==i.indexOf("--\x3e");if(!i||p&&(d=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(r.state="ID");continue}}}catch(e){r.reportOrThrowError(e),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new o(o.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=T},2230:function(e){var t={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function n(e){return"string"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}function i(e,r,i){this.hasBeenReset=!1;var o="",a=!1,s=e,u=r,c=i,l=null,d="",p=!0,f="auto",h="start",g="auto",m="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var r=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===r)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=r,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=n(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=n(e);t?(m=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},3710:function(e){var t={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,n=3,i=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var r=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===r?console.warn("Scroll: an invalid or illegal string was specified."):u=r}}})}},5893:function(){},7835:function(){},2361:function(){},4616:function(){},1999:function(e){"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{addFBRemarketingPixel:function(){return ce},addTaboolaPosition:function(){return ue},addToArray:function(){return re},appendToInfiniteList:function(){return ne},forceRefreshAds:function(){return te},getBannerFallbackPromise:function(){return he},getRequestedAds:function(){return me},getRtaReport:function(){return fe},getScriptContainer:function(){return J},getSyncVideoTags:function(){return ye},getVideoAdsSetup:function(){return z},getVideoTags:function(){return ve},init:function(){return oe},initEmergencyRules:function(){return W.initEmergencyRules},initSlots:function(){return W.initSlots},on:function(){return _e},openControlPanel:function(){return be},q:function(){return se},reg:function(){return ie},removeWatermark:function(){return Se},requestAdByGoogle:function(){return le},requestGoogleAd:function(){return de},setStickyBannerZoomThresholds:function(){return Z},setSupportedSlots:function(){return W.setSupportedSlots},stopRefreshingAds:function(){return ee},unstick:function(){return we}});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{isClickThrough:function(){return je},onClick:function(){return xe},onDeactivate:function(){return De},onInteraction:function(){return Re}});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{article:function(){return xt},brandedVideoPlayer:function(){return Yt},gpt:function(){return er},integral:function(){return lr},scriptLoader:function(){return gr},sessionDepth:function(){return Ar},skimlinks:function(){return xr},taboola:function(){return Lr}});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{conversion:function(){return mn.Z},errorDetection:function(){return In},rtaTracking:function(){return An}});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{abtest:function(){return Wn},bidmax:function(){return pi},bidmaxSendBeacon:function(){return vi},bidmaxSendBeaconMigration:function(){return Si},cacheIndication:function(){return Pi},cmp:function(){return xi},connection:function(){return Ko},customTracking:function(){return Ui},entryPoint:function(){return Gi},externalData:function(){return ro},headerbidderWinner:function(){return oo},inputDelays:function(){return so},memory:function(){return co},pageCriteria:function(){return po},pageLoadEvent:function(){return fo},rtaIds:function(){return mo},storage:function(){return vo},timing:function(){return xo},viewability:function(){return Bo}});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{adyoulike:function(){return Fs},appnexus:function(){return Qs},appnexusOutstream:function(){return iu},appnexusVideo:function(){return xc},brightroll:function(){return au},collective564:function(){return su},collectiveImprove:function(){return cu},criteoV2:function(){return hu},groupm:function(){return gu},groupmSkin:function(){return mu},inskin:function(){return vu},ix:function(){return yu},ixVideo:function(){return Rc},justPremium:function(){return _u},konduit:function(){return ul},mediagrid:function(){return Au},mediagridVideo:function(){return Mc},oathVideo:function(){return Lc},openx:function(){return Ou},openxVideo:function(){return qc},pubmatic:function(){return Nu},pubmaticVideo:function(){return Vc},pxyz:function(){return qu},rubiMM:function(){return Qu},rubiTTD:function(){return tc},rubicon:function(){return Hu},rubiconSkin:function(){return Xu},rubiconVideo:function(){return Hc},sharethrough:function(){return oc},spotx2:function(){return Zc},teads:function(){return lc},telariaVideo:function(){return il},triplelift:function(){return fc},tripleliftVideo:function(){return hl}});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{dmplayer:function(){return ip}});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{availabilityNotification:function(){return Lp},default:function(){return Kp},hackyDelayer:function(){return Bp},reprompt:function(){return Hp},rtaTracking:function(){return Gp}});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{forceTags:function(){return nf}});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{indexedDBUsage:function(){return jf},targeting:function(){return _f},video:function(){return Cf}});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{permutive:function(){return c}});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{dmplayer:function(){return th},flyoutManager:function(){return $h},onlyOneActivePlayer:function(){return Xh},perform:function(){return wh},visibility:function(){return bh}});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{InreadPlayerTop:function(){return xg},connatix:function(){return Ag},descriptions:function(){return S.default},leaderTop:function(){return Mg},puffAdOthers:function(){return Bg},refreshInfo:function(){return Yg}});var f={};__webpack_require__.r(f);var h={};__webpack_require__.r(h),__webpack_require__.d(h,{banner:function(){return fv},gallery:function(){return f.default},mpus:function(){return mv}});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{load:function(){return kb}});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{adxChannel:function(){return e_},device:function(){return r_},id5:function(){return a_},impid:function(){return u_},ixIdentity:function(){return p_},smartclip:function(){return g_},taboola:function(){return v_},unifiedid:function(){return b_},universalid:function(){return w_},viewability:function(){return z_}});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{abe:function(){return n},adIntegrator:function(){return ke.default},adsByGoogle:function(){return qS},adsRefresher:function(){return oT},adsRefresherV2:function(){return pT},adxChannelPlugin:function(){return e_},amazonNative:function(){return gT},analytics:function(){return i},arrowKeysScroll:function(){return vT},audienceProject:function(){return bT},bidders:function(){return o},billboardAdjustments:function(){return wT},chromelessv2:function(){return a},cmp:function(){return s},cmpAvailabilityNotification:function(){return Lp},cmpRtaTracking:function(){return Gp},debug:function(){return u},devicePlugin:function(){return r_},dmp:function(){return l},domain:function(){return ST},fff:function(){return TT},impIDPlugin:function(){return u_},irisTv:function(){return OT},messagePluginsFromCreatives:function(){return jT},mvt:function(){return eI},nativo:function(){return uI},nonAdServable:function(){return dI},nonPersonalizedAds:function(){return fI},pageVisibility:function(){return gI},paidSessions:function(){return yI},performPlayer:function(){return wh},performance:function(){return II},permutive:function(){return _f},pixelSync:function(){return EI},players:function(){return d},prebid:function(){return pk},prebidUserSync:function(){return mk},programmaticCampaign:function(){return Ck},quantcast:function(){return Dk},revenueReporter:function(){return Rk},rtaPageEventDispatcher:function(){return Uk},runtimeMessages:function(){return Lk},skins:function(){return Vk},slots:function(){return p},smartBanner:function(){return Qk},smartScheduler:function(){return Yk},sticky:function(){return h},tcfv2:function(){return g},trackers:function(){return m},version:function(){return eA},videoEvents:function(){return tA}});var y=__webpack_require__(7700),b=(__webpack_require__(8747),__webpack_require__(209),__webpack_require__(4794)),w=__webpack_require__(5737),S=__webpack_require__(7337),T=__webpack_require__(633),I=__webpack_require__(7200),k=__webpack_require__(6415),A=__webpack_require__(2378),E=__webpack_require__.n(A),O=__webpack_require__(5059);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=T.ZP.broker("player.tags");function j(e){var t=e.args,r=void 0===t?{}:t,n=e.observable,i=e.broker,o=e.log,a={cust_params:{}};i.emit("collect video tags",r,(function(e,t){var r=t&&t.tags?t.tags:t;if(!r)return o("Video targeting ended with:",a),void n(r);a=(0,O.Yb)(P(P(P({},a),r),{},{cust_params:P(P({},a.cust_params),r.cust_params)})),n(e,a)}))}var R={};function M(){return R}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}D.on("sync video tags update",(function(e){R=E()({},R,e)}));var q=(0,k.x)("videoBidding"),F=(0,k.x)("videoPlayer"),V=function(e,t,r){return N({videoAdServerUrl:r.replace(/(&iu=[^&]*)/,"$1/".concat(e)),cust_params:{pos:e}},t)},z=function(e,t){var r,n;q("request for video options");var i=(0,b.U2)("plugins.enabled",[]).includes("adsFree")&&(null===(r=(n=__webpack_require__.g).isAdFreeEntitled)||void 0===r?void 0:r.call(n));q("isAdFreeUser",i);var o=(0,b.U2)("players.editorial.v2",{}),a=(0,b.U2)("plugins.forceFlyawayPlayerConfiguration.styleVariant","letterbox"),s=(0,b.U2)("player.setup.flyoutFromParagraph"),u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,I.oK)(),1)[0],c=(0,b.U2)("players.setup.earlyAdFactoryInit",!0),l=-1!==u&&(0,b.U2)("players.setup.userActionTimeout"),d=-1!==u&&(0,b.U2)("players.setup.earlyBidding"),p=new Set((0,b.U2)("plugins.enabled",[])),f=function(e){var t=(0,b.U2)("players.setup.".concat(e));return void 0!==t&&t||Boolean(p.has(e))},h=f("mobileFlyawayPlayer"),g=t.plugins||{},m=g.tracking,v=void 0===m?{}:m,y=g["ads-setup"],_=void 0===y?{}:y,w=_.schedule||!v.sponsored&&_.adsEnabled&&function(e,t){if((0,O.xb)(e))return[];var r=t.duration/1e3,n=e.preRoll,i=e.midRollRepeat,o=[],a=t.plugins["ads-setup"].videoAdServerUrl;if(n&&o.push(V("preroll",{offset:0},a)),i)for(var s=i.each,u=i.videoDurationExceeds,c=s,l=c+u;l<r;)o.push(V("midroll",{offset:c,minVideoDuration:l},a)),l=(c+=s)+u;return o.sort((function(e,t){return e.offset-t.offset}))}(o,t)||[];q("schedule",w);var S=f("players.flyoutManager"),T=!S&&f("videoFlyout"),k=!S&&f("videoForceFlyout"),A=i?{adsEnabled:!1,earlyAdFactoryInit:!1,earlyBidding:!1,schedule:[],useIMASDK:!1,userActionTimeout:!1,vpaidEnabled:!1}:{schedule:w,vpaidEnabled:f("vpaid"),useIMASDK:f("imaSDK"),earlyAdFactoryInit:!!c,userActionTimeout:l,earlyBidding:d},E={"ads-setup":N(N(N({},_),A),{},{bidmax:!0}),flyout:{enabled:T,active:T,forceFlyout:{enabled:k,active:k}},flyawayPlayer:N({enabled:h,fromParagraph:s},h?{adhesiveStyleVariant:a}:{}),debugOn:F.enabled};return q("new opts:",E),E},W=__webpack_require__(1620);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=(0,k.x)("AdsManager"),$=[],J=function(){return __webpack_require__.g.DM.molFeMiniLodash.filter(__webpack_require__.g.document.documentElement.childNodes,(function(e){return 1===e.nodeType}))[0]||document.body},Q=T.ZP.broker("AdsManager");Q.on("slot defined",(function(e,t){e.pos="fff"===e.pos?e.id:e.pos,__webpack_require__.g.DM.molFeMiniLodash.extend(e,(0,S.get)(e.pos)||{}),t.id||(t.id=e.id||e.pos+"_"+(new Date).getTime()),Q.emit("update description",e.pos,e),adListLoader.isAdEnabled(e)?Q.emit("slot ready",e):Y("slot disabled:",e.pos)}));var Z=function(){},ee=function(e){Q.emit("stop refreshing ads",e)},te=function(){return Q.emit("force ads refresh")},re=function(e,t){Q.emit("slot defined",e,t||function(e){var t=(0,S.get)(e.pos),r=(e.id||t&&t.id)&&document.getElementById(e.id);if(r)return r;var n=document.currentScript||(0,w.Z$)(document.querySelectorAll("*[id^=".concat(e.pos,"] script")))||(0,w.Z$)(document.scripts);if(!n||"BODY"===n.parentNode.nodeName)throw new Error("Cannot find current script for ".concat(e.pos));return n.parentNode}(e))},ne=function(e){Q.emit("infinite-list append",e)},ie=function(e){return $.push(e)},oe=function(){if(document.getElementById("content")){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}($);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=document.getElementById(r),i=document.getElementById(r),o=i.getAttribute("style");n.className=i.className,o&&n.setAttribute("style",i.getAttribute("style"))}}catch(e){t.e(e)}finally{t.f()}}},ae=Q.until("gpt loaded"),se=function(e){return ae.then(e)},ue=function(e){Q.emit("add taboola",e.position,e)},ce=function(){Q.emit("add fb-marketing-pixel")};Q.on("error",(function(){var e;return(e=console).error.apply(e,arguments)}));var le=function(){Q.emit("adsByGoogle")},de=le,pe={version:1};Q.on("send with rta page unload",(function(e){pe=G(G({},pe),e)}));var fe=function(){return pe};try{"production"!==__webpack_require__.g.adEnvironment||Object.keys(I.SP).some((function(e){return e.includes("debug")}))||(T.ZP.showUncaughtErrors=!1)}catch(e){console.error(e)}var he=function(e){return Object.keys((0,b.U2)("slots.enabled",{})).includes("mpu_player")?(Q.emit("chromeless player event","bannerFallbackAd",e),Q.until("bannerFallbackAd destroyed")):(Y("fallback banner ad disabled, resolving"),Promise.resolve())},ge=[];function me(){return ge}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;j({args:e,observable:t,broker:r,log:Y})}Q.on("ads rendered update",(function(e){ge=e}));var ye=M;function be(){Q.emit("open control panel")}function _e(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Q.emit.apply(Q,["external subscription",e].concat(r))}function we(e){Q.emit("unstick position",e)}function Se(e){Q.emit("remove watermark",e)}var Te=__webpack_require__(3077),Ie=__webpack_require__(6382),ke=__webpack_require__(8397),Ae=__webpack_require__(6540),Ee=__webpack_require__(6347),Oe=__webpack_require__(8397),Ce=new Ee("click",(function(e){var t,r=Oe.getElementOrIframeById(e),n=r.classList.contains("slide")?r:(0,Ae.closest)(r,(function(e){return e.classList.contains("slide")}));return document.querySelectorAll?t=n.querySelectorAll(".adLinkLabel a"):(t=n.getElementsByTagName("a"),t=Array.prototype.filter.call(t,(function(e){return(0,Ae.closest)(e,(function(e){return e.classList.contains("adLinkLabel")}))}))),t[0]})),Pe=new Ee("adDeactivate",(function(e){return(0,Ae.closest)(Oe.getElementOrIframeById(e),(function(e){return"mobileGalleryModal"===e.id}))}));function xe(){var e=Array.prototype.slice.call(arguments),t=e[1];e[1]=function(){window.open(t,"_blank")},Ce.registerEvent.apply(Ce,e)}function De(e,t){Pe.registerEvent(e,t)}function je(e){"string"==typeof e?e=Oe.getElementById(e):(0,Ae.isElement)(e)||(e=e[0]);var t=(e=Oe.getAdContainer(e)).getElementsByTagName("div");return(t=Array.prototype.filter.call(t,(function(e){var t=Ce.getEvent(e.id);return t&&-1!==t.toString().indexOf("window.open")}))).length>0}function Re(){Ce.registerEvent.apply(Ce,arguments)}var Me=__webpack_require__(1823),Ue=__webpack_require__.n(Me),Le=__webpack_require__(6347),Ne=__webpack_require__.n(Le),Be=function(){var e=document.createTextNode((0,b.U2)("label.text","ADVERTISEMENT")),t=document.createElement("span");t.classList.add("mol-ads-label"),t.appendChild(e);var r=document.createElement("span");return r.classList.add("mol-ads-label-container"),r.appendChild(t),r},qe=[3,8],Fe=T.ZP.broker("Comments"),Ve={},ze=function(e,t,r){var n="mpu_comments_".concat(t),i=e[r],o=function(e){var t=document.createElement("div"),r=(0,b.U2)("pos.mpu_comments.watermark",!0);t.id=e,t.className="adHolder mpu molads_".concat(e," ").concat(r?"watermark":""),t.appendChild(Be());var n=document.createElement("li");return n.appendChild(t),n}(n),a={pos:n};if(i.parentNode.insertBefore(o,i),Ve[n])(0,Te.refreshAdvert)({pos:n});else{var s=Fe.on("ad delayed",a,(function(){s.cancel(),(0,Te.requestDelayedAdvert)(n)}));Fe.emit("slot defined",a,o.firstChild),Ve[n]=!0}},We=function(){!function(e){for(var t=e.length,r=qe.length,n=0,i=0;i<r;i++){var o=qe[i];if(o>=t)break;ze(e,++n,o)}}(document.querySelectorAll("#comments .comment"))};Fe.on("slots initialized",(function(){DM.later("bundle",(function(){return DM.molFeComments&&DM.molFeComments.events.subscribe("loaded",We)}))}));var He={},Ge=function(e){if(e in He)return He[e];var t=!0,r=(0,b.U2)("headerBidders",{});"string"==typeof r&&(r=JSON.parse(r));var n=r[window.location.hostname];return n&&(n.blacklist&&n.blacklist.includes(e)&&(t=!1),n.whitelist&&!n.whitelist.includes(e)&&(t=!1)),He[e]=t,t};function Ke(){return(0,b.U2)("plugins.enabled",[]).filter((function(e){return Ge(e)}))}var Xe=__webpack_require__(1013),Ye=__webpack_require__(616),$e=["run","init","initTimeout"];function Je(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=at(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||at(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function it(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){nt(o,n,i,a,s,"next",e)}function s(e){nt(o,n,i,a,s,"throw",e)}a(void 0)}))}}function ot(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||at(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){if(e){if("string"==typeof e)return st(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ut,ct,lt,dt=(0,k.x)("plugin-manager"),pt={},ft=[],ht=function(e){dt("adding plugins:",e);var t=new Set([].concat(ot((0,b.U2)("plugins.enabled",[])),ot(e)));(0,b.t8)("plugins.enabled",ot(t))},gt=function(e){dt("removing plugins:",e);var t=new Set((0,b.U2)("plugins.enabled",[]));e.forEach((function(e){t.delete(e)})),(0,b.t8)("plugins.enabled",ot(t))},mt=[],vt=function(e){return mt.push(e)},yt=function(){var e=it(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(mt.map((function(e){return e(t,r)})));case 2:return e.abrupt("return",e.sent.every((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt({addPlugins:ht,broker:ut.broker(e),doc:document,getConfig:b.U2,setConfig:b.t8,log:(0,k.x)(e),removePlugins:gt,registerPluginBouncer:vt,checkPluginBouncer:yt,ownName:e,win:window},t)},_t=function(e){return"object"===Ze(e)&&e.default?e.default:e},wt=function(e,t,r){if(Ge(t)&&!lt.includes(t)){var n=_t(e[t]);if("function"!=typeof n&&(n=_t(e[t])),lt.push(t),"function"==typeof n)try{n(bt(t,r))}catch(e){console.error('Error initializing plugin "'.concat(t,'":'),e)}}},St=function(){var e=it(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,b.U2)("pluginManager.setupTimeout",5e3),i=function(){var e=it(regeneratorRuntime.mark((function e(t,i,o){var a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=tt(tt({},bt(t,r)),{},{pluginsAlreadyRun:o}),(0,b.t8)("pluginManager.setupTimeout",i.plugiSetupTimeout||n),s=i.pluginSetup(a),u=(0,b.U2)("pluginManager.setupTimeout",n),e.next=7,(0,Xe.yq)(u,s);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error calling pluginSetup on plugin '".concat(t,"':"),e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),o=function(e){return"object"===Ze(e)&&e.default?e.default:e},a=new Set,s=null;case 5:if(u=(0,b.U2)("plugins.enabled"),c=u.filter((function(e){return!a.has(e)})).shift()){e.next=9;break}return e.abrupt("break",31);case 9:if(s!==c){e.next=13;break}return dt.warn("Plugin",c,"just ran and its asking to run again, ignoring it"),a.add(c),e.abrupt("continue",30);case 13:if(s=c,!(l="object"===Ze(l=o(t[c]))?l.default:l)||"function"!=typeof l.pluginSetup){e.next=29;break}return dt("setup plugin",c),e.next=20,i(c,l,a);case 20:if(e.t0=e.sent,"not yet"===e.t0){e.next=26;break}dt("ran:",c),a.add(c),e.next=27;break;case 26:dt("plugin",c,"asked to be called again");case 27:e.next=30;break;case 29:a.add(c);case 30:e.next=5;break;case 31:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function Tt(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Qe(e,2),r=t[0],n=t[1],i=n.run,o=n.init,a=n.initTimeout,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,$e),u=i||function(){};return u.pluginSetup=o,u.plugiSetupTimeout=a||5e3,Object.entries(s).forEach((function(e){var t=Qe(e,2),r=t[0],n=t[1];return u[r]=n})),[r,u]})))}function It(e){return kt.apply(this,arguments)}function kt(){return kt=it(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ke(),n=r.map((function(e){return[e,t[e]]})).filter((function(e){return Qe(e,2)[1]})),i=r.map((function(e){return[e,t[e]]})).filter((function(e){return!Qe(e,2)[1]})).map((function(e){return Qe(e,1)[0]})),e.next=5,Promise.all(n.map(function(){var e=it(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qe(t,2),n=r[0],i=r[1],e.next=3,yt(n,i);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=n;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return o=e.sent.filter((function(e){return e})),(0,b.t8)("plugins.enabled",[].concat(ot(o),ot(i))),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),kt.apply(this,arguments)}function At(e){return Et.apply(this,arguments)}function Et(){return Et=it(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.plugins,n=void 0===r?pt:r,i=t.context,o=void 0===i?{}:i,a=t.mandatory,s=void 0===a?ft:a,u=t.messageBus,n=tt(tt({},n),Tt((0,Ye.uM)())),lt=[],ct=(ut=u).broker("plugin-manager"),e.next=7,St(n,o);case 7:ct.register("get all plugins",(function(){return n})),c=Je(s);try{for(c.s();!(l=c.n()).done;)d=l.value,wt(n,d,o)}catch(e){c.e(e)}finally{c.f()}if(!mt.length){e.next=16;break}return e.next=13,It(n);case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=Ke();case 17:p=e.t0,f=Je(p);try{for(f.s();!(h=f.n()).done;)g=h.value,wt(n,g,o)}catch(e){f.e(e)}finally{f.f()}ct.emit("plugins enabled",lt),ut.start();case 22:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}function Ot(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ct(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ot(o,n,i,a,s,"next",e)}function s(e){Ot(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("adzouk",{run:function(e){var t=e.broker,r=__webpack_require__.g.top;if(!r.location.hostname.includes("combotag.com")){var n=encodeURIComponent(location.href),i=r.ct_t_init;t.invoke("load script","//serve.combotag.com/show_ad?id=994&url=".concat(n,"&t=").concat(i),null,{},(function(){return!0}))}},vendorIds:{gdpr:!1}});var Pt=function(){return{articlewithvideo:""+__webpack_require__.g.PageCriteria.containsVideo,style:__webpack_require__.g.PageCriteria.articleStyle}};function xt(e){return Dt.apply(this,arguments)}function Dt(){return Dt=Ct(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.broker).emit("set page level targeting",Pt()),r.emit("set page level targeting",new Promise(function(){var e=Ct(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ae.untilBodyAvailable)();case 2:t(Pt());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)}))),Dt.apply(this,arguments)}xt.ccpa={enabledIfDissent:!0},xt.gdpr={enabledIfDissent:!0};var jt=__webpack_require__(2635),Rt=__webpack_require__.n(jt),Mt=__webpack_require__(567),Ut=__webpack_require__.n(Mt);function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nt=function(e){var t,r,n="GET",i=3e3,o={};if("string"==typeof e)t=e;else{var a=e.method;n=void 0===a?"GET":a,t=e.url;var s=e.timeout;i=void 0===s?3e3:s;var u=e.headers;o=void 0===u?{}:u,r=e.data}var c=new XMLHttpRequest,l=new Promise((function(e,i){c.onreadystatechange=function(){4===this.readyState&&(this.status>199&&this.status<300?e(this.responseText):i(new Error("Error status ".concat(this.status,": ").concat(this.statusText))))},c.open(n,t,!0),Object.entries(o).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];return c.setRequestHeader(r,n)})),r?c.send(r):c.send()}));return i?(0,Xe.yq)(i,l):l},Bt=function(e,t,r){var n=new Headers;Object.keys(t).forEach((function(e){n.append(e,t[e])}));var i={method:r,headers:n};return window.fetch(e,i)};function qt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vt(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function zt(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Vt(o,n,i,a,s,"next",e)}function s(e){Vt(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Wt={purposeIds:{gdpr:"N/A"},vendorIds:{gdpr:[95]}},Ht=(0,b.U2)("pos.bvp_puff_26.title","SPONSORED"),Gt=(0,b.U2)("pos.bvp_puff_26.editorialVideoURL","//video.dailymail.co.uk/video/mol/test/2017/10/17/8934813711130511437/1024x576_MP4_8934813711130511437.mp4");function Kt(){return Xt.apply(this,arguments)}function Xt(){return(Xt=zt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/player/".concat(PageCriteria.pageType,"/").concat(PageCriteria.channel),"article"===PageCriteria.pageType&&(t+="/article-".concat(PageCriteria.articleId)),t+="/player-config.json",e.prev=3,e.next=6,Nt({url:t,timeout:5e3});case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Yt(e){var t=e.broker,r=e.checkPluginBouncer;function n(){return n=zt(regeneratorRuntime.mark((function e(r){var n,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.data&&"function"==typeof r.data.indexOf){e.next=2;break}return e.abrupt("return");case 2:if(n="_dm\n",0!==(o=r.data.indexOf(n))){e.next=18;break}if(s=r.data.substring(o+n.length),u=JSON.parse(s),e.t0=I.SP["bvp-force-editorial"],!e.t0){e.next=12;break}return e.next=11,Kt();case 11:e.t0=a=e.sent;case 12:if(!e.t0){e.next=17;break}console.log("Forcing editorial instead of campaign in BVP"),i(u.targeting.pos[0],a,Gt,Ut(),"",""),e.next=18;break;case 17:t.emit("video",u.type,u);case 18:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}function i(e,r,n,i,o,a){var s=document.getElementById(e),u=e+"_player",c={id:u,width:640,height:264,dataOpts:r,src:n,click:a,description:o,title:Ht},l=document.createElement("div"),d=i(c);l.innerHTML=d,function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}(s),s.appendChild(l.firstElementChild),"none"===s.style.display&&(s.style.display="");var p=DM.molFeVideoplayer.init(document.getElementById(u));t.emit("video player inited",e,p)}__webpack_require__.g.addEventListener("message",(function(e){return n.apply(this,arguments)}),!1),t.on("ad rendered",function(){var e=zt(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.isEmpty&&t.startsWith("bvp_")&&(0,b.U2)("pos.bvp_puff_26.editorialFallback"))){e.next=5;break}return e.next=3,Kt();case 3:(n=e.sent)&&i(t,n,Gt,Ut(),"","");case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),t.on("video","playBrandedVideo",(function(e){var n=e.targeting.pos[0];if(document.getElementById(n)){var o=e.videoObject,a=[];r("brandedVideoPlayer",Wt)&&(a=[].concat(qt(a),qt(e.lotome.filter((function(e){return e.id&&e.id.length})).map((function(e){return{time:e.time,uri:"//bcp.crwdcntrl.net/5/c=991/b=".concat(e.id)}}))))),e.impTracker&&e.impTracker.length&&a.push({time:9,uri:e.impTracker});var s="".concat(e.clickPrefix).concat(o.clickThroughUrl),u={title:o.pageTitle,poster:o.stillImageUrl,isMobile:PageCriteria.isMobile,playerId:"default",videoId:o.videoId,preload:"none",referenceId:o.referenceId,linkBaseURL:"",initialVideo:!1,plugins:{"branded-content":{clickThroughUri:s,endStatePoster:o.endStateImageUrl,trackingPixels:a},"ads-setup":{adsEnabled:!1},tracking:{channelShortName:PageCriteria.channel,sponsored:!0,referenceId:o.referenceId,trackingType:"commercialVideoPlayer"}}};i(n,JSON.stringify(u),o.videoUrl,Rt(),o.description,s)}else t.emit("log","BVP","Element #".concat(n," not found"))}))}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qt(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Zt(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Qt(o,n,i,a,s,"next",e)}function s(e){Qt(o,n,i,a,s,"throw",e)}a(void 0)}))}}function er(e){var t=e.broker,r=e.log;e.getConfig,__webpack_require__(1824);var n=__webpack_require__.g.googletag=__webpack_require__.g.googletag||{};n.cmd=n.cmd||[];var i=new Promise((function(e){return n.cmd.push((function(){return e()}))}));t.emit("import script","//www.googletagservices.com/tag/js/gpt.js"),t.on("system ready",Zt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:t.emit("gpt loaded",n);case 3:case"end":return e.stop()}}),e)}))));var o=new Set,a=function(e){var t=e.slot,r=document.getElementById(t.getSlotElementId());r&&r.classList.contains("noAdLabel")||o.delete(t)&&r&&r.appendChild(Be())};i.then((function(){return n.pubads().addEventListener("slotRenderEnded",a)})),t.register("googletag.pubads.refresh",function(){var e=Zt(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:t.forEach((function(e){o.add(e),r.enable&&r("refresh",e.molAd.pos,"targeting",e.getTargetingMap())})),n.pubads().refresh(t,a);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).sync=!0,t.register("googletag.display",function(){var e=Zt(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:if(r.enabled)try{o=n.pubads().getSlots().find((function(e){return e.getSlotElementId()===t})),a=o&&o.getTargetingMap()||void 0,r("display",t,"targeting",a)}catch(e){r.warn(e)}return e.abrupt("return",n.display(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).sync=!0;var s=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return String(e)}))};t.on("set page level targeting",function(){var e=Zt(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return o=e.sent,e.next=5,i;case 5:Object.entries(o||{}).map((function(e){var t=$t(e,2),r=t[0],n=t[1];return[r,s(n)]})).forEach((function(e){var t=$t(e,2),i=t[0],o=t[1];r("page level targeting:",i,"=",o),n.pubads().setTargeting(i,o)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}Yt.ccpa={enabledIfDissent:!0},Yt.gdpr={enabledIfDissent:!0},er.ccpa={enabledIfDissent:!0},er.gdpr={enabledIfDissent:!0};var tr=__webpack_require__(3436);function rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ir(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function or(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ir(o,n,i,a,s,"next",e)}function s(e){ir(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ar=(0,b.U2)("dfp.networkCode"),sr=function(e){return{adSlotId:e.getSlotElementId(),adUnitPath:e.getAdUnitPath(),size:e.getSizes().map((function(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]}))}},ur=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r={};try{r=JSON.parse(e)}catch(e){console.warn("[mol-ads][integral]",e)}if(r.code>299||r.code<200)return console.error("[mol-ads][integral]",r.message),void t(r);t(null,r)},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:__webpack_require__.g.googletag.pubads().getSlots().map(sr),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__webpack_require__.g.__iasPET.timeout;return new Promise((function(r,n){__webpack_require__.g.__iasPET.queue.push({adSlots:e,dataHandler:function(e){return ur(e,(function(e,t){return e?n(e):r(t)}))},timeout:t})}))};function lr(e){return dr.apply(this,arguments)}function dr(){return dr=or(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,__webpack_require__.g.__iasPET=__webpack_require__.g.__iasPET||{},__webpack_require__.g.__iasPET.queue=__webpack_require__.g.__iasPET.queue||[],__webpack_require__.g.__iasPET.pubId=(0,b.U2)("plugin.integral.pubId",922472),__webpack_require__.g.__iasPET.timeout=(0,b.U2)("auction.maxTime",2e3),r.invoke("load script","//cdn.adsafeprotected.com/iasPET.1.js","__iasPET",(function(){return __webpack_require__.g.__iasPET.VERSION})),r.on("configure and start prebid",(function(e){e.includes("gpt")&&se(or(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr();case 2:__webpack_require__.g.__iasPET.setTargetingForGPT();case 3:case"end":return e.stop()}}),e)}))))})),n=function(){return new Promise(function(){var e=or(regeneratorRuntime.mark((function e(t){var n,i,o,a,s,u,c,l,d,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr([{adSlotId:"video",adUnitPath:"/".concat(ar,"/").concat((0,tr.Z)("video")),size:[[636,358]]}]);case 2:for(n=e.sent,i={fr:n.fr.toString()},o=0,a=Object.entries(n.brandSafety||{});o<a.length;o++)s=rr(a[o],2),u=s[0],c=s[1],i[u]=c;l=0,d=Object.entries(n.slots.video||{});case 6:if(!(l<d.length)){e.next=14;break}if(p=rr(d[l],2),f=p[0],h=p[1],"id"!==f){e.next=10;break}return e.abrupt("continue",11);case 10:i[f]=h;case 11:l++,e.next=6;break;case 14:r.emit("set page level targeting",i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},r.register("get video tags",or(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||(i=n()),e.next=3,i;case 3:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:__webpack_require__.g.document;return new Promise((function(n,i){var o,a=r.createElement("script"),s=r.head;a.async=null===(o=t.async)||void 0===o||o,a.src=e,Object.entries(t).forEach((function(e){var t=pr(e,2),r=t[0],n=t[1];return a.setAttribute(r,n)})),a.addEventListener("load",n),a.addEventListener("error",i),s.appendChild(a)}))}function gr(e){var t=e.broker,r=(e.getConfig,e.log),n={};t.register("load script",(function(e,t,i,o){return new Promise((function(a,s){r("load script:",e,t,i,o);var u=o||function(){return window[t]};t&&u()&&(r("variable already defined:",t),a(u()));var c=t||e;if(n[c]||(r("adding script tag to load",e),hr(e,i).then((function(){r("script loaded:",e);var t=n[c];r("calling",t.length,"listeners");var i=function(e){return e()};n[c]={push:i},t.forEach(i)}),s),n[c]=[]),t||o)try{(0,Xe.gb)((function(){return u()})).then((function(e){r("tracking variable found:",t,o,e),a(e)}))}catch(n){r("error while loading",e,":",n),s(new Error("Error loading ".concat(e," (trackingVariable: ").concat(t,"): ").concat(n)))}else r("no tracking variable given for",e,"waiting on script load"),n[c].push(a)}))})),t.register("import script",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,n=r.document;return hr(e,t,n)})),t.register("import script in iframe",(function(e){var t=e.url;return new Promise((function(e,r){var n=document.createElement("iframe");n.display="none",n.onload=function(){return hr(t,{},n.contentWindow.document).then(e,r)},document.head.appendChild(n)}))})),t.register("import stylesheet",(function(e){var t=document.createElement("link"),r=document.head;t.href=e,t.setAttribute("rel","stylesheet"),r.appendChild(t)}))}lr.vendorIds={gdpr:[278]},lr.purposeIds={gdpr:"N/A"},gr.isAdsFreeSupported=!0,gr.ccpa={enabledIfDissent:!0},gr.gdpr={enabledIfDissent:!0};var mr,vr=function(e){return __webpack_require__.g.sessionStorage.getItem(e)},yr=function(e,t){__webpack_require__.g.sessionStorage.setItem(e,t),br()},br=function(){__webpack_require__.g.localStorage.setItem("mol.ads.session.publish",JSON.stringify(sessionStorage)),__webpack_require__.g.localStorage.removeItem("mol.ads.session.publish")},_r=function(e){for(var t in e)__webpack_require__.g.sessionStorage.setItem(t,e[t])},wr=function(e){var t=e.key,r=e.newValue;if(r)switch(t){case"mol.ads.session.request":__webpack_require__.g.localStorage.setItem("mol.ads.session.response",JSON.stringify(__webpack_require__.g.sessionStorage)),__webpack_require__.g.localStorage.removeItem("mol.ads.session.response");break;case"mol.ads.session.publish":_r(JSON.parse(r))}},Sr=function(){return mr||(__webpack_require__.g.addEventListener("storage",wr),mr=new Promise((function(e){__webpack_require__.g.addEventListener("storage",(function t(r){var n=r.key,i=r.newValue;if("mol.ads.session.response"===n){__webpack_require__.g.removeEventListener("storage",t);var o=i?JSON.parse(i):{};e(o)}})),__webpack_require__.g.localStorage.setItem("mol.ads.session.request","mol.ads.session.request"),__webpack_require__.g.localStorage.removeItem("mol.ads.session.request")})).then(_r)),mr};function Tr(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ir(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Tr(o,n,i,a,s,"next",e)}function s(e){Tr(o,n,i,a,s,"throw",e)}a(void 0)}))}}var kr=function(){var e=Ir(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sr(),e.next=3,Promise.race([t,(0,Xe.Vs)(1)]);case 3:return e.next=5,r=void 0,r=parseInt(vr("mol.ads.sessionDepth")||0),isNaN(r)&&(r=0),r++,yr("mol.ads.sessionDepth",r),r;case 5:return e.t0=e.sent,e.abrupt("return",{session:e.t0});case 7:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();function Ar(e){return Er.apply(this,arguments)}function Er(){return(Er=Ir(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.broker.emit("set page level targeting",kr());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ar.isAdsFreeSupported=!0,Ar.ccpa={enabledIfDissent:!0},Ar.gdpr={enabledIfDissent:!0};var Or=DM.molFeAsync,Cr=DM.molFeClientLogger,Pr=function(){var e=(0,b.U2)("skimlinks",{enabled:!1});e.enabled&&(0,Or.later)("DOM_READY").then((function(){var t,r=e.filename||(null===(t=document.querySelector(".skimlinks"))?null:t.getAttribute("data-tracking-id"));if(r){var n="//s.skimresources.com/js/"+r+".skimlinks.js",i=document.createElement("script"),o=document.querySelector("script");i.async=!0,i.src=n,o.parentNode.insertBefore(i,o)}})).catch((function(e){Cr.logger.error("Error during skimlinks initialisation: ",e)}))},xr=Pr;function Dr(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function jr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Dr(o,n,i,a,s,"next",e)}function s(e){Dr(o,n,i,a,s,"throw",e)}a(void 0)}))}}Pr.vendorIds={gdpr:[46]},Pr.purposeIds={gdpr:"N/A"};var Rr=function(){return!!vr("mol.ads.taboolaSessionStarted")},Mr=function(e){var t=parseInt((0,I.ej)("mol.ads.taboolaReferrals"));isNaN(t)&&(t=0);var r=Rr(),n=I.SP.ito;return("taboola-uk"===n||"taboola-us"===n||"taboola-au"===n||e)&&!r&&(yr("mol.ads.taboolaSessionStarted",!0),(0,I.zP)("mol.ads.taboolaReferrals",++t)),t},Ur=function(){var e=jr(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Promise.race([Sr(),(0,Xe.Vs)(1)]),e.next=3,r;case 3:return n=Rr()?{referred_by:"taboola"}:{},(i=Mr(t))&&Object.assign(n,{taboola_referrals:i}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Lr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=jr(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.broker.emit("set page level targeting",Ur(r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Lr.ccpa={enabledIfDissent:!0},Lr.gdpr={enabledIfDissent:!0};var Br=__webpack_require__(2805);function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vr(e,t,r){zr(e,t),t.set(e,r)}function zr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Gr(e,t,"get"))}function Hr(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Gr(e,t,"set"),r),r}function Gr(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Kr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,$r=new WeakMap,Jr=new WeakMap,Qr=new WeakSet,Zr=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){zr(e,t),t.add(e)}(this,Qr),Vr(this,Kr,{writable:!0,value:!1}),Vr(this,Xr,{writable:!0,value:[]}),Vr(this,Yr,{writable:!0,value:void 0}),Vr(this,$r,{writable:!0,value:void 0}),Vr(this,Jr,{writable:!0,value:!1}),Hr(this,Yr,n),Hr(this,$r,t),this.state=Object.freeze(r)}var t,r;return t=e,r=[{key:"deinit",value:function(){this.dispatch({type:"__DEINIT__"}),Hr(this,Jr,!1)}},{key:"init",value:function(){Hr(this,Jr,!0),this.dispatch({type:"__INIT__"})}},{key:"dispatch",value:function(e){if(Wr(this,Jr)){if(Wr(this,Kr))throw new Error("You shouldnt dispatch actions from a reducer");Hr(this,Kr,!0);var t=Wr(this,$r).call(this,e,this.state);Hr(this,Kr,!1),t===this.state?Wr(this,Yr).call(this,e,"NO_CHANGE"):(this.state=Object.freeze(t),Wr(this,Yr).call(this,e,this.state),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,Qr,en).call(this,e))}else Wr(this,Yr).warn("Cannot dispatch actions before store has been initiated.")}},{key:"subscribe",value:function(e){var t=this;return Wr(this,Xr).push(e),setTimeout((function(){return e({type:"__INIT__"},t.state)})),function(){Hr(t,Xr,(0,w.cl)(e,Wr(t,Xr)))}}}],r&&Fr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function en(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return qr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(Wr(this,Xr));try{for(r.s();!(t=r.n()).done;)(0,t.value)(e,this.state)}catch(e){r.e(e)}finally{r.f()}}var tn=__webpack_require__(8163);function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function on(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,an(e,t,"get"))}function an(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function sn(e,t,r){return e.on(t,r),function(){return e.off(t,r)}}function un(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}var cn=new WeakMap,ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}(this,cn,{writable:!0,value:[]})}var t,r;return t=e,r=[{key:"on",value:function(e,t,r){return this.add(sn(e,t,r))}},{key:"one",value:function(e,t,r){return this.add(function(e,t,r){return e.one(t,r),function(){return e.off(t,r)}}(e,t,r))}},{key:"addEventListener",value:function(e,t,r,n){return this.add(un(e,t,r,n))}},{key:"add",value:function(e){return on(this,cn).push(e),e}},{key:"remove",value:function(e){var t,r,n;t=this,r=cn,n=(0,w.cl)(e,on(this,cn)),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t,an(t,r,"set"),n)}},{key:"dispose",value:function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(on(this,cn));try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}}}],r&&nn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hn(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function gn(e,t){var r=new Zr((function(e,t){switch(e.type){case"adRendered":return null===t.gamdv?pn(pn({},t),{},{gamdv:!1}):t;case"abdResult":return pn(pn({},t),{},{adblocker:e.adblocker,abdReason:e.abdReason});case"gptLoaded":return pn(pn({},t),{},{gptLoaded:!0});case"renderedGAMAd":return pn(pn({},t),{},{gamdv:!0});default:return t}}),{adblocker:null,abdEnabled:!!e("abe.detection.enabled"),abdReason:null,gamdv:null,gptLoaded:!1,office:(0,Br.K)()},t);return r}(0,Ye.fo)("abe.analytics",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){return(t=regeneratorRuntime.mark((function t(){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.broker,n=e.doc,i=e.getConfig,o=e.log,a=e.win,(s=gn(i,o.extend("store"))).init(),r.register("call for page analytics",(function(){return pn(pn({},s.state),{},{adIframes:(0,tn.AC)(n).length,adIframeAccounts:(0,tn.PJ)(n)})})),r.once("gpt loaded",(function(){return s.dispatch({type:"gptLoaded"})})),r.once("ad rendered",(function(){return s.dispatch({type:"adRendered"})})),u=un(a,"message",(function(e){var t,r;0===(null===(t=e.data)||void 0===t||null===(r=t.indexOf)||void 0===r?void 0:r.call(t,"_dm_abe\n"))&&(u(),s.dispatch({type:"renderedGAMAd"}))})),r.once("ad block detection result",(function(e){var t=e.adblocker,r=e.reason;return s.dispatch({type:"abdResult",adblocker:t,abdReason:r})}));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){hn(o,n,i,a,s,"next",e)}function s(e){hn(o,n,i,a,s,"throw",e)}a(void 0)}))})();var t}});var mn=__webpack_require__(9023),vn=__webpack_require__(7721);function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){_n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tn(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function In(e){var t=e.broker,r=e.getConfig,n=e.log;n("starting");var i=r("abe.dfp.pos","mpu_two_abe"),o=!1,a=!1;t.once("gpt loaded",(function(){return o=!0}));var s=!1;function u(e){n("awaiting for",e);var r=t.until(e);t.once("ad block detection result",function(){var i,u=(i=regeneratorRuntime.mark((function i(u){var c,l,d,p,f,h,g,m,v,y,b;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l=u.adblocker,d=u.reason,p=u.reset,l||p){i.next=3;break}return i.abrupt("return");case 3:return n("adblocker detection result:",{adblocker:l,reset:p}),f={eventName:e,gptLoaded:o,adsDisabled:!!__webpack_require__.g.disableAds,imaLoaded:!(null===(c=__webpack_require__.g.google)||void 0===c||!c.ima),permutiveReady:s,abdReason:d,reset:p,abePosRendered:a},h=Date.now(),i.next=8,r;case 8:g=i.sent,m=wn(g,2),v=m[0],y=m[1],f=bn(bn({},f),{},{elapsed:Date.now()-h,pos:v}),(b=(0,vn.np)(y))&&(f=bn(bn({},f),{},{ri:b})),n("sending:",f),t.emit("send event to bidmax",{type:"abd-error",payload:f});case 17:case"end":return i.stop()}}),i)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=i.apply(e,t);function a(e){Tn(o,r,n,a,s,"next",e)}function s(e){Tn(o,r,n,a,s,"throw",e)}a(void 0)}))});return function(e){return u.apply(this,arguments)}}())}t.once("system ready",(function(){return __webpack_require__.g.permutive&&__webpack_require__.g.permutive.ready((function(){return s=!0}))})),t.once("ad rendered",i,(function(){return a=!0})),u("ad rendered"),u("ad viewable")}function kn(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function An(e){var t=e.broker;t.on("abe rendered",(function(){return t.emit("send to rta","abe","rendered")})),t.on("ex ad blocker user",(function(e,r){r&&t.emit("send to rta","exabd",e?"was":"yes")})),t.on("ad block detection result",function(){var e,r=(e=regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit("send to rta","abd",r.adblocker?"yes":"no");case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){kn(o,n,i,a,s,"next",e)}function s(e){kn(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}())}function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?En(Object(r),!0).forEach((function(t){Cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}In.ccpa={enabledIfDissent:!0},In.gdpr={enabledIfDissent:!0},An.ccpa={enabledIfDissent:!0},An.gdpr={enabledIfDissent:!0},(0,Ye.fo)("analytics.bidsHunting",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=new Set(r("analytics.bidsHunting.positions",[])),o=new Set(r("analytics.bidsHunting.bidders",[]));t.on("bid",(function(e,r){!r.cpm||i.size>0&&!i.has(e)||o.size>0&&!o.has(r.bidder)||(n("🍔 adding bid to stack",e,r),t.emit("send event to bidmax",{type:"custom",payload:On(On({},r),{},{event:"bid-hunt",pos:e})}))}))}}),(0,Ye.fo)("analytics.coreMetrics",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t,r,n,i,o,a,s=e.broker,u=null===(t=__webpack_require__.g.performance)||void 0===t||null===(r=t.getEntries())||void 0===r||null===(n=r[0])||void 0===n||null===(i=n.serverTiming)||void 0===i||null===(o=i.find((function(e){return"cdn-cache"===e.name})))||void 0===o||null===(a=o.description)||void 0===a?void 0:a.toLowerCase();s.register("call for page analytics",(function(){var e=(0,I.ap)();return{ss:{w:e.width,h:e.height},pageCache:u}}))}});var Pn=__webpack_require__(8662);function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach((function(t){Nn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}(0,Ye.fo)("analytics.cwv",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t=e.broker,r=e.log;function n(){var e=__webpack_require__.g.DM.molFeWebVitals.getStandard();return i({cls:1e3*(e.CLS||0),fcp:e.FCP,fid:e.FID,lcp:e.LCP,ttfb:e.TTFB})}function i(e){return Object.fromEntries(Object.entries(e).filter((function(e){return null!=Rn(e,2)[1]})).map((function(e){var t=Rn(e,2),r=t[0],n=t[1];return[r,Math.round(n)]})))}__webpack_require__.g.DM&&__webpack_require__.g.DM.molFeWebVitals?(t.register("call for page analytics",(function(){return{cwv:n()}})),__webpack_require__.g.DM.molFeWebVitals.getUpdated&&t.register("call for page-unload",(function(){return{cwv:(e=__webpack_require__.g.DM.molFeWebVitals.getUpdated(),i({cls:1e3*(e.CLS||0),fcp:e.FCP,fid:e.FID,lcp:e.LCP,ttfb:e.TTFB}))};var e})),__webpack_require__.g.DM.later("mol-fe-web-vitals-standard",(function(){var e=function(){var e=n(),t=e.cls,r=e.fcp,i=e.fid,o=e.lcp,a=e.ttfb;return Dn(Dn(Dn(Dn(Dn({},(0,Pn._b)("clsP1k",t)),(0,Pn._b)("fcpP10s",r)),(0,Pn._b)("fidP1s",i)),(0,Pn._b)("lcpP10s",o)),(0,Pn._b)("ttfbP10s",a))}();r("mol-fe-web-vitals-standard fired, cwv:",e),t.emit("send event to bidmax",{type:"custom",payload:Dn({event:"cwv"},e)})}))):r.warn("cwv metrics cannot be used because window.DM.molFeWebVitals is unavailable")}}),(0,Ye.fo)("analytics.pageUnload",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t=e.broker,r=e.log,n=(e.setConfig,{capture:!0,passive:!0}),i=__webpack_require__.g.performance&&__webpack_require__.g.performance.timing&&__webpack_require__.g.performance.timing.navigationStart||__webpack_require__.g.adverts.startTime;r("Starting at:",__webpack_require__.g.adverts.startTime-i);var o=!1,a=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return o=!0,r("force sync dispatcher"),t.bus.setDispatcher((function(e){return e()})),t.bus.globalTimeoutOverride=0,r("about to call for page-unload"),e.next=9,t.invokeAll("call for page-unload");case 9:n=e.sent,a=n.reduce((function(e,t){return Ln(Ln({},e),t)}),{t:Date.now()-i,autorefresh:!!(0,I.ej)("autorefresh")}),r("got:",a),t.emit("send event to bidmax",{type:"page-unload",payload:a});case 13:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Bn(o,n,i,a,s,"next",e)}function s(e){Bn(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();window.addEventListener("pagehide",a,n),window.addEventListener("beforeunload",a,n),window.addEventListener("unload",a,n)}}),(0,Ye.fo)("analytics.partners",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.log;t.once("permutive ready",(function(){return a({event:"permutive-load"})})),t.once("new minute media player",(function(){return a({event:"mm-load"})})),t.once("admantx loaded",(function(){return a({event:"admantx-load"})})),document.addEventListener("spot-im-api-ready",(function(){return a({event:"openweb-load"})})),document.addEventListener("spot-im-conversation-loaded",(function(){return a({event:"openweb-conv-loaded"})})),document.addEventListener("spot-im-conversation-viewed",(function(){return a({event:"openweb-conv-viewed"})})),document.addEventListener("spot-im-current-user-sent-message",(function(){return o("powms")})),qn.forEach((function(e){return document.addEventListener(e,(function(){return o("powui")}))})),t.once("taboola render",(function(){return a({event:"taboola-first-render"})})),t.on("taboola render",(function(){return o("pti")})),t.on("taboola visible",(function(){return o("ptv")})),t.on("taboola nocontent",(function(){return o("ptnc")})),t.on("taboola failed to load",(function(){return o("ptftl")})),t.on("taboola click",(function(){return o("ptc")}));var n=0;t.on("new perform player",(function(e,r){0===n&&a({event:"dazn-load"});var i="peformPlayer-".concat(n++);t.emit("track viewability",i,r),t.once("ad viewable",i,(function(){return o("pdv")}))}));var i={};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!Fn[e])throw new Error("Metric '".concat(e,"' not registered in 'knownMetric'. Please do so."));r("inc counter:",e);var n=i[e]||0;i[e]=n+t}function a(e){r("sending event:",e),t.emit("send event to bidmax",{type:"custom",payload:e})}t.register("call for page-unload",(function(){return i}))}});var qn=["spot-im-clicked-delete-message","spot-im-clicked-edit-message","spot-im-clicked-flag","spot-im-clicked-message-context-menu","spot-im-clicked-mute-user","spot-im-share-drop-down","spot-im-share-type","spot-im-hover-like-details","spot-im-show-more-comments-clicked","spot-im-show-more-replies-clicked","spot-im-user-down-vote-click","spot-im-user-up-vote-click","spot-im-login-start","spot-im-post-login","spot-im-notification-drop-down-link","spot-im-user-notifications-click","spot-im-clicked-cog-menu","spot-im-clicked-privacy","spot-im-clicked-settings","spot-im-profile-drop-down","spot-im-sort-by-drop-down","spot-im-sort-by-select","spot-im-clicked-article-link-profile","spot-im-open-user-profile"],Fn={pti:"taboola impression",ptv:"taboola view",ptnc:"taboola no content",ptftl:"taboola failed to load",ptc:"taboola click",powui:"openWeb user interaction",powms:"openWeb message sent",pdv:"dazn view"};(0,Ye.fo)("analytics.reportPlugins",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t=e.broker,r=e.getConfig,n=new Set(r("bidmax.reportPlugins",[]));n.size>0&&t.register("call for page analytics",(function(){return{plugins:r("plugins.enabled").filter((function(e){return n.has(e)}))}}))}});var Vn=__webpack_require__(4812);function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wn(e){e.broker.register("call for page analytics",(function(){return{abtest:__webpack_require__.g.molABTest}}))}(0,Ye.fo)("analytics.scrollDepth",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t=e.broker,r=0;function n(){r=Math.max(r,Math.round(window.pageYOffset+window.innerHeight))}document.addEventListener("scroll",(0,Vn.FU)(n,300),{passive:!0,capture:!1}),t.register("call for page-unload",(function(){return n(),{sd:r}}))}}),(0,Ye.fo)("analytics.takeover",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.log,n=!1;__webpack_require__.g.addEventListener("message",(function e(i){!n&&i.data&&"function"==typeof i.data.indexOf&&0===i.data.indexOf("_dm_ads_takeover")&&(r("Marking page as containing takeover"),t.register("call for page analytics",(function(){return{takeover:!0}})),t.emit("send event to bidmax",{type:"custom",payload:{event:"takeover"}}),n=!0,"function"==typeof __webpack_require__.g.removeEventListener&&__webpack_require__.g.removeEventListener("message",e,!1))}),!1)}}),(0,Ye.fo)("analytics.timeSpent",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t=e.broker,r=e.log,n=e.getConfig,i={capture:!0,passive:!0},o=n("bidmax.inactiveTime",1e4),a=__webpack_require__.g.performance&&__webpack_require__.g.performance.timing&&__webpack_require__.g.performance.timing.navigationStart||__webpack_require__.g.adverts.startTime;r("Starting at:",__webpack_require__.g.adverts.startTime-a);var s=0,u=0,c=0,l=a,d=a,p=function(){var e=Date.now(),t=e-d-o;t>0&&(r("Adding inactive time:",t),u+=t,d=e)},f=function(){var e=Date.now(),t=e-l;c+=t,r("Adding hidden time:",t),l=e};t.on("ad rendered",(function(){return s++}));for(var h=[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]],g=(0,Vn.FU)((function(e){var t=Date.now();e&&p(),d=t}),1e3),m=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(y[v],2),t=e[0];e[1].forEach((function(e){return t.addEventListener(e,g,i)}))},v=0,y=h;v<y.length;v++)m();t.register("call for page-unload",(function(){return p(),_()&&f(),{imp:s,i:u,h:c}}));var b=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},_=function(){try{return __webpack_require__.g.top.document.hidden||__webpack_require__.g.top.document.msHidden||__webpack_require__.g.top.document.webkitHidden||!1}catch(e){return!!b()}},w=_();document.addEventListener(b(),(function(e){_()!==w&&((w=_())?l=Date.now():f())}),!1)}}),(0,Ye.fo)("analytics.videoFailures",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t,r,n=e.broker,i=e.log;i("Starting");var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.videoId,r=e.adErrorCode,o=e.autoplay,a=e.errorMessage,s=e.offset,u=e.trackingType,c={videoId:t,adErrorCode:r,autoplay:o,errorMessage:a,offset:s,trackingType:u};i("Error detected:",t,c),n.emit("send event to bidmax",{type:"video-ad-error",payload:c}),i("error:",c)},a=function(){i("subscribing to 'video.advert-failed' events"),__webpack_require__.g.DM.pageEvents.subscribe("video.advert-failed",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(t)}))};n.on("video.advert-failed",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(e)})),(null===(t=__webpack_require__.g)||void 0===t||null===(r=t.DM)||void 0===r?void 0:r.pageEvents)&&a()||(i("waiting for chromeless player to load"),n.on("mol-fe-sync bundle loaded",(function(){var e,t;i("mol-fe-sync bundle loaded"),null!==(e=__webpack_require__.g)&&void 0!==e&&null!==(t=e.DM)&&void 0!==t&&t.pageEvents&&a()})))}}),Wn.isAdsFreeSupported=!0,Wn.ccpa={enabledIfDissent:!0},Wn.gdpr={enabledIfDissent:!0};var Hn,Gn,Kn,Xn,Yn=__webpack_require__(8553);function $n(e){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(e)}function Jn(e){return function(e){if(Array.isArray(e))return oi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ii(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Zn(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Qn(o,n,i,a,s,"next",e)}function s(e){Qn(o,n,i,a,s,"throw",e)}a(void 0)}))}}function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach((function(t){ri(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ri(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||ii(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){if(e){if("string"==typeof e)return oi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oi(e,t):void 0}}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ai=["advertiserId","campaignId","creativeId","isEmpty","lineItemId","serviceName"],si=["adDurationSecs","adSystem","adTitle","advertiserId","autoplay","contentType","creativeId","isEmpty","lineItemId","mediaUrl","offset","platform","play","skippable","targeting","timeAtRender","timeSinceStartOfPlayer","videoHeight","videoWidth","winner","winningCPM"],ui=function(){return Date.now()-__webpack_require__.g.adverts.startTime},ci=function(e){if(e.slot&&e.slot.molAd&&void 0!==e.slot.molAd.state)return e.slot.molAd.state};function li(e){if(Array.isArray(e.size)&&2===e.size.length){var t=ni(e.size,2),r=t[0],n=t[1];return"".concat(r,"x").concat(n)}}var di=function(){var e=Zn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.invokeAll({message:["call for page analytics"],timeout:Kn("bidmax.pageTimeout",3e3)});case 2:return t=e.sent,r=t.reduce((function(e,t){return ti(ti({},e),t)}),{}),e.abrupt("return",ti(ti({},Gn),r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function pi(e){var t=e.broker,r=e.getConfig,n=e.log;Xn=n,Hn=t,Kn=r,Gn={timestamp:__webpack_require__.g.adverts.startTime,referrer:document.referrer,url:window.location.href},__webpack_require__.g.performance&&__webpack_require__.g.performance.timing&&__webpack_require__.g.performance.timing.navigationStart&&(Gn.adsStart=__webpack_require__.g.adverts.startTime-__webpack_require__.g.performance.timing.navigationStart),Hn.register("get page level analytics",(function(){return di()})),function(){var e=Kn("bidmax.debounceTime",1e3),t=[];function r(){return(r=Zn(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ti,e.t1={},e.next=4,di();case 4:if(e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),t.length){e.next=8;break}return e.abrupt("return");case 8:Xn.enabled&&(n=t.find((function(e){return"page-unload"===e.type}))?JSON.stringify(t):t,Xn("dispatching",t.length,"events:",n)),r=1===t.length?ti(ti({},r),t[0]):ti(ti({},r),{},{type:"events",payload:t}),Hn.emit("send to bidmax",r),t=[];case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=(0,Vn.Ds)((function(){return r.apply(this,arguments)}),e);Hn.on("send event to bidmax",Zn(regeneratorRuntime.mark((function e(){var r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i.length>0&&void 0!==i[0]?i[0]:{},t.push(ti(ti({},r),{},{timeAtSend:ui()})),r.type&&"page-unload"!==r.type?n():n.callNow();case 3:case"end":return e.stop()}}),e)}))))}(),Hn.on("send to bidmax",(function(e){try{var t=ti(ti({},e),{},{event_type:"bidmax",type_version:2,timeAtSend:ui(),version:I.SP.bidmax||"4.1.95"});Hn.emit("dispatch to bidmax",{headers:{"Content-type":"text/plain"},body:t})}catch(e){console.warn(e)}}));var i=window.mol_ads_famab;Hn.on("plugins enabled",Zn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hn.emit("send event to bidmax",{type:"page",famab:i}));case 1:case"end":return e.stop()}}),e)})))),function(){var e,t={},r={},n=0,i=function(){var n=Zn(regeneratorRuntime.mark((function n(i){var o,a,s,u,c,l,d,p=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i.auction,a=i.pos,s=i.adImpressionData,u=i.offset,c=!(p.length>1&&void 0!==p[1])||p[1]){n.next=9;break}return delete t[a][u],r[a]&&delete r[a][u],delete o.pendingImpressions,delete o.lastPosTime,e=void 0,n.abrupt("return");case 9:if((l=o.slots[a]).impression=s,void 0!==u?(o.pendingImpressions.delete(a+u),l.bids=r[a][u]?Jn(r[a][u]):[],delete t[a][u],delete r[a][u]):(o.pendingImpressions.delete(a),l.bids=r[a],delete t[a],delete r[a]),!(o.pendingImpressions.size>0)){n.next=14;break}return n.abrupt("return");case 14:if(delete o.pendingImpressions,delete o.lastPosTime,e=void 0,!c){n.next=29;break}return n.t0=ti,n.t1=ti,n.t2={},n.next=23,di();case 23:n.t3=n.sent,n.t4=(0,n.t1)(n.t2,n.t3),n.t5={},n.t6={auction:o},d=(0,n.t0)(n.t4,n.t5,n.t6),Hn.emit("send to bidmax",d);case 29:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(e){return{auctionTime:e,startTime:ui(),auctionId:n++,slots:{},pendingImpressions:new Set}},a=function(e,r,n){r.lastPosTime=ui(),r.pendingImpressions.add(e+(void 0!==n?n:"")),r.slots[e]={},void 0!==n?(r.offset=n,t[e]||(t[e]={}),t[e][n]=r):t[e]=r},s=function(t,r){return(!e||e.lastPosTime<ui()-2e3)&&(e=o(t)),a(r,e),e.slots[r].auctionStart=ui(),e};Hn.on("get tags",(function(e){var r=e.slot.pos,n=e.timeout;t[r]?Xn("Auction is pending for ".concat(r)):s(n,r)})),Hn.on("bidding ended",(function(e){Xn("bidding ended",e);var r=t[e];r.slots?r.slots[e].biddingEnded=ui():Object.keys(r).forEach((function(t){r[t].slots[e].biddingEnded=ui()}))})),Hn.on("get video tags",(function(e){e.platform;var n=e.offset,i=void 0===n?0:n,s=e.slot.pos,u=e.timeout;t[s]&&t[s][i]&&(t[s][i].pendingImpressions.delete(s+i),delete t[s][i],delete r[s][i]),a(s,o(u),i),r[s]||(r[s]={}),r[s][i]=[]})),Hn.on("bid",(function(e,n){var i,s=n.platform,u=n.offset,c=n.bidder,l=n.cpm,d=n.cached,p=n.requestSizes;if(Xn("on bid",e),s="jwplayer"===e&&"dmplayer"===s?"chromeless":s,void 0!==u?(r[e]||(r[e]={}),i=r[e][u]=r[e][u]||[]):i=r[e]=r[e]||[],i){void 0===u||t[e][u]||a(e,o(5e3),u);var f={bidder:c,cpm:Math.round(l),time:ui(),platform:s,offset:u,cached:d,requestSizes:p};i.push(f)}else Xn.warn("Got a bid after auction finished:",{pos:e,bidder:c,cpm:l,platform:s,offset:u,cached:d})})),Hn.on("ad requested",(function(e){var r=t[e];r&&(r.slots[e].adRequestTime=ui())})),Hn.on("ad loaded",(function(e){var r=t[e];r&&(r.slots[e].adLoadedTime=ui())})),Hn.on("headerbidder winner",(function(e,r){var n=t[e];n&&(n.slots[e].winner=r)}));var u=__webpack_require__.g.DM&&__webpack_require__.g.DM.molFeTracking&&__webpack_require__.g.DM.molFeTracking.pageEvents,c={tia:function(e){return!!e.amznbid},appnexus:function(e){return"appnexus"===e.hb_bidder},rubicon:function(e){return"rubicon"===e.hb_bidder},spotx:function(e){return!!e.spotx_bid}},l=function(e,n){var s,u=n.playerId||(n.targeting&&n.targeting.pos?n.targeting.pos[0]:"video"),l=n.platform||(null==n||null===(s=n.adImpression)||void 0===s?void 0:s.platform);l="jwplayer"===u&&"dmplayer"===l?"chromeless":l;var d,p,f,h,g,m,v,y,b,_="preroll"===n.offset?0:"midroll"===n.offset?20:n.offset,w=n.tag&&(0,Yn.Gi)(n.tag)||{cust_params:{}},S=Object.fromEntries(Object.entries(w.cust_params).filter((function(e){var t=ni(e,2),r=t[0],n=t[1];return!r.startsWith("gdpr")&&!r.startsWith("hb_")&&(null==n?void 0:n.length)<=20}))),T=n.adImpression,I={};T&&!(0,O.xb)(T)&&(r[u]=r[u]||{},r[u][_]=r[u][_]||[],Hn.emit("video ad viewable",{pos:u,bids:r[u][_],videoId:n.videoId}),"object"!==$n(p)||(0,O.xb)(p)||r[u][_].forEach((function(e){e.bidder&&T&&"function"==typeof c[e.bidder]&&(e.inAdRequest=c[e.bidder](p),e.inAdRequest&&(I[e.bidder]=e.cpm))})),f=function(e){var t="undetermined";return!e.adWrapperIds||!e.adWrapperIds[0]||e&&e.adWrapperSystems&&"DCM"===e.adWrapperSystems[0]?t="Other":e.traffickingParameters&&e.traffickingParameters.vu?t="tia":e.traffickingParameters&&e.traffickingParameters.channel_id&&(t="spotx"),t}(T),h=I[f]||0,d={adDurationSecs:null==T||null===(g=T.adPodInfo)||void 0===g?void 0:g.maxDuration,adSystem:null==T?void 0:T.adWrapperSystems,adTitle:T.title,advertiserId:T.adSystem,autoplay:n.autoplay,contentType:T.contentType,creativeId:null==T||null===(m=T.adWrapperCreativeIds)||void 0===m?void 0:m[null==T||null===(v=T.adWrapperSystems)||void 0===v?void 0:v.indexOf("GDFP")],isEmpty:!1,lineItemId:null==T||null===(y=T.adWrapperIds)||void 0===y?void 0:y[null==T||null===(b=T.adWrapperSystems)||void 0===b?void 0:b.indexOf("GDFP")],mediaUrl:T.mediaUrl,play:n.play,skippable:T.skippable,targeting:ti(ti({},S),T.targeting||{pos:[u]}),timeSinceStartOfPlayer:n.timeSinceStartOfPlayer,videoHeight:T.vastMediaHeight,videoWidth:T.vastMediaWidth,winner:f,winningCPM:h},l&&(d.platform=l),void 0!==_&&(d.offset=_)),void 0===_||t[u]&&t[u][_]||a(u,o(5e3),_);var k,A=ti({},t[u][_]);delete t[u][_],A?(A.platform=l,A.offset=_,d&&!(0,O.xb)(d)?((k=(0,O.ei)(d,si)).timeAtRender=ui(),i({auction:A,pos:u,adImpressionData:k,offset:_})):i({auction:A,pos:u,offset:_},!1)):Xn("Current auction not found for ".concat(u).concat(_))};u&&(Hn.on("dom ready",(function(){u.subscribe("video.ad-impression",l),u.subscribe("video.no-ad-shown",l)})),Hn.on("video.ad-impression",(function(e){return l(0,e)})),Hn.on("video.no-ad-shown",(function(e){return l(0,e)}))),Hn.on("ad rendered",(function(e,r){if(!e.endsWith("-oop")){var n=function(e){return ti(ti(ti({},(0,O.ei)(e,ai)),e.isEmpty?{}:{creativeId:e.creativeId||e.sourceAgnosticCreativeId,lineItemId:e.lineItemId||e.sourceAgnosticLineItemId,advertiserId:e.advertiser,campaignId:e.campaignId,companyId:e.companyIds}),{},{targeting:e.slot?ti({},e.slot.getTargetingMap()):{},timeAtRender:ui(),slotState:ci(e),size:li(e)})}(r),o=t[e]||s(0,e);Xn("ad rendered, processImpression",e,o),i({auction:o,pos:e,adImpressionData:n})}}))}()}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(r),!0).forEach((function(t){mi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e){var t=e.broker,r=e.getConfig,n=e.log,i=navigator.sendBeacon&&r("bidmax.dispatcher.useBeacon",!0),o=r("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:r("bidmax.dispatcher.url","//crta.dailymail.co.uk"),a=(0,I.oK)()[0];a<13&&a>0&&(n("force disabling beacon for iOS < 13"),i=!1),t.on("dispatch to bidmax",(function(e){var t=e.body,r=e.headers;if(t){if(i)try{t=gi(gi({},t),{},{reqType:"beacon"});var n=new Blob([JSON.stringify(t)],gi(gi({},r),{},{type:"text/plain"}));if(navigator.sendBeacon(o,n))return}catch(e){console.error(e)}try{t=gi(gi({},t),{},{reqType:"xhr"});var a=new XMLHttpRequest;a.open("POST",o,!0),Object.entries(r).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];return a.setRequestHeader(r,n)})),a.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){wi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Si(e){var t=e.broker,r=e.getConfig,n=r("bidmax.migrationChance",0);if(!(Math.random()>=n)){var i=navigator.sendBeacon&&r("bidmax.dispatcher.useBeacon",!0),o=r("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:r("bidmax.dispatcher.url","//crta.dailymail.co.uk");o.endsWith("/")||(o+="/"),o+="migration",t.on("dispatch to bidmax",(function(e){var t=e.body,r=e.headers;if(t){if(i)try{t=_i(_i({},t),{},{reqType:"beacon"});var n=new Blob([JSON.stringify(t)],_i(_i({},r),{},{type:"text/plain"}));if(navigator.sendBeacon(o,n))return}catch(e){console.error(e)}try{t=_i(_i({},t),{},{reqType:"xhr"});var a=new XMLHttpRequest;a.open("POST",o,!0),Object.entries(r).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];return a.setRequestHeader(r,n)})),a.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}}function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){ki(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ki(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}pi.isAdsFreeSupported=!0,pi.ccpa={enabledIfDissent:!0},pi.gdpr={enabledIfDissent:!0},vi.isAdsFreeSupported=!0,vi.ccpa={enabledIfDissent:!0},vi.gdpr={enabledIfDissent:!0},Si.isAdsFreeSupported=!0,Si.ccpa={enabledIfDissent:!0},Si.gdpr={enabledIfDissent:!0};var Oi=function(e){var t=Ai(e,2);return t[0],t[1]>Date.now()-2628e6},Ci=function(e,t){var r=Ai(t,2),n=r[0],i=r[1];return Ii(Ii({},e),{},ki({},n,i))};function Pi(e){var t=e.broker,r="mol.ads.knownBundles",n=JSON.parse(localStorage.getItem(r)||"{}"),i=Object.entries(n).filter(Oi).reduce(Ci,{}),o=!!i["4.1.95"];i["4.1.95"]=Date.now(),localStorage.setItem(r,JSON.stringify(i)),t.register("call for page analytics",(function(){return{abcache:o}}))}function xi(e){var t=e.broker,r=e.getConfig,n=e.log,i="ccpa"===r("cmp.model"),o=r("ccpa.scriptBase"),a={cmpVersion:o&&o.split("/").pop()||void 0};__webpack_require__.g[r("cmp.apiHandler")]("getUSPData",null,(function(e,t){var r;t&&(n("encoded data:",e),r=e.uspString,a.uspString=r)})),t.register("call for page analytics",(function(){return a.consent=localStorage.getItem("mol.ads.cmp.consent"),a.cmp=i?"ccpa":void 0,n("sending",a),a}))}function Di(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function ji(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Di(o,n,i,a,s,"next",e)}function s(e){Di(o,n,i,a,s,"throw",e)}a(void 0)}))}}Pi.isAdsFreeSupported=!0,Pi.ccpa={enabledIfDissent:!0},Pi.gdpr={enabledIfDissent:!0},xi.isAdsFreeSupported=!0;var Ri="__bidmax\n",Mi=(0,k.x)("custom-tracking");function Ui(e){return Li.apply(this,arguments)}function Li(){return Li=ji(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=n("bidmax.customTracking.max",1024),Mi("MAX:",i),window.addEventListener("message",function(){var e=ji(regeneratorRuntime.mark((function e(t){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof(n=t.data)&&n.startsWith(Ri)){e.next=3;break}return e.abrupt("return");case 3:o=n.substring(Ri.length),Mi("message received size:",o.length),o.length>i&&Mi("message too long, max",i);try{a=JSON.parse(o),Mi("message:",a),r.emit("send event to bidmax",{type:"custom",payload:a})}catch(e){Mi("Error parsing:",o),console.error(e)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Ni(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Bi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ni(o,n,i,a,s,"next",e)}function s(e){Ni(o,n,i,a,s,"throw",e)}a(void 0)}))}}Ui.isAdsFreeSupported=!0,Ui.ccpa={enabledIfDissent:!0},Ui.gdpr={enabledIfDissent:!0};var qi="mol.ads.entryPoint.sessionId",Fi="mol.ads.entryPoint.data",Vi=function(){return{id:(0,Pn.kb)(),lastVisit:Date.now()}},zi=(0,k.x)("entry-point"),Wi=function(){var e=Bi(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(__webpack_require__.g.RTA&&__webpack_require__.g.RTA.ids&&__webpack_require__.g.RTA.ids.then)){e.next=9;break}return e.next=3,__webpack_require__.g.RTA.ids;case 3:if(t=e.sent,"string"!=typeof(r=t.visit)){e.next=9;break}return n=r.split("."),zi("Using RTA visit id"),e.abrupt("return",n[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Hi=function(){var e=Bi(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zi("Using own session"),(r=JSON.parse(localStorage.getItem(qi)||"{}")).id?r.lastVisit<Date.now()-60*t*1e3&&(zi("Session found in storage but it is too old:",new Date(r.lastVisit).toISOString(),"and max session is",t,"mins"),r=Vi()):(zi("No session found in storage, creating a new one"),r=Vi()),r.lastVisit=Date.now(),localStorage.setItem(qi,JSON.stringify(r)),e.abrupt("return",r.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Gi(e){return Ki.apply(this,arguments)}function Ki(){return Ki=Bi(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=n("bidmax.entryPoint.sessionDurationInMins",28),o=function(){var e=Bi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=Hi(i);case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Bi(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem(Fi)||"{}"),e.next=3,o();case 3:return r=e.sent,zi("Id",r),t.sessionId!==r&&(zi("Entry Point new or too old. Creating another."),n=__webpack_require__.g.PageCriteria,t={sessionId:r,ep:{pt:n.pageType,c:n.channel,s:n.subchannel,r:document.referrer}},localStorage.setItem(Fi,JSON.stringify(t))),zi("Entry Point:",t.ep),e.abrupt("return",{ep:t.ep});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=a(),r.register("call for page analytics",(function(){return s}));case 6:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Xi(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Yi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Xi(o,n,i,a,s,"next",e)}function s(e){Xi(o,n,i,a,s,"throw",e)}a(void 0)}))}}Gi.isAdsFreeSupported=!0,Gi.ccpa={enabledIfDissent:!0},Gi.gdpr={enabledIfDissent:!0};var $i=function(){var e=Yi(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,Xe.gb)((function(){return __webpack_require__.g.pagemeta})),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",{bundle:r.bundleVersion,sync:r.syncBundleVersion,async:r.asyncBundleVersion,video:r.videoBundleVersion});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ji=function(e){var t=e.broker;return new Promise((function(e){t.once("gpt initialized",(function(t){e({gpt:t.getVersion()})}))}))},Qi=function(e){var t=e.broker;return new Promise((function(e){t.once("prebid loaded",(function(t){e({prebid:t.version})}))}))},Zi=function(){var e=Yi(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,Xe.gb)((function(){return __webpack_require__.g.google&&__webpack_require__.g.google.ima&&__webpack_require__.g.google.ima.VERSION})),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",{ima:r});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),eo=function(){var e=Yi(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){if(!__webpack_require__.g.permutive||!__webpack_require__.g.permutive.config||!__webpack_require__.g.permutive.config.apiVersion)return!1;var e=__webpack_require__.g.permutive.config;return{permutiveApi:e.apiVersion,permutiveSdkType:e.sdkType}},e.abrupt("return",(0,Xe.gb)(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to=function(e){var t=e.broker,r=e.getConfig,n=e.log,i={},o={pageMeta:$i,gpt:Ji,prebid:Qi,ima:Zi,permutive:eo},a=r("analytics.external.bundleVersions",[]);n("finding versions for",a),a.forEach((function(t){var r=o[t]&&o[t](e);r?r.then((function(e){n("assigning ".concat(t," version"),e),Object.assign(i,e)}),(function(){return n("error waiting for",t)})):n.error("unable to find handler for ".concat(t," version"))})),t.register("call for page analytics",(function(){return{externals:{versions:i}}}))};to.isAdsFreeSupported=!0,to.ccpa={enabledIfDissent:!0},to.gdpr={enabledIfDissent:!0};var ro=to;function no(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function io(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){no(o,n,i,a,s,"next",e)}function s(e){no(o,n,i,a,s,"throw",e)}a(void 0)}))}}function oo(e){return ao.apply(this,arguments)}function ao(){return ao=io(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n={},e.next=4,r.until("prebid loaded");case 4:i=__webpack_require__.g.pbjs.renderAd,__webpack_require__.g.pbjs.renderAd=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=t[1],s=n[a],u=s.pos,c=s.bidder;r.emit("headerbidder winner",u,c),i.apply(__webpack_require__.g.pbjs,t)},__webpack_require__.g.pbjs.onEvent("bidResponse",(function(e){n[e.adserverTargeting.hb_adid]={pos:e.adUnitCode,bidder:e.bidderCode}}));case 7:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function so(e){var t=e.broker,r=e.getConfig,n={},i=r("bidmax.inputDelay.monitorMax",!1),o=function(e){return function t(r){var o=(r.timeStamp>=1e12?(new Date).getTime():performance.now())-r.timeStamp|0;if(o){i||e.removeEventListener(r.type,t,a);var s="f"+r.type[0],u="m"+r.type[0];n[s]?i&&n[u]<o&&(n[u]=o):(n[s]=o,i&&(n[u]=o))}}},a={capture:!0,passive:!0};window.addEventListener("scroll",o(window),a),document.addEventListener("mousemove",o(document),a),document.addEventListener("click",o(document),a),t.register("call for page analytics",(function(){return{latency:n}}))}oo.ccpa={enabledIfDissent:!0},oo.gdpr={enabledIfDissent:!0},so.isAdsFreeSupported=!0,so.ccpa={enabledIfDissent:!0},so.gdpr={enabledIfDissent:!0};var uo=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"];function co(e){var t=e.broker;__webpack_require__.g.performance&&__webpack_require__.g.performance.memory&&t.register("call for page analytics",(function(){return Promise.resolve({memory:uo.reduce((function(e,t){return e[t]=__webpack_require__.g.performance.memory[t],e}),{})})}))}co.isAdsFreeSupported=!0,co.ccpa={enabledIfDissent:!0},co.gdpr={enabledIfDissent:!0};var lo=["pageViewId","articleId","channel","device","geo","isMobile","isTablet","pageType","sponsored","subchannel","cljVersion","cljNode"];function po(e){e.broker.register("call for page analytics",(function(){return(0,O.ei)(__webpack_require__.g.PageCriteria,lo)}))}function fo(e){var t=e.broker;t.on("page load",(function(){return t.emit("send event to bidmax",{type:"page-load"})}))}function ho(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function go(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ho(o,n,i,a,s,"next",e)}function s(e){ho(o,n,i,a,s,"throw",e)}a(void 0)}))}}function mo(e){e.broker.register("call for page analytics",go(regeneratorRuntime.mark((function e(){var t,r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(__webpack_require__.g.RTA&&__webpack_require__.g.RTA.ids&&__webpack_require__.g.RTA.ids.then){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.next=5,(0,Xe.yq)(3e3,__webpack_require__.g.RTA.ids,new Error);case 5:return t=e.sent,r=t.user,n=t.visit,i={rta:{user:r}},"string"==typeof n&&5===(o=n.split(".")).length&&(i.rta.visit=o[0]),e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(2),console.error("RTA.ids not available"),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))))}function vo(e){e.broker.register("call for page analytics",(function(){return Promise.resolve({localStorage:{total:Object.keys(localStorage).map((function(e){return localStorage.getItem(e)})).reduce((function(e,t){return e+t.length}),0),top10:Object.keys(localStorage).map((function(e){return[e,localStorage.getItem(e).length]})).sort((function(e,t){return t[1]-e[1]})).slice(0,10)}})}))}function yo(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function bo(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){yo(o,n,i,a,s,"next",e)}function s(e){yo(o,n,i,a,s,"throw",e)}a(void 0)}))}}function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(r),!0).forEach((function(t){So(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function So(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||Io(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){if(e){if("string"==typeof e)return ko(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ko(e,t):void 0}}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}po.isAdsFreeSupported=!0,po.ccpa={enabledIfDissent:!0},po.gdpr={enabledIfDissent:!0},fo.isAdsFreeSupported=!0,fo.ccpa={enabledIfDissent:!0},fo.gdpr={enabledIfDissent:!0},mo.isAdsFreeSupported=!0,mo.ccpa={enabledIfDissent:!0},mo.gdpr={enabledIfDissent:!0},vo.isAdsFreeSupported=!0,vo.ccpa={enabledIfDissent:!0},vo.gdpr={enabledIfDissent:!0};var Ao=(0,k.x)("timing"),Eo=["navigationStart","responseEnd","domInteractive","domContentLoadedEventStart","domComplete","fetchStart"],Oo={"first-paint":"paint","first-contentful-paint":"firstContentfulPaint"},Co=function(){if(performance.getEntriesByType){var e=performance.getEntriesByType("paint").filter((function(e){return Oo[e.name]})).map((function(e){return[Oo[e.name],Math.round(e.startTime)]}));return Object.fromEntries(e)}},Po=function(){if(!__webpack_require__.g.performance||!__webpack_require__.g.performance.timing||!__webpack_require__.g.performance.timing.navigationStart)return{};var e=[].concat(function(e){return function(e){if(Array.isArray(e))return ko(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Io(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Eo.map((function(e){return[e,__webpack_require__.g.performance.timing[e]]})).filter((function(e){return 0!==e[1]}))),[["adsBundleStart",adverts.startTime]]).sort((function(e,t){return e[1]-t[1]})),t=e[0],r=e.map((function(e){return[e[0],e[1]-t[1]]})).reduce((function(e,t){var r=To(t,2),n=r[0],i=r[1];return wo(wo({},e),{},So({},n,i))}),{});return r[t[0]]=t[1],r};function xo(e){var t=e.broker,r=t.until("page network data").then((function(e){return To(e,1)[0].network}));t.on("page load",bo(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ao("page load happened, sending timing data to bidmax"),e.next=3,(0,Xe.yq)(1e3,r).catch((function(){return{}}));case 3:n=e.sent,i=wo(wo(wo({},Po()),Co()),n),Ao("sending:",i),t.emit("send event to bidmax",{type:"page-load",payload:i});case 7:case"end":return e.stop()}}),e)}))))}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){Mo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}xo.isAdsFreeSupported=!0,xo.ccpa={enabledIfDissent:!0},xo.gdpr={enabledIfDissent:!0};var No=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__ads_viewability";Uo(this,e),this.startTimestamp=t,this.key=r;var n=JSON.parse(__webpack_require__.g.localStorage.getItem(r)||"{}"),i=Object.keys(n.pending||{}).reduce((function(e,t){return Ro(Ro({},e),{},Mo({},t,{misses:((n.ready[t]||{}).misses||0)+1}))}),{});this.state={ready:Object.keys(n.ready||{}).reduce((function(e,t){return Ro(Ro({},e),{},Mo({},t,Ro(Ro({},n.ready[t]),e[t])))}),i),pending:{}}}var t,r;return t=e,r=[{key:"save",value:function(){__webpack_require__.g.localStorage.setItem(this.key,JSON.stringify(this.state))}},{key:"adRendered",value:function(e){if(this.state.pending[e]){var t=this.state.ready[e]||(this.state.ready[e]={});t.misses=(t.misses||0)+1}this.state.pending[e]=1,this.save()}},{key:"adViewed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();delete this.state.pending[e];var r=this.state.ready[e]||(this.state.ready[e]={});(r.views||(r.views=[])).push(t-this.startTimestamp),this.save()}},{key:"snapshot",value:function(){var e=this.state.ready;return this.state.ready={},this.save(),e}}],r&&Lo(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bo(e){var t=e.broker,r=e.getConfig;if(__webpack_require__.g.localStorage){var n,i,o=r("viewability.waitBeforeForcing",3e3),a=new No(Date.now()),s=function(){n&&(clearTimeout(n),n=void 0)},u=function(){s(),n=setTimeout(c,o)},c=function(){t.emit("send event to bidmax",{type:"ping"}),n=void 0},l=new Set;t.on("ad rendered",(function(e){return a.adRendered(e)})),t.on("ad viewable",(function(e){a.adViewed(e,Date.now()),"billboard"!==e&&!e.startsWith("sky_")||l.has(e)||(l.add(e),u())})),t.once("ad viewable",(function(e){i=!0,u()})),t.intercept("send to bidmax",(function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Do(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Do(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=r[0],o=r[1];s();var u=a.snapshot();if((0,O.xb)(u))return t();t(n,Ro(Ro({},o),{},{viewability:u,first:i})),i=void 0}))}}Bo.ccpa={enabledIfDissent:!0},Bo.gdpr={enabledIfDissent:!0};var qo=__webpack_require__(9208),Fo=__webpack_require__.n(qo);function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wo(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}var Ho=(0,k.x)("connection-type"),Go=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=Fo()(navigator,"connection.type"),Ho("fetching edgedata from akamai"),e.next=5,Bt("https://www.dailymail.co.uk/geo/edgedata.html",{pragma:"no-cache","cache-control":"no-cache"},"get").then((function(e){return e.text()})).then((function(e){return e}));case 5:i=e.sent,o={},i.match(/>(.*?)</g).forEach((function(e){var t=Vo(e.replace(/>|<|\s+/g,"").split(":"),2),r=t[0],n=t[1];o[r]=n})),a={connection:n,akamaiConnectionType:o.network_type,akamaiThroughput:o.throughput,akamaiNetwork:o.network},Ho(a),r.emit("page network data",{network:a});case 11:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Wo(o,n,i,a,s,"next",e)}function s(e){Wo(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();Go.isAdsFreeSupported=!0,Go.ccpa={enabledIfDissent:!0},Go.gdpr={enabledIfDissent:!0};var Ko=Go;function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(r),!0).forEach((function(t){Jo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ea(e){return e.split(/\s*,\s*/g).map((function(e){return e.split(/x/gi,2).map(Number)}))}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){ia(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oa(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("bidders.33across",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.33across.display",{adUnits:{}}),i=r("slotDescriptions.initial",{}),o=Object.entries(n.adUnits).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1],o=n.sizes||i[r]&&i[r].size;if(o)return{code:r,siteId:n.siteId,sizes:o}})).filter((function(e){return e})).map((function(e){return{code:e.code,bids:[{bidder:"33across",params:{siteId:e.siteId,productId:"siab"}}],mediaTypes:{banner:{sizes:e.sizes}}}}));t.register("provide prebid adUnits",(function(){return o}))},vendorIds:{gdpr:[58]}}),(0,Ye.fo)("bidders.adform.display",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log;n("enabled");var i=Object.entries(r("plugins.bidders.adform.display",{})).map((function(e){var t=Qo(e,2),r=t[0];return $o($o({},function(e){var t=Qo(e.split(/\s+/g,2),2),r=t[0],n=t[1];return{mid:Number(r),sizes:ea(n)}}(t[1])),{},{code:r})})).map((function(e){return{code:e.code,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:"adform",params:{mid:e.mid}}]}}));t.register("provide prebid adUnits",(function(){return n.info("adUnits",i),i}))},vendorIds:{gdpr:[50]}}),(0,Ye.fo)("bidders.adform.v2.display",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=Object.entries(r("plugins.bidders.adform.v2.display.adUnits",{})).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ta(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ta(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],i=t[1];return{code:n,bids:[{bidder:"adform",params:{mid:i.mid}}],mediaTypes:{banner:{sizes:i.sizes||r("slotDescriptions.initial.".concat(n,".size"),[])}}}}));n.extend("adUnitTemplates")(i),t.register("provide prebid adUnits",(function(){return i}))},vendorIds:{gdpr:[50]}});var sa="pubcid.org";function ua(e){var t=e.broker,r=e.getConfig,n=e.log;if(!r("plugins.enabled",[]).includes("trackers.pubcommon")||!r("amazon.pubcommon.enabled",!1))return n("PubCommonId is disabled"),{addPubcommonId:function(e){return e}};var i={},o=t.until("pubcommonId cookie set").then((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];n("".concat(sa,":"),t),i[sa]=t})),a=r("amazon.pubcommon.loadScript",!1)?function(e){var t=e.broker,r=e.getConfig;window.pubcid_options={type:"cookie",create:!1};var n=r("amazon.pubcommon.pubcidScript","//www.dailymail.co.uk/static/mol-adverts/demo/mol-21682/dist/pubcid.min.js");return t.invoke("import script",n)}(e):Promise.resolve(),s=(0,Xe.Ye)(r("amazon.pubcommon.loadTimeout",3e3),[a,o]);return{addPubcommonId:function(e){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s;case 2:if(i[sa]){t.next=5;break}return n("timeout while awaiting for pubcommong Id"),t.abrupt("return",e);case 5:return t.abrupt("return",e.map((function(e){return na(na({},e),{},{slotParams:na(na({},e.slotParams||{}),i)})})));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){oa(o,n,i,a,s,"next",e)}function s(e){oa(o,n,i,a,s,"throw",e)}a(void 0)}))})();var t}}}var ca="mol.ads.cmp.consent",la=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,n){ma()(e,t,(function(i,o){o?r(i):n(new Error("Failed to call __cmp(".concat(e,", ").concat(t,")")))}))}))},da=(0,Vn.ri)((function(){return la("hasConsentedToAll")})),pa=(0,Vn.ri)((function(){return la("hasChoiceBeenMade")})),fa=function(){return ba()&&(0,b.U2)("plugins.enabled").includes("cmp")&&(0,b.U2)("cmp.enable.userAgents",[".*"]).some((function(e){return navigator.userAgent.match(new RegExp(e))}))},ha=function(){return"US"===PageCriteria.geo},ga=function(){return"CA"===__webpack_require__.g.PageCriteria.region},ma=function(){return __webpack_require__.g.__uspapi},va=function(){return"yes"===localStorage.getItem("mol.ads.cmp.consent")},ya=function(){return null!==localStorage.getItem("mol.ads.cmp.consent")},ba=function(){return(0,b.U2)(ha()?"ccpa.scriptBase":"cmp.scriptBase")},_a=["cpm","bid"],wa=["targeting"];function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(r),!0).forEach((function(t){Ia(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Aa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ea(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oa(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ca(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Oa(o,n,i,a,s,"next",e)}function s(e){Oa(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Pa={},xa={},Da=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]),ja={sticky_banner_gallery_top:"sticky_banner_gallery_top",sticky_banner_gallery_bottom:"sticky_banner_gallery_bottom",jw_video_desktop:"jwplayer",jw_video_tablet:"jwplayer",jw_video_mobile:"jwplayer",ctp_video_desktop:"video",ctp_video_tablet:"video",ctp_video_mobile:"video",ap_video_desktop:"video",ap_video_tablet:"video",ap_video_mobile:"video"},Ra=function(e){var t=(0,I.ap)(),r=t.width,n=t.height,i=e.sizeMapping?(0,vn.T3)(e.sizeMapping,e.sizes,[r,n]):e.sizes;return{slotID:e.slotID,sizes:i}};function Ma(e){var t,r=e.broker,n=e.getConfig,i=e.log,o=n("amazon.deal",!0);return ha()&&(i("In CCPA"),t=la("getUSPData")),r.invoke("load script","//c.amazon-adsystem.com/aax2/apstag.js","apstag").then(function(){var e=Ca(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return i.warn("Could not load apstag"),e.abrupt("return");case 3:if(a={pubID:"3065",adServer:"googletag",videoAdServer:"DFP",deals:o},e.prev=4,!t){e.next=11;break}return e.next=8,(0,Xe.yq)(n("amazon.millisWaitForUspData",1500),t);case 8:e.t0=e.sent.uspString,a.params={us_privacy:e.t0},i(a);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),i.warn("Error while calling getUSPData, us_privacy will be omitted",e.t1);case 16:r.init(a);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}())}function Ua(e,t){var r=e.broker,n=e.log;t.map(function(){var e=Ca(regeneratorRuntime.mark((function e(t){var i,o,a,s,u,c,l,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i=t.cpm,o=t.bid,a=Ea(t,_a),s=a.sizes,u=void 0===s?[]:s,i>=0?(c=ja[o.slotID]||o.slotID,l=!!o.amzndeals,d=u.map((function(e){var t=ka(e,2),r=t[0],n=t[1];return"".concat(r,"x").concat(n)})),p=Ta({bidder:"tia",cpm:Math.floor(100*i),amazonDeal:l,requestSizes:d},a),n("broadcast bid received",c,p),r.emit("bid",c,p)):n.warn("Invalid lookup value ".concat(i," for code ").concat(o.amznbid))}catch(e){n.error("error broadcasting slot:",t,e)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function La(e){var t=e.amznbid&&!("1"===e.amznbid||"2"===e.amznbid),r=e.targeting&&e.targeting.amznbid&&!("1"===e.targeting.amznbid||"2"===e.targeting.amznbid);return t||r}function Na(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=Ca(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.log,i=t.getConfig,o=t.broker,a=t.pApstagInitialised,s=t.addPubcommonId,u=i("amazon.priceLookup","/abe/a9/price"),c=i("auction.maxTime",2e3),n("requesting bids for:",r.map((function(e){return e.slotID})).join(", ")),l={},(d=r.filter((function(e){return e}))).forEach((function(e){var t=e.slotID;(Pa[t]||(Pa[t]=[])).push(new Promise(function(){var e=Ca(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l[t]=r;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),e.next=9,s(d);case 9:d=e.sent,a.then((function(){__webpack_require__.g.apstag.fetchBids({slots:d,timeout:c},function(){var e=Ca(regeneratorRuntime.mark((function e(t){var r,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("bids response for:",t.map((function(e){return e.slotID})),t),r=t.reduce((function(e,t){var r=e.noBids,n=e.realBids;return La(t)?n.push(t):r.push(t),{realBids:n,noBids:r}}),{noBids:[],realBids:[]}),i=r.noBids,(a=r.realBids)&&a[0]&&a[0].targeting&&(a=a.map((function(e){var t=e.targeting;return Ta(Ta({},Ea(e,wa)),t)}))),a&&a[0]&&n("bids targeting unwrapped:",a),e.next=6,Promise.all(a.map((function(e){return e.amznbid?Nt({url:"".concat(u,"/").concat(e.amznbid)}):0})));case 6:return s=e.sent.map(Number.parseFloat),e.next=9,Ua({broker:o,log:n},a.map((function(e,t){return Ta(Ta({},d.find((function(t){return t.slotID===e.slotID}))),{},{cpm:s[t],bid:e})})));case 9:a.forEach((function(e,t){var r={cpm:s[t],bid:e};return n("bid for ".concat(e.slotID,":"),r),(0,l[e.slotID])(r)})),i.forEach((function(e){return n("no bid for ".concat(e.slotID)),(0,l[e.slotID])({})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 11:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function qa(e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=Ca(regeneratorRuntime.mark((function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.pos,i=r.id,o=t.log,a=Pa[i]&&Pa[i].shift()){e.next=10;break}if(o("No available bid for '".concat(i,"', requesting new one")),Na(t,[Ra(xa[i]||xa[n])]),Pa[i]){e.next=9;break}return o("no bid promise for id",i),e.abrupt("return",Promise.resolve({}));case 9:a=Pa[i].shift();case 10:return o("Taking bid for '".concat(i,"':"),a),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Va(e){Object.values(e).forEach((function(e){var t=e.pos,r=e.dfpPos,n=e.id,i=e.size;xa[t]=Ta(Ta({},xa[t]),{},{slotID:n,sizes:i}),Da.has(r)&&(xa[t].slotName=r)}))}function za(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=Ca(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.broker,i=t.log,e.prev=1,e.t0=O.Ev,e.next=5,(0,Xe.yq)(1e3,n.invoke("get IrisTV tags",r),"Failed to get IrisTV tags for videoId ".concat(r," in 1000ms"));case 5:return e.t1=e.sent,e.t2={irisid:"iris_id",iriscat:"categories"},(s=(0,e.t0)(e.t1,e.t2)).iriscat=null===(o=(a=s.iriscat).join)||void 0===o?void 0:o.call(a,","),e.abrupt("return",s);case 12:return e.prev=12,e.t3=e.catch(1),i.error(e.t3),e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wa.apply(this,arguments)}function Ha(e){if(!e||!e.bid)return{};var t=e.bid.helpers.qsParams();return t?t.replace(/^&/,"").split("&").reduce((function(e,t){var r=ka(t.split("="),2),n=r[0],i=r[1];return e[n]=i,e}),{}):{}}function Ga(e,t,r){var n=e.log,i=Object.entries(t).filter((function(e){var t=ka(e,2);return t[0],"immediate"===t[1].type})).map((function(e){var t=ka(e,2),r=t[0];return t[1],r})).filter((function(e){return!Da.has(e)&&r[e]&&r[e].earlyBidding})).map((function(e){return[e,xa[e]]})).filter((function(e){return ka(e,2)[1]})).filter((function(e){var t=ka(e,2)[1];return!Pa[t.slotID]}));i.length&&(n("early bidding for",i.map((function(e){var t=ka(e,2),r=t[0],n=t[1];return"pos: ".concat(r,", id: ").concat(n.slotID)}))),i.forEach((function(e){var t=ka(e,2),r=t[0],n=t[1];ja[n.slotID]=r})),Na(e,i.map((function(e){var t=ka(e,2);return t[0],t[1]}))))}function Ka(){return Ka=Ca(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=t.log,o=n("slots.enabled",{}),a=n("plugins.enabled").includes("irisTv"),s=Ma(t),t.pApstagInitialised=s,[{pos:"jwplayer",configItem:"amazonPreroll.jwplayer"},{pos:"video.ap",configItem:"amazonPreroll.auto-play"},{pos:"video.ctp",configItem:"amazonPreroll"}].forEach((function(e){var t=e.pos,r=e.configItem,i=n(r).slotId;i&&(xa[t]={slotID:i,mediaType:"video"})})),Va(u=n("slotDescriptions.initial",{})),r.on("slot descriptions updated",Va),r.register("get tags",function(){var e=Ca(regeneratorRuntime.mark((function e(r){var n,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.slot,o=n.dfpPos||n.pos,a=n.id,ja[a]=o,e.prev=4,e.next=7,qa(t,{id:a,pos:o});case 7:return s=e.sent,u=Ha(s),i("display params for ".concat(o),u),e.abrupt("return",(0,O.xb)(u)?{}:{type:"bid",pos:o,cpm:Math.round(100*s.cpm)/100,bidderCode:"tia",tags:u});case 13:e.prev=13,e.t0=e.catch(4),i.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()),r.on("prepare to refresh ads",(function(e){var r=e.map((function(e){return xa[e]}));i("preparing to refresh:",r),Na(t,r)})),r.register("get video tags",function(){var e=Ca(regeneratorRuntime.mark((function e(r){var n,o,s,u,c,l,d,p,f,h,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.slot.pos,o=r.autoplay,s=r.platform,u=void 0===s?"dmplayer":s,c=r.offset,l=void 0===c?0:c,d=r.videoId,p=r.auctionId,f="jwplayer"===n?n:o?"video.ap":"video.ctp",e.t0=Ta,e.t1=Ta({},xa[f]),e.t2={},e.t3=u,e.t4=l,!d||!a){e.next=13;break}return e.next=10,za(t,d);case 10:e.t5=e.sent,e.next=14;break;case 13:e.t5={};case 14:return e.t6=e.t5,e.t7={platform:e.t3,offset:e.t4,slotParams:e.t6},h=(0,e.t0)(e.t1,e.t2,e.t7),i("get video tags, auctionId: ".concat(p,", offset: ").concat(l,", slotId: ").concat(h.slotID)),Na(t,[h]),e.next=21,qa(t,{pos:f,id:h.slotID});case 21:return g=e.sent,i("bid response auctionId: ".concat(p,", offset: ").concat(l,", slotId: ").concat(h.slotID),g),m=Ha(g),i("video params, auctionId: ".concat(p,", offset: ").concat(l,", slotId: ").concat(h.slotID),m),e.abrupt("return",(0,O.xb)(m)?{}:{type:"bid",pos:f,offset:l,auctionId:p,cpm:Math.round(100*g.cpm)/100,bidderCode:"tia",tags:{cust_params:m}});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ga(t,o,u);case 14:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach((function(t){$a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ye.fo)("bidders.amazon",{run:function(e){!function(e){Ka.apply(this,arguments)}(Ya(Ya({},e),ua(e)))},vendorIds:{gdpr:[793]},purposeIds:{gdpr:[1]}}),(0,Ye.fo)("bidders.appnexusSkin",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.log,n=(0,b.U2)("plugins.appnexus.minWidth",1224),i=(0,b.U2)("plugins.appnexus.skin",Ja);if(r("config:",{minWidth:n,adUnits:i}),__webpack_require__.g.innerWidth<n)r("bailing, viewport width too small:",__webpack_require__.g.innerWidth);else{var o=i.map((function(e){return e.bids.map((function(e){return e.params.placementId}))})).flat();r("known skins:",o);var a=new Set(o);t.register("provide prebid adUnits",(function(){return i}));var s={};t.on("prebid loaded",(function(e){e.onEvent("bidRequested",(function(e){var t=e.bidderCode,r=e.bids;"appnexus"===t&&r.forEach((function(e){var t=e.bidId,r=e.params.placementId;s[t]=r}))}))})),t.register("prebid reduce bidderSettings",(function(e){return e.appnexus||(e.appnexus={}),e.appnexus.adserverTargeting||(e.appnexus.adserverTargeting=[]),e.appnexus.adserverTargeting.push({key:"hb_skin",val:function(e){var t=s[e.requestId];return a.has(t)}}),e}))}},vendorIds:{gdpr:[32]}});var Ja=[{code:"billboard",mediaTypes:{banner:{sizes:[[970,250],[728,90]]}},bids:[{bidder:"appnexus",params:{placementId:19451012}}]}];function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Za(e){return function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?es(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(r),!0).forEach((function(t){ns(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ns(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function as(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(0,Ye.fo)("bidders.groupm.v2.display",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=Math.random(),o=r("plugins.bidders.groupm.v3.chance",.1);if(n("groupm chance: ".concat(i,", 'request? ").concat(i<o)),o<=i)n("chance condition not met, bailing");else{var a=Object.entries(r("plugins.bidders.groupm.v3.adUnits",{})).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],i=t[1];return{code:n,bids:[{bidder:"groupm",params:{placementId:i.placementId}}],mediaTypes:{banner:{sizes:i.sizes||r("slotDescriptions.initial.".concat(n,".size"),[])}}}}));n.extend("adUnitTemplates")(a),t.register("provide prebid adUnits",(function(){return a})),t.register("prebid reduce bidderSettings",(function(e){return e.groupm||(e.groupm={}),e.groupm.adserverTargeting||(e.groupm.adserverTargeting=[]),e.groupm.adserverTargeting.push({key:"hb_deal_groupm"}),e}))}},vendorIds:{gdpr:[98]}}),(0,Ye.fo)("bidders.improveDisplay",{purposeIds:{gdpr:[1]},vendorIds:{gdpr:[179]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.improveDisplay",[]).map((function(e){var t;return{code:e.code,mediaTypes:{banner:{sizes:e.sizes||(null===(t=(0,S.get)(e.code))||void 0===t?void 0:t.size)}},bids:[{bidder:"improvedigital",params:{placementId:e.placementId}}]}}));n.extend("adUnits")(i),t.register("provide prebid adUnits",(function(){return i}))}}),(0,Ye.fo)("bidders.improveSkins",{purposeIds:{gdpr:[1]},vendorIds:{gdpr:[179]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.improveSkins",[]).map((function(e){var t;return{code:e.code,mediaTypes:{banner:{sizes:e.sizes||(null===(t=(0,S.get)(e.code))||void 0===t?void 0:t.size)}},bids:[{bidder:"improvedigital",params:{placementId:e.placementId}}]}}));n.extend("adUnits")(i),t.register("provide prebid adUnits",(function(){return i})),t.register("prebid reduce bidderSettings",(function(e){var t;return rs(rs({},e),{},{improvedigital:rs(rs({},e.improvedigital||{}),{},{adserverTargeting:[].concat(Za((null===(t=e.improvedigital)||void 0===t?void 0:t.adserverTargeting)||[]),[{key:"hb_skin",val:function(){return!0}}])})})}))}}),(0,Ye.fo)("bidders.ix.v2.display",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=Object.entries(r("plugins.bidders.ix.v2.display.adUnits",{})).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return is(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?is(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],i=t[1];return{code:n,bids:[{bidder:"ix",params:{siteId:i.siteId}}],mediaTypes:{banner:{sizes:i.sizes||r("slotDescriptions.initial.".concat(n,".size"),[])}}}}));n.extend("adUnitTemplates")(i),t.register("provide prebid adUnits",(function(){return i}))},vendorIds:{gdpr:[10]}}),(0,Ye.fo)("kargo",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.kargo.display",{adUnits:[]}).adUnits;if(t.invoke("load script","https://storage.cloud.kargo.com/ad/network/klick/klick-dailymail.js",null,{},(function(){return!0})),!(0,O.xb)(r)){var n=Object.keys(r).map((function(e){return{code:e,bids:[{bidder:"kargo",params:{placementId:r[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:r[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return n}))}},vendorIds:{gdpr:[972]}}),(0,Ye.fo)("bidders.mediagrid.v2.display",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=Object.entries(r("plugins.bidders.mediagrid.v2.display.adUnits",{})).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return os(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],i=t[1],o=i.sizes;return{code:n,bids:[{bidder:"grid",params:{uid:i.uid}}],mediaTypes:{banner:{sizes:o||r("slotDescriptions.initial.".concat(n,".size"),[])}}}}));n.extend("adUnitTemplates")(i),t.register("provide prebid adUnits",(function(){return i}))},vendorIds:{gdpr:[32]}});var ss=function(e){return Array.isArray(e)&&2===e.length},us=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adsDescriptions=t;var r=(0,I.ap)(),n=r.width,i=r.height;this.browserWidth=n,this.browserHeight=i}var t,r;return t=e,(r=[{key:"getSizes",value:function(e){var t=this.adsDescriptions[e];if(t)return t.sizeMapping?(0,vn.T3)(t.sizeMapping,t.size,[this.browserWidth,this.browserHeight]):t.size.filter(ss)}}])&&as(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ls=MobileUtils.isMobile()?{sticky_banner:1420432285}:{billboard:1420432282,sky_right_top:1420432283,sky_left_top:1420432284};function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ps(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||gs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(e,t){if(e){if("string"==typeof e)return ms(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ms(e,t):void 0}}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function ys(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ye.fo)("bidders.ozone",{purposeIds:{gdpr:[1]},vendorIds:{gdpr:[524]},run:function(e){var t=e.broker,r=e.getConfig,n=e.pageCriteria,i=void 0===n?{}:n,o=e.log,a=new us(r("slotDescriptions.initial",{})),s=r("plugins.bidders.ozone.publisherId","OZONEDMGT002"),u=r("plugins.bidders.ozone.siteId","4204204250"),c=Object.entries(r("plugins.bidders.ozone.display.adUnits",ls)).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],o=t[1];return{code:n,mediaTypes:{banner:{sizes:r("slotDescription.".concat(n,".size"),a.getSizes(n))}},bids:[{bidder:"ozone",params:{placementId:o,publisherId:s,siteId:u,customData:[{settings:{},targeting:{page:"".concat(i.pageType,":").concat(i.channel)}}]}}]}}));t.register("provide prebid adUnits",(function(){return o.info("adUnits",c),c}))}}),(0,Ye.fo)("bidders.rhythmOne",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.rhythmOne.adUnits",{}),o=new us(r("slotDescriptions.initial",{})),a=Object.entries(i).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ds(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ds(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],i=t[1],a=i.placementId,s=i.sizes||o.getSizes(r);if(s)return{code:r,sizes:s,mediaTypes:{banner:{sizes:s}},bids:[{bidder:"rhythmone",params:{placementId:a}}]};n("no adDescription for pos: ".concat(r))})).filter((function(e){return e}));t.register("provide prebid adUnits",(function(){return a}))},vendorIds:{gdpr:[36,162]}});var bs=(I.SP.debugBidder||"").split(",").map((function(e){return e.trim()}))||[];function _s(e){return e.match(/(\d+x\d+,?\s*)+$/g)[0].trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}var ws=function(e,t){var r=(0,I.ap)().width,n=e(t,{adUnits:{}}),i=n.adUnits,o=void 0===i?{}:i,a=n.wideSkiesAdUnits,s=o;return r>=1580&&a&&(s=fs(fs({},o),a)),s};function Ss(e,t,r){var n=[],i=function(t,i){return n.push({code:t,bids:[{bidder:e,params:r(i,t)}],mediaTypes:{banner:{sizes:_s(i)}}})};return Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?r.forEach((function(t){return i(e,t)})):i(e,r)})),n}function Ts(e,t,r){var n=[],i=function(t,i){return n.push({code:t,bids:[{bidder:e,params:r(i.split(" ").filter((function(e){return e})),t)}],mediaTypes:{banner:{sizes:_s(i)}}})};return Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?r.forEach((function(t){return i(e,t.trim())})):i(e,r)})),n}function Is(e){if(function(e){var t=function(t){throw new Error("providePrebidDisplayConfig error for '".concat(e.bidder,"': ").concat(t))};("object"!==vs(e)||Array.isArray(e))&&t("`config` must be an object."),["broker","getConfig","configKeys","bidder"].forEach((function(r){e[r]||t("'config' must contain mandatory key '".concat(r,"'."))}));var r={adapterName:function(r){"string"!=typeof r&&t("`adapterName` must be a string."),e.aliasedName||t("with `adapterName`, `aliasedName` is mandatory.")},aliasedName:function(r){"string"!=typeof r&&t("`aliasedName` must be a string."),e.adapterName||t("with `aliasedName`, `adapterName` is mandatory.")},broker:function(e){e instanceof T.Jj||t("`broker` must be an instance of the class `Broker`.")},getConfig:function(e){"function"!=typeof e&&t("`getConfig` error: must be a function.")},configKeys:function(e){("string"!=typeof e&&!Array.isArray(e)||Array.isArray(e)&&e.find((function(e){return"string"!=typeof e})))&&t("`configKeys` must be a string or an array of strings.")},configKey:function(e){"string"!=typeof e&&t("`configKey` must be a string.")},bidder:function(e){"string"!=typeof e&&t("`bidder` must be a string.")},chance:function(e){isNaN(e)&&t("`chance` must be a number.")},getBidsParams:function(e){"function"!=typeof e&&t("`getBidParams` must be a function.")},bidderSettings:function(e){var r="`bidderSettings` must be an Object or an array of Objects { key : <String>, val: <Function> }.";"object"===vs(e)||Array.isArray(e)||t(r);var n=function(e){var n=["key","val"];Object.entries(e).forEach((function(e){var i=hs(e,2),o=i[0],a=i[1];n.find((function(e){return e===o}))||t(r),"key"===o&&"string"!=typeof a&&t(r),"val"===o&&"function"!=typeof a&&t(r)}))};"object"!==vs(e)||Array.isArray(e)||n(e),Array.isArray(e)&&e.forEach((function(e){return n(e)}))}};Object.entries(e).forEach((function(e){var t=hs(e,2),n=t[0],i=t[1];r[n]&&r[n](i)}))}(e),!(e.chance&&e.chance<=Math.random())){var t=e.broker,r=e.getConfig,n=e.configKeys,i=e.bidder,o=e.paramsPerSize,a=e.getBidsParams,s=o?ks:Ts,u=null,c={};if(Array.isArray(n)){if(u=[],!(u=n.map((function(e){return c[e]=ws(r,e),u.concat(s(i,c[e],a))}))).length)return!1}else{if(c[n]=ws(r,n),(0,O.xb)(c[n]))return!1;u=s(i,c[n],a)}return function(e,t,r,n){var i=t.bidder;bs.find((function(e){return"*"===e||e===i}))&&(console.log("--------------\x3e ".concat(i," configs <--------------")),function(e){return function(e){if(Array.isArray(e))return ms(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.configKeys||t.configKey).forEach((function(t){console.log("-> ".concat(t,":"),e(t))})),console.log("--------------\x3e ".concat(i," adUnits <--------------")),Object.entries(r).forEach((function(e){var t=hs(e,2),r=t[0],n=t[1];console.log("-> ".concat(r,":"),n)})),console.log("--------------\x3e ".concat(i," prebid config <--------------")),console.log("->",n))}(r,e,c,u),t.register("provide prebid adUnits",(function(){return u})),function(e){var t=e.adapterName,r=e.aliasedName,n=e.broker;t&&r&&n.register("provide bidder alias",(function(){return{adapterName:t,aliasedName:r}}))}(e),function(e){var t=e.broker,r=e.bidderSettings,n=e.bidder,i=e.adapterName,o=e.aliasedName;if(r){var a=i&&o||n;t.register("prebid reduce bidderSettings",(function(e){return e[a]=e[a]||{},e[a].adserverTargeting=e[a].adserverTargeting||[],Array.isArray(r)?e[a].adserverTargeting.concat(r):e[a].adserverTargeting.push(r),e}))}}(e),function(e){var t=e.bidder,r=e.asyncUpdate,n=e.broker;r&&n.emit("prebid config async update",ys({},t,r))}(e),!0}}function ks(e,t,r){var n=[],i=function(t,i){var o=_s(i);n.push({code:t,bids:o.map((function(n){return{bidder:e,params:r(i.split(" ").filter((function(e){return e})),n,t)}})),mediaTypes:{banner:{sizes:o}}})};return Object.keys(t).forEach((function(e){var r=t[e];Array.isArray(r)?r.forEach((function(t){return i(e,t)})):i(e,r)})),n}function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){Os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Os(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){xs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ds(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return js(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?js(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function js(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Us(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ye.fo)("bidders.rubiMM2",{purposeIds:{gdpr:[1]},run:function(e){var t=e.getConfig,r=e.broker,n=e.log,i=(0,I.ap)().width>1580,o=t("plugins.bidders.rubiMM2.display",{adUnits:{},wideSkiesAdUnits:[]}),a=o.accountId,s=o.siteId,u=o.adUnits,c=o.wideSkiesAdUnits;if(n("adUnits",u),!(0,O.xb)(u)){i&&c&&(u=Es(Es({},u),c));var l=Ss("rubi_mm2",u,(function(e){var t={area:[__webpack_require__.g.adAreaId]};return{zoneId:e.split(" ")[0],inventory:t,siteId:s.toString(),accountId:a.toString()}}));n("transformed",l),r.register("provide prebid adUnits",(function(){return l})),r.register("provide bidder alias",(function(){return{adapterName:"rubicon",aliasedName:"rubi_mm2"}})),r.emit("prebid config async update",{rubi_mm2:{singleRequest:!0}})}},vendorIds:{gdpr:[52]}}),(0,Ye.fo)("bidders.sharethrough.v2.display",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=Object.entries(r("plugins.bidders.sharethrough.v2.display.adUnits",{})).map((function(e){var t=Ds(e,2),n=t[0],i=t[1];return{code:n,bids:[{bidder:"sharethrough",params:{pkey:i.pkey}}],mediaTypes:{banner:{sizes:i.sizes||r("slotDescriptions.initial.".concat(n,".size"),[])}}}}));n.extend("adUnitTemplates")(i),t.register("provide prebid adUnits",(function(){return i}));var o=i.reduce((function(e,t){var r=t.code,n=t.mediaTypes.banner.sizes;return Ps(Ps({},e),{},xs({},r,function(e){return e.sort((function(e,t){var r=Ds(e,2),n=r[0],i=r[1],o=Ds(t,2);return o[0]*o[1]-n*i}))[0]}(n)))}),{});n("largestSizeForPos",o),t.register("prebid reduce bidderSettings",(function(e){return e.sharethrough||(e.sharethrough={}),e.sharethrough.adserverTargeting||(e.sharethrough.adserverTargeting=[]),e.sharethrough.adserverTargeting.push({key:"hb_size",val:function(e){return(null==o?void 0:o[e.adUnitCode])||e.size}}),e}))},vendorIds:{gdpr:[80]}}),(0,Ye.fo)("bidders.smartAdServer",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.smartAdServer.adUnits",{}),o=new us(r("slotDescriptions.initial",{})),a=r("plugins.bidders.smartAdServer.siteId",395440),s=r("plugins.bidders.smartAdServer.pageId",1352205),u=Object.entries(i).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],i=t[1],u=i.formatId,c=i.sizes||o.getSizes(r);if(c)return{code:r,sizes:c,mediaTypes:{banner:{sizes:c}},bids:[{bidder:"smartadserver",params:{formatId:u,pageId:s,siteId:a}}]};n("no adDescription for pos: ".concat(r))})).filter((function(e){return e}));t.register("provide prebid adUnits",(function(){return u}))},vendorIds:{gdpr:[45]}}),(0,Ye.fo)("bidders.verizon2",{purposeIds:{gdpr:[1]},vendorIds:{gdpr:[25]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.verizon.singleRequestMode",!1),o=r("plugins.bidders.verizon.display",{}),a=i?"yahoossp":"aol";i&&t.once("prebid loaded",(function(e){e.setConfig({yahoossp:{endpoint:"https://pubgw.ads.yahoo.com/bid/prebid",singleRequestMode:!0}})}));var s=o.adUnits&&Object.entries(o.adUnits).map((function(e){var t,r,n,i,s,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ms(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ms(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t=u[0],r=u[1],i=(n=o).dcn,s=n.posPrefix,{code:t,bids:[{bidder:a,params:{dcn:i,pos:"".concat(s,"_").concat(t)}}],mediaTypes:{banner:{sizes:r}}}}));s&&s.length>0&&t.register("provide prebid adUnits",(function(){return s})),n("config:",{singleRequestMode:i,bidder:a,adUnits:s})}}),(0,Ye.fo)("bidders.verizon.v3.display",{purposeIds:{gdpr:[1]},vendorIds:{gdpr:[25]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.verizon.v2.singleRequestMode",!1),o=r("plugins.bidders.verizon.v2.display",{}),a=i?"yahoossp":"aol";i&&t.once("prebid loaded",(function(e){e.setConfig({yahoossp:{endpoint:"https://pubgw.ads.yahoo.com/bid/prebid",singleRequestMode:!0}})}));var s=o.adUnits&&Object.entries(o.adUnits).map((function(e){var t,n,i,s,u,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Us(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Us(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t=c[0],n=c[1].sizes,s=(i=o).dcn,u=i.posPrefix,{code:t,bids:[{bidder:a,params:{dcn:s,pos:"".concat(u,"_").concat(t)}}],mediaTypes:{banner:{sizes:n||r("slotDescriptions.initial.".concat(t,".size"),[])}}}}));s&&s.length>0&&t.register("provide prebid adUnits",(function(){return s})),n("config:",{singleRequestMode:i,bidder:a,adUnits:s})}});var qs=(0,I.ap)().width>1580;function Fs(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.adyoulike.display",{adUnits:[]}),n=r.adUnits,i=r.wideSkiesAdUnits;if(qs&&i&&(n=Ns(Ns({},n),i)),!(0,O.xb)(n)){var o=Object.keys(n).map((function(e){return{code:e,bids:[{bidder:"adyoulike",params:{placement:n[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return o}))}}function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ws(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Hs(e,t){var r,n=(r=regeneratorRuntime.mark((function r(){var n,i,o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.invokeAll({message:["get admantx tags"],timeout:t});case 2:return n=r.sent,i=Vs(n,1),o=i[0],a={},o&&(a["ias-bsp"]=o),r.abrupt("return",a);case 8:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){Ws(o,n,i,a,s,"next",e)}function s(e){Ws(o,n,i,a,s,"throw",e)}a(void 0)}))})().catch((function(){return{}}));return n}function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(r),!0).forEach((function(t){Xs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ys(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function $s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ys(o,n,i,a,s,"next",e)}function s(e){Ys(o,n,i,a,s,"throw",e)}a(void 0)}))}}Fs.vendorIds={gdpr:[259]},Fs.purposeIds={gdpr:[1]};var Js=(0,I.ap)().width>1580;function Qs(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.appnexus.display",{adUnits:[]}),i=n.adUnits,o=n.wideSkiesAdUnits,a=Hs(t,r("plugins.appnexus.dependenciesTimeout",2e3)),s=function(e,t,r){return{code:t,bids:[{bidder:"appnexus",params:{keywords:e,placementId:r.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:r.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}};(0,O.xb)(i)||t.register("provide prebid adUnits",$s(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ks,e.t1={area:[__webpack_require__.g.adAreaId]},e.next=4,a;case 4:return e.t2=e.sent,t=(0,e.t0)(e.t1,e.t2),r=[],Js&&o&&(i=Ks(Ks({},i),o)),Object.keys(i).map(function(){var e=$s(regeneratorRuntime.mark((function e(n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o="string"==typeof(o=i[n])?[o]:o).forEach((function(e){r.push(s(t,n,e))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))))}function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(r),!0).forEach((function(t){tu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Qs.vendorIds={gdpr:[32]},Qs.purposeIds={gdpr:[1]};var ru=I.SP["mol.ads.appNexus.debug"],nu=I.SP.testmode;function iu(e){var t=e.broker,r=e.getConfig,n=eu({area:[__webpack_require__.g.adAreaId]},nu?{testmode:nu.split(",")}:void 0),i=r("plugins.bidders.appnexus.outstream",{adUnits:[]}).adUnits;(0,O.xb)(i)||t.register("provide prebid adUnits",(function(){return function(e,t,r,i){var o=[],a=function(t,r){return o.push({code:t,bids:[{bidder:"appnexus",params:(i=r.split(" ").filter((function(e){return e})),a=t,{placementId:i[0],keywords:eu(eu({},ru?{pos:a}:void 0),n),video:{skippable:!1,playback_method:["auto_play_sound_off"]}})}],mediaTypes:{video:fs(fs({},e("plugins.slots.outstream.default.mediaTypes.video",{})),{},{playerSize:_s(r)[0]})}});var i,a};return Object.keys(r).forEach((function(e){var t=r[e];Array.isArray(t)?t.forEach((function(t){return a(e,t.trim())})):a(e,t)})),o}(r,0,i)}))}function ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function au(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.verizon.display",{}),n=r.adUnits&&Object.entries(r.adUnits).map((function(e){var t,r,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ou(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t=n[0],r=n[1],{code:t,bids:[{bidder:"brightroll",params:{publisher:"dailymail"}}],mediaTypes:{banner:{sizes:r}}}}));n&&n.length>0&&t.register("provide prebid adUnits",(function(){return n}))}function su(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.collective564.display",{adUnits:{}}).adUnits,n=[];(0,O.xb)(r)||(Object.keys(r).map((function(e){n.push(function(e,t){return{code:e,bids:[{bidder:"collective564",params:{placementId:t.split(" ")[0].trim(),usePaymentRule:!0}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}(e,r[e]))})),t.register("provide prebid adUnits",(function(){return n})),t.register("provide bidder alias",(function(){return{adapterName:"appnexus",aliasedName:"collective564"}})),t.register("prebid reduce bidderSettings",(function(e){return e.collective564=e.collective564||{},e.collective564.adserverTargeting=e.collective564.adserverTargeting||[],e.collective564.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e})))}iu.vendorIds={gdpr:[32]},iu.purposeIds={gdpr:[1]},au.vendorIds={gdpr:[25]},au.purposeIds={gdpr:[1]},su.vendorIds={gdpr:[179]},su.purposeIds={gdpr:[1]};var uu=(0,b.U2)("plugins.bidders.collectiveImprove.display",{adUnits:{}}).adUnits;function cu(e){var t=e.broker;if(!(0,O.xb)(uu)){var r=Ss("collectiveImprove",uu,(function(e){return{placementId:e.split(" ")[0]}}));t.register("provide prebid adUnits",(function(){return r})),t.register("provide bidder alias",(function(){return{adapterName:"improvedigital",aliasedName:"collectiveImprove"}})),t.register("prebid reduce bidderSettings",(function(e){return e.collectiveImprove=e.collectiveImprove||{},e.collectiveImprove.adserverTargeting=e.collectiveImprove.adserverTargeting||[],e.collectiveImprove.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?du(Object(r),!0).forEach((function(t){fu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hu(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.criteo.v2.networkId",10352),i=r("plugins.bidders.criteo.v2.display",{});i=(0,I.ap)().width>1580&&i.wideSkiesAdUnits?pu(pu({},i.adUnits),i.wideSkiesAdUnits):i.adUnits;var o=Object.entries(i).map((function(e){var t,r,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t=i[0],r=i[1],{code:t,bids:[{bidder:"criteo",params:{networkId:n,publisherSubId:t}}],mediaTypes:{banner:{sizes:r}}}}));t.register("provide prebid adUnits",(function(){return o}))}function gu(e){var t=e.broker,r=e.getConfig,n=Math.random(),i=r("plugins.bidders.groupm.v2.chance",.1),o=r("plugins.bidders.groupm.v2.standard.adUnits",[]),a=r("plugins.bidders.groupm.v2.premium.adUnits",[]).concat(o);if(I.SP.hasOwnProperty("groupmlog")&&console.log("groupm chance: ",n,"request? ",n<i,n<i?a:""),i>n){t.register("provide prebid adUnits",(function(){return a}));var s=o.reduce((function(e,t){return function(e){return e&&e.code&&e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length}(t)?(r=e[t.code]?e[t.code].concat(t.mediaTypes.banner.sizes.map((function(e){return"".concat(e[0],"x").concat(e[1])}))):t.mediaTypes.banner.sizes.map((function(e){return"".concat(e[0],"x").concat(e[1])})),e[t.code]=Array.from(new Set(r)),e):e;var r}),{});t.register("prebid reduce bidderSettings",(function(e){return e.groupm||(e.groupm={}),e.groupm.adserverTargeting||(e.groupm.adserverTargeting=[]),e.groupm.adserverTargeting.push({key:"hb_deal_groupm",val:function(e){return function(e,t){return t.adUnitCode&&e[t.adUnitCode]&&e[t.adUnitCode].includes("".concat(t.width,"x").concat(t.height))}(s,e)?11111111:e.dealId}}),e}))}}function mu(e){var t=e.broker,r=e.getConfig;if(!(r("plugins.bidders.groupm.skin.chance",.1)<=Math.random())){var n=r("plugins.bidders.groupm.skin.adUnits",[]);n.length&&t.register("provide prebid adUnits",(function(){return n}))}}function vu(e){var t=e.broker,r=e.getConfig;(new __webpack_require__.g.Image).src="https://e.serverbid.com/udb/9969/match?redir=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fpool%2Fset%2Fi.gif%3FpoolId%3D9969%26poolKey%3D";var n=document.createElement("iframe");n.style.display="none";var i,o,a,s=document.cookie.match("(^|;)\\s*MFADUser\\s*=\\s*([^;]+)"),u=s?s.pop():"",c="https://mfad.inskinad.com/udb/9874/sync/i.gif?partnerId=1"+(u&&"&userKey="+u||"")+"&userId=";n.src="https://ssum-sec.casalemedia.com/usermatch?s=184665&cb="+encodeURIComponent(c),i=function(){document.body.appendChild(n)},(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?i():document.addEventListener("DOMContentLoaded",i);try{o=__webpack_require__.g.top.screen.width,a=__webpack_require__.g.top.screen.height}catch(e){}if(o&&a){var l=r("plugins.bidders.inskin.display",{adUnits:null}).adUnits;if(l&&!(0,O.xb)(l)){var d=Object.keys(l).map((function(e){return{code:e,bids:[{bidder:"inskin",params:{networkId:l[e].split(" ")[0].trim(),siteId:l[e].replace(/^[^\s]+\s+([^\s]+) .+$/,"$1").trim(),keywords:"",properties:{screenWidth:o,screenHeight:a,target:1244}}}],mediaTypes:{banner:{sizes:l[e].replace(/^[^\s]+\s*[^\s]+\s*(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return d}))}}}function yu(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.ix.display",{adUnits:[]}).adUnits;if(!(0,O.xb)(r)){var n=Object.keys(r).map((function(e){var t=r[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}));return{code:e,bids:t.map((function(t){return{bidder:"ix",params:{siteId:r[e].split(" ")[0].trim(),size:t}}})),mediaTypes:{banner:{sizes:t}}}}));t.register("provide prebid adUnits",(function(){return n}))}}cu.vendorIds={gdpr:[179]},cu.purposeIds={gdpr:[1]},hu.vendorIds={gdpr:[91]},hu.purposeIds={gdpr:[1]},gu.vendorIds={gdpr:[98]},gu.purposeIds={gdpr:[1]},mu.vendorIds={gdpr:[98]},mu.purposeIds={gdpr:[1]},vu.vendorIds={gdpr:[150]},vu.purposeIds={gdpr:[1]},yu.vendorIds={gdpr:[10]},yu.purposeIds={gdpr:[1]};var bu=(0,b.U2)("plugins.bidders.justpremium.display",{adUnits:{}}).adUnits;function _u(e){var t=e.broker;if(!(0,O.xb)(bu)){var r=Ss("justpremium",bu,(function(e){return{zone:e.split(" ")[0]}}));t.register("provide prebid adUnits",(function(){return r})),t.register("prebid reduce bidderSettings",(function(e){return e.justpremium=e.justpremium||{},e.justpremium.adserverTargeting=e.justpremium.adserverTargeting||[],e.justpremium.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}}function wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(r),!0).forEach((function(t){Tu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ku(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ku(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Au(e){var t=e.broker,r=e.getConfig,n=e.log,i=Object.entries(r("plugins.bidders.mediagrid.display",{})).map((function(e){var t=Iu(e,2),r=t[0];return Su(Su({},function(e){var t=Iu(e.split(/\s+/g,2),2),r=t[0],n=t[1];return{uid:Number(r),sizes:Eu(n)}}(t[1])),{},{code:r})})).map((function(e){return{code:e.code,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:"grid",params:{uid:e.uid}}]}}));t.register("provide prebid adUnits",(function(){return n.info("adUnits",i),i}))}function Eu(e){return e.split(/\s*,\s*/g).map((function(e){return e.split(/x/gi,2).map(Number)}))}function Ou(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.openx.display.v2",{adUnits:[]}),n=r.adUnits,i=r.delDomain;if(i&&!(0,O.xb)(n)){var o=Object.keys(n).map((function(e){return{code:e,bids:[{bidder:"openx",params:{unit:n[e].split(" ")[0].trim(),delDomain:i}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}}));t.register("provide prebid adUnits",(function(){return o}))}}function Cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(r),!0).forEach((function(t){xu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_u.vendorIds={gdpr:[62]},_u.purposeIds={gdpr:[1]},Au.vendorIds={gdpr:[686]},Au.purposeIds={gdpr:[1]},Ou.vendorIds={gdpr:[69]},Ou.purposeIds={gdpr:[1]};var Du=(0,I.ap)().width>1580,ju=(0,b.U2)("plugins.bidders.pubmatic.display.v2",{adUnits:{},wideSkiesAdUnits:[]}),Ru=ju.adUnits,Mu=ju.wideSkiesAdUnits,Uu=ju.publisherId;Du&&Mu&&(Ru=Pu(Pu({},Ru),Mu));var Lu=function(e){var t=e.broker;if(!(0,O.xb)(Ru)){var r=Ss("pubmatic",Ru,(function(e){return{publisherId:"".concat(Uu),adSlot:e.split(" ")[0],dctr:"area=".concat(__webpack_require__.g.adAreaId)}}));t.register("provide prebid adUnits",(function(){return r})),t.register("prebid reduce bidderSettings",(function(e){var t=(0,b.U2)("plugins.bidders.pubmatic.display.netMultiplier",.93);return e.pubmatic||(e.pubmatic={}),e.pubmatic.bidCpmAdjustment=function(e,r){return e*t},e}))}},Nu=Lu;function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qu(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.pxyz.display",{adUnits:{}}).adUnits,n=function(e,t){return{code:e,bids:[{bidder:"pxyz",params:{placementId:t.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map((function(e){return e.split("x").map((function(e){return parseInt(e)}))}))}}}};if(!(0,O.xb)(r)){var i=[];Object.entries(r).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],o=t[1];"string"==typeof o?i.push(n(r,o)):o.forEach((function(e){i.push(n(r,e))}))})),t.register("provide prebid adUnits",(function(){return i}))}}function Fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(r),!0).forEach((function(t){zu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Lu.vendorIds={gdpr:[76]},Lu.purposeIds={gdpr:[1]},qu.vendorIds={gdpr:[490]},qu.purposeIds={gdpr:[1]};var Wu=(0,I.ap)().width>1580;function Hu(e){var t=e.broker,r=(0,b.U2)("plugins.bidders.rubicon.display.v2",{adUnits:{},wideSkiesAdUnits:{},atf:[]}),n=r.accountId,i=r.siteId,o=r.adUnits,a=r.wideSkiesAdUnits,s=r.atf;if(s=new Set(s),!(0,O.xb)(o)){Wu&&a&&(o=Vu(Vu({},o),a));var u=Ss("rubicon",o,(function(e,t){var r={area:[__webpack_require__.g.adAreaId]},o={zoneId:e.split(" ")[0],inventory:r,siteId:i.toString(),accountId:n.toString()};return s.has(t)&&(o.position="atf"),o}));t.register("provide prebid adUnits",(function(){return u})),t.emit("prebid config async update",{rubicon:{singleRequest:!0}})}}function Gu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ku(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ku(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xu(e){var t=e.broker,r=new Set,n=(0,b.U2)("plugins.rubicon.skin",{});n.adUnits&&n.adUnits.length&&(function(e){var t,r=Gu(e);try{for(r.s();!(t=r.n()).done;){var n,i=Gu(t.value.bids);try{for(i.s();!(n=i.n()).done;){var o=n.value;"rubicon"===o.bidder&&((0,O.ns)(["params","inventory"],o).area=[__webpack_require__.g.adAreaId])}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}}(n.adUnits),r=new Set(function(e){return e.adUnits.reduce((function(e,t){return t.bids&&t.bids.forEach((function(t){t.params&&t.params.zoneId&&e.push(t.params.zoneId)})),e}),[])}(n)),t.register("provide prebid adUnits",(function(){return n.adUnits})));var i={};t.on("prebid loaded",(function(e){e.onEvent("bidRequested",(function(e){var t=e.bidderCode,r=e.bids;"rubicon"===t&&r.forEach((function(e){var t=e.bidId,r=e.params.zoneId;i[t]=r}))}))})),t.register("prebid reduce bidderSettings",(function(e){return e.rubicon||(e.rubicon={}),e.rubicon.adserverTargeting||(e.rubicon.adserverTargeting=[]),e.rubicon.adserverTargeting.push({key:"hb_skin",val:function(e){var t=i[e.requestId];return r.has(t)}}),e}))}function Yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(r),!0).forEach((function(t){Ju(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ju(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qu(e){var t=e.getConfig,r=e.broker,n=(0,I.ap)().width>1580,i=t("plugins.bidders.rubiMM.display",{adUnits:{},wideSkiesAdUnits:[]}),o=i.accountId,a=i.siteId,s=i.adUnits,u=i.wideSkiesAdUnits;if(!(0,O.xb)(s)){n&&u&&(s=$u($u({},s),u));var c=Ss("rubi_mm",s,(function(e){var t={area:[__webpack_require__.g.adAreaId]};return{zoneId:e.split(" ")[0],inventory:t,siteId:a.toString(),accountId:o.toString()}}));r.register("provide prebid adUnits",(function(){return c})),r.register("provide bidder alias",(function(){return{adapterName:"rubicon",aliasedName:"rubi_mm"}})),r.emit("prebid config async update",{rubi_mm:{singleRequest:!0}})}}function Zu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tc(e){var t=e.getConfig,r=e.broker,n=t("plugins.bidders.rubicon.display.v2",{}),i=n.accountId,o=n.siteId;Is({broker:r,getConfig:t,bidder:"rubi_ttd",adapterName:"rubicon",aliasedName:"rubi_ttd",getBidsParams:function(e){return{zoneId:Zu(e,1)[0],inventory:{area:[__webpack_require__.g.adAreaId]},siteId:"".concat(o),accountId:"".concat(i)}},asyncUpdate:{singleRequest:!0}})}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Hu.vendorIds={gdpr:[52]},Hu.purposeIds={gdpr:[1]},Xu.vendorIds={gdpr:[52]},Xu.purposeIds={gdpr:[1]},Qu.vendorIds={gdpr:[79]},Qu.purposeIds={gdpr:[1]},tc.vendorIds={gdpr:[21]},tc.purposeIds={gdpr:[1]};var nc=/\s*,\s*/g,ic=(0,b.U2)("plugins.sharethrough.adUnits",[]);function oc(e){var t=e.broker;t.register("prebid reduce bidderSettings",(function(e){return e.sharethrough||(e.sharethrough={}),e.sharethrough.adserverTargeting||(e.sharethrough.adserverTargeting=[]),e.sharethrough.adserverTargeting.push({key:"hb_size",val:function(e){var t=(0,S.get)(e.adUnitCode);return t?cc(function(e){var t,r,n=0,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return rc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e.size);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("string"!=typeof o){var a=o[0]*o[1];a>n&&(t=o,n=a)}}}catch(e){i.e(e)}finally{i.f()}if(!t)throw new Error("Cannot get largest size, as there isnt any defined pixel size. Sizes are: ".concat(JSON.stringify(e.size)));return t}(t)):e.size}}),e})),t.register("provide prebid adUnits",ac)}var ac=function(){return ic.map((function(e){var t=uc(e.sizes);return{code:e.pos,labelsAny:e.labelsAny||[],sizes:t,mediaTypes:{banner:{sizes:t}},bids:[{bidder:"sharethrough",params:{pkey:e.placementKey}}]}}))},sc=function(e){return(0,Yn.Jp)(e,"x").map(Number)},uc=function(e){return e.split(nc).map(sc)},cc=function(e){return e.join("x")};function lc(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.teads.display",{adUnits:{}}).adUnits;t.register("provide prebid adUnits",(function(){return Ss("teads",r,(function(e){var t=e.split(/[ ]+/);return{placementId:t[0],pageId:t[1]}}))}))}function dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fc(e){Is({broker:e.broker,getConfig:e.getConfig,configKeys:"plugins.bidders.triplelift.display",bidder:"triplelift",getBidsParams:function(e){return{inventoryCode:dc(e,1)[0]}}})}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Sc(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){wc(o,n,i,a,s,"next",e)}function s(e){wc(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Tc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ic(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Tc(o,n,i,a,s,"next",e)}function s(e){Tc(o,n,i,a,s,"throw",e)}a(void 0)}))}}function kc(){return"".concat(location.protocol,"//").concat(location.hostname).concat(location.pathname)}function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(r),!0).forEach((function(t){Oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function xc(e){var t=e.broker,r=e.getConfig,n=Hs(t,r("plugins.appnexus.dependenciesTimeout",2e3)),i=function(e,t,n){var i=r("plugins.bidders.appnexus.video",{adUnits:{}}),o="";if(i.adUnits[t]&&"object"===Pc(i.adUnits[t])&&i.adUnits[t][n?"autoplay":"ctp"])o=i.adUnits[t][n?"autoplay":"ctp"];else{if(!i.adUnits[t]||"string"!=typeof i.adUnits[t])return{};o=i.adUnits[t]}var a=o.trim().replace(/ +/," ").split(" ");return{bids:[{bidder:"appnexus",params:{accountId:parseInt(a[0]),placementId:parseInt(a[1]),keywords:e,video:{skipable:!1,playback_methods:n?["auto_play_sound_off"]:["click_to_play"]}}}]}};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ec,e.t1={area:[__webpack_require__.g.adAreaId]},e.next=4,n;case 4:return e.t2=e.sent,o=(0,e.t0)(e.t1,e.t2),e.abrupt("return",i(o,t,r));case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Cc(o,n,i,a,s,"next",e)}function s(e){Cc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(e)}function jc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Rc(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.ix.video.adUnits",[]),i=r("plugins.bidders.ix.video.default",{}),o=i.mimes,a=void 0===o?["video/mp4","application/javascript"]:o,s=i.minduration,u=void 0===s?0:s;t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){var o,s,c,l,d,p,f,h,g,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.SP.ix_sandbox&&pbjs.setConfig({ix:{sandboxMode:!0}}),e.prev=1,o=r("plugins.slots.".concat(t,".v2.mediaTypes.video"),{}),s=o.maxduration,c=void 0===s?61:s,l=o.protocols,d=void 0===l?[1,2,3,4,5,6]:l,p=o.api,f=void 0===p?[1,2]:p,h=o.playerSize,g=void 0===h?[636,358]:h,m=n[t]&&"object"===Dc(n[t])?n[t][i?"autoplay":"ctp"]:n[t],v={siteId:m,size:g,video:{startdelay:0,mimes:a,minduration:u,maxduration:c,protocols:d,api:f}},e.abrupt("return",{bids:[{bidder:"ix",params:v}]});case 9:e.prev=9,e.t0=e.catch(1),console.log("[IX Video] transform error ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){jc(o,n,i,a,s,"next",e)}function s(e){jc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}function Mc(e){var t=e.broker,r=e.getConfig,n=e.log;n.info("enabled"),t.register("provide video adUnits",(function(e){var t=r("plugins.bidders.mediagrid.video.".concat(e));if(n.info("code",e),n.info("uid",t),!t)return n.warn("no uid found for pos ".concat(e)),{};if(!r("plugins.slots.".concat(e,".v2")))return n.warn("no template found for pos ".concat(e)),{};var i={bids:[{bidder:"grid",params:{uid:t}}]};return n.info("providing ad unit",i),i}))}function Uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lc(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.oath.video",{pubId:"MailOnline"});t.register("provide video adUnits",(function(e){var t=r("plugins.slots.".concat(e,".v2"),null);if(t&&t.code&&t.mediaTypes&&t.mediaTypes&&t.mediaTypes.video&&t.mediaTypes.video.playerSize&&2===t.mediaTypes.video.playerSize.length&&t.mediaTypes.video.context){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.mediaTypes.video.playerSize,2);return{bids:[{bidder:"oneVideo",params:{video:{playerWidth:i[0],playerHeight:i[1],mimes:["video/mp4","application/javascript"],protocols:[1,2,3,4,5,6],api:[1,2],delivery:[2]},pubId:n.pubId}}]}}I.SP.oathVideo&&console.log("Video adUnit misconfigured for pos: ".concat(e),t)}))}function Nc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Bc(e){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(e)}function qc(e){var t=e.broker,r=e.getConfig,n=function(e,t){var n=r("plugins.bidders.openx.video",{adUnits:{}}),i="",o=n.delDomain;if(n.adUnits[e]&&"object"===Bc(n.adUnits[e])&&n.adUnits[e][t?"autoplay":"ctp"])i=n.adUnits[e][t?"autoplay":"ctp"];else{if(void 0===n.adUnits[e])return{};i=n.adUnits[e].toString()}return{bids:[{bidder:"openx",params:{unit:i,delDomain:o,openrtb:{imp:[{video:{mimes:["video/x-ms-wmv","video/mp4"]}}]}}}]}};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n(t,r),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Nc(o,n,i,a,s,"next",e)}function s(e){Nc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}function Fc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Vc(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.pubmatic.video.publisherId"),o=r("plugins.bidders.pubmatic.video.adUnits"),a=r("plugins.bidders.pubmatic.video.irisTv.enabled",!1),s=r("plugins.bidders.pubmatic.video.irisTv.timeout",1e3),u=function(e,t,r,n){if(e){var i=t.includes("jwplayer")?function(r){return 0===r?e[t].preroll:e[t].midroll}(n):function(r){return e[t][r?"autoplay":"ctp"]}(r);return i&&i.trim().replace(/\s+/,"@")}};t.register("provide video adUnits",function(){var e,c=(e=regeneratorRuntime.mark((function e(c,l,d,p){var f,h,g,m,v,y,b,_,w,S,T,I,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=u(o,c,l,d)){e.next=3;break}return e.abrupt("return",{});case 3:return a&&n("requesting irisTV segments for videoId:",p),h=a&&(0,Xe.Ye)(s,[t.invokeAll("get IrisTV tags",p)]),g=r("plugins.slots.".concat(c,".v2")),m=g.mediaTypes,v={mimes:m.video.mimes},y={publisherId:i,adSlot:f,video:v},e.next=10,h;case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0={};case 13:return b=e.t0,_=b.results,(w=void 0===_?[]:_).length&&w[0].length&&!(0,O.xb)(w[0][0])&&(T=w[0][0],I=T.context,k=T.iris_id,n("applying irisTvSegment, iris_id: ".concat(k,", context:"),I),I.length&&(y.dctr="iris_context=".concat(I.join(",")),S={content:{id:k}})),n("bid params",y),e.abrupt("return",{bids:[{bidder:"pubmatic",params:y}],pbjsConfig:S});case 18:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Fc(o,n,i,a,s,"next",e)}function s(e){Fc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,t,r,n){return c.apply(this,arguments)}}())}function zc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Wc(e){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(e)}function Hc(e){var t=e.broker,r=e.getConfig,n=function(e,t){var n=r("plugins.bidders.rubicon.video",{adUnits:{}}),i=r("plugins.slots.".concat(e,".v2")),o="",a={area:[__webpack_require__.g.adAreaId]};if(n.adUnits[e]&&"object"===Wc(n.adUnits[e])&&n.adUnits[e][t?"autoplay":"ctp"])o=n.adUnits[e][t?"autoplay":"ctp"];else{if(!n.adUnits[e]||"string"!=typeof n.adUnits[e])return{};o=n.adUnits[e]}var s=o.trim().replace(/ +/," ").split(" ");return{bids:[{bidder:"rubicon",params:{accountId:n.accountId,siteId:parseInt(s[0]),zoneId:parseInt(s[1]),inventory:a,video:{language:"en",playerWidth:i.mediaTypes.video.playerSize[0],playerHeight:i.mediaTypes.video.playerSize[1],size_id:201}}}]}};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n(t,r),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){zc(o,n,i,a,s,"next",e)}function s(e){zc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()),t.register("prebid reduce bidderSettings",(function(e){return e.rubicon||(e.rubicon={}),e.rubicon.adserverTargeting||(e.rubicon.adserverTargeting=[]),e.rubicon.adserverTargeting.push({key:"hb_vast",val:function(e){return e.impression_id}}),e}))}oc.vendorIds={gdpr:[80]},oc.purposeIds={gdpr:[1]},lc.vendorIds={gdpr:[132]},lc.purposeIds={gdpr:[1]},fc.vendorIds={gdpr:[28]},fc.purposeIds={gdpr:[1]},(0,Ye.fo)("bidders.adform.video",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;n.info("enabled"),t.register("provide video adUnits",(function(e){var t=r("plugins.bidders.adform.video.".concat(e));if(n.info("code",e),n.info("mid",t),!t)return n.warn("no mid found for pos ".concat(e)),{};var i={bids:[{bidder:"adform",params:{mid:t}}]};return n.info("providing ad unit",i),i}))},purposeIds:{gdpr:[1]},vendorIds:{gdpr:[50]}}),(0,Ye.fo)("bidders.criteo.video",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.criteo.video.adUnits",{}),i={placement:1,skip:1},o=r("plugins.bidders.criteo.video.mediaTypes",{});t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n[t],s=r("plugins.slots.".concat(t,".v2")),u=o[t]||{},!a){e.next=6;break}return c={code:s.code,mediaTypes:{video:gc(gc(gc({},s.mediaTypes.video),i),u)},bids:[{bidder:"criteo",params:{zoneId:a}}]},e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){vc(o,n,i,a,s,"next",e)}function s(e){vc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}())},vendorIds:{gdpr:[91]}}),(0,Ye.fo)("bidders.improveVideo",{purposeIds:{gdpr:[1]},vendorIds:{gdpr:[179]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log;t.register("provide video adUnits",(function(e,t){var i,o,a,s="video"===e?t?"autoplay":"ctp":e,u=r("plugins.bidders.improveVideo.".concat(s)),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((null===(i=r("plugins.slots.".concat(e,".v2")))||void 0===i||null===(o=i.mediaTypes)||void 0===o||null===(a=o.video)||void 0===a?void 0:a.playerSize)||[],2),l=c[0],d=c[1];return n({configCode:s,placementId:u,w:l,h:d}),u?{bids:[{bidder:"improvedigital",params:{placementId:u,size:{w:l,h:d}}}]}:{}}))}}),(0,Ye.fo)("bidders.rhythmOne.video",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig;t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=r("plugins.bidders.rhythmOne.video.adUnits.".concat("jwplayer"===t?t:n?"autoplay":"ctp")))){e.next=5;break}return o={bids:[{bidder:"rhythmone",params:{placementId:i}}]},e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){bc(o,n,i,a,s,"next",e)}function s(e){bc(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())},vendorIds:{gdpr:[36,162]}}),(0,Ye.fo)("bidders.video.rubiMM",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.rubiMM.video.accountId"),o={area:[__webpack_require__.g.adAreaId]};i?(t.register("provide bidder alias",(function(){return{adapterName:"rubicon",aliasedName:"rubi_mm"}})),t.register("prebid reduce bidderSettings",(function(e){return e.rubi_mm={adserverTargeting:[{key:"hb_vast",val:function(e){return e.impression_id}}]},e})),t.register("provide video adUnits",(function(e,t){var a="video"===e?t?"video.autoplay":"video.ctp":e,s=r("plugins.bidders.rubiMM.video.adUnits.".concat(a));if(!s)return n.warn("config for ".concat(a," does not exist")),{};var u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s.split(/\s+/,2),2),c=u[0],l=u[1];if(!c)return n.warn("No site id for ".concat(a)),{};if(!l)return n.warn("No zone id for ".concat(a)),{};var d=r("plugins.slots.".concat(e,".v2")),p={language:"en",playerWidth:d.mediaTypes.video.playerSize[0],playerHeight:d.mediaTypes.video.playerSize[1],size_id:201},f=[{bidder:"rubi_mm",params:{accountId:i,inventory:o,siteId:Number(c),zoneId:Number(l),video:p}}];return n("providing auction info",f),{bids:f}}))):n.warn("no account id set")},vendorIds:{gdpr:[52]}}),(0,Ye.fo)("bidders.smartAdServer.video",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.smartAdServer.siteId",395440),i=r("plugins.bidders.smartAdServer.pageId",1352205),o={bids:[{bidder:"smartadserver",params:{formatId:r("plugins.bidders.smartAdServer.video.formatId",93390),pageId:i,siteId:n,video:{}}}]};t.register("provide video adUnits",Sc(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o);case 1:case"end":return e.stop()}}),e)}))))},vendorIds:{gdpr:[45]}}),(0,Ye.fo)("bidders.video.spotx",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.enabled").includes("irisTv");function o(){return(o=Ic(regeneratorRuntime.mark((function e(t,i,o,s){var u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r("plugins.bidders.spotx.video.".concat(u="jwplayer"===t?"chromeless":"video"===t?i?"autoplay":"ctp":null))){e.next=5;break}return n.warn("no channel id found for pos ".concat(u).concat(u!==t?" (".concat(t,")"):"")),e.abrupt("return",{});case 5:if(e.t0=c,!s){e.next=12;break}return e.next=9,a(s);case 9:e.t1=e.sent,e.next=13;break;case 12:e.t1={};case 13:return e.t2=e.t1,e.t3=kc(),e.t4={ad_unit:"instream",channel_id:e.t0,custom:e.t2,page:e.t3},e.t5={bidder:"spotx",params:e.t4},l=[e.t5],n.info("providing auction info",l),e.abrupt("return",{bids:l});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return s.apply(this,arguments)}function s(){return(s=Ic(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.t0=O.jF,e.next=6,(0,Xe.yq)(1e3,t.invoke("get IrisTV tags",r),"Failed to get IrisTV tags in 500ms");case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"context","iris_context"));case 10:return e.prev=10,e.t2=e.catch(2),n.error(e.t2),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}t.register("provide video adUnits",(function(e,t,r,n){return o.apply(this,arguments)}))},vendorIds:{gdpr:[165]}}),xc.vendorIds={gdpr:[32]},xc.purposeIds={gdpr:[1]},Rc.vendorIds={gdpr:[10]},Rc.purposeIds={gdpr:[1]},Mc.vendorIds={gdpr:[686]},Mc.purposeIds={gdpr:[1]},Lc.vendorIds={gdpr:[25]},Lc.purposeIds={gdpr:[1]},qc.vendorIds={gdpr:[69]},qc.purposeIds={gdpr:[1]},Vc.vendorIds={gdpr:[76]},Vc.purposeIds={gdpr:[1]},Hc.vendorIds={gdpr:[52]},Hc.purposeIds={gdpr:[1]};var Gc=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise((function(t){var n;return(n=__webpack_require__.g).__tcfapi.apply(n,[e,2,function(){return t.apply(void 0,arguments)}].concat(r))}))};function Kc(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Xc(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Kc(o,n,i,a,s,"next",e)}function s(e){Kc(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Yc=__webpack_require__.g.adverts.startTime,$c=[229,2292,2392,3,1584,2198,1964,1765,1633,11,236,733,15,2044,1040,2090,1268,1232,2664,2710,1671,2366,1152,867,2177,1716,22,1284,1496,2441,2176,624,2493,35,1960,802,827,1577,1514,1642,429,2614,359,2645,43,2681,46,432,1375,2214,931,55,2276,2222,2202,932,1188,1845,1248,57,2629,2511,574,2141,938,2315,2678,2771,2271,66,1678,2532,70,1863,1929,2658,7,2670,1517,2357,2238,1732,2662,1750,2646,1409,1301,80,1608,2406,83,1451,2140,61,991,1192,93,1834,2003,2596,1547,864,2526,1858,571,2387,1987,2109,1063,2699,2064,2647,2663,1843,108,1099,2605,1166,2062,122,1878,124,2786,2370,2453,987,440,2107,2264,131,2310,1703,135,1844,136,1896,1669,1097,1252,2335,2772,595,62,2622,143,144,316,2334,147,2405,2563,153,154,1345,2103,2253,2504,550,829,159,1525,161,559,2320,165,2133,1866,167,2571,2373,2415,2685,171,2669,2262,317,2765,2425,178,2572,2496,311,2012,1225,2559,2305,125,776,184,1276,820,188,2601,797,537,1329,192,817,2147,1899,1880,2575,2682,2084,196,575,492,1548,1204,202,1782,89,2440,209,211,1810,1365,2497,218,1613,1100,2727,955,221,1215,350,2584,1705,1298,1220,2586,1978,230,2472,1720,2779,2564,1745,2072,2506,2166,1201,2095,2219,2767,1832,239,241,1275,2295,149,1677,338,1735,2705,2282,126,253,1575,1162,1172,255,588,2251,2597,48,259,2673,266,1631,1837,2279,2739,271,2224,1760,274,1583,2225,2039,1236,2510,1674,1968,2186,1455,1883,1598,1003,1739,286,2684,2689,609,1423,1230,1403,1799,291,2661,780,839,12,2411,1503,2027,1226,1667,1733,294,1962,2336,1905,1312,1211,2414,2468,1067,723,1095,2038,2568,523,568,1603,1027,1313,308,436,313,2205,725,1052,1416,590,1780,591,576,2376,1250,310,1053,327,303,1898,1651,1362,1653,2555,1922,2462,1449,2610,1344,2306,2604,2517,1570,336,2464,2612,926,1205,1051,2477,2579,2121,1047,2247,2583,348,1942,1882,922,592,1212,2777,2531,358,2325,2290,1682,2437,2552,367,363,2621,1859,2068,2299,2778,1660,2079,1025,1356,2768,2115,2595,371,2609,1892,2686,2467,2359,1171,384,1648,1725,134,2544,385,2783,1024,389,2377,2407,2127,2780,1028,394,162,2447,2657,2628,2145,398,899,2394,1415,782,2435,2569,2459,1928,407,2498,340,1791,415,737,1902,2410,2059,1943,2527,414,2358,1721,2170,2035,1520,1029,1034,1126,2643,1048,2403,430,1127,2649,2216,976,1870,1468,2311,1419,979,1591,438,314,2652,2179,2709,1652,442,2427,2382,1072,2354,445,448,1934,2636,2234,449,2137,2691,1307,2706,2534,1411,453,2100,1753,459,2542,2278,2676,2312,2400,2052,2802,424,2567,2223,1665,2346,86,2192,1149,2714,2656,2088,2650,1638,1579,1684,1911,2078,1794,1944,1840,479,2770,2499,370,393,985,2634,486,1227,1241,2056,1958,2183,933,1107,495,494,1054,2695,2461,2156,2070,1626,1170,2220,503,505,2416,1786,510,1831,2481,2651,2690,853,2343,2113,2227,482,397,2677,2776,1800,981,2512,1512,2492,2171,2150,1889,528,2486,1509,1286,2624,1872,2418,2698,2784,1033,2758,540,1555,1722,2422,821,585,798,1442,323,2331,2337,1456,560];function Jc(){return Qc.apply(this,arguments)}function Qc(){return(Qc=Xc(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[21,25,40,79,115,165,264],e.t0=Set,e.next=4,Gc("consentedVendors");case 4:e.t1=e.sent,r=new e.t0(e.t1),t.map((function(e){return r.has(e)})).every((function(e){return e}))&&((new __webpack_require__.g.Image).src="//sync.search.spotxchange.com/partner?source=86983");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.bidders.spotx.video.autoplay"),o=r("cmp.apiHandler"),a=["__tcfapi"].includes(o)&&__webpack_require__.g[o],s=a?Gc("getTCData"):Promise.resolve();r("plugins.spotx.enableCpsValues",!0)&&(window.__gcp=$c);var u=r("plugins.enabled").includes("players.commercial")?".commercial-player-video_ima-ad-container":".video-ads-container",c=t.invoke("load script","//js.spotx.tv/directsdk/v1/".concat(i,".js"),"SpotX"),l=new Promise((function(e){var r=t.on("ad rendered",Xc(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=document.querySelector(u))&&(r.cancel(),e(n));case 2:case"end":return t.stop()}}),t)}))))}));t.register("get video tags",Xc(regeneratorRuntime.mark((function e(){var o,a,d,p,f,h,g,m,v,y,b,_,w,S,T,I,k,A,E=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=E.length>0&&void 0!==E[0]?E[0]:{},a=o.platform,d=o.screen,p=o.offset,f=void 0===p?0:p,h=o.adEl,g=o.autoplay,o.videoAdServerUrl,m=o.videoEl,v=o.slot,y=o.excludeSpotX,b=o.auctionId,n("get video tags",y,g),!y){e.next=4;break}return e.abrupt("return");case 4:if(i="jwplayer"!==v.pos?r("plugins.bidders.spotx.video.".concat(g?"autoplay":"ctp")):r("plugins.bidders.spotx.video.chromeless")){e.next=8;break}return n("[error] Missing SpotX configuration"),e.abrupt("return",{});case 8:if(__webpack_require__.g.SpotX){e.next=11;break}return e.next=11,c;case 11:if(h=h||document.querySelector(u)){e.next=17;break}return n("awaiting imaVideoElement"),e.next=16,l;case 16:h=e.sent;case 17:return _={},__webpack_require__.g.adAreaId&&(_.area=__webpack_require__.g.adAreaId),w={hide_skin:!0,autoplay:g,content_width:d.width,content_height:d.height,channel_id:i,custom:_,slot:h,video_slot:m||h.parentNode.getElementsByTagName("video")[0]||h.parentNode.parentNode.getElementsByTagName("video")[0],check_gcp:!0},n("adOSConfig",w),e.next=23,s;case 23:return(S=e.sent)&&(n("adding user consent data"),w.ados={regs:{gdpr:1},user:{consent:S.tcString}}),T={},I=new __webpack_require__.g.SpotX.DirectAdOS(w),e.prev=27,n("getAdServerKVPs"),e.next=31,I.getAdServerKVPs();case 31:T=e.sent,k=Date.now()-Yc,t.emit("bid",v.pos,{platform:a,offset:f,bidder:"spotx",cpm:100*T.spotx_bid,timeToBid:k}),e.next=38;break;case 36:e.prev=36,e.t0=e.catch(27);case 38:if(!(0,O.xb)(T)){e.next=43;break}return n("no bid"),e.abrupt("return",{});case 43:return A=Math.round(100*T.spotx_bid)/100,n("bid, pos: ".concat(v.pos,", offset: ").concat(f,", cpm: ").concat(A)),e.abrupt("return",{type:"bid",pos:v.pos,offset:f,auctionId:b,cpm:A,bidderCode:"spotx",tags:{cust_params:T}});case 46:case"end":return e.stop()}}),e,null,[[27,36]])})))),setTimeout(Xc(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&Jc();case 1:case"end":return e.stop()}}),e)}))),1e3)}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function nl(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function il(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.telariaVideo",{adUnits:{}}).adUnits,n=function(e){return e.trim().replace(/\s+/," ").split(" ")};t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){var o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r[t]&&"object"===rl(r[t])?r[t][i?"autoplay":"ctp"]:r[t],a=n(o),s=el(a,2),u=s[0],c=s[1],e.abrupt("return",{bids:[{bidder:"telaria",params:{supplyCode:u,adCode:c}}]});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){nl(o,n,i,a,s,"next",e)}function s(e){nl(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}Zc.vendorIds={gdpr:[165]},Zc.purposeIds={gdpr:[1]},il.vendorIds={gdpr:[202]},il.purposeIds={gdpr:[1]};var ol=__webpack_require__(2889);function al(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function sl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){al(o,n,i,a,s,"next",e)}function s(e){al(o,n,i,a,s,"throw",e)}a(void 0)}))}}function ul(e){return cl.apply(this,arguments)}function cl(){return cl=sl(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){var t=e.adserverTargeting;return delete t.konduit_cache_key,delete t.konduit_id,n("konduit key values",t),{cust_params:t}},r=t.broker,n=t.log,i=t.getConfig,o=i("konduit.id","5ed6500c9166db0c4e9556ad"),a=new Set(["video","jwplayer"]),s={},c=function(e,t){return"".concat(e,"-").concat(t)},l=function(e,t,r){return function(i,o){i?n.warn("konduit erorrs",i):(n("bids processed:",e,[o]),o.forEach((function(e){return t.push(u(e))}))),d(r)}},d=function(e){n("closing stream for:",e),s[e].push(null),delete s[e]},r.registerStream("get video tags",(function(e){var t=e.slot,i=e.offset,o=void 0===i?0:i,a=t.pos,u=c(a,o);if(n("get video tags for:",u),!s[u]){var l=s[u]=(0,ol.KC)();return(0,ol.TS)([l,r.openStream("konduit get video tags",e)])}n.error('Stream already existing for "'.concat(u,"', bailing"))})),r.register("prebid video auction started",(function(e,t,r){var i=c(t,r),o=s[i];s[e]=o,o.bids=[],delete s[i],n("auction started:",{key:i,auctionId:e})})),r.on("prebid video auction ended",(function(e,t){n("prebid video auction ended",t);var r=s[t];if(r){if(1!==e.length)throw d(t),new Error("No support for more than 1 unit per auction");var i=e[0];n("processing bids for:",i,t,r.bids),__webpack_require__.g.pbjs.adServers.konduit.processBids({adUnitCode:i,bids:r.bids,enableSendAllBids:!0,callback:l(i,r,t)})}else n("no stream for:",{adUnitCodes:e,auctionId:t})})),e.next=13,r.until("prebid loaded");case 13:__webpack_require__.g.pbjs.setConfig({konduit:{konduitId:o}}),__webpack_require__.g.pbjs.enableAnalytics({provider:"konduit"}),__webpack_require__.g.pbjs.onEvent("bidResponse",(function(e){a.has(e.adUnitCode)&&(n("bidResponse",e),s[e.auctionId].bids.push(e))}));case 16:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pl(e){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}function fl(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function hl(e){var t=e.broker,r=e.getConfig,n=r("plugins.bidders.tripleliftVideo",{adUnits:{jwplayer:"dailymail_prebid_commercial_player_ctp_intstream",video:{ctp:"dailymail_prebid_editorial_player_ctp_intstream",autoplay:"dailymail_prebid_editorial_player_ap_intstream"}}}).adUnits;t.register("provide video adUnits",function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){var o,a,s,u,c,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n[t]&&"object"===pl(n[t])?n[t][i?"autoplay":"ctp"]:n[t],a=r("plugins.slots.".concat(t,".v2"),{mediaTypes:{video:{api:[1,2],mimes:["video/mp4","application/javascript"],playerSize:[636,358],protocols:[1,2,3,4,5,6]}}}).mediaTypes.video,s=a.mimes,u=a.protocols,c=a.api,l=a.playerSize,d=ll(l,2),p=d[0],f=d[1],e.abrupt("return",{bids:[{bidder:"triplelift",params:{inventoryCode:o,video:{mimes:s,protocols:u,api:c,w:p,h:f}}}]});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){fl(o,n,i,a,s,"next",e)}function s(e){fl(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())}ul.vendorIds={gdpr:!1},hl.vendorIds={gdpr:[28]},hl.purposeIds={gdpr:[1]};var gl=__webpack_require__(3624);function ml(e){var t=e.broker,r=e.containerInitialised,n=e.getPlaylistItem,i=e.onClose,o=!0,a=MobileUtils.isMobile()?"touchstart":"click",s=document.createElement("img");s.src="//i.dailymail.co.uk/video/chromeless_closer.png";var u=document.createElement("div");u.id="closeButton",u.appendChild(s),u.addEventListener(a,(function(e){e&&e.preventDefault(),i()}));var c=document.createElement("video");c.setAttribute("defaultMuted","defaultMuted"),c.setAttribute("muted","muted");var l=document.createElement("div");l.id="playerDiv",l.classList.add("vjs-video-container"),l.classList.add("vjs-responsive"),l.style.visibility="hidden",l.appendChild(c);var d=document.createElement("div");d.id="readMoreWrapper",d.addEventListener(a,(function(e){e.preventDefault(),t.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"articleUrlClicked"}}),i(),__webpack_require__.g.top.location=n().linkBaseURL+"?ito=chromelessDM_0"})),d.addEventListener("mouseover",(function(){v(n().title)})),d.addEventListener("mouseout",(function(){g()}));var p=document.createElement("div");p.id="mpu_player",p.style.marginTop="0",p.style.left="73px";var f=document.createElement("div");f.classList.add("mpu_player_wrapper"),f.appendChild(p),f.style.display="none",f.addEventListener(a,(function(e){e.preventDefault()}));var h=document.createElement("div");h.id="outerWrapper",h.addEventListener("mouseover",(function(){h.querySelector(".jw-playlist-btn")&&(h.querySelector(".jw-playlist-btn").style.display="none",h.querySelector(".jw-icon-fullscreen").style.display="none")})),h.appendChild(u),h.appendChild(l),h.appendChild(d),h.appendChild(f),r(l,c);var g=(0,Vn.Ds)((function(){d.innerText="Read more"}),5e3);return{clearMpuAd:function(){f.style.display="none"},handleAdPlay:function(){o&&m(),d.style.display="none"},handleMpuAd:function(){d.style.display="none",f.style.display="block"},handlePlay:function(){var e=n();o&&m(),v(e.title),d.style.display="inline"},outerWrapper:h,revealPlayer:m};function m(){l.style.visibility="visible",o=!1}function v(e){d.innerText=e,g()}}var vl=function(e,t){return vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},vl(e,t)};function yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}vl(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function bl(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function _l(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wl(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function Sl(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Tl(e){return this instanceof Tl?(this.v=e,this):new Tl(e)}function Il(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof Tl?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}Object.create,Object.create;var kl=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Al(e){return"function"==typeof e}var El,Ol,Cl=(El=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},(Ol=El((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),Ol.prototype.constructor=Ol,Ol);function Pl(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var xl=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=_l(o),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(Al(u))try{u()}catch(e){i=e instanceof Cl?e.errors:[e]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var l=_l(c),d=l.next();!d.done;d=l.next()){var p=d.value;try{jl(p)}catch(e){i=null!=i?i:[],e instanceof Cl?i=Sl(Sl([],wl(i)),wl(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new Cl(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)jl(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Pl(t,e)},e.prototype.remove=function(t){var r=this._teardowns;r&&Pl(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function Dl(e){return e instanceof xl||e&&"closed"in e&&Al(e.remove)&&Al(e.add)&&Al(e.unsubscribe)}function jl(e){Al(e)?e():e.unsubscribe()}xl.EMPTY;var Rl=null,Ml=null,Ul=void 0,Ll=!1,Nl=!1,Bl={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Bl.delegate;return((null==r?void 0:r.setTimeout)||setTimeout).apply(void 0,Sl([],wl(e)))},clearTimeout:function(e){var t=Bl.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ql(e){Bl.setTimeout((function(){if(!Rl)throw e;Rl(e)}))}function Fl(){}var Vl=zl("C",void 0,void 0);function zl(e,t,r){return{kind:e,value:t,error:r}}var Wl=null,Hl=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Dl(t)&&t.add(r)):r.destination=Ql,r}return yl(t,e),t.create=function(e,t,r){return new Yl(e,t,r)},t.prototype.next=function(e){this.isStopped?Jl(function(e){return zl("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Jl(zl("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Jl(Vl,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xl),Gl=Function.prototype.bind;function Kl(e,t){return Gl.call(e,t)}var Xl=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){$l(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){$l(e)}else $l(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){$l(e)}},e}(),Yl=function(e){function t(t,r,n){var i,o,a=e.call(this)||this;return Al(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&Nl?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&Kl(t.next,o),error:t.error&&Kl(t.error,o),complete:t.complete&&Kl(t.complete,o)}):i=t,a.destination=new Xl(i),a}return yl(t,e),t}(Hl);function $l(e){var t;Ll?(t=e,Ll&&Wl&&(Wl.errorThrown=!0,Wl.error=t)):ql(e)}function Jl(e,t){var r=Ml;r&&Bl.setTimeout((function(){return r(e,t)}))}var Ql={closed:!0,next:Fl,error:function(e){throw e},complete:Fl},Zl="function"==typeof Symbol&&Symbol.observable||"@@observable";function ed(e){return e}function td(e){return 0===e.length?ed:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var rd=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof Hl||function(e){return e&&Al(e.next)&&Al(e.error)&&Al(e.complete)}(n)&&Dl(n)?e:new Yl(e,t,r);return function(e){if(Ll){var t=!Wl;if(t&&(Wl={errorThrown:!1,error:null}),e(),t){var r=Wl,n=r.errorThrown,i=r.error;if(Wl=null,n)throw i}}else e()}((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=nd(t))((function(t,n){var i=new Yl({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Zl]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return td(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=nd(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function nd(e){var t;return null!==(t=null!=e?e:Ul)&&void 0!==t?t:Promise}var id="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function od(e){if(e instanceof rd)return e;if(null!=e){if(function(e){return Al(e[Zl])}(e))return function(e){return new rd((function(t){var r=e[Zl]();if(Al(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(kl(e))return i=e,new rd((function(e){for(var t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(Al(null==(n=e)?void 0:n.then))return r=e,new rd((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,ql)}));if(function(e){return Symbol.asyncIterator&&Al(null==e?void 0:e[Symbol.asyncIterator])}(e))return ad(e);if(function(e){return Al(null==e?void 0:e[id])}(e))return t=e,new rd((function(e){var r,n;try{for(var i=_l(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return Al(null==e?void 0:e.getReader)}(e))return ad(function(e){return Il(this,arguments,(function(){var t,r,n;return bl(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Tl(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,Tl(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Tl(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function ad(e){return new rd((function(t){(function(e,t){var r,n,i,o,a,s,u,c;return a=this,s=void 0,c=function(){var a,s;return bl(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_l(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}(e),u.label=1;case 1:return[4,r.next()];case 2:if((n=u.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((u=void 0)||(u=Promise))((function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof u?i:new u((function(e){e(i)}))).then(r,n)}i((c=c.apply(a,s||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function sd(e){return function(t){if(function(e){return Al(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ud(e,t,r,n,i){return new cd(e,t,r,n,i)}var cd=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return yl(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Hl);function ld(e,t){return sd((function(r,n){var i=0;r.subscribe(ud(n,(function(r){n.next(e.call(t,r,i++))})))}))}function dd(e,t,r){return void 0===r&&(r=1/0),Al(t)?dd((function(r,n){return ld((function(e,i){return t(r,e,n,i)}))(od(e(r,n)))}),r):("number"==typeof t&&(r=t),sd((function(t,n){return function(e,t,r,n,i,o,a,s){var u=[],c=0,l=0,d=!1,p=function(){!d||u.length||c||t.complete()},f=function(e){return c<n?h(e):u.push(e)},h=function(e){c++;var i=!1;od(r(e,l++)).subscribe(ud(t,(function(e){t.next(e)}),(function(){i=!0}),void 0,(function(){if(i)try{c--;for(var e=function(){var e=u.shift();h(e)};u.length&&c<n;)e();p()}catch(e){t.error(e)}})))};return e.subscribe(ud(t,f,(function(){d=!0,p()}))),function(){}}(t,n,e,r)})))}var pd=Array.isArray;var fd=["addListener","removeListener"],hd=["addEventListener","removeEventListener"],gd=["on","off"];function md(e,t,r,n){if(Al(r)&&(n=r,r=void 0),n)return md(e,t,r).pipe((i=n,ld((function(e){return function(e,t){return pd(t)?e.apply(void 0,Sl([],wl(t))):e(t)}(i,e)}))));var i,o=wl(function(e){return Al(e.addEventListener)&&Al(e.removeEventListener)}(e)?hd.map((function(n){return function(i){return e[n](t,i,r)}})):function(e){return Al(e.addListener)&&Al(e.removeListener)}(e)?fd.map(vd(e,t)):function(e){return Al(e.on)&&Al(e.off)}(e)?gd.map(vd(e,t)):[],2),a=o[0],s=o[1];if(!a&&kl(e))return dd((function(e){return md(e,t,r)}))(od(e));if(!a)throw new TypeError("Invalid event target");return new rd((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return a(t),function(){return s(t)}}))}function vd(e,t){return function(r){return function(n){return e[r](t,n)}}}var yd=function(e){function t(t,r){return e.call(this)||this}return yl(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(xl),bd={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=bd.delegate;return((null==r?void 0:r.setInterval)||setInterval).apply(void 0,Sl([],wl(e)))},clearInterval:function(e){var t=bd.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},_d=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return yl(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),bd.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;bd.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Pl(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(yd),wd={schedule:function(e){var t=requestAnimationFrame,r=cancelAnimationFrame,n=wd.delegate;n&&(t=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=t((function(t){r=void 0,e(t)}));return new xl((function(){return null==r?void 0:r(i)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=wd.delegate;return((null==r?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Sl([],wl(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=wd.delegate;return((null==r?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Sl([],wl(e)))},delegate:void 0},Sd=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return yl(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=wd.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);t.actions.some((function(e){return e.id===r}))||(wd.cancelAnimationFrame(r),t._scheduled=void 0)},t}(_d),Td={now:function(){return(Td.delegate||Date).now()},delegate:void 0},Id=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=Td.now,e}(),kd=function(e){function t(t,r){void 0===r&&(r=Id.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return yl(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(Id),Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yl(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(kd),Ed=new Ad(Sd),Od=function(e,t){return(e.clientX-t.clientX)*(e.clientX-t.clientX)+(e.clientY-t.clientY)*(e.clientY-t.clientY)},Cd=function(e){return e.touches[0]},Pd=function(e,t,r){e.style.transform="translate(".concat(t,"px, ").concat(r,"px)")},xd=function(e,t){return new Promise((function(r){var n,i=md(e,"touchstart"),o=md(document,"touchmove"),a=md(document,"touchend"),s=i.pipe((n=function(n){var i=Cd(n);n.preventDefault(),n.stopPropagation();var s,u,c,l,d,p=a.pipe(ld((function(e){return e.preventDefault()||Od(e.changedTouches[0],i)})),(l=Al(s=function(n){n>=4e4?(t.userActive(!0),r()):(Pd(e,0,0),t.userActive(!0))})?{next:s,error:u,complete:c}:s)?sd((function(e,t){var r;null===(r=l.subscribe)||void 0===r||r.call(l);var n=!0;e.subscribe(ud(t,(function(e){var r;null===(r=l.next)||void 0===r||r.call(l,e),t.next(e)}),(function(){var e;n=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()}),(function(e){var r;n=!1,null===(r=l.error)||void 0===r||r.call(l,e),t.error(e)}),(function(){var e,t;n&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)})))})):ed);return o.pipe(ld((function(e){return t=Cd(e),r=i,{x:t.clientX-r.clientX,y:t.clientY-r.clientY,distSQ:Od(t,r)};var t,r})),(d=p,sd((function(e,t){od(d).subscribe(ud(t,(function(){return t.complete()}),Fl)),!t.closed&&e.subscribe(t)}))),function(e,t){return void 0===t&&(t=0),sd((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}(Ed))},sd((function(e,t){var r=null,i=!1,o=function(){return i&&!r&&t.complete()};e.subscribe(ud(t,(function(e){null==r||r.unsubscribe();0;od(n(e)).subscribe(r=ud(t,(function(e){return t.next(e)}),(function(){r=null,o()})))}),(function(){i=!0,o()})))}))));s.subscribe((function(t){t.distSQ>=1e4?Pd(e,t.x,t.y):Pd(e,0,0)}))}))};function Dd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Md(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ud(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Md(o,n,i,a,s,"next",e)}function s(e){Md(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Ld=function(){var e=Ud(regeneratorRuntime.mark((function e(t,r,n){var i,o,a,s,u,c,l,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="chromeless",o={pos:"jw_preroll"},a=t.width,s=t.height,u=t.bannerFallback,c=void 0===u?{}:u,e.next=5,n;case 5:return l=e.sent,d={isMobile:MobileUtils.isMobile(),playerId:"default",preload:"none",initialVideo:!0,syndicationService:null,plugins:{tracking:{disableMolTracking:t.disableMolTracking,channelShortName:t.pageCriteraVideoChannel,sponsored:null,referenceId:"",videoId:"",trackingType:i,recommendationModel:""},"video-advertising-mode":{},"autoplay-next-video":{},"ads-setup":{bidmax:!0,cust_params:o,headerBiddingParams:{platform:"dmplayer",pos:"jwplayer"},schedule:t.schedule,adsEnabled:!0,vpaidEnabled:!0,useIMASDK:t.useImaSdk,adsCancelTimeout:15e3,screen:{width:a,height:s},bannerFallback:!!c.enabled},"related-videos":{videos:l,playlistHistory:!1}}},e.next=9,__webpack_require__.g.DM.molFeVideoplayer.initializeVideo(r,d);case 9:return p=e.sent,e.abrupt("return",p);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Nd=function(e,t){t.on("videoAd.start",(function(t){e.emit("chromeless player event","adPlay",t)})),t.on("play",(function(t){return e.emit("chromeless player event","play",t)})),t.on("error",(function(t){return e.emit("chromeless player event","error",t)})),t.on("videoAd.contentPauseRequested",(function(t){e.emit("chromeless player event","adPlay",t)})),t.on("videoAd.contentResumeRequested",(function(t){e.emit("chromeless player event","play",t)})),t.on("request-reset",(function(t){return e.emit("chromeless player event","playlistItem",t)})),t.on("time",(function(t){return e.emit("chromeless player event","time",t)})),t.on("videoAd.error",(function(t){return e.emit("chromeless player event","adError",t)})),t.on("videoAd.impression",(function(t){e.emit("video ad impression",t),e.emit("chromeless player event","adImpression",t)}))},Bd=function(){function e(t,r,n,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.broker=t,this.playerConfig=r,this.playlist=n,this.config=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(r),!0).forEach((function(t){jd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r),this.log=i,this.containerInitialised=this.containerInitialised.bind(this),this.playerRemove=this.playerRemove.bind(this),this.getPlaylistItem=this.getPlaylistItem.bind(this),this.handleRenderMpuAd=this.handleRenderMpuAd.bind(this),t.on("creative updated plugins",(function(e){e.hasOwnProperty("chromeless.dmplayer")&&!e["chromeless.dmplayer"]&&o.playerRemove()})),t.on("disable chromeless-player",(function(){console.log("removing chromeless player"),o.playerRemove()}))}var t,r,n,i;return t=e,r=[{key:"handlePlay",value:function(e){this.videoPlayerRef.handlePlay(e)}},{key:"handleAdPlay",value:function(e){this.videoPlayerRef.handleAdPlay(e)}},{key:"handleError",value:function(e){}},{key:"handleRenderMpuAd",value:function(e,t){var r=this,n=e.bannerFallback.pos;this.log("rendering ".concat(n)),e.pauseOnBlur&&this.broker.emit("mpuPlayerDisplayed",!0);var i=function(){var i=Ud(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r.videoPlayerRef.clearMpuAd(t),r.broker.emit("destroy slot",n),o.removeAttribute("data-adverts-ad"),i.next=5,r.broker.invoke("is page visible?");case 5:if(a=i.sent,!e.pauseOnBlur||a){i.next=10;break}return r.log("page not visible... waiting"),i.next=10,r.broker.until("page visible");case 10:r.log("restarting player"),e.pauseOnBlur&&r.broker.emit("mpuPlayerDisplayed",!1),r.broker.emit("bannerFallbackAd destroyed");case 13:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),o=document.getElementById(n),a=this.broker.register("get tags",(function(e){if(e.slot.pos===n)return a.cancel(),[{offset:t.offset}]})),s=e.bannerFallback,u=s.pos,c=s.id,l=s.parentId;this.broker.emit("slot defined",{pos:u,id:c,parentId:l},o),this.broker.once("ad rendered",n,(function(o){var a=o.isEmpty;if(r.log("".concat(n," rendered")),a)return r.log("".concat(n," empty")),void i();r.videoPlayerRef.handleMpuAd(t),setTimeout((function(){r.log("destroying ".concat(n)),i()}),e.bannerFallback.displayTimeout)}))}},{key:"getPlaylistItem",value:function(){return this.player.options_}},{key:"monitorEvents",value:function(){var e=this,t=this.broker,r=this.config,n=r.bannerFallback,i=void 0===n?{}:n,o=r.pauseOnBlur,a=void 0===o||o;t.on("chromeless player event","adPlay",(function(t){return e.handleAdPlay(t)})),t.on("chromeless player event","play",(function(t){return e.handlePlay(t)})),t.on("chromeless player event","error",(function(t){return e.handleError(t)})),r.bannerFallback&&r.bannerFallback.enabled&&t.on("chromeless player event","bannerFallbackAd",(function(t){return e.handleRenderMpuAd({bannerFallback:i,pauseOnBlur:a},t)}))}},{key:"createPlayerLayout",value:(i=Ud(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.config,r=t.width,n=t.height,i=t.ui,this.timer=+new Date,this.monitorEvents(),this.targetBody=document.createElement("div"),this.targetBody.id="chromelessPlayer",this.targetBody.className="jwplayer_body",this.targetBody.style.width="".concat(r,"px"),this.targetBody.style.height="".concat(n,"px"),this.targetBody.style.background="url(".concat(this.config.ui.backgroundImage,")"),document.body.appendChild(this.targetBody),o={ref:function(e){a.videoPlayerRef=e},broker:this.broker,containerInitialised:this.containerInitialised,targetBody:this.targetBody,onClose:this.playerRemove,config:{width:r,ui:i},getPlaylistItem:this.getPlaylistItem},this.videoPlayerRef=ml(o),this.targetBody.appendChild(this.videoPlayerRef.outerWrapper);case 13:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"playerRemove",value:function(){this.videoPlayerRef&&this.videoPlayerRef.outerWrapper.parentNode.removeChild(this.videoPlayerRef.outerWrapper),this.targetBody&&this.targetBody.remove(),this.broker.emit("set slots enabled",["chromeless"],!1),this.broker.emit("chromeless player closed"),this.broker.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"close"}})}},{key:"initialisePlayer",value:function(){var e=this;this.broker.emit("set slots enabled",["chromeless"],!0),__webpack_require__.g.DM.later("videoplayer-ready",Ud(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ld(e.playerConfig,e.videoEl,e.playlist);case 2:e.player=t.sent,r=e.config,n=r.delayBeforeMakingPlayerVisible,i=r.nonOptimisedMobileHomePage,setTimeout((function(){e.targetBody.style.visibility="visible",e.broker.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"open"}})}),n),i&&xd(e.targetBody,e.player).then((function(){return e.playerRemove()})),e.broker.emit("chromeless player ready",e.player),Nd(e.broker,e.player);case 8:case"end":return t.stop()}}),t)}))))}},{key:"containerInitialised",value:(n=Ud(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.broker,i=this.config,this.videoEl=r,o=i.width,a=i.height,s=i.videoAdServerUrl,u=i.pageLoadTimeout,e.next=5,this.playlist;case 5:c=e.sent[0],n.emit("chromeless videoPlayer container ready",{broker:n,adEl:t,videoEl:r,videoId:c.videoId,config:{width:o,height:a,videoAdServerUrl:s,pageLoadTimeout:u}});case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}],r&&Rd(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qd(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Fd(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){qd(o,n,i,a,s,"next",e)}function s(e){qd(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Vd(e){return zd.apply(this,arguments)}function zd(){return(zd=Fd(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt({url:t,timeout:18e3});case 2:return r=e.sent,e.abrupt("return",JSON.parse(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wd=function(e,t,r,n){return e.filter((function(e){return e.duration<=t.maxVideoDuration})).map((function(e){return{linkBaseURL:e.articleUrl,isMobile:!1,duration:e.duration,src:e.url,source:e.source,playerId:"default",title:e.headline,preload:"none",initialVideo:!1,thumbnail:e.stillImageUrl,poster:t.backgroundImage,syndicationService:!1,plugins:{tracking:{disableMolTracking:r,channelShortName:n,sponsored:null,referenceId:e.id,videoId:e.externalVideoIdent,trackingType:"chromeless",recommendationModel:""},"ads-setup":{adsEnabled:!0,screen:{width:401,height:225},adsCancelTimeout:15e3},"autoplay-inline":{enabled:!1,alwaysOn:!1}},videoId:e.externalVideoIdent,descr:e.headline,referenceId:e.id,grapeshot:{article:{articleURL:e.articleUrl}}}}))},Hd=function(){var e=Fd(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(t.ui.playlistUrl).catch((function(e){console.log("No jwplayer playlist available due to ",e.message)}));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n=r[t.trackingData.videoChannel],i=t.ui.shufflePlaylist?(0,w.TV)(n):n,e.abrupt("return",Wd(i,t.ui,t.disableMolTracking,t.pageCriteraVideoChannel));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gd=MobileUtils.isMobile()&&!MobileUtils.isAndroidTablet()&&!MobileUtils.isIPad();function Kd(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Xd(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Kd(o,n,i,a,s,"next",e)}function s(e){Kd(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Yd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jd(Object(r),!0).forEach((function(t){Zd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ep=function(){return(0,gl.GH)()&&Gd&&("desktop"===(0,I.ej)("mol-home")||"true"===(0,I.ej)("mol-desktop"))},tp=function(e){var t=e("players.chromeless.dmplayer.v3.adUnitNameLevel1","dm.chromelessvideo"),r=e("players.chromeless.dmplayer.v3.adUnitNameLevel2","dm_dmros_ros"),n=e("players.chromeless.dmplayer.v3.dfpAccountCode","5765"),i=e("players.chromeless.dmplayer.v3.videoAdServerUrlTemplate",{sz:"[size]",impl:"s",gdfp_req:1,env:"vp",output:"xml_vast4",unviewed_position_start:1,url:"[referrer_url]",correlator:"[time]"}),o=e("players.chromeless.dmplayer.v3.adRequestBaseUrl","https://pubads.g.doubleclick.net/gampad/ads");return e("players.chromeless.dmplayer.v3.adRoll",[]).map((function(e){var a=e.offset,s=e.pos,u=e.cust_params,c=e.minVideoDuration,l="/".concat(n,"/").concat(t,"/").concat(r,"/").concat(s),d=Qd(Qd({},i),{},{iu:l}),p=Object.entries(d).map((function(e){var t=Yd(e,2),r=t[0],n=t[1];return r+"="+"".concat(n).replace(/\//g,"%2F")})).join("&"),f="".concat(o,"?").concat(p);return c?{videoAdServerUrl:f,offset:a,minVideoDuration:c,cust_params:u}:{videoAdServerUrl:f,offset:a,cust_params:u}}))},rp=function(){var e=Xd(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.adEl,i=t.videoEl,o=t.videoId,a=t.config,s=a.width,u=a.height,c=a.videoAdServerUrl,l=a.pageLoadTimeout,r.emit("start early video bid",{adEl:n,videoEl:i,offset:0,pos:"jwplayer",articleURL:"".concat(__webpack_require__.g.location.protocol,"//").concat(__webpack_require__.g.location.host).concat(__webpack_require__.g.location.pathname),timeout:l,screen:{height:u,width:s},videoAdServerUrl:c,videoId:o,autoplay:!0,excludeSpotX:!1,platform:"dmplayer"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),np=function(e){var t,r=e.broker,n=e.getConfig,i=e.log,o=n("slots.enabled",{}),a=(Object.keys(o).includes("mpu_player"),function(e){var t=e("plugins.slots.jwplayer.v2",{}),r=e("plugins.slots.jwplayer.v2.useIMASSDK",!0),n=e("players.flyoutConfig",{}),i=n.pauseAdsOnBlur,o=void 0===i||i,a=n.pauseWhenUserInOtherTab,s=void 0===a||a,u=n.pauseWhenUserInOtherApplication,c=o&&s&&(void 0===u||u),l=new Set(["news","tvshowbiz","femail","health","sciencetech","travel","money"]).has(__webpack_require__.g.PageCriteria.channel)?__webpack_require__.g.PageCriteria.channel:"news",d=t.mediaType&&t.mediaType.video&&t.mediaType.video.playerSize||[401,225],p=Object.keys(e("slots.enabled",{})).includes("mpu_player"),f=e("slotDescriptions.initial",{}).mpu_player,h=(null==f?void 0:f.bannerFallback)||{},g=h.playerSize,m=void 0===g?[445,250]:g,v=h.displayTimeout,y=void 0===v?5e3:v,b=Yd(p?m:d,2),_=b[0],w=b[1],S=p?function(e,t){return{displayTimeout:t,enabled:!0,id:e.id,parentId:e.parentId,pos:e.pos}}(f,y):{};return Qd(Qd({width:_,height:w,delayBeforeMakingPlayerVisible:e("players.chromeless.dmplayer.v3.delayBeforeMakingPlayerVisible",4e3)},t),{},{nonOptimisedMobileHomePage:ep(),trackingData:{videoChannel:l},schedule:tp(e),disableMolTracking:e("players.chromeless.dmplayer.v3.disableMolTracking",!0),pageCriteraVideoChannel:__webpack_require__.g.PageCriteria.channel,useImaSdk:r,bannerFallback:Qd({enabled:!1},S),pauseOnBlur:c})}(n));i("player config",a);var s=a.ui,u=a.disableMolTracking,c=a.pageCriteraVideoChannel,l=a.trackingData,d=new Promise((function(e){r.once("ad rendered","billboard",(function(){return setTimeout(e,500)}))}));r.on("creative updated plugins",(function(e){e.hasOwnProperty("chromeless.dmplayer")&&!e["chromeless.dmplayer"]&&(t=!0)})),r.on("disable chromeless-player",(function(){t=!0})),r.on("plugins enabled",Xd(regeneratorRuntime.mark((function e(){var o,p,f,h,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(o=new Promise((function(e){r.on("chromeless videoPlayer container ready",(function(t){rp(t),e()}))})),r.register("get video tags",(function(e){var t=e.pos,r=__webpack_require__.g.PageCriteria.channel;if("jwplayer"===t)return{cust_params:{channel:r}}})),p=Hd({ui:s,disableMolTracking:u,pageCriteraVideoChannel:c,trackingData:l}),f=new Bd(r,a,p,i),__webpack_require__.g.DM.later("DOM_READY",Xd(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invoke("is page visible?");case 2:e.sent||!a.pauseOnBlur?(i("Page has focus - rendering player"),f.createPlayerLayout()):(i("Waiting for page to focus"),r.once("page visible",(function(){i("Page has focus - rendering player"),f.createPlayerLayout()})));case 4:case"end":return e.stop()}}),e)})))),h=n("players.chromeless.dmplayer.v3.delayBeforeStartPlayer",2e3),!n("plugins.enabled").includes("chromelessWaitForBillboard")){e.next=14;break}return g=Date.now(),e.next=12,d;case 12:m=Date.now()-g,h=m>h?0:h-m;case 14:setTimeout(Xd(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,o;case 5:f.initialisePlayer(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.log("Unable to start chromeless player due to",e.t0.message),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),h);case 15:case"end":return e.stop()}}),e)}))))};np.pluginSetup=function(e){var t=e.getConfig,r=(e.addPlugins,e.removePlugins),n=t("plugins.enabled");if(n.includes("chromelessv2.dmplayer")){var i=!n.includes("players.flyoutManager")&&(__webpack_require__.g.PageCriteria.containsVideo||__webpack_require__.g.document.querySelector('meta[property="og:video"]')),o=t("players.chromeless.dmplayer.v3.domainExclusions",[]),a=t("players.chromeless.dmplayer.v3.articleIdExclusions",[]).map((function(e){return e.toString()})),s=o.length&&(o.includes(__webpack_require__.g.location.hostname)||o.includes(__webpack_require__.g.location.hostname.replace(/www./,"")))||__webpack_require__.g.PageCriteria.articleId&&a.length&&a.includes(__webpack_require__.g.PageCriteria.articleId),u=t("players.chromeless.dmplayer.v3.enableWifiDetection",!1),c=navigator.connection&&"wifi"===navigator.connection.type;(s||i||Gd&&!ep()||u&&!c||!u&&Gd)&&r(["chromelessv2.dmplayer"])}};var ip=np;np.ccpa={enabledIfDissent:!0},np.gdpr={enabledIfDissent:!0};var op=DM.molFeComponents;function ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(r),!0).forEach((function(t){up(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function up(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cp(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function lp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){cp(o,n,i,a,s,"next",e)}function s(e){cp(o,n,i,a,s,"throw",e)}a(void 0)}))}}function dp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||pp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){if(e){if("string"==typeof e)return fp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fp(e,t):void 0}}function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hp=(0,b.U2)("cmp.v2.dissent.pluginsWhitelist",[]),gp=(0,b.U2)("cmp.v2.dissent.forceConfig",{}),mp=["dmgmediaprivacy.co.uk","dmgprivacyint.co.uk","localhost","127.0.0.1"],vp=MobileUtils.isMobile()&&!MobileUtils.isAndroidTablet()&&!MobileUtils.isIPad(),yp={getUSPData:"__cachedUSPData"},bp=function(e){return Boolean(mp.find((function(t){return e.endsWith(t)})))},_p=function(){var e=new Set(hp),t=gp,r=(0,b.U2)("plugins.enabled").filter((function(t){return e.has(t)}));(0,b.t8)("plugins.enabled",r),Object.entries(t).forEach((function(e){var t=dp(e,2),r=t[0],n=t[1];(0,b.t8)(r,n)}))},wp=function(e){var t=function(t){if(!function(e){if(void 0!==e.dataset.cmpNoConsent||/(cookie\s+policy|privacy\s+settings)/i.test(e.textContent))return!0;var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=pp(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(document.querySelectorAll("*[data-cmp-no-consent]"));try{for(r.s();!(t=r.n()).done;){var n=t.value;if((0,Ae.contains)(n,e))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}(t.target)){var n=function(e){if("function"==typeof Event)return new e.constructor(e.type,e);var t=document.createEvent("Event");return t.initEvent(e.type,e.bubbles,e.cancelable),t}(t);t.preventDefault(),r(),e.emit("extra cmp ui tracking event","site clicked"),la("consentToAll").then((function(){t.target.dispatchEvent(n)})).catch((function(e){console.error(e),t.target.dispatchEvent(n)}))}},r=function(){document.body.removeEventListener("click",t)};return document.body.addEventListener("click",t),r},Sp=function(){var e=lp(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||I.cj||r("cmp.isEmbeddedVideo",!1)){e.next=7;break}return e.next=3,la("rendered");case 3:return i=wp(t),e.next=6,la("onUpdate");case 6:i();case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Tp=function(){var e=lp(regeneratorRuntime.mark((function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([da(),pa()]);case 2:n=e.sent,i=dp(n,2),o=i[0],a=i[1],o||_p(),Sp(t,r,a);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ip=function(){var e=lp(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([da(),pa()]);case 2:t=e.sent,r=dp(t,2),n=r[0],r[1]?localStorage.setItem(ca,n?"yes":"no"):localStorage.removeItem(ca);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kp=function(){var e=lp(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma(),e.abrupt("return",Promise.all(Object.entries(yp).map((function(e){var t=dp(e,2),n=t[0],i=t[1];return new Promise((function(e){r.a.push([n,null,function(t,r){r&&(localStorage.setItem(i,JSON.stringify(t)),e(up({},n,t)))}])}))}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ap=function(e){var t=ma()||function(e,t,r){var n,i=yp[e];i&&(n=localStorage.getItem(i))?r(JSON.parse(n),!0):ma().a.push([e,t,r])};return function(e){__webpack_require__.g.__uspapi=e}(t),t.a=t.a||[],t},Ep=function(){var e=lp(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ba(),bp((c=r,l=void 0,l=document.createElement("a"),l.href=c,l).hostname)){e.next=3;break}throw new Error('CMP script base "'.concat(r,'" is not allowed.'));case 3:if((I.s$||I.JW)&&(r=r.replace(/^https?:/,"")),n=document.createElement("script"),!(i=t("cmp.isEmbeddedVideo",!1))){e.next=14;break}return o=".vjs-flyout-wrapper-fixed .vjs-video-container",e.next=10,Promise.race([(0,Ae.elementReady)(o,4500),(0,Xe.Vs)(4e3)]);case 10:n.dataset.renderIn=o,n.dataset.renderVideo=!0,e.next=15;break;case 14:n.dataset.render=!0;case 15:n.id="mol-ads-cmp",n.src="".concat(r,"/iife/mol-ads-cmp.js"),a=document.createElement("link"),s=document.head.querySelector('link[rel="stylesheet"]')||document.head.lastChild,u=function(){switch(!0){case i:return"video";case vp:return"mobile";default:return"desktop"}}(),a.setAttribute("rel","stylesheet"),a.setAttribute("href","".concat(r,"/css/").concat(u,".css")),document.head.insertBefore(a,s),document.head.appendChild(n);case 24:case"end":return e.stop()}var c,l}),e)})));return function(t){return e.apply(this,arguments)}}(),Op=function(){var e=lp(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=t.log,op.setConfig("molFeHomeChannel/showGDPRControls",{enabled:!I.cj&&ga()}),I.SP["mol.ads.cmp.stubConsent"]?localStorage.setItem(ca,"yes"):I.SP["mol.ads.cmp.stubDissent"]&&localStorage.setItem(ca,"no"),o=Ap(),kp(r),o("onUpdate",null,function(){var e=lp(regeneratorRuntime.mark((function e(t,n){var o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i("onUpdate",t),!n){e.next=10;break}return ga()&&localStorage.setItem(ca,t?"yes":"no"),e.next=5,kp(r);case 5:o=e.sent,a=o.find((function(e){return e.getUSPData})),i("consentData",a),(s=a&&a.getUSPData)&&(u=sp(sp({},s),{},{hasConsent:t}),i("cmp updated",u),r.emit("cmp updated",u));case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),ga()&&la("onDissent").then(lp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("user dissented"),localStorage.setItem(ca,"no"),e.next=4,kp(r);case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}__webpack_require__.g.location.reload();case 7:case"end":return e.stop()}}),e)})))),Ep(n),Ip(),e.t0=localStorage.getItem(ca),e.next="yes"===e.t0?12:"no"===e.t0?13:16;break;case 12:return e.abrupt("break",20);case 13:return e.next=15,_p();case 15:return e.abrupt("break",20);case 16:if(!ga()){e.next=19;break}return e.next=19,Tp(r,n);case 19:return e.abrupt("break",20);case 20:ma()("onReset",null,(function(){localStorage.removeItem(ca)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(r),!0).forEach((function(t){xp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dp(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function jp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Dp(o,n,i,a,s,"next",e)}function s(e){Dp(o,n,i,a,s,"throw",e)}a(void 0)}))}}Op.isAdsFreeSupported=!0;var Rp=function(){var e=jp(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}if(!ya()){e.next=7;break}return e.next=4,r;case 4:n=e.sent,(i=n&&n[0])&&i.pubads().setPrivacySettings({restrictDataProcessing:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function Mp(e){return Up.apply(this,arguments)}function Up(){return Up=jp(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,ma()){e.next=3;break}return e.abrupt("return");case 3:return i={gdpr:"0",cmp:"ccpa"},o=r.until("gpt initialized"),a=function(e){var t=e.hasConsent,n=Pp(Pp({},i),{},{us_privacy:e.uspString,consent:t}),a=t||!ya()?0:1,s=1===a?Pp(Pp({},n),{},{rdp:a}):n;r.emit("set page level targeting",s);var u={cust_params:Pp({},n),rdp:a};r.emit("sync video tags update",u),Rp(t,o)},r.on("cmp updated",function(){var e=jp(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("user consentData updated",t),a(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.prev=7,e.next=10,la("getUSPData");case 10:s=e.sent,u=va(),n("setting initial user consentData",s,u),a(Pp(Pp({},s),{},{hasConsent:u})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("[mol-ads]: There was a problem fetching consent data");case 19:window.__uspapi&&I.SP.privacy&&((0,I.WH)("privacy"),window.__uspapi.a.push(["openSettings"]));case 20:case"end":return e.stop()}}),e,null,[[7,16]])}))),Up.apply(this,arguments)}function Lp(e){var t=e.broker;__webpack_require__.g.__promised_cmp=new Promise((function(e,r){t.on("plugins enabled",(function(t){if(!__webpack_require__.g.__cmp)return e();__webpack_require__.g.__cmp("hasChoiceBeenMade",null,(function(t,n){if(!n)return r(new Error("hasChoiceBeenMade failed"));t?__webpack_require__.g.__cmp("hasConsentedToAll",null,(function(t,n){if(!n)return r(new Error("hasConsentedToAll failed"));e(t)})):__webpack_require__.g.__cmp("onUpdate",null,(function(t,n){if(!n)return r(new Error("onUpdate failed"));e(t)}))}))}))})),__webpack_require__.g.postMessage("__promised_cmp:available","*")}function Np(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Bp(){}Mp.pluginSetup=function(){var e=jp(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,i=t.log,!fa()){e.next=4;break}return e.next=4,Op({broker:r,getConfig:n,log:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mp.isAdsFreeSupported=!0,Lp.isAdsFreeSupported=!0;var qp="home ushome auhome".split(" "),Fp=function(){return/(\?|&)ito=taboola/.test(window.location.search)},Vp=(0,k.x)("Delayer");Bp.pluginSetup=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.setConfig,i=!ya(),o=I.cj,a=PageCriteria.isMobile,s=navigator.cookieEnabled,u="channel"===PageCriteria.pageType,c=qp.includes(PageCriteria.channel),l=ga()&&ha(),Vp("Initializing:",{newCmpUser:i,ios:o,ccpa:l,mobile:a,cookieEnabled:s,channel:u,home:c}),i&&o&&l&&a&&s&&u&&c){e.next=13;break}return Vp("Not delaying"),e.abrupt("return");case 13:if(Vp("Possible"),d=(0,I.ej)("mol-home"),Vp("Cookie:",d),Vp("Taboola:",Fp()),!d&&!Fp()){e.next=20;break}return Vp("Not delaying"),e.abrupt("return");case 20:return Vp("Active"),n("pluginManager.setupTimeout",6e5),Vp("Change timeout to 10 minutes"),e.prev=23,e.next=26,new Promise((function(e,t){var r=!1,n=Date.now();!function i(){if(document.querySelector("#homePageCover"))r||Vp("homePageCover detected"),r=!0;else{if(r)return Vp("homePageCover closed"),e();var o=Date.now()-n;if(o>5e3)return Vp("homePageCover never showed up after",o),t(new Error("homePageCover never showed up after ".concat(o," ms")))}setTimeout(i,200)}()}));case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(23),r.register("call for page analytics",(function(){return{missingHomePageCover:!0}}));case 31:case"end":return e.stop()}}),e,null,[[23,28]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Np(o,n,i,a,s,"next",e)}function s(e){Np(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Bp.isAdsFreeSupported=!0;var zp="__ads_cmp_reprompt",Wp=(0,k.x)("cmp-reprompt");function Hp(e){var t=e.getConfig;if((0,b.U2)("plugins.enabled").includes("cmp")&&"US"!==PageCriteria.geo){var r=t("cmp.reprompt",{version:0,chance:0});Wp("Goal:",r);var n=localStorage.getItem(zp),i=n&&JSON.parse(n)||{version:0,chance:Math.random()},o=function(){Wp("Saving config"),localStorage.setItem(zp,JSON.stringify(i))};Wp("Current:",i),i.version<r.version&&i.chance<r.chance?(Wp("Resetting CMP cookie"),ma()("reset",null,(function(e,t){t?(Wp("Cookie removed"),i.version=r.version,i.ts=(new Date).toISOString(),o()):Wp("Failed resetting CMP")}))):n||o()}else Wp("Not in GDPR jurisdiction, bailing")}function Gp(e){var t=e.broker;if(fa()){var r="__cmp_ui_tracking\n",n={"overlay accepted":DM.molFeTracking.pageEvents.GDPR_OVERLAY_ACCEPTED,"overlay open settings":DM.molFeTracking.pageEvents.GDPR_OVERLAY_PRIVACY,"overlay displayed":DM.molFeTracking.pageEvents.GDPR_OVERLAY_DISPLAYED,"settings functional tab clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_FUNCTION_TAB_CLICKED,"settings advertising tab clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_TAB_CLICKED,"settings functional panel advertising link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_LINK_CLICKED,"settings functional panel policy link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_POLICY_LINK_CLICKED,"settings advertising panel policy link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_POLICY_LINK_CLICKED,"settings advertising panel disallow":DM.molFeTracking.pageEvents.GDPR_SETTINGS_DISALLOW_ADVERTISING_PARTNERS,"settings advertising panel disallow confirmed":DM.molFeTracking.pageEvents.GDPR_SETTINGS_CONFIRMATION_DISALLOW,"settings advertising panel disallow declined":DM.molFeTracking.pageEvents.GDPR_SETTINGS_CONFIRMATION_ALLOW,"settings functional panel allow all":DM.molFeTracking.pageEvents.GDPR_SETTINGS_FUNCTION_ALLOW_ALL,"settings advertising panel allow all":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_ALLOW_ALL,"site clicked":DM.molFeTracking.pageEvents.GDPR_OVERLAY_ACCEPT_BY_CLICK_SITE};__webpack_require__.g.addEventListener("message",(function(e){var t=e.data;if(t&&"function"==typeof t.startsWith&&t.startsWith(r)){var i=t.substring(r.length),o=n[i];o?DM.molFeTracking.pageEvents.publish(o):console.warn("Unknown CMP UI Tracking event:",i)}}),!1),t.on("extra cmp ui tracking event",(function(e){return DM.molFeTracking.pageEvents.publish(n[e])}))}}Hp.isAdsFreeSupported=!0,Gp.isAdsFreeSupported=!0;var Kp=Mp;function Xp(e){return function(e){if(Array.isArray(e))return Jp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||$p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e,t){if(e){if("string"==typeof e)return Jp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jp(e,t):void 0}}function Jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(r),!0).forEach((function(t){ef(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ef(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("debug.setPlugin",{init:function(e){var t=e.queryParams,r=e.getConfig,n=e.setConfig,i=e.log,o=e.ownName,a=void 0===o?"debug.setPlugin":o;if(t.setPlugin){var s=function(e){return"on,true,1,enabled".includes(e)},u=t.setPlugin.split(",").reduce((function(e,t){var r=Yp(e,3),n=r[0],o=r[1],a=r[2],u=Yp(t.split(":"),2),c=u[0],l=u[1];if(void 0===l)return i("plugin setting malformed, use <pluginName>:<true|false>, eg bidCount:true"),[n,o,a];if(c.includes("*")){var d=Yp(c.split("*"),2),p=d[0],f=d[1];!s(l)&&""===f&&a.push(p)}else s(l)?n.add(c):o.add(c);return[n,o,a]}),[new Set([]),new Set([]),[]]),c=Yp(u,3),l=c[0],d=c[1],p=c[2],f=r("plugins.enabled",[]).filter((function(e){return!(function(e){return p.some((function(t){return e.includes(t)}))&&!l.has(e)}(e)||d.has(e))})),h=f.indexOf(a)+1;n("plugins.enabled",(0,w.jj)([].concat(Xp(f.slice(0,h)),Xp(l),Xp(f.slice(h)))))}},isAdsFreeSupported:!0,ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0}});var rf=function(e){if(e)return e.split(",").map((function(e){return e.split(":")})).reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],i=r[1];return e[n]=i,e}),{})};function nf(e){var t=e.broker;if(I.SP.forceVideoTag||I.SP.forceDisplayTag){var r=rf(I.SP.forceDisplayTag),n=rf(I.SP.forceVideoTag);r&&console.log("[FORCE TARGETING] display tags",r),n&&console.log("[FORCE TARGETING] video tags",n),t.emit("set page level targeting",Zp(Zp({},r),n))}}function of(e){return function(e){if(Array.isArray(e))return uf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||sf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sf(e,t){if(e){if("string"==typeof e)return uf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uf(e,t):void 0}}function uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cf(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function lf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){cf(o,n,i,a,s,"next",e)}function s(e){cf(o,n,i,a,s,"throw",e)}a(void 0)}))}}nf.ccpa={enabledIfDissent:!0},nf.gdpr={enabledIfDissent:!0};var df=(0,k.x)("permutive"),pf=function(){var e=lf(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.delayedInitialisation,df("initializing"),o=n("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),a=n("plugins.permutive.publisherUserId","TheDailyMail"),s=n("plugins.permutive.apiKey","ed45e86d-a09e-4d2b-85c0-fbbd6857373e"),u=n("plugins.permutive.environment","production"),c=n("plugins.permutive.eventsCacheLimitBytes",25e5),l=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];d.q.push({functionName:e,arguments:r})}},(d=__webpack_require__.g.permutive={config:{apiKey:s,environment:u,projectId:o,eventsCacheLimitBytes:c,delayedInitialisation:i,viewId:__webpack_require__.g.PageCriteria&&__webpack_require__.g.PageCriteria.pageViewId||(0,Pn.kb)()},q:[],addon:l("addon"),consent:l("consent"),identify:l("identify"),on:l("on"),once:l("once"),query:l("query"),ready:l("ready"),segment:l("segment"),segments:l("segments"),track:l("track"),trigger:l("trigger"),user:l("user"),init:l("init")}).ready((function(){return r.emit("permutive ready")})),p=__webpack_require__.g.pagemeta||{},r.on("track in permutive",function(){var e=lf(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:df("track:",t,r),__webpack_require__.g.permutive.track(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f=n("plugins.permutive.dependenciesTimeout",2e3),h=r.invokeAll({message:["get admantx tags"],timeout:f}),g=h.then((function(e){return{page:{admants:af(e,1)[0]}}})),m=function(e){return{user:{id:e.user,status:"logged out"}}},v=__webpack_require__.g.RTA&&__webpack_require__.g.RTA.ids&&__webpack_require__.g.RTA.ids.then(m)||{},y=(0,Xe.yq)(f,v),e.next=20,Promise.all([g,y]);case 20:b=e.sent,_=E().apply(void 0,[{page:{type:p.contentType,article:{id:p.articleId,title:p.articleTitle,categories:p.channel?[p.channel.substr(1)]:void 0,publishedAt:p.publishedDate&&p.publishedDate.toISOString()||void 0,modifiedAt:p.updatedDate&&p.updatedDate.toISOString()||void 0,authors:p.authorsShortNames}}}].concat(of(b))),df("web context:",_),_.user&&(w={id:_.user.id,tag:a},df("identity:",w),__webpack_require__.g.permutive.identify([w])),__webpack_require__.g.permutive.addon("web",_);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ff=(0,Vn.ri)((function(e,t){return function(e){var t=e.broker,r=e.getConfig;return new Promise(function(){var e=lf(regeneratorRuntime.mark((function e(n){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(__webpack_require__.g.permutive){e.next=9;break}return i=r("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),o=r("plugins.permutive.webScriptSrc","https://5f42864d-a421-4f37-9478-00266f871d68.edge.permutive.app/{{WORKSPACE_ID}}-web.js"),a=r("plugins.permutive.delayedInitialisation",!1),e.next=6,pf({broker:t,getConfig:r,delayedInitialisation:a});case 6:return e.next=8,t.invoke("import script",o.replace("{{WORKSPACE_ID}}",i));case 8:a&&__webpack_require__.g.permutive.init();case 9:n();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}({broker:e,getConfig:t})}));function hf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hf(Object(r),!0).forEach((function(t){mf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vf(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function yf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){vf(o,n,i,a,s,"next",e)}function s(e){vf(o,n,i,a,s,"throw",e)}a(void 0)}))}}var bf=function(){return JSON.parse(__webpack_require__.g.localStorage.getItem("_pdfps")||"[]")};function _f(e){return wf.apply(this,arguments)}function wf(){return wf=yf(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=ff(r,n),r.emit("set page level targeting",i.then((function(){var e=window.localStorage.getItem("permutive-id"),t=__webpack_require__.g.permutive.config.viewId,r={permutive:bf(),pvid:t};return e&&(r=gf(gf({},r),{},{puid:e,ptime:Date.now().toString()})),r})));case 3:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function Sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function If(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?If(Object(r),!0).forEach((function(t){Af(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):If(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Af(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ef(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Of(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ef(o,n,i,a,s,"next",e)}function s(e){Ef(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Cf(e){return Pf.apply(this,arguments)}function Pf(){return Pf=Of(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.broker,i=t.getConfig,o=DM&&DM.pageEvents,a=(0,k.x)("permutive"),o){e.next=5;break}return e.abrupt("return");case 5:return s=ff(n,i),u={},c={},l=1,e.next=11,s;case 11:d=function(e,t){var r=e.title,n=e.referenceId,i=e.autoplay;return{video:{name:r,id:String(n)},autoStart:i,playId:t}},p=function(e){var t=e.videoId;u[t]=d(e,String(l)),a("videoDataReady Event, id: ".concat(t),u[t]),l++},f=function(e){var t=e.videoId,r=u[t];a("Sending VideoPlay Event, id: ".concat(t),r),__webpack_require__.g.permutive.track("VideoPlay",r)},h=function(e){var t=e.videoId,r=kf({},u[t]);e.ratio>0&&(r.progress=e.ratio,a("Sending VideoProgress Event, id: ".concat(t),r),__webpack_require__.g.permutive.track("VideoProgress",r))},g=function(e){var t=e.videoId,r=e.adImpression,n=r.adWrapperSystems&&Object.fromEntries(r.adWrapperSystems.map((function(e,t){return[e,r.adWrapperIds[t]]})))||[],i=n.GDFP,o={id:i&&String(i)||void 0,advertiserName:r.advertiserName,creativeId:String(r.creativeId),deal_id:String(r.dealId)};c[t]=o;var s=kf(kf({},u[t]),{},{ad:o});a("Sending VideoAdPlay Event, id: ".concat(t),s),__webpack_require__.g.permutive.track("VideoAdPlay",s)},m=function(e){var t=e.videoId,r=kf(kf({},u[t]),{},{ad:kf({},c[t])});a("Sending VideoAdComplete Event, id: ".concat(t),r),__webpack_require__.g.permutive.track("VideoAdComplete",r),delete c[t]},v=function(e){e=kf(kf({},e),{},{ratio:1}),h(e),delete u[e.videoId]},Af(r={},o.VIDEO_DATA_READY,p),Af(r,o.VIDEO_CONTENT_STARTED,f),Af(r,o.VIDEO_PROGRESS,h),Af(r,o.VIDEO_ADVERT_IMPRESSION,g),Af(r,o.VIDEO_ADVERT_COMPLETED,m),Af(r,o.VIDEO_CONTENT_COMPLETED,v),y=r,Object.entries(y).forEach((function(e){var t=Sf(e,2),r=t[0],i=t[1];a("Registering","video page event ".concat(r)),n.on("video page event ".concat(r),(function(e,t){i(t)}))}));case 20:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function xf(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Df(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){xf(o,n,i,a,s,"next",e)}function s(e){xf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function jf(e){var t=e.broker,r=e.getConfig,n=r("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),i=r("plugins.permutive.indexedDBVersion",2),o=new Promise((function(e){var t=indexedDB.open(n,i);t.onsuccess=Df(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.result,r.next=3,Promise.all(Object.values(n.objectStoreNames).map((function(e){var t=n.transaction(e,"readonly").objectStore(e).getAll();return new Promise((function(e){t.onsuccess=function(){var r=t.result.reduce((function(e,t){return t.byteLength?e+t.byteLength:t.length?e+t.length:e}),0);e(r)}}))})));case 3:i=r.sent,n.close(),e(i.reduce((function(e,t){return e+t}),0));case 6:case"end":return r.stop()}}),r)})))}));t.register("call for page analytics",Df(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.t0=e.sent,e.t1={permutive:e.t0},e.abrupt("return",{indexedDB:e.t1});case 5:case"end":return e.stop()}}),e)}))))}function Rf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mf(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Uf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Mf(o,n,i,a,s,"next",e)}function s(e){Mf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Lf(){return Lf=Uf(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.log,o=n("dmp.moat.url","https://z.moatads.com/mailonlineprebidheader526476985912/moatheader.js"),i("config:",{URL:o}),a=new Promise((function(e){__webpack_require__.g.moatYieldReady=function(){i.enabled&&__webpack_require__.g.moatPrebidApi.enableLogging(),e(__webpack_require__.g.moatPrebidApi)}})),r.emit("set page level targeting",a.then((function(e){var t=e.getMoatTargetingForPage();return i("page targeting",t),t||{}}))),r.register("get tags",function(){var e=Uf(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slot,e.next=3,a;case 3:return n=e.sent,o=n.getMoatTargetingForSlot(r.pos),i(Rf({},r.pos,o)),e.abrupt("return",o||{});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,r.invoke("import script",o);case 8:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}_f.vendorIds={gdpr:[361]},_f.purposeIds={gdpr:"N/A"},Cf.vendorIds={gdpr:[361]},Cf.purposeIds={gdpr:"N/A"},jf.ccpa={enabledIfDissent:!0},jf.gdpr={enabledIfDissent:!0},(0,Ye.fo)("dmp.moat",{purposeIds:{gdpr:"N/A"},run:function(e){return Lf.apply(this,arguments)},vendorIds:{gdpr:[772]}});var Nf=__webpack_require__(2045),Bf=["type"];function qf(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ff(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){qf(o,n,i,a,s,"next",e)}function s(e){qf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zf(e){return zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(e)}function Wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(r),!0).forEach((function(t){Gf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ye.fo)("players.targeting",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("auction.maxTime",2e3),o={},a=ol.KC(),s={broker:t,log:n,pageLevelTargetingStream:a,defaultTargetingCollectionTimeout:i};t.on("set page level targeting",function(){var e=Ff(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:(r=e.sent)&&E()(o,r),a.push(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var u=t.until("configure and start prebid"),c=t.until("prebid ready");t.on("collect video tags",function(){var e=Ff(regeneratorRuntime.mark((function e(t,r){var i,a,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([u,c]);case 2:i=Xf(s,t),a=i.pos,l=i.autoplay,d=i.offset,p=i.videoId,n("requesting video bid for ".concat(a,", ").concat(l?"autoplay":"ctp",", offset: ").concat(d,", videoId: ").concat(p)),f=Jf(s,i),Object.keys(o).length&&(n("Dispatching known page level targeting:",o),r(null,{cust_params:Hf({},o)})),i.cust_params&&r(null,{cust_params:i.cust_params}),$f(f,(function(e,t){r(e,t)}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),t.on("start early video bid",function(){var e=Ff(regeneratorRuntime.mark((function e(t){var r,i,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:r=Xf(s,t),i=r.pos,o=r.autoplay,a=r.offset,n("starting early video bid ".concat(i,", ").concat(o?"autoplay":"ctp",", offset: ").concat(a)),c=Jf(s,r),Kf[t.pos]=c;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}});var Kf={};function Xf(e,t){return t.pos=t.pos||"video",t.timeout=t.timeout||e.defaultTargetingCollectionTimeout,"jwplayer"===t.pos&&(t.autoplay=!0,t.muted=!0),t.dfpPos=t.pos,t}function Yf(e,t){var r=e.broker,n=e.pageLevelTargetingStream,i=t.pos,o=t.timeout,a=Hf({slot:{pos:i}},t);r.emit("start bidding",i);var s=[];return s.push(r.openStream({message:["get video tags",a],timeout:o,controlHandler:function(e){var t=e.type,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Bf);return r.emit("auction event",i,t,n)}})),function(e,t,r){var n=ol.c(e,ol.UI(t,(function(e){return{cust_params:e}})));return e.on("end",(function(){return r("Bidders finished, disconnecting pageLevelTargetingStream")})),n.on("close",(function(){return r("Auction ended, disconnecting pageLevelTargetingStream")})),n}(ol.TS(s),n,e.log)}function $f(e,t){e.on("data",(function(e){t(null,e)})).on("end",(function(){return t(null,null)}))}function Jf(e,t){var r=e.broker,n=e.log,i=t.pos,o=t.autoplay,a=t.offset;if(Kf[i]){n("found stream for ".concat(i,", ").concat(o?"autoplay":"ctp",", offset: ").concat(a));var s=Kf[i];return delete Kf[i],r.emit("cached video bid consumed",i,"".concat(o?"autoplay":"ctp")),s}return function(){var s=(0,Nf.Z)();n("creating bidStream for: ".concat(i,", ").concat(o?"autoplay":"ctp",", offset: ").concat(a,", auctionId: ").concat(s)),t.auctionId=s;var u=Yf(e,t),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ol.Ju(),2),l=c[0],d=c[1];return function(e,t,r,n,i){ol.dE(ol.hX(r,(function(e){return"object"===zf(e)})),(function(n){n&&console.warn("video bidding ended with error:",n),e.emit("auction event",t,"end"),e.emit("video bidding ended",t,i),r.destroy()})).pipe(n)}(r,i,u,d,s),l}()}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zf(e){var t=e.broker,r=e.getConfig,n=e.log,i="androidMobile"===__webpack_require__.g.PageCriteria.device||"iphone"===__webpack_require__.g.PageCriteria.device;if(__webpack_require__.g.PageCriteria.containsVideo||__webpack_require__.g.document.querySelector('meta[property="og:video"]')){var o=r("plugins.slots.video.v2.pageLoadTimeout",4e3),a=r("plugins.slots.video.v2.videoAdServerUrl","http://pubads.g.doubleclick.net/gampad/ads?sz=[size]&iu=%2F5765%2Fdm.video%2Fdm_video_news_apfa&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast3&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]"),s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r("plugins.slots.video.v2.mediaTypes.video.playerSize",[640,360]),2),u=s[0],c=s[1],l=function(){var e=document.createElement("div");e.style.visibility="hidden";var r=document.createElement("video");r.setAttribute("muted","muted"),r.setAttribute("width",u),r.setAttribute("height",u),e.id="playerDiv_x",e.appendChild(r),document.body.appendChild(e);var s={pos:"video",articleURL:__webpack_require__.g.location.protocol+"//"+__webpack_require__.g.location.host+__webpack_require__.g.location.pathname,timeout:o,screen:{width:u,height:c},platform:"dmplayer",offset:0,videoAdServerUrl:a,autoplay:!1,excludeSpotX:!!i};n("start early video bid"),t.emit("start early video bid",s),setTimeout((function(){document.body.removeChild(e)}),5e3)};t.on("cached video bid consumed","video","ctp",(function(){return l()})),t.on("plugins enabled",(function(){__webpack_require__.g.DM.later("DOM_READY").then((function(){n("trigger early bid"),l()}))}))}}var eh=function(e){Zf(e)},th=eh;eh.ccpa={enabledIfDissent:!0},eh.gdpr={enabledIfDissent:!0};function rh(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function nh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){rh(o,n,i,a,s,"next",e)}function s(e){rh(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ih,oh,ah,sh,uh={},ch=!1,lh=!1,dh="androidMobile"===__webpack_require__.g.PageCriteria.device||"iphone"===__webpack_require__.g.PageCriteria.device,ph=function(e,t){document.addEventListener("click",(function(e){-1!==e.target.classList.toString().indexOf("vjs-flyout-close")&&(ch=!1,ih=null)}),!0),document.addEventListener("play",(function(r){(0,Ae.closest)(r.target,(function(e){return e.classList.contains("vjs-video-container")}))&&(e&&(0,Ae.closest)(r.target,(function(e){return e.classList.contains("video-ads-container")}))||!(0,Ae.closest)(r.target,(function(e){return e.classList.contains("video-ads-container")})))&&(uh[r.target]=uh[r.target]||{},ih=r.target,hh()||t&&ch&&!lh?(uh[r.target].playing=!1,lh=!0,r.target.pause(),ch=!0):(uh[r.target].playing=!0,ch=!1))}),!0),document.addEventListener("pause",(function(t){lh?lh=!1:(0,Ae.closest)(t.target,(function(e){return e.classList.contains("vjs-video-container")}))&&(e&&(0,Ae.closest)(t.target,(function(e){return e.classList.contains("video-ads-container")}))||!(0,Ae.closest)(t.target,(function(e){return e.classList.contains("video-ads-container")})))&&(uh[t.target]=uh[t.target]||{},uh[t.target].playing=!1,ch=!1)}),!0)},fh=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},hh=function(){try{return __webpack_require__.g.top.document.hidden||__webpack_require__.g.top.document.msHidden||__webpack_require__.g.top.document.webkitHidden||!1}catch(e){return!!undefined.visibilityApiEvent()}},gh=function(){return!!ih&&uh[ih].playing},mh=function(e){ih&&(gh()&&e?(lh=!0,ih.pause(),ch=!0,uh[ih].playing=!1):gh()||hh()||!ch?e||hh()||(ch=!1,gh()||(uh[ih].playing=!0,ih.play())):(ih.play(),uh[ih].playing=!0,ch=!1))},vh=function(e,t){(void 0===t||t)&&(__webpack_require__.g.top.addEventListener("blur",(function(){mh(!0)})),__webpack_require__.g.top.addEventListener("focus",(function(){mh(!1)}))),fh()&&(void 0===e||e)&&document.addEventListener(fh(),(function(e){mh(hh(),fh())}),!1)},yh=function(e){ih&&(oh=(0,Ae.getOffset)(ih),ah=parseInt((0,Ae.getElementComputedHeight)(ih)),sh=parseInt((0,Ae.getElementComputedHeight)(document.body)),ch&&oh.top+ah/2>0&&oh&&oh.top<sh-ah/2&&(ih.play(),ch=!1))};function bh(e){var t=e.broker,r=e.getConfig;if(!r("plugins.enabled",[]).includes("players.flyoutManager")){var n=r("players.dmplayer.pauseOnVisibilityChange",!0),i=r("players.dmplayer.pauseOnBlur",!0),o=r("players.dmplayer.pauseOnAds",!1);if(o="false"!==o&&("true"===o||o),n="false"!==n&&("true"===n||n),i="false"!==i&&("true"===i||i),dh&&function(e){ph(),e.on("dom ready",(function(){document.addEventListener("pause",(function(e){(oh&&oh.top+ah/2<0||oh&&oh.top>sh-ah/2)&&(ch=!0)}),!0),document.addEventListener("scroll",__webpack_require__.g.DM.molFeMiniLodash.debounce(yh,100),{passive:!0,capture:!0}),document.addEventListener("touchmove",__webpack_require__.g.DM.molFeMiniLodash.debounce(yh,100),{passive:!0,capture:!0})}))}(t),!dh&&(n||i))var a=t.on("ad rendered",nh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ph(o,!0),vh(n,i),a.cancel();case 3:case"end":return e.stop()}}),e)}))))}}bh.ccpa={enabledIfDissent:!0},bh.gdpr={enabledIfDissent:!0};var _h=function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("performplayer",{enabled:!1});n("config:",i),i.enabled&&t.on("dom ready",(function(){var e=function(e){var t=Array.from(document.querySelectorAll(".perform-player")),r=e("performplayer.related",{enabled:!1}),n=t.reduce((function(e,t){return"true"===t.getAttribute("data-related-player")?e.related.push(t):e.module.push(t),e}),{related:[],module:[]}),i=[];return r.enabled&&n.related.length>0&&i.push(n.related[0]),n.module.length>0&&i.push(n.module[0]),i}(r);e.map((function(e){return function(e){var t=e.getAttribute("data-tracking-id");return{node:e,urlFragment:t}}(e)})).forEach((function(e){var r="".concat(i.url,"#").concat(i.idOverride||e.urlFragment);n("found player",e.urlFragment),i.idOverride&&n("overriding it with configured id:",i.idOverride);var o=document.createElement("script");o.async=!0,o.src=r,o.onload=function(){n("player loaded:",r),t.emit("new perform player",e.urlFragment,e.node)},e.node.parentNode.insertBefore(o,e.node.nextSibling)}))}))};_h.vendorIds={gdpr:[323]},_h.purposeId={gdpr:"N/A"};var wh=_h;function Sh(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Th(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Sh(o,n,i,a,s,"next",e)}function s(e){Sh(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ih(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ah(e,t,r){return t&&kh(e.prototype,t),r&&kh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Eh,Oh="androidMobile"===__webpack_require__.g.PageCriteria.device||"iphone"===__webpack_require__.g.PageCriteria.device,Ch=__webpack_require__.g.PageCriteria.isTablet,Ph=[],xh={},Dh=null,jh=!1,Rh=function(){function e(t){Ih(this,e),this.name=t,this.pausedBy=null,this.startedBy=null,this.hasFocus=!1}return Ah(e,[{key:"setLastActive",value:function(e,t){delete this.pausedBy,this.lastActive=e,this.startedBy=t}}]),e}(),Mh={players:[],groups:{inlinePlayer:new Rh("inlinePlayer"),jwOrChromelessPlayer:new Rh("jwOrChromelessPlayer")}},Uh=function(){__webpack_require__.g.document.querySelectorAll(".vjs-video-container video").forEach((function(e){e.player&&e.src&&!Ph.includes(e)&&(e.player.on("pause",(function(){Wh({target:e})})),e.player.on("play",(function(){zh({target:e})})),Ph.push(e))}))},Lh=function(e){var t=Mh.players.find((function(t){return t.element===e.target}));if(!t){if(!(t=new Nh(e)).group)return null;Mh.players.push(t)}return t},Nh=function(){function e(t){if(Ih(this,e),this.wrappers={},this.group=this.determineGroup(t),!this.group)return null;this.element=t.target,this.flagUserMouseover(),this.computedHeight=(0,Ae.getElementComputedHeight)(this.element),this.offset=(0,Ae.getOffset)(this.element)&&(0,Ae.getOffset)(this.element).top,Lh[t.target]=this}return Ah(e,[{key:"flagUserMouseover",value:function(){var e=this;e.container=e.wrappers.widthSetter||e.wrappers.zIndexSetter,e.container&&(e.container.addEventListener("mouseover",(function(){e.mouseOverPlayer=Date.now()})),e.container.addEventListener("mousemove",(function(){e.mouseOverPlayer=Date.now()})),e.container.addEventListener("mouseout",(function(){delete e.mouseOverPlayer})))}},{key:"setLastActive",value:function(){var e=this;Dh=e.group,e.group.lastActive=e,e.otherGroup.lastActive&&e.otherGroup.startedBy&&(e.otherGroup.pausedBy="sync",delete e.otherGroup.startedBy,e.otherGroup.lastActive.pause())}},{key:"handlePause",value:function(){this.otherGroup.lastActive&&"user"!==this.otherGroup.pausedBy&&(this.otherGroup.startedBy="sync",delete this.otherGroup.pausedBy,this.otherGroup.lastActive.play())}},{key:"isPaused",value:function(){return this.element.player?this.element.player.paused():this.element.paused}},{key:"isPlaying",value:function(){var e=this.element;return this.element.player?!this.element.player.paused():!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)}},{key:"determineGroup",value:function(e){var t,r=this;return e.target&&null===e.target.getAttribute("data-mol-fe-video-preview")?this.group=(0,Ae.closest)(e.target,(function(e){return"outerWrapper"===e.id}))?Mh.groups.jwOrChromelessPlayer:(0,Ae.closest)(e.target,(function(e){return e.classList.contains("vjs-video-container")}))?Mh.groups.inlinePlayer:null:this.group=null,this.isAd=!!(0,Ae.closest)(e.target,(function(e){return e.classList.contains("video-ads-container")}))||!!(0,Ae.closest)(e.target,(function(e){return e.classList.contains("jw-overlays")})),r.group&&(r.otherGroup=this.group?Mh.groups[Object.keys(Mh.groups).find((function(e){return e!==r.group.name}))]:null,"inlinePlayer"===r.group.name?(t=(0,Ae.closest)(e.target,(function(e){return e.classList.contains("vjs-flyout-wrapper-fixed")})))&&t.previousSibling?(r.wrappers.styleSetter=t.previousSibling,r.wrappers.widthSetter=t.getElementsByClassName("vjs-fixed")[0]):r.wrappers.widthSetter=r.wrappers.styleSetter=(0,Ae.closest)(e.target,(function(e){return e.classList.contains("vjs-fixed")})):"jwOrChromelessPlayer"===r.group.name&&(r.wrappers.zIndexSetter=(0,Ae.closest)(e.target,(function(e){return-1!==e.classList.toString().indexOf("jwplayer_body")})))),r.group}},{key:"play",value:function(){this.element&&(this.element.player?this.element.player.play():this.element.play())}},{key:"pause",value:function(){var e=this;e.element&&(e.element.player?e.element.player.pause():e.element.pause())}},{key:"handleScroll",value:function(){var e=this;!e.group.pausedBy&&(e.offset+e.computedHeight/1.5<__webpack_require__.g.scrollY||e.offset-.1*e.computedHeight>__webpack_require__.g.scrollY+window.innerHeight)&&(e.group.pausedBy="scroll",delete e.group.startedBy,e.pause()),"scroll"===e.group.pausedBy&&e.offset+e.computedHeight/1.5>__webpack_require__.g.scrollY&&e.offset-.1*e.computedHeight<__webpack_require__.g.scrollY+window.innerHeight&&"user"!==e.group.pausedBy&&(e.group.startedBy="scroll",delete e.group.pausedBy,e.play())}}]),e}(),Bh=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},qh=function(){try{return __webpack_require__.g.top.document.hidden||__webpack_require__.g.top.document.msHidden||__webpack_require__.g.top.document.webkitHidden||!1}catch(e){return!!undefined.visibilityApiEvent()}},Fh=function(e,t,r,n){var i,o=Dh;t&&o&&o.lastActive.mouseOverPlayer||(e.emit("sync video tags update",{cust_params:{oov:t}}),Dh&&n&&(t?(Dh.pausedBy="blur",Dh.lastActive.isAd&&!Eh.pauseAdsOnBlur||Dh.lastActive.isPlaying()&&Dh.lastActive.pause()):"blur"!==Dh.pausedBy||qh()||(r!==Bh()||t||"inlinePlayer"!==o.name?Dh.lastActive.isPlaying()||Dh.lastActive.play():((i=Dh.lastActive.otherGroup).lastActive&&setTimeout((function(){i.lastActive.pause()}),200),setTimeout((function(){o.lastActive.isPlaying()||(o.lastActive.play(),i.lastActive&&i.lastActive.pause())}),400)),delete Dh.pausedBy)))},Vh=(0,Vn.FU)((function(){Dh&&Dh.pausedBy&&"user"!==Dh.pausedBy&&Dh.lastActive&&!Dh.lastActive.isPlaying()&&Dh.lastActive.play(),Mh.groups.inlinePlayer&&Mh.groups.inlinePlayer.lastActive&&setTimeout((function(){return Mh.groups.inlinePlayer.lastActive.handleScroll()}),100)}),100),zh=function(e){var t=Lh(e);t&&(Uh(),Eh.identifyPlayers&&clearInterval(Eh.identifyPlayers),xh[t.group.name]&&(t.group.startedBy="user",delete t.group.pausedBy,delete xh[t.group.name]),function(e){return!e||("jwOrChromelessPlayer"===e.group.name&&(e.group.lastActive=e),"user"!==e.group.startedBy&&"jwOrChromelessPlayer"===e.group.name&&(e.otherGroup.startedBy?(e.pausedBy="sync",e.pause()):e.group.startedBy="auto"),"inlinePlayer"!==e.group.name||e.group.lastActive||e.group.startedBy||(e.group.startedBy="user"),e.group.hasFocus||"user"===e.group.startedBy||"auto"===e.group.startedBy||"scroll"===e.group.startedBy?(delete e.group.pausedBy,e.otherGroup.hasFocus=!1,e.group.hasFocus=!0,!1):(e.pause(),!0))}(t)||t.setLastActive())},Wh=function(e){if(e.target.src){var t=Lh(e);t&&(xh[t.group.name]&&(t.group.pausedBy="user",delete t.group.startedBy,delete xh[t.group.name]),function(e){return"user"!==e.group.pausedBy&&"sync"!==e.group.pausedBy&&"scroll"!==e.group.pausedBy||(e.group.hasFocus=!1,delete e.startedBy,!1)}(t)||t.handlePause())}},Hh=function(e){if(e.target.classList.contains("jw-icon"))xh.jwOrChromelessPlayer=!0;else if(e.target.classList.contains("vjs-play-control")||e.target.classList.contains("vjs-big-play-button")){var t=(0,Ae.closest)(e.target,(function(e){return"outerWrapper"===e.id}))?"jwOrChromelessPlayer":"inlinePlayer";xh[t]=!0}},Gh=function(e){if(e.player&&e.player.el_&&e.player.el_.getElementsByTagName("video").length){var t=e.player.el_.getElementsByTagName("video")[0];zh({target:t})}},Kh=function(e){var t=e.broker,r=e.getConfig;Eh=r("players.flyoutConfig",{}),Object.keys(Eh).forEach((function(e){"true"===Eh[e]&&(Eh[e]=!0),"false"===Eh[e]&&(Eh[e]=!1)})),Eh.checkForNewPlayersFrequency=r("players.flyoutConfig.checkForNewPlayersFrequency",600),t.on("chromeless player ready",(function(e){__webpack_require__.g.DM.molFeVideoplayer.on("videoPlaying",Gh)})),t.on("chromeless player ready",(function(e){return Uh()})),__webpack_require__.g.DM.later("DOM_READY",Th(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.document.addEventListener("play",zh,!0),__webpack_require__.g.document.addEventListener("pause",Wh,!0),Ch||Oh?__webpack_require__.g.document.addEventListener("touchstart",Hh):__webpack_require__.g.document.addEventListener("click",Hh),r=void 0===Eh.pauseWhenUserInOtherApplication||Eh.pauseWhenUserInOtherApplication,n=void 0===Eh.pauseWhenUserInOtherTab||Eh.pauseWhenUserInOtherTab,__webpack_require__.g.top.addEventListener("blur",(function(e){jh||setTimeout((function(){Fh(t,!0,"blur",r)}))})),__webpack_require__.g.top.addEventListener("focus",(function(){jh||setTimeout((function(){Fh(t,!1,"focus",r)}))})),Bh()&&document.addEventListener(Bh(),(function(){jh||Fh(t,qh(),Bh(),n)}),!1),t.emit("sync video tags update",{cust_params:{oov:!document.hasFocus()}}),document.addEventListener("scroll",Vh,{passive:!0,capture:!0}),document.addEventListener("touchmove",Vh,{passive:!0,capture:!0}),t.on("mpuPlayerDisplayed",(function(e){jh=e})),Eh.identifyPlayers=setInterval((function(){Uh()}),Eh.checkForNewPlayersFrequency);case 13:case"end":return e.stop()}}),e)}))))},Xh=Kh;Kh.ccpa={enabledIfDissent:!0},Kh.gdpr={enabledIfDissent:!0};var Yh=function(e){e.broker,e.getConfig};Yh.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.addPlugins,i=e.removePlugins;if(t("plugins.enabled",[]).includes("players.flyoutManager")){var o=function(e){var t=e("players.flyoutConfig",[]);return Object.keys(t).forEach((function(e){"true"===t[e]&&(t[e]=!0),"false"===t[e]&&(t[e]=!1)})),t.pauseContentIfAdNotPaused=void 0===t.pauseContentIfAdNotPaused||t.pauseContentIfAdNotPaused,t.pauseAdsOnBlur=void 0===t.pauseAdsOnBlur||t.pauseAdsOnBlur,t}(t);r("players.flyoutConfig",o),i(["videoForceFlyout","videoFlyout","players.visibility"]),t("plugins.enabled").includes("players.commercial")||n(["players.onlyOneActivePlayer"])}};var $h=Yh;function Jh(e){return Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(e)}function Qh(e){return function(e){if(Array.isArray(e))return Zh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zh(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eg(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function tg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){eg(o,n,i,a,s,"next",e)}function s(e){eg(o,n,i,a,s,"throw",e)}a(void 0)}))}}Yh.ccpa={enabledIfDissent:!0},Yh.gdpr={enabledIfDissent:!0};var rg={top:30,bottom:30};function ng(e){return ig.apply(this,arguments)}function ig(){return ig=tg(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.log,i=t.targetParagraphIndex,o=t.margin,a=void 0===o?rg:o,s=t.paragraphLoadingTimeout,u=void 0===s?3e3:s,n("target paragraph index:",i),c=i,__webpack_require__.g.PageCriteria.isMobile&&!__webpack_require__.g.PageCriteria.isTablet?(n("is a mobile"),l="#mobile-content > div > article"):(n("is not a mobile"),l='[itemprop="articleBody"]'),d="".concat(l," > :not(.mol-para-with-font), ").concat(l," > mol-permabox > :not(.mol-para-with-font)"),n("non-paragraph selector:",d),p=function(e){return new Promise((function(t){var n=function(){document.querySelector("".concat(l," > .mol-para-with-font:nth-of-type(").concat(e,")"))&&(i.cancel(),clearInterval(o),t())},i=r.on("slot defined",n),o=setInterval(n,250);n()}))},f=function(e){return Qh(document.querySelectorAll("".concat(l," > .mol-para-with-font:nth-of-type(n+").concat(e,")"))).map((function(e){return{paragraph:e,rect:e.getBoundingClientRect()}}))},h=function(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},g=function(e,t){return t.find((function(t){return h(e,t)}))},m=function(){return Qh(document.querySelectorAll(d)).map((function(e){return e.getBoundingClientRect()}))},v=function(e){var t=e.top,r=e.left,n=e.right;return{top:t-a.top,bottom:t+a.bottom,left:r,right:n}},y=regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("awaiting",u,"millis for paragraph",c,"to be available"),e.next=3,(0,Xe.yq)(u,p(c));case 3:if(t=f(c),n(t.length,"paragraphs loaded so far"),r=m(),n("there are",r.length,"non-paragraph elements in this article"),!(i=t.find((function(e,t){var i=e.rect,o=v(i),a=g(o,r);return a?n("paragraph",c+t,"failed, ",o,"intersects with",a):n("paragraph",c+t,"seems suitable"),!a})))){e.next=12;break}return e.abrupt("return",{v:i.paragraph});case 12:c+=t.length,n("getting next batch of paragraph starting from",c);case 14:case"end":return e.stop()}}),e)}));case 13:return e.delegateYield(y(),"t0",15);case 15:if("object"!==Jh(b=e.t0)){e.next=18;break}return e.abrupt("return",b.v);case 18:e.next=13;break;case 20:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}var og=__webpack_require__(8676),ag=__webpack_require__.n(og);function sg(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function ug(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){sg(o,n,i,a,s,"next",e)}function s(e){sg(o,n,i,a,s,"throw",e)}a(void 0)}))}}function cg(e){return lg.apply(this,arguments)}function lg(){return lg=ug(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getConfig,n=t.log,!(i=r("pos.minuteMedia.tcfEventBarrier",!1))||!__webpack_require__.g.__tcfapi){e.next=7;break}return n("waiting for TCF event",i),e.next=6,dg(i);case 6:n("received TCF event",i);case 7:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function dg(e){return new Promise((function(t){__webpack_require__.g.__tcfapi("addEventListener",2,(function(r){e===r.eventStatus&&(__webpack_require__.g.__tcfapi("removeEventListener",2,(function(){}),r.listenerId),t(r))}))}))}function pg(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fg(Object(r),!0).forEach((function(t){gg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("slots.minuteMedia",{purposeIds:{gdpr:"N/A"},vendorIds:{gdpr:[918]},run:function(e){return(t=regeneratorRuntime.mark((function t(){var r,n,i,o,a,s,u,c,l,d,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(){__webpack_require__.g.addEventListener("voltaxPlayerLoaded",(function(e){var t=e.detail.playerName,n=__webpack_require__.g.voltax.getPlayersByName(t);r.emit("new minute media player",n[0])})),__webpack_require__.g.voltax&&__webpack_require__.g.voltax.getAllPlayersOnPage().forEach((function(e){return r.emit("new minute media player",e)}))},r=e.broker,n=e.getConfig,(i=e.log)("enabled"),"article"===PageCriteria.pageType){t.next=6;break}return i("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),t.abrupt("return");case 6:return o(),t.next=9,cg({getConfig:n,log:i.extend("tcf")});case 9:return t.prev=9,t.next=12,ng({broker:r,log:i.extend("🔎"),targetParagraphIndex:n("pos.minuteMedia.paragraphIndex",4),margin:n("pos.minuteMedia.margin",{top:30,bottom:60})});case 12:a=t.sent,t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(9),i.error("giving up awaiting for new paragraph, article might just have ended with no suitable placement",t.t0),t.abrupt("return");case 19:(s=document.createElement("div")).classList.add("minute-media-container"),(u=document.createElement("div")).classList.add("minute-media"),n("pos.minuteMedia.watermark",!0)&&u.classList.add("watermark"),s.appendChild(u),n("pos.minuteMedia.addLabel")&&u.classList.add("minute-media-label"),n("pos.minuteMedia.moat.enabled",!1)&&(c=n("pos.minuteMedia.moat.src","//z.moatads.com/mailonlineminutemedia634421037781/moatad.js#moatClientLevel1=MINUTEMEDIAPLAYER&moatClientLevel2=MINUTEMEDIAPLAYER&moatClientLevel3=MINUTEMEDIAPLAYER&moatClientLevel4=MINUTEMEDIAPLAYER"),(l=document.createElement("script")).src=c,l.async=!0,u.appendChild(l)),a.parentElement.insertBefore(s,a),d=n("pos.minuteMedia.googleTagManagerId","GTM-PL4PD49"),p="https://www.googletagmanager.com/gtm.js?id=".concat(d),f="https://www.googletagmanager.com/ns.html?id=".concat(d),(0,Ae.createIframe)({content:ag()({configScript:n("pos.minuteMedia.configScript","https://bucket1.mm-syringe.com/prod/configs/c4e65ff4-b385-d838-b9da-8cc3d8d9dfdb.js"),googleTagManagerScript:p,googleTagManagerIframeScript:f,injectorScript:n("pos.minuteMedia.injectorScript","https://bucket1.mm-syringe.com/prod/injector/injector.1.5.3.js")}),insertMethod:function(e){return u.appendChild(e)},log:i.extend("🏗")});case 32:case"end":return t.stop()}}),t,null,[[9,15]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){pg(o,n,i,a,s,"next",e)}function s(e){pg(o,n,i,a,s,"throw",e)}a(void 0)}))})();var t}}),(0,Ye.fo)("slots.rendered",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r={};t.on("ad rendered",(function(e,n){if("publisher_ads"===n.serviceName&&!n.isEmpty){var i=n.slot.molAd,o=i.type||"1x1",a=[i.pos,i.parentId,o].join("|");r[a]={pos:i.pos,id:i.parentId,sz:o,cid:n.creativeId,lid:n.lineItemId}}t.emit("ads rendered update",Object.values(r))}))}});var yg=function(e,t,r){var n=r.id,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new RegExp("".concat(t.pos,"_(\\d+)")),o=(0,S.get)(t.pos);if(t.variant)bg(t,t.variant);else{var a=i.exec(n)||[],s=mg(a,2),u=s[1];u&&bg(t,u)}return t.adUnit=(0,tr.Z)((null==o?void 0:o.unit)||n),t=hg(hg(hg({},__webpack_require__.g.DM.molFeMiniLodash.clone(o)),t),{},{id:n,dfpPos:t.pos,parentId:n,pos:n}),e.emit("update description",n,t),t};function bg(e,t){(0,O.ns)(["targeting"],e).puff_offset=t}function _g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wg={mpu_puff_others:/mpu_puff_other_(\d+)/,mpu_mobile_others:/mpu_mobile_other_(\d+)/,mpu_mobile_factbox:/mpu_mobile_factbox_(\d+)/,mpu_factbox:/mpu_facbox_(\d+)/};function Sg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ig(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function kg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ig(o,n,i,a,s,"next",e)}function s(e){Ig(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ag(e){return Eg.apply(this,arguments)}function Eg(){return Eg=kg(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,i=t.getConfig,"article"===PageCriteria.pageType){e.next=4;break}return n("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");case 4:return o=i("pos.connatix.paragraphIndex",4),a=i("pos.connatix.size",[480,410]),s=Sg(a,2),u=s[0],c=s[1],l=i("pos.connatix.playerId","29388c8f-d1e6-4485-be68-d4bdbf2f2b1f"),d=i("pos.connatix.margin",{top:30,bottom:60}),e.prev=8,e.next=11,ng({broker:r,log:n,targetParagraphIndex:o,margin:d});case 11:p=e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),n("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0),e.abrupt("return");case 19:window.cnxps||(window.cnxps={},window.cnxps.cmd=[],r.invoke("import script in iframe",{url:"//cd.connatix.com/connatix.playspace.js"})),(f=document.createElement("div")).id=(0,Pn.kb)(),f.className="connatix-placeholder",f.style.width="".concat(u,"px"),f.style.height="".concat(c,"px"),h=function(e){e?n("Error:",e):n("Rendered Successfully")},window.cnxps.cmd.push(kg(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("Library loaded"),r.register("call for page analytics",(function(){return{connatix:!0}})),window.cnxps({playerId:l}).render(f.id,h);case 3:case"end":return e.stop()}}),e)})))),p.parentElement.insertBefore(f,p);case 28:case"end":return e.stop()}}),e,null,[[8,14]])}))),Eg.apply(this,arguments)}function Og(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Cg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Og(o,n,i,a,s,"next",e)}function s(e){Og(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("slots.others",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.log;t.intercept("slot defined",(function(e,n){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),o=i[0],a=i[1],s=i[2],u=(0,S.get)(a.pos);r("container id",s.id),r("description id",u&&u.id);var c=wg[a.pos];n(o,a.variant||c?yg(t,a,s,c):a,s)}))}}),Ag.vendorIds={gdpr:[143]},Ag.purposeIds={gdpr:"N/A"};var Pg=function(e,t){var r=document.createElement("div");r.id=e,r.className="adHolder molads_".concat(e),t("pos.inread_player_top.watermark",!0)&&r.classList.add("watermark");var n=document.createElement("div");return n.classList.add("inread_player_top_container"),n.appendChild(r),{ad:r,container:n}};function xg(e){return Dg.apply(this,arguments)}function Dg(){return Dg=Cg(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,i=t.getConfig,"article"===PageCriteria.pageType){e.next=4;break}return n("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");case 4:return o=i("pos.inread_player_top.paragraphIndex",2),e.prev=5,e.next=8,ng({broker:r,log:n,targetParagraphIndex:o});case 8:a=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),n("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0),e.abrupt("return");case 16:s=Pg("inread_player_top",i),u=s.ad,c=s.container,l={pos:"inread_player_top"},a.parentElement.insertBefore(c,a),r.emit("slot defined",l,u);case 21:case"end":return e.stop()}}),e,null,[[5,11]])}))),Dg.apply(this,arguments)}function jg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}xg.ccpa={enabledIfDissent:!0},xg.gdpr={enabledIfDissent:!0};var Rg=function(e){var t,r,n=e.broker,i=e.getConfig,o=i("plugins.slots.leaderTop",{offsetBelowElement:0,triggerElementId:"billBoard"}),a=o.offsetBelowElement,s=o.triggerElementId,u=i("plugins.slots.leaderTop.hack",!1);a=parseInt(a);var c,l=function(){var e=document.getElementById(s);if(e){var n=(0,Ae.getOffset)(e),i=(0,Ae.getElementComputedHeight)(e),o=(0,Ae.getOffset)(document.getElementById("page-container"));if(!t&&document.getElementById("smartBanner")){var u=document.getElementById("smartBanner").getElementsByTagName("a")[0];t=u.addEventListener("click",(function(e){u.removeEventListener("click",t),document.getElementById("leader_top").classList.remove("below-smart-banner")}))}r&&document.getElementById("leader_top").classList.add("styled"),__webpack_require__.g.scrollY<n.top+i-o.top+a?setTimeout((function(){document.getElementById("leader_top").style.display="none"})):(document.getElementById("smartBanner")&&"block"===__webpack_require__.g.getComputedStyle(document.getElementById("smartBanner")).getPropertyValue("display")?document.getElementById("leader_top").classList.add("below-smart-banner"):document.getElementById("leader_top").classList.remove("below-smart-banner"),setTimeout((function(){c&&(c(),c=void 0),document.getElementById("leader_top").style.display="block"})))}};n.intercept("slot ready for ad",(function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),n=(r[0],r[1]);r[2],"leader_top"===n.pos?c=t:t()}));var d=document.createElement("div");n.once("slot defined",(function(){!function(){d.id="leader_top",d.style.display="none",document.body.appendChild(d);var e={id:"leader_top",parentId:"leader_top",pos:"leader_top"};u&&(e.command="pfadj"),n.emit("slot defined",e,d),n.on("ad rendered","leader_top",(function(){r=!0,l()})),n.on("dom ready",(function(){l(),[1e3,2e3,3e3].forEach((function(e){return setTimeout(l,e)})),document.addEventListener("scroll",__webpack_require__.g.DM.molFeMiniLodash.debounce(l,200),{passive:!0,capture:!0}),document.addEventListener("touchmove",__webpack_require__.g.DM.molFeMiniLodash.debounce(l,200),{passive:!0,capture:!0})}))}()}))};Rg.ccpa={enabledIfDissent:!0},Rg.gdpr={enabledIfDissent:!0};var Mg=Rg;function Ug(e,t){if(e){if("string"==typeof e)return Lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lg(e,t):void 0}}function Lg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ng="puff_ad_others";function Bg(e){var t=e.broker,r=e.getConfig;if(t.intercept("slot defined",(function(e,r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||Ug(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[0],o=n[1],a=n[2];r(i,o.pos===Ng?yg(t,o,a):o,a)})),r("plugins.slots.puffAdOthers.renderInfiniteList",{enabled:!1}).enabled){var n=r("slotDescriptions.initial")[Ng],i=n&&(0,vn.fb)(n.size);t.on("infinite-list append",(function(e){var n,o=i&&r("plugins.slots.puffAdOthers.addWatermark",!0),a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ug(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e.getElementsByClassName("puff-ad-other"));try{for(a.s();!(n=a.n()).done;){var s=n.value;o&&qg(s,i[0],i[1]),t.emit("slot defined",{pos:Ng},s)}}catch(e){a.e(e)}finally{a.f()}}))}}function qg(e,t,r){e.classList.remove("puff-ad");var n=document.createElement("div");n.classList.add("ad-exp-container"),n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.clip="rect(0,".concat(t,"px,").concat(r,"px,0)");var i=document.createElement("div");i.classList.add("adHolder"),i.classList.add("puff-ad"),i.classList.add("watermark"),i.style.position="relative",i.style.width="".concat(t,"px"),i.style.height="".concat(r,"px"),i.appendChild(n);var o=e.parentNode;return o.parentNode.replaceChild(i,o),n.appendChild(e),i}function Fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fg(Object(r),!0).forEach((function(t){zg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gg(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Kg(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Gg(o,n,i,a,s,"next",e)}function s(e){Gg(o,n,i,a,s,"throw",e)}a(void 0)}))}}Bg.ccpa={enabledIfDissent:!0},Bg.gdpr={enabledIfDissent:!0};var Xg={refreshCount:0};function Yg(e){return $g.apply(this,arguments)}function $g(){return $g=Kg(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n={},r.intercept("slot defined",(function(e,t){var r=Wg(e,2),i=(r[0],r[1].pos);n[i]=Xg,t()})),r.on("destroy slot",(function(e){delete n[e]})),r.register("get tags",(function(e){var t=e.slot.pos;return[n[t]]})),r.register("get video tags",(function(e){var t=e.slot.pos;return{cust_params:Vg(Vg({},n[t]||Xg),{},{player:t})}})),r.intercept("refresh ads",(function(e,t){var r=Wg(e,2),i=(r[0],r[1]),o=i.positions,a=(i.plugins,i.reason);try{o.forEach((function(e){n[e]={refresh:!0,refreshCount:n[e].refreshCount+1,refreshReason:a}}))}finally{t()}})),e.next=9,r.until("dom ready");case 9:(i=__webpack_require__.g.DM&&__webpack_require__.g.DM.molFeTracking&&__webpack_require__.g.DM.molFeTracking.pageEvents)&&i.subscribe("video.ad-impression",(function(e,t){var r=t.tag,i=(0,Yn.Gi)(r).cust_params,o=i.player,a=i.refreshCount,s=void 0===a?0:a;n[o]={refresh:!0,refreshCount:Number(s)+1}})),r.on("video.ad-impression",(function(e){var t=e.playerId,r=n[t]||{refresh:!0,refreshCount:0},i=r.refresh,o=r.refreshCount;n[t]={refresh:i,refreshCount:o+1}}));case 12:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}function Jg(){return document.querySelector(".billboard-container")}function Qg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jg();return e.querySelector(".sticky-container")}function Zg(){return document.querySelector("#billBoard")}function em(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function tm(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){em(o,n,i,a,s,"next",e)}function s(e){em(o,n,i,a,s,"throw",e)}a(void 0)}))}}function rm(e){return nm.apply(this,arguments)}function nm(){return nm=tm(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.store,r.once("unstick position","billboard",(function(){i.deinit()})),r.on("disable force view when viewed","billboard",(function(){i.dispatch({type:"limit sticky height"})})),r.on("disable sticky position","billboard",(function(){i.dispatch({type:"disable stickyness"})})),r.on("stop refreshing ads",(function(){i.dispatch({type:"disable refresh"})})),r.on("ad rendered","billboard",(function(){i.dispatch({type:"refresh"})})),Zg().addEventListener("click",(function(e){e.target instanceof HTMLElement&&e.target.classList.contains("billboard-close")&&i.dispatch({type:"click close button"})})),e.next=9,im({broker:r,getConfig:n,store:i});case 9:return e.next=11,um({broker:r,getConfig:n,store:i});case 11:i.dispatch({type:"limit sticky height"});case 12:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function im(e){return om.apply(this,arguments)}function om(){return om=tm(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,i=t.store,o=n("sticky.billboard",{}),a=o.forceView,s=o.timeAfterScroll,u=void 0===s?5e3:s,c=o.timeAfterVisible,l=void 0===c?3e3:c,d=o.minimumVisibilityPeriod,p=void 0===d?3e3:d,a){e.next=4;break}return e.abrupt("return");case 4:return i.dispatch({type:"infinitly stick"}),e.next=7,am({broker:r,timeAfterScroll:u,timeAfterVisible:l,minimumVisibilityPeriod:p,waitMinVisiblity:!0});case 7:i.dispatch({type:"limit sticky height"});case 8:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function am(e){return sm.apply(this,arguments)}function sm(){return sm=tm(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.timeAfterScroll,i=t.timeAfterVisible,o=t.minimumVisibilityPeriod,a=void 0===o?0:o,s=t.waitMinVisiblity,u=void 0!==s&&s,h=new Promise((function(e){c=r.once("ad rendered","billboard",(function(){var t={capture:!1,passive:!1},r=function(){null!==r&&(window.removeEventListener("scroll",r,t),r=null,setTimeout(e,n))};window.addEventListener("scroll",r,t)}))})),g=new Promise((function(e){l=r.on("slot visibility changed","billboard",(function(t){t.inViewPercentage>=50&&(l.cancel(),setTimeout(e,i))}))})),m=new Promise((function(e){d=r.on("slot visibility changed","billboard",(function(t){t.inViewPercentage>=50&&(d.cancel(),setTimeout(e,a))}))})),v=new Promise((function(e){p=r.once("disable force view when viewed","billboard",tm(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=3;break}return t.next=3,m;case 3:e();case 4:case"end":return t.stop()}}),t)}))))})),y=new Promise((function(e){f=r.once("disable sticky position","billboard",(function(){e()}))})),e.next=8,Promise.race([h,g,v,y]);case 8:c.cancel(),l.cancel(),d.cancel(),p.cancel(),f.cancel();case 13:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(e){return cm.apply(this,arguments)}function cm(){return cm=tm(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,i=t.store,o=n("sticky.billboard.secondary",{}),a=o.enabled,s=o.initialRefresh,u=void 0===s?5e3:s,c=o.refreshInterval,l=o.displayDuration,d=void 0===l?3e3:l,p=o.activeView,f=void 0===p||p,a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,Xe.Vs)(u);case 6:if(i.state.refreshable){e.next=8;break}return e.abrupt("return");case 8:return c&&r.emit("setup ad refresh",{pos:"billboard",id:"billBoard",interval:c,activeViewSlot:f}),r.emit("prepare to refresh ads",["billboard"]),r.emit("refresh ads",{ids:["billBoard"],reason:"secondary",positions:["billboard"]}),e.next=13,r.until("ad rendered","billboard");case 13:return i.dispatch({type:"infinitly stick",closable:!0}),e.next=16,am({broker:r,timeAfterScroll:d,timeAfterVisible:d});case 16:i.dispatch({type:"limit sticky height"});case 17:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function lm(e,t,r){var n=Zg();if(n){var i,o,a,s,u,c,l,d,p;if(r.sticky?n.classList.add("sticky"):n.classList.remove("sticky"),"infinitly"===r.sticky?dm(document.body):"limited"===r.sticky?dm((i=document.querySelector(".gamma"),s=(a=(o=document.querySelector(".lead-alpha"))&&o.querySelector(".alpha"))&&a.querySelector(".item"),u=o&&o.querySelector(".beta"),c=o&&o.querySelector(".sport"),l=o&&o.querySelector(".health"),d=o&&o.querySelector(".travel"),p=function(e){return e&&e.offsetTop<2e3&&e},document.querySelector("#fff-hub-banner")||p(document.querySelector(".article-text h1"))||p(document.querySelector(".article-text h2"))||document.querySelector("#sciencetech #content h2")||document.querySelector("#sciencetech, #arts, #you, #promotions, #tvshowbizheadlines, #food, #gardening, #femailblogs")&&u.querySelector(".item:nth-child(1)")||i&&i.querySelector(".tim-tools")||i&&i.querySelector(".sport.item:nth-child(2)")||i&&i.querySelector(".article-tri-headline h2")||a.querySelector(".article.article-tri-headline:nth-child(1) h2")||o&&o.querySelector(".football-team-news .article.article-large h2")||c&&c.querySelector(".article-large h2")||l&&l.querySelector(".health-archive h2")||d&&d.querySelector(".travel-banner h1")||u&&u.querySelector(".item:nth-child(1) .puff ul li:nth-child(1)")||u&&u.querySelector(".item:nth-child(1) .fff-hub .fff-search")||s&&s.querySelector("h3:not(.usability)")||u&&u.querySelector(".item:nth-child(2):not(.mpu_puff_wrapper)")||a&&a.querySelector(".item h6")||u&&u.querySelector(".item:nth-child(1)"))):Qg().style.height="100%",r.closable?n.classList.add("closable"):n.classList.remove("closable"),"click close button"===t.type){var f=__webpack_require__.g.DM;f.pageEvents.publish(f.pageEvents.AD_BILLBOARD_CLOSED),e.emit("send event to bidmax",{type:"custom",payload:{userClosedBillboard:!0,refreshCount:r.refreshCount}})}!function(e){if(!e.querySelector(".billboard-close")){var t=document.createElement("a"),r=document.createTextNode("Close x");t.href="#",t.classList.add("billboard-close"),t.appendChild(r),t.addEventListener("click",(function(e){e.preventDefault()})),e.appendChild(t)}}(n)}}function dm(e){if(e){var t=Jg(),r=Qg(t),n=Zg();if(t&&r&&n){var i=(0,Ae.getElementComputedHeight)(t),o=(0,Ae.getElementComputedHeight)(n),a=i+((0,Ae.getElementBottomOffset)(e)-(0,Ae.getElementBottomOffset)(t)),s=(i-o)/2;r.style.height="".concat(s>0?a-s:a,"px")}}else Zg().classList.remove("sticky")}function pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gm(e,t){switch(e.type){case"click close button":case"limit sticky height":return fm(fm({},t),{},{closable:!1,sticky:"limited"});case"infinitly stick":return fm(fm({},t),{},{closable:!!e.closable,sticky:"infinitly"});case"__DEINIT__":case"disable stickyness":return fm(fm({},t),{},{sticky:!1});case"disable refresh":return fm(fm({},t),{},{refreshable:!1});case"refresh":return fm(fm({},t),{},{refreshCount:t.refreshCount+1});default:return t}}function mm(e){return new Zr(gm,{closable:!1,refreshable:!0,refreshCount:0,sticky:!1},e)}function vm(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(r),!0).forEach((function(t){_m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ym(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Yg.ccpa={enabledIfDissent:!0},Yg.gdpr={enabledIfDissent:!0};var wm="billboard";function Sm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("sticky.billboard",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.log,r=e.getConfig,n=e.setConfig,i=r("sticky.billboard.secondary",{}),o=i.minPageHeight||900,a=(0,I.ap)().height>=o,s=i.enabled&&a,u=r("sticky.billboard.forceView",!1);if(!s||!u)return n("sticky.billboard.secondary.enabled",!1),void t("bailing; secondaryEnabled: ".concat(i.enabled,", minHeightForSecondaryMet: ").concat(a,", forceViewEnabled: ").concat(u));var c=r("adsRefresh",{slots:[],activeViewSlots:[]}),l=c.slots||[],d=l.filter((function(e){return e!==wm})),p=c.activeViewSlots||[],f=p.filter((function(e){return e.pos!==wm}));n("adsRefresh",bm(bm({},c),{slots:d,activeViewSlots:f}));var h=l.find((function(e){return e===wm})),g=p.find((function(e){return e.pos===wm}));h?n("sticky.billboard.secondary",bm(bm({},i),{activeView:!1,refreshInterval:c.interval})):g&&n("sticky.billboard.secondary",bm(bm({},i),{activeView:!0,refreshInterval:g.interval})),t("Updated refresh config",r("adsRefresh")),t("stickyBillboard config",r("sticky.billboard"))},run:function(e){return(t=regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.broker,n=e.getConfig,i=e.log,o=mm(i.extend("store")),t.next=4,r.until("ad rendered","billboard");case 4:o.subscribe((function(e,t){return lm(r,e,t)})),o.init(),rm({broker:r,getConfig:n,store:o});case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){vm(o,n,i,a,s,"next",e)}function s(e){vm(o,n,i,a,s,"throw",e)}a(void 0)}))})();var t}}),(0,Ye.fo)("sticky.gallery",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.sticky.gallery.ads",["sticky_banner_gallery_top","sticky_banner_gallery_bottom"]),o=r("slots.enabled",{}),a=Object.keys(o),s=i.filter((function(e){return a.includes(e)}));if(s.length){var u=r("slotDescriptions.initial",{}),c=(0,O.ei)(u,s);n("enabledAds",c);var l={},d=null,p=null,f=null,h=null,g=null,m=null,v={sticky_banner_gallery_top:function(e){p.style.top="".concat(e.height,"px")},sticky_banner_gallery_bottom:function(e){f.style.bottom="".concat(e.height,"px"),g.style.bottom="".concat(e.height+h.height,"px")}},y=function(e){var t={width:["left","right"],height:["top","bottom"]},r="width"===e?0:1,n=Object.keys(c).filter((function(r){return r.includes(t[e][0])||r.includes(t[e][1])}));if(n.length)return n.map((function(e){if(c[e].size.length)return 1===c[e].size.length?c[e].size[0][r]:c[e].size.reduce((function(e,t){return t[r]>e[r]?t[r]:e[r]}))})).reduce((function(e,t){return t>e?t:e}))},b=function(){n("Gallery openned"),function(){var e=y("width"),t=y("height"),r=window,n=r.innerWidth,i=r.innerHeight,o=e?n-2*(e+20):n,a=t?i-2*t:i;Array.from(document.querySelectorAll("#mobileGallerySwipeWrap > div > div:first-child")).filter((function(e){return e.firstElementChild})).map((function(e){return e.firstElementChild})).forEach((function(e){var t=km(e),r=Math.min(a/t.height,o/t.width);e.classList.contains(".vjs-video-container")&&a<o&&(r*=.78),e.style.transform="scale(".concat(r,")")}))}(),Object.entries(c).forEach((function(e){var r=Sm(e,2),i=r[0],o=r[1],a=(0,O.ei)(o,["pos","id"]);n("creating gallery ad",a),l[i]={container:Im({broker:t,rootElement:d,ad:a})},v[i]&&v[i](km(l[i].container)),MobileUtils.isMobile()&&(i.includes("top")&&(l[i].addEl=p),i.includes("bottom")&&(l[i].addEl=f))})),m=t.on("ad rendered",(function(e){var t=l[e]&&l[e].container.querySelector(".placeholder");t&&t.remove()}))},_=function(){m.cancel(),MobileUtils.isMobile()&&MobileUtils.isLandscape()&&(p.style.top="0",f.style.bottom="0",g.style.bottom="".concat(h.height,"px")),Object.entries(l).forEach((function(e){var r=Sm(e,2),n=r[0];r[1].container.remove(),t.emit("destroy slot",n)}))};MobileUtils.isMobile()&&window.addEventListener("orientationchange",(function(){setTimeout((function(){MobileUtils.isLandscape()?_():b()}),200)})),t.on("dom ready",(function(){var e=document.getElementById("mobileGalleryModal");DM.pageEvents.subscribe("gallery.opened",b),DM.pageEvents.subscribe("gallery.closed",_),d=document.getElementById("mobileGallerySlider"),p=e.querySelector(".top-bar"),f=e.querySelector(".navigation-bar"),h=km(f),g=e.querySelector(".caption-bar")}))}else n("no gallery ads enabled... bailing")}});var Im=function(e){var t=e.broker,r=e.rootElement,n=void 0===r?document.body:r,i=e.ad,o=e.className,a=e.cssText,s=document.createElement("div");s.id=i.pos;var u=document.createElement("div");return u.className="placeholder",s.appendChild(u),o&&(s.className=o),a&&(s.style.cssText=a),n.appendChild(s),t.emit("slot defined",i,s),s},km=function(e){var t=getComputedStyle(e,"");return{width:(parseFloat(t.width)||0)+(parseFloat(t.borderLeftWidth)||0)+(parseFloat(t.borderRightWidth)||0),height:(parseFloat(t.height)||0)+(parseFloat(t.borderTopWidth)||0)+(parseFloat(t.borderBottomWidth)||0)}};function Am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(r),!0).forEach((function(t){Om(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Am(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Om(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cm(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Pm(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Cm(o,n,i,a,s,"next",e)}function s(e){Cm(o,n,i,a,s,"throw",e)}a(void 0)}))}}function xm(){return xm=Pm(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,i=t.getConfig,n("init"),o=i("slots.enabled",{}),Object.keys(o).includes("mpu_left")){e.next=6;break}return n("mpu_left isn't enabled, bailing"),e.abrupt("return");case 6:if(a=i("slotDescriptions.initial",{}),(s=a.mpu_left)&&!(0,O.xb)(s)){e.next=11;break}return n("insufficient config to render mpu_left... bailing",s),e.abrupt("return");case 11:return u=new Promise((function(e){r.on("slot defined",(function(t){t.pos.includes("sky_left_top")&&e()}))})),n("waiting for let sky container"),e.next=15,u;case 15:if(c=document.getElementById(a.sky_left_top.id)){e.next=19;break}return n.error("no sky left element, bailing"),e.abrupt("return");case 19:return l=document.createElement("div"),(0,Ae.insertAfter)(l,c),d=Em({},s),r.emit("slot defined",d,l),n("slot created",d,l),document.documentElement.classList.add("mpu_left_on"),e.next=27,r.until("ad rendered","mpu_left");case 27:n("slot rendered");case 28:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Dm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jm(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function Rm(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Um(e,t,"get"))}function Mm(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Um(e,t,"set"),r),r}function Um(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Lm(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Nm(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Nm(e,t){if(e){if("string"==typeof e)return Bm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bm(e,t):void 0}}function Bm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qm(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}(0,Ye.fo)("sticky.mpuLeft",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){return xm.apply(this,arguments)}}),(0,Ye.fo)("sticky.psuedoClasses",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(){return(e=regeneratorRuntime.mark((function e(){var t,r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ae.loaded)();case 2:t=new Km(Xm),r=document.querySelectorAll(".sticky"),n=Lm(r);try{for(n.s();!(i=n.n()).done;)o=i.value,t.observe(o)}catch(e){n.e(e)}finally{n.f()}new MutationObserver((function(e){return Ym(t,e)})).observe(document.body,{attributeFilter:["class"],attributes:!0,subtree:!0});case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){qm(o,n,i,a,s,"next",e)}function s(e){qm(o,n,i,a,s,"throw",e)}a(void 0)}))})();var e}});var Fm=new WeakMap,Vm=new WeakMap,zm=new WeakMap,Wm=new WeakMap,Hm=new WeakMap,Gm=new WeakMap,Km=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jm(this,Fm,{writable:!0,value:[]}),jm(this,Vm,{writable:!0,value:[]}),jm(this,zm,{writable:!0,value:void 0}),jm(this,Wm,{writable:!0,value:function(e){return!Rm(r,Vm).includes(e)&&(0,Ae.getOffset)(e).top<=window.scrollY}}),jm(this,Hm,{writable:!0,value:function(e){return(0,Ae.getOffset)(e).top>window.scrollY}}),jm(this,Gm,{writable:!0,value:function(){var e,t=Rm(r,Fm).filter(Rm(r,Wm)),n=Rm(r,Vm).filter(Rm(r,Hm));(e=Rm(r,Vm)).push.apply(e,function(e){return function(e){if(Array.isArray(e))return Bm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)),Mm(r,Vm,Rm(r,Vm).filter((function(e){return!n.includes(e)}))),(t.length||n.length)&&Rm(r,zm).call(r,{in:t,out:n})}}),Mm(this,zm,t),window.addEventListener("scroll",(0,Vn.FU)(Rm(this,Gm),300),{passive:!0})}var t,r;return t=e,(r=[{key:"observe",value:function(e){Rm(this,Fm).includes(e)||Rm(this,Fm).push(e)}},{key:"unobserve",value:function(e){Mm(this,Fm,(0,w.cl)(e,Rm(this,Fm)))}}])&&Dm(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xm(e){var t,r=Lm(e.in);try{for(r.s();!(t=r.n()).done;)t.value.setAttribute("stuck","stuck")}catch(e){r.e(e)}finally{r.f()}var n,i=Lm(e.out);try{for(i.s();!(n=i.n()).done;)n.value.removeAttribute("stuck")}catch(e){i.e(e)}finally{i.f()}}function Ym(e,t){var r,n,i=Lm(t);try{for(i.s();!(r=i.n()).done;){var o=r.value.target;o instanceof HTMLElement&&((n=o)instanceof Element&&n.classList.contains("sticky")?e.observe(o):e.unobserve(o))}}catch(e){i.e(e)}finally{i.f()}}var $m=function(e){var t=window.getComputedStyle(e),r=parseInt(t["margin-left"]),n=parseInt(t["margin-right"]),i=parseInt(t["margin-top"]),o=parseInt(t["margin-bottom"]),a=parseInt(t["padding-left"]),s=parseInt(t["padding-right"]),u=parseInt(t["padding-top"]),c=parseInt(t["padding-bottom"]),l=(parseInt(t["border-left"]),parseInt(t["border-right"]),parseInt(t["border-top"]),parseInt(t["border-bottom"])),d=e.getBoundingClientRect();return(d={left:d.left-r,right:d.right-n-a-s,top:d.top-i,bottom:d.bottom-o-u-c-l}).width=d.right-d.left,d.height=d.bottom-d.top,d};function Jm(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i="affix-off",o="affix-on",a=window.getComputedStyle(e,null),s=a.getPropertyValue("position"),u=a.getPropertyValue("top"),c=__webpack_require__.g,l=c.pageXOffset,d=$m(n),p=d.left,f=!1,h=!1,g=!1,m={isOn:function(){return f},isOff:function(){return h},isActive:function(){return f||h}},v=t(m);function y(){m.isOn()||(e.style.display="none",e.classList.remove(i),e.classList.add(o),e.style.left=p+"px",e.style.position="fixed",e.style.top="0",f=!0,h=!1,r(m),setTimeout((function(){e.style.display="block"})))}function b(){m.isOff()||(e.style.display="none",e.classList.remove(o),e.classList.add(i),e.style.left="auto",e.style.position="absolute",e.style.top=(v.stopped||v.off)+"px",f=!1,h=!0,r(m),setTimeout((function(){e.style.display="block"})))}function _(){m.isActive()&&(e.style.display="none",e.classList.remove(o),e.classList.remove(i),e.style.left="auto",e.style.position=s,e.style.top=u,f=!1,h=!1,r(m),setTimeout((function(){e.style.display="block"})))}function w(){p=$m(n).left+(l-__webpack_require__.g.pageXOffset),l=__webpack_require__.g.pageXOffset,"fixed"===e.style.position&&(e.style.left=p+"px")}var S=function(){if(!g){var e=__webpack_require__.g.pageYOffset;__webpack_require__.g.pageXOffset!==l&&w(),(v=t(m)).off&&v.off<e?!m.isOff()&&v.off<e&&b():v.on<e?!m.isOn()&&v.on<e&&y():_()}},T=(0,Vn.FU)((function(){return setTimeout(S)}),200);document.addEventListener("scroll",T),window.addEventListener("resize",(0,Vn.FU)(w,200)),T();var I=function(){_(),g=!0,document.removeEventListener("scroll",T)};return{handler:m,check:T,disable:I}}var Qm,Zm=function(e,t){var r=e+"on",n=e+"off",i=document.documentElement;i.classList.remove(r),i.classList.remove(n),i.classList.add(t?r:n)};function ev(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rv(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function nv(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){rv(o,n,i,a,s,"next",e)}function s(e){rv(o,n,i,a,s,"throw",e)}a(void 0)}))}}var iv=(0,b.U2)("stickyAds",[]);(0,Ye.fo)("sticky.skies",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){return sv.apply(this,arguments)}});var ov=function(){var e="molads_leader_top_";if(Zm(e,!1),(0,W.isAdEnabled)({pos:"leader_top"}))var t=Qm.on("ad rendered","leader_top",(function(r){var n=r.slot?r.slot.molAd:{};"leader_top"===n.parentId&&(t.cancel(),document.getElementById(n.parentId),Zm(e,!r.isEmpty))}))},av=function(){iv.forEach((function(e){/mpu_puff_\d{2,}/.test(e)&&function(e){if((0,W.isAdEnabled)({pos:e}))var t=Qm.on("ad rendered",e,(function(r){if(!r.isEmpty&&(!(o=r)||o.isEmpty||!o.size||2!==o.size.length||300!==o.size[0]||600!==o.size[1])){t.cancel();var n=document.getElementById(e);if(n){var i=(0,Ae.closest)(n,(function(e){return e.classList.contains("mpu_puff_wrapper")}));i&&(i.classList.add("sliding_mpu"),function(e,t){var r=function(r){r.isOff()?(e.style.top="",e.style.bottom="0"):e.style.bottom="",r.isOn()&&(e.style.left=t.getBoundingClientRect().left+"px")};__webpack_require__.g.addEventListener("resize",DM.molFeMiniLodash.debounce((function(){return r(i)}),300));var n=Jm(e,(function(){var r=function(e,t){var r=window.getComputedStyle(t,null),n=(0,Ae.getOffset)(t).top,i=parseInt(r.getPropertyValue("height")),o=n+i,a=window.getComputedStyle(e,null),s=parseInt(a.getPropertyValue("height"));if(!e.dataset.originalPadding){var u=(0,Ae.getOffset)(e).top-n;u<0&&console.warn("negative padding"),e.dataset.originalPadding=Math.max(u,0)}return{elementTop:n+parseInt(e.dataset.originalPadding),parentBottom:o,parentHeight:i,elementHeight:s,parentTop:n,marginBottom:parseInt(r.getPropertyValue("margin-bottom"))}}(e,t);return{on:r.elementTop,off:r.parentBottom-r.elementHeight}}),r),i=n.handler}(n,i))}}var o}))}(e)}))};function sv(){return sv=nv(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,Qm=r,window.getComputedStyle){e.next=4;break}return e.abrupt("return");case 4:n=new Set,i=0,o=Qm.on("get tags",(function(e){var t=e.pos;return n.add(t)})),a=o.cancel,s=Qm.on("ad requested",(function(e){return n.add(e)})),u=s.cancel,c=Qm.on("ad rendered",(function(){i++,n.size<=i&&(a(),u(),l())})),l=c.cancel,d=__webpack_require__.g.DM||{log:function(){}};try{ov()}catch(e){d.log("Missing configuration for leaderboard")}return av(),e.next=14,uv();case 14:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function uv(){return cv.apply(this,arguments)}function cv(){return(cv=nv(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ae.loaded)();case 2:t=document.querySelector(".puff li:nth-child(20)"),r=t?(0,Ae.getOffset)(t).top:5e3,n=document.querySelectorAll("\n    #sky-left-container .sticky-container:first-child,\n    #sky-right-container .sticky-container:first-child\n  "),i=ev(n);try{for(i.s();!(o=i.n()).done;)(a=o.value).parentNode.querySelectorAll(".sticky-container")>1&&(a.style.height="".concat(r,"px"))}catch(e){i.e(e)}finally{i.f()}case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dv=function(){return document.body.classList.contains("mol-desktop")},pv=window.innerWidth/window.screen.width;function fv(e){var t=e.broker,r=e.getConfig,n=e.log;if(window.getComputedStyle){n("starting");var i=r("plugins.enabled").includes("chromelessv2.dmplayer");t.intercept("slot defined",(function(e,o){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),s=a[0],u=a[1],c=a[2],l=u.pos;if("sticky_banner"!==l||!i||(MobileUtils.isMobile()||(0,I.bP)())&&(0,I.ej)("smart-banner")){if("sticky_banner"===l)try{c=function(e){var t=e.broker,r=e.getConfig,n=e.log,i=e.container,o=r("pos.stickyBanner.hiddenUntilImpression",!0),a=r("pos.stickyBanner.underlayPadding.top",15),s=r("pos.stickyBanner.underlayPadding.bottom",15),u=r("pos.stickyBanner.underlayPadding.closeButton",!1);n("config:",{paddingTop:a,paddingBottom:s,hiddenUntilImpression:o});var c=document.createElement("div");c.id="stickyBannerUnderlay",o&&(c.style.display="none"),document.body.appendChild(c);var l=Be();c.appendChild(l);var d=document.createElement("div");if(d.classList.add("adHolder"),d.classList.add("sticky_banner_overrides"),d.classList.add("noAdLabel"),d.id="stickyBanner",d.style.marginTop="0",c.style.padding="".concat(a,"px 0 ").concat(s,"px 0"),c.appendChild(d),dv()&&(0,Ae.appendStyle)("#stickyBannerUnderlay #stickyBanner {\n      transform: scale(".concat(pv,");\n    }")),u){var p=document.createElement("button");p.classList.add("closeButton"),c.appendChild(p),p.addEventListener("click",(function(){c.style.display="none"}))}return t.on("ad rendered","sticky_banner",(function(e){var t=e.isEmpty,r=e.size;if(n("sticky banner rendered:",{isEmpty:t}),t)c.style.display="none";else{var i=r[1];if(c.style.display="flex",dv()){n("ad height:",i);var o=i*pv-i,u=Math.round(a*pv+o/2),l=Math.round(s*pv+o/2),d="".concat(u,"px 0 ").concat(l,"px 0");c.style.padding=d,n("scalled padding:",d)}}})),i.parentNode.replaceChild(c,i),d}({broker:t,getConfig:r,log:n,ad:u,container:c})}catch(e){console.error(e)}o(s,u,c)}}))}}fv.ccpa={enabledIfDissent:!0},fv.gdpr={enabledIfDissent:!0};var hv=(0,b.U2)("stickyAds",[]),gv=function(e){var t=e.broker,r=e.getPuffListStart,n=e.getOffElement,i=e.pos,o=e.id,a=void 0===o?i:o,s=t.on("ad rendered",i,(function(e){if(!e.isEmpty){s.cancel();var t=document.getElementById(a);if(!t)return;!function(e,t,r){var n,i,o,a,s,u,c=e.parentNode,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.parentNode,r=getComputedStyle(t,null),n=(0,Ae.getOffset)(t).top,i=parseInt(r.getPropertyValue("height")),o=n+i,a=getComputedStyle(e,null),s=parseInt(a.getPropertyValue("height"));if(!e.dataset.originalPadding){var u=(0,Ae.getOffset)(e).top-n;u<0&&console.warn("negative padding"),e.dataset.originalPadding=Math.max(u,0)}return{elementTop:n+parseInt(e.dataset.originalPadding),parentBottom:o,parentHeight:i,elementHeight:s,parentTop:n,marginBottom:parseInt(r.getPropertyValue("margin-bottom")),marginTop:parseInt(a.getPropertyValue("margin-top"))}}(e,c),d=l.elementTop,p=(s=t&&t()||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.parentNode;return(0,Ae.walk)(t,(function(e){return e.classList.contains("mpu_puff_wrapper")&&e.querySelector("iframe")}),(function(e){return e.nextElementSibling}))}(e,r),s?(n=s,i=l.elementHeight,o=n.previousElementSibling,a=getComputedStyle(o,null),(0,Ae.getOffset)(o).top+parseInt(a.getPropertyValue("height"))-i):1/0),f=p===1/0?p:(u=(0,Ae.getRelativeContainer)(c))?p-(0,Ae.getOffset)(u).top:p,h=_.debounce((function(){g.isOn()&&(e.style.left=c.getBoundingClientRect().left+"px")}),300);c.style.height=l.parentHeight+"px",c.style.marginTop=l.marginTop+"px",window.addEventListener("resize",h);var g=Jm(e,(function(e){return{off:p,on:d,stopped:f}}),h).handler}(t,n,r(t))}}))};function mv(e){var t=e.broker;window.getComputedStyle&&(hv.includes("mpu_puff_5")&&gv({broker:t,pos:"mpu_puff_5",getPuffListStart:function(e){return(0,Ae.getParent)(e,".item")}}),hv.includes("mpu_top")&&gv({broker:t,pos:"mpu_top",getPuffListStart:function(e){var t=(0,Ae.getParent)(e,".item"),r=(0,Ae.walk)(t,(function(e){return e.querySelector(".puff")}),(function(e){return e.nextElementSibling}));return r?r.querySelector(".puff li"):t}}))}mv.ccpa={enabledIfDissent:!0},mv.gdpr={enabledIfDissent:!0};var vv=__webpack_require__(875),yv=function(){return function(){}},bv=function(e,t){return"function"==typeof t?t():t};if(performance.mark&&performance.measure){var _v=0;yv=function(e){var t="benchmark-".concat(_v++);return performance.mark("".concat(t,"-begin")),function(){performance.mark("".concat(t,"-end")),performance.measure(e,"".concat(t,"-begin"),"".concat(t,"-end"))}},bv=function(e,t){var r=yv(e);try{return"function"==typeof t.then?(t.then(r),t):t()}finally{r()}}}var wv=__webpack_require__(2236).Buffer;function Sv(e,t,r){return parseInt(e.substr(t,r),2)}function Tv(e,t,r){return new Date(100*Sv(e,t,r))}function Iv(e){var t=Sv(e);return String.fromCharCode(t+65).toLowerCase()}function kv(e,t,r){var n=e.substr(t,r);return Iv(n.slice(0,r/2))+Iv(n.slice(r/2))}function Av(e){for(var t=e;t.length%4!=0;)t+="=";t=t.replace(/-/g,"+").replace(/_/g,"/");for(var r,n,i=wv.from(t,"base64"),o="",a=0;a<i.length;a+=1){var s=i[a].toString(2);o+=(r=s,n=8-s.length,function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",r="",n=0;n<e;n+=1)r+=t;return r}(Math.max(0,n))+r)}return function(e){return function(e){var t=e.input,r=e.fields,n=e.startPosition,i=void 0===n?0:n,o=r.reduce((function(e,r){var n=r.name,o=r.numBits,a=function(e){var t=e.input,r=e.output,n=e.startPosition,i=e.field,o=i.type,a=i.numBits,s=i.decoder,u=i.validator;if("function"==typeof u&&!u(r))return{newPosition:n};if("function"==typeof s)return s(t,r,n);var c="function"==typeof a?a(r):a;switch(o){case"int":return{fieldValue:Sv(t,n,c)};case"date":return{fieldValue:Tv(t,n,c)};case"bits":return{fieldValue:t.substr(n,c)};case"language":return{fieldValue:kv(t,n,c)};default:throw new Error("ConsentString - Unknown field type ".concat(o," for decoding"))}}({input:t,output:e,startPosition:i,field:r}),s=a.fieldValue,u=a.newPosition;return void 0!==s&&(e[n]=s),void 0!==u?i=u:"number"==typeof o&&(i+=o),e}),{});return{decodedObject:o,newPosition:i}}({input:e,fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16}]}).decodedObject}(o)}function Ev(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ov(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ev(o,n,i,a,s,"next",e)}function s(e){Ev(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Cv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Pv=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.getConfig,i=t.log,o=t.storage,a=t.broker,s=t.showUi,u=t.uiLevel,c=void 0===u?"Level1":u,l=t.renderPlatform,d=t.repromptVersion,p=t.nextRepromptVersion,f=t.tracking;this.context=t,this.log=i,this.broker=a,this.scriptBase=n("tcfv2.scriptBase","//cmp.dmgmediaprivacy.co.uk/cmp"),this.tcfv2Version=n("tcfv2.version",""),this.tcfv2UiScriptBase=n("tcfv2.uiScriptBase","//www.dailymail.co.uk/static/mol-fe/static/mol-fe-cmp"),this.gvlUiVersion="".concat(n("tcfv2.gvlUiVersion","51")),this.cvlVersion=n("tcfv2.cvlVersion","0.0.1"),this.tcfv2UiVersion=n("tcfv2.uiVersion",""),this.tcfv2BackendUrl=n("tcfv2.backendUrl","//cmp.dmgprivacyint.co.uk/gdpr/consent/persist"),this.tcfv2UiFile=n("tcfv2.uiFile","index.js"),this.brand=n("tcfv2.brand",{}),this.renderPlatform=l,this.platform="web",this.uiScriptUrl="".concat(this.tcfv2UiScriptBase,"/").concat(this.tcfv2UiVersion,"/").concat(this.tcfv2UiFile),this.tcfv2Script="".concat(this.scriptBase,"/").concat(this.tcfv2Version,"/index.js"),this.persistCustomVendors=n("tcfv2.persistCustomVendors",!0),this.storeUserPreference=n("tcfv2.storeUserPreference",!1),this.tcfv2UseRtaId=n("tcfv2.uuid.useRtaId",!1),this.brokerId=Math.random().toString(36).substring(2),this.untilSiteIsReadyToLoadScript=this.untilSiteIsReadyToLoadScript.bind(this);var h=o.getTCData(),g=h.tcString,m=h.addtlConsent,v=g&&Av(g).vendorListVersion||"".concat(n("tcfv2.gvlUiVersion","51"));this.opts={brand:this.brand,brokerId:this.brokerId,repromptVersion:d,nextRepromptVersion:p,gvlVersion:v,gvlUiVersion:this.gvlUiVersion,cvlVersion:this.cvlVersion,showUi:s,uiLevel:c,uiScriptUrl:this.uiScriptUrl,controllerScriptBase:"".concat(this.scriptBase,"/").concat(this.tcfv2Version),tcString:g,addtlConsent:m,storeUserPreference:this.storeUserPreference,backendUrl:this.tcfv2BackendUrl,persistCustomVendors:this.persistCustomVendors,renderPlatform:this.renderPlatform,platform:this.platform},__webpack_require__.g.addEventListener("message",function(){var e=Ov(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"@mol-ads/mol-ads-cmp"===(n=t.data).ns&&n.id===r.brokerId&&"is_ready"===n.action&&n.sender!==r.sender&&r.broker.emit("TCFV2 controller ready"),"@mol-ads/mol-ads-cmp"===n.ns&&n.id===r.brokerId&&"level_changed"===n.action&&n.sender!==r.sender&&r.tracking.track({type:"custom",payload:{changed:!0,event:"ui-open",level:n.payload.currentLevel,module:"tcfv2"}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.openUi=this.openUi.bind(this),this.tracking=f,this.broker.on("plugins enabled",(function(){window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:r.brokerId,sender:"@mol-ads/mol-adverts",action:"ads-initialised",payload:{}},"*")}))}var t,r,n,i,o;return t=e,r=[{key:"untilSiteIsReadyToLoadScript",value:function(){var e=this.context,t=e.getConfig,r=e.log;return new Promise((function(e){"mol"===t("site")?(r("awaiting for molFeReact_LOADED"),window.DM.later(["molFeReact_LOADED"],(function(){r("molFeReact_LOADED ready"),e()}))):e()}))}},{key:"loadScript",value:function(e,t){return new Promise((function(r,n){var i=document.createElement("script");i.src=e,i.id="mol-ads-tcfv2-script",i.dataset.opts=JSON.stringify(t),i.onload=function(){return r()},i.onerror=function(){return n(new Error("Error loading ".concat(e)))},document.head.appendChild(i)}))}},{key:"loadController",value:(o=Ov(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.log("loading controller.."),!this.opts.showUi){e.next=7;break}return e.next=4,this.resolveUuid();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:return t=e.t0,this.opts.uuid=t,e.abrupt("return",Promise.all([bv("wait for external deps",this.untilSiteIsReadyToLoadScript())]).then(Ov(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.log("loading controller from:",r.tcfv2Script),e.next=3,bv("tcfv2 controller load",r.loadScript(r.tcfv2Script,r.opts));case 3:r.log("controller loaded");case 4:case"end":return e.stop()}}),e)})))));case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"openUi",value:function(){var e=Ov(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reason,n=t.uiLevel,e.next=3,this.resolveUuid();case 3:i=e.sent,this.log("opening tcfv2 banner, level: ".concat(n,", reason: ").concat(r)),this.tracking.track({type:"custom",payload:{event:"ui-open",level:n,module:"tcfv2",reason:r}}),window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:this.brokerId,sender:"@mol-ads/mol-adverts",action:"open",payload:{uiLevel:n,uuid:i}},"*");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uuidFromStorage",value:function(){var e=this.context.storage,t=e.getUuid();return t||(t=(0,Nf.Z)(),e.setUuid(t)),t}},{key:"uuidFromRta",value:(i=Ov(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.RTA.ids;case 2:return t=e.sent,r=t.user,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"resolveUuid",value:(n=Ov(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useRtaUuid;case 2:if(!e.sent){e.next=6;break}e.t0=this.uuidFromRta(),e.next=7;break;case 6:e.t0=this.uuidFromStorage();case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}],r&&Cv(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Dv=function(){function e(t){var r=t.getConfig;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r("tcfv2.storagePrefix","mol.ads");this.CONSENT_KEY="".concat(n,".cmp.tcf.client"),this.USER_CONSENT_DEGREE_KEY="".concat(n,".cmp.userConsentDegree"),this.GVL_VERSION_KEY="".concat(n,".cmp.tcf.gvlVersion"),this.UUID_KEY="".concat(n,".tcfv2.uuid"),this.TCFV1_CONSENT_FLAG_KEY="".concat(n,".cmp.consent"),this.TCFV1_CONSENT_STRING_KEY="euconsent",this.TCDATA_KEY="".concat(n,".cmp.tcf.cache"),this.TCFV2_REPROMPT="".concat(n,".cmp.tcfv2.reprompt"),this.TCFV2_LAST_REPROMPTED="".concat(n,".cmp.tcfv2.lastReprompted")}var t,r;return t=e,r=[{key:"getConsent",value:function(){return localStorage.getItem(this.CONSENT_KEY)}},{key:"setConsent",value:function(e){localStorage.setItem(this.CONSENT_KEY,e)}},{key:"getConsentDegree",value:function(){return JSON.parse(localStorage.getItem(this.TCDATA_KEY)||"{}").getConsentDegree}},{key:"setConsentDegree",value:function(e){localStorage.setItem(this.USER_CONSENT_DEGREE_KEY,e)}},{key:"setLastReprompted",value:function(e){localStorage.setItem(this.TCFV2_LAST_REPROMPTED,JSON.stringify(e))}},{key:"getVendorListVersion",value:function(){return localStorage.getItem(this.GVL_VERSION_KEY)}},{key:"setVendorListVersion",value:function(e){localStorage.setItem(this.GVL_VERSION_KEY,e)}},{key:"setRepromptVersion",value:function(e){localStorage.setItem(this.TCFV2_REPROMPT,JSON.stringify(e))}},{key:"getUuid",value:function(){return localStorage.getItem(this.UUID_KEY)}},{key:"setUuid",value:function(e){localStorage.setItem(this.UUID_KEY,e)}},{key:"getTcfv1ConsentFlag",value:function(){return localStorage.getItem(this.TCFV1_CONSENT_FLAG_KEY)}},{key:"getTcfv1ConsentString",value:function(){return localStorage.getItem(this.TCFV1_CONSENT_STRING_KEY)}},{key:"getTCData",value:function(){var e=JSON.parse(localStorage.getItem(this.TCDATA_KEY)||"{}");return e&&e.getTCData||{}}},{key:"getRepromptVersion",value:function(){var e;try{var t=localStorage.getItem(this.TCFV2_REPROMPT);t&&(e=JSON.parse(t))}catch(e){console.error("unabled to parse repromptVersion")}return e||{version:0,chance:Math.random()}}},{key:"getLastReprompted",value:function(){return JSON.parse(localStorage.getItem(this.TCFV2_LAST_REPROMPTED)||"{}")}},{key:"cleanup",value:function(){["mol.ads.cmp.customVendors"].forEach((function(e){localStorage.removeItem(e)}))}}],r&&xv(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jv(Object(r),!0).forEach((function(t){Mv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uv(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Lv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Nv=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t}var t,r,n,i;return t=e,r=[{key:"setup",value:(n=regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,r=t.validTCDataP,n=t.registerPluginBouncer,i=t.log,e.next=3,r;case 3:return o=e.sent,e.t0=Set,e.next=7,Gc("consentedVendors");case 7:e.t1=e.sent,a=new e.t0(e.t1),(s=o.addtlConsent&&new Set(o.addtlConsent.substring(2).split(".").filter((function(e){return e})).map((function(e){return parseInt(e)}))))&&i("using addtlConsent for bouncing"),this.context=Rv(Rv({},this.context),{},{tcData:o,vendorConsents:a,addtlConsent:s}),n((function(e,t){var r,n=i.extend(e);n("running bouncer");var o=(null==t||null===(r=t.gdpr)||void 0===r?void 0:r.enabledIfDissent)||u.checkVendorIds(e,t)&&u.checkPurposeIds(e,t)&&u.checkGoogleAdditionalConsentVendorIds(e,t)&&u.checkLegIntPurposeIds(e,t);return n("passed checks: ".concat(o)),o}));case 13:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){Uv(o,r,i,a,s,"next",e)}function s(e){Uv(o,r,i,a,s,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"checkVendorIds",value:function(e,t){var r=this.context,n=r.log,i=r.vendorConsents;if(!t.vendorIds||void 0===t.vendorIds.gdpr)return n("no vendorIds or gdpr defined"),!1;if(!1===t.vendorIds.gdpr)return n("plugin",e,"bounced because it is not supported where GDPR applies"),!1;if("N/A"===t.vendorIds.gdpr)return n("restrictions not applicable"),!0;if(!Array.isArray(t.vendorIds.gdpr))return n.warn("gdpr vendorIds must be an array, but got:",t.vendorIds.gdpr),!1;var o=t.vendorIds.gdpr.filter((function(e){return!i.has(e)}));return!o.length||(n("plugin",e,"bounced because user have not consented to vendors:",o),!1)}},{key:"checkPurposeIds",value:function(e,t){var r=this.context,n=r.log,i=r.tcData;if(!t.purposeIds||void 0===t.purposeIds.gdpr)return n("no purposesIds or gdpr defined"),!1;if("N/A"===t.purposeIds.gdpr)return n("restrictions not applicable"),!0;if(!Array.isArray(t.purposeIds.gdpr))return n.warn("gdpr purposeIds must be an array, but got:",t.purposeIds.gdpr),!1;var o=t.purposeIds.gdpr.filter((function(e){return!i.purpose.consents[e]}));return!o.length||(n("plugin",e,"bounced because user have not consented to purposes:",o),!1)}},{key:"checkLegIntPurposeIds",value:function(e,t){var r=this.context,n=r.log,i=r.tcData;if(!t.legIntPurposeIds||void 0===t.legIntPurposeIds.gdpr)return!0;if(!Array.isArray(t.legIntPurposeIds.gdpr))return n.warn("gdprPurposeIds must be an array, but got:",t.purposeIds.gdpr),!1;var o=t.legIntPurposeIds.gdpr.filter((function(e){return!i.purpose.legitimateInterests[e]}));return!o.length||(n("plugin",e,"bounced because user have not consented to legitimate interests:",o),!1)}},{key:"checkGoogleAdditionalConsentVendorIds",value:function(e,t){if(!t.vendorIds||void 0===t.vendorIds.google)return!0;var r=this.context,n=r.addtlConsent,i=r.log,o=t.vendorIds.google.filter((function(e){return!n.has(e)}));return!o.length||(i("plugin",e,"bounced because user have not consented to google's additional consent:",o),!1)}}],r&&Lv(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(r),!0).forEach((function(t){Fv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vv(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function zv(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Vv(o,n,i,a,s,"next",e)}function s(e){Vv(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Wv={yes:"true",no:"false",partial:"custom"},Hv=function(){var e=zv(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.validTCDataP,n=t.pValidConsentDegree,i=t.log,t.broker,o=t.getConfig,a=o("tcfv2.par",{vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]}}),e.next=4,r;case 4:return s=e.sent,e.next=7,n;case 7:return u=e.sent,i("consentDegree",u),c=Av(s.tcString),l=c.vendorListVersion,d={consent:Wv[u],gdpr:s.gdprApplies?"1":"0",gdpr_consent:s.tcString,cmp:"tcfv2",iabv:l},e.next=14,yt("tcfv2.personalisedAds",a);case 14:return p=e.sent,d.google_consent=p,f=p?0:1,h=p?d:qv(qv({},d),{},{npa:f}),i("dfp targeting:",h),e.abrupt("return",h);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gv=function(e,t){var r=e.broker,n=e.getConfig,i=e.log;n("tcfv2.setGptPersonalisedAdsState",!0)&&r.once("gpt initialized",function(){var e=zv(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.google_consent?i("google personalised ads enabled"):(i("setting non-personalised ads"),r.pubads().setRequestNonPersonalizedAds(1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Kv=function(){var e=zv(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.log,i=Hv(t),r.emit("set page level targeting",i),Gv(t,i),e.next=6,i;case 6:o=e.sent,a=o.google_consent?0:1,s={cust_params:qv({},o),npa:a},n("video tags",s),r.emit("sync video tags update",s),n("done with gpt");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xv=__webpack_require__(5895);function Yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yv(Object(r),!0).forEach((function(t){Jv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zv(e,t){ty(e,t),t.add(e)}function ey(e,t,r){ty(e,t),t.set(e,r)}function ty(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ry(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,oy(e,t,"get"))}function ny(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function iy(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,oy(e,t,"set"),r),r}function oy(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uy(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function cy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){uy(o,n,i,a,s,"next",e)}function s(e){uy(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ly=function(){var e=cy(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.controllerHandler,n=r.tcfv2Version,i=r.tcfv2UiVersion,o=t.log,a=t.pValidConsentDegree,s=t.broker,u=t.validTCDataP,c=new Promise(function(){var e=cy(regeneratorRuntime.mark((function e(t){var r,s,c,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([u,a]);case 2:r=e.sent,s=ay(r,2),c=s[0],l=s[1],o("consentDegree",l),d=Av(c.tcString),o("decoded:",d),p=d.vendorListVersion,f={cmp:"tcfv2",cmpVersion:"".concat(n.length?n:"DEV"," ").concat(i.length?i:"DEV"),consent:l,gdpr:{iabv:String(p)},cmpId:d.cmpId},o("bidmax targeting:",f),t(f);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.register("call for page analytics",(function(){return c}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dy=new WeakMap,py=new WeakMap,fy=new WeakMap,hy=new WeakMap,gy=new WeakMap,my=new WeakSet,vy=new WeakSet,yy=function(){function e(t){var r=t.account,n=t.broker,i=t.log,o=t.storage;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zv(this,vy),Zv(this,my),ey(this,dy,{writable:!0,value:void 0}),ey(this,py,{writable:!0,value:void 0}),ey(this,fy,{writable:!0,value:void 0}),ey(this,hy,{writable:!0,value:void 0}),ey(this,gy,{writable:!0,value:void 0}),iy(this,dy,r),iy(this,fy,i),iy(this,py,n),iy(this,hy,o),iy(this,gy,ny(this,my,by)),this.init=this.init.bind(this)}var t,r;return t=e,r=[{key:"init",value:function(){var e=this;ry(this,py).once("system ready",(function(){iy(e,gy,ny(e,vy,_y))}))}},{key:"track",value:function(e){ry(this,gy).call(this,e)}}],r&&Qv(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function by(e){var t=$v({account:ry(this,dy)},e);ry(this,fy).call(this,"sending to bidmax using barebones",t),(0,Xv.H)(t)}function _y(e){var t=$v($v({},e),{},{payload:$v({validConsent:ry(this,hy).getConsentDegree()||void 0},e.payload)});ry(this,fy).call(this,"sending event to bidmax",t),ry(this,py).emit("send event to bidmax",t)}function wy(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}var Sy=function(e,t,r,n){return function(e){return e.cached}(e)?"cached":function(e){return"cmpuishown"===e.eventStatus}(e)?"uiOpened":function(e){return"tcloaded"===e.eventStatus&&!e.tcString.length}(e)?"newUser":function(e,t,r,n){return"tcloaded"===e.eventStatus&&e.tcString.length&&t&&n<r.version}(e,t,r,n)?"repromptUser":function(e){return"useractioncomplete"===e.eventStatus}(e)?"uiClosed":"loaded"};function Ty(e){var t=e.shouldReprompt,r=e.userRepromptUpdate,n=e.stateHandler;__webpack_require__.g.__tcfapi("addEventListener",2,function(){var e,i=(e=regeneratorRuntime.mark((function e(i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i.repromptVersion||0,a=Sy(i,t,r,o),n.handleAction(a,{tcData:i});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){wy(o,n,i,a,s,"next",e)}function s(e){wy(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return i.apply(this,arguments)}}())}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(r),!0).forEach((function(t){Ay(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ay(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ey(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Oy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ey(o,n,i,a,s,"next",e)}function s(e){Ey(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Cy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Py(e,t,r){xy(e,t),t.set(e,r)}function xy(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dy(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function jy(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,My(e,t,"get"))}function Ry(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,My(e,t,"set"),r),r}function My(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Uy=function(e){return!!e.tcString.length},Ly=new WeakMap,Ny=new WeakMap,By=new WeakMap,qy=new WeakMap,Fy=new WeakMap,Vy=new WeakMap,zy=new WeakMap,Wy=new WeakMap,Hy=new WeakMap,Gy=new WeakSet,Ky=function(){function e(t){var r=t.broker,n=t.log,i=t.openUi,o=t.pageUnload,a=t.storage,s=t.tracking,u=t.userRepromptUpdate,c=t.debugRepromptData;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){xy(e,t),t.add(e)}(this,Gy),Py(this,Ly,{writable:!0,value:void 0}),Py(this,Ny,{writable:!0,value:void 0}),Py(this,By,{writable:!0,value:void 0}),Py(this,qy,{writable:!0,value:void 0}),Py(this,Fy,{writable:!0,value:void 0}),Py(this,Vy,{writable:!0,value:void 0}),Py(this,zy,{writable:!0,value:void 0}),Py(this,Wy,{writable:!0,value:void 0}),Py(this,Hy,{writable:!0,value:void 0}),Ry(this,Wy,r),Ry(this,Ny,o),Ry(this,Ly,s),Ry(this,By,n),Ry(this,Fy,i),Ry(this,Vy,a),Ry(this,qy,{bannerOpenedReason:"unknown",refreshOnClose:!1}),Ry(this,zy,u),Ry(this,Hy,c),jy(this,By).call(this,"userRepromptUpdate",u)}var t,r,n;return t=e,r=[{key:"handleAction",value:(n=Oy(regeneratorRuntime.mark((function e(t,r){var n,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.openRequest,i=r.tcData,e.t0=t,e.next="uiOpened"===e.t0?4:"newUser"===e.t0?8:"repromptUser"===e.t0?13:"loaded"===e.t0?18:"uiClosed"===e.t0?24:"cached"===e.t0?38:"openRequest"===e.t0?40:43;break;case 4:return jy(this,Ly).track({type:"custom",payload:{event:"ui-opened",module:"tcfv2",reason:jy(this,qy).bannerOpenedReason}}),Uy(i)&&(jy(this,By).call(this,"ui displayed for existing user"),jy(this,qy).refreshOnClose=!0),jy(this,Ny).updatePageUnloadData("tcfv2",{status:"".concat(t)}),e.abrupt("break",45);case 8:return jy(this,By).call(this,"opening UI for new user:",i.eventStatus),jy(this,qy).bannerOpenedReason="newUser",jy(this,Fy).call(this,{uiLevel:"Level1",reason:jy(this,qy).bannerOpenedReason}),jy(this,Ny).updatePageUnloadData("tcfv2",{status:"".concat(t)}),e.abrupt("break",45);case 13:return jy(this,By).call(this,"opening UI due to reprompt"),jy(this,qy).bannerOpenedReason="reprompt",jy(this,Fy).call(this,{uiLevel:"Level1",reason:jy(this,qy).bannerOpenedReason}),jy(this,Ny).updatePageUnloadData("tcfv2",{status:"".concat(t)}),e.abrupt("break",45);case 18:return jy(this,By).call(this,"tcf loaded"),jy(this,Ly).track({type:"custom",payload:{event:"loaded",module:"tcfv2"}}),e.next=22,Dy(this,Gy,Xy).call(this,i);case 22:return jy(this,Ny).updatePageUnloadData("tcfv2",{status:"loaded"}),e.abrupt("break",45);case 24:return jy(this,By).call(this,"uiClosed"),e.next=27,Dy(this,Gy,Xy).call(this,i);case 27:return"reprompt"===jy(this,qy).bannerOpenedReason&&((null==(o=jy(this,Vy).getLastReprompted())?void 0:o.version)===i.repromptVersion&&(jy(this,Ly).track({type:"custom",payload:ky({daysSinceReprompt:Math.floor((Date.now()-o.date)/864e5),event:"reprompt-error",lastRepromptVersion:o.version,jounery:jy(this,Ny).getPageUnloadData("tcfv2"),module:"tcfv2",tcDataRepromptVersion:i.repromptVersion},jy(this,Hy))}),jy(this,Ny).updatePageUnloadData("tcfv2",{status:"error"})),jy(this,Vy).setLastReprompted({date:Date.now(),version:i.repromptVersion})),jy(this,Ly).track({type:"custom",payload:{event:"ui-closed",module:"tcfv2",reason:jy(this,qy).bannerOpenedReason}}),jy(this,Ny).updatePageUnloadData("tcfv2",{status:"".concat(t)}),e.t1=jy(this,Wy),e.next=33,Gc("getConsentDegree");case 33:return e.t2=e.sent,e.t1.emit.call(e.t1,"valid consent degree",e.t2),jy(this,qy).bannerOpenedReason="unknown",jy(this,qy).refreshOnClose&&setTimeout((function(){jy(a,By).call(a,"RELOAD"),window.location.reload()}),100),e.abrupt("break",45);case 38:return jy(this,By).call(this,"cached tcData, ignoring"),e.abrupt("break",45);case 40:return jy(this,qy).bannerOpenedReason=n.reason,jy(this,Ny).updatePageUnloadData("tcfv2",{status:"".concat(t,"-").concat(n.reason)}),e.abrupt("break",45);case 43:return e.next=45,Dy(this,Gy,Xy).call(this,i);case 45:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}],r&&Cy(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xy(e){return Yy.apply(this,arguments)}function Yy(){return Yy=Oy(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null==t?void 0:t.repromptVersion)||0,jy(this,Vy).setRepromptVersion(ky(ky({},jy(this,zy)),{},{version:r})),e.next=4,__webpack_require__.g.adverts.updateCache(t,jy(this,By));case 4:jy(this,By).call(this,"storage update complete");case 5:case"end":return e.stop()}}),e,this)}))),Yy.apply(this,arguments)}function $y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$y(Object(r),!0).forEach((function(t){Qy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eb(e,t,r){tb(e,t),t.set(e,r)}function tb(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rb(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ib(e,t,"get"))}function nb(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ib(e,t,"set"),r),r}function ib(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var ob={capture:!0,passive:!0},ab=["pagehide","beforeunload","unload"],sb=new WeakMap,ub=new WeakMap,cb=new WeakMap,lb=new WeakMap,db=new WeakMap,pb=new WeakSet,fb=function(){function e(t){var r=t.broker,n=t.log,i=t.tracking;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){tb(e,t),t.add(e)}(this,pb),eb(this,sb,{writable:!0,value:void 0}),eb(this,ub,{writable:!0,value:void 0}),eb(this,cb,{writable:!0,value:void 0}),eb(this,lb,{writable:!0,value:void 0}),eb(this,db,{writable:!0,value:void 0}),nb(this,sb,r),nb(this,ub,n),nb(this,cb,{}),nb(this,lb,i),nb(this,db,!1),this.init=this.init.bind(this)}var t,r;return t=e,r=[{key:"init",value:function(){var e=this,t=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,pb,hb).bind(this);ab.forEach((function(e){window.addEventListener(e,t,ob)})),rb(this,sb).once("system ready",(function(){rb(e,sb).register("call for page-unload",(function(){return rb(e,cb)})),ab.forEach((function(e){window.removeEventListener(e,t,ob)}))}))}},{key:"updatePageUnloadData",value:function(e,t){rb(this,cb)[e]=(rb(this,cb)[e]?"".concat(rb(this,cb)[e],",").concat(t.status):t.status).substring(0,200),rb(this,ub).call(this,"payload",rb(this,cb))}},{key:"getPageUnloadData",value:function(e){return rb(this,cb)[e]||""}}],r&&Zy(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function hb(){rb(this,db)||(nb(this,db,!0),rb(this,ub).call(this,"onUnload called",rb(this,cb)),rb(this,lb).track({type:"page-unload",payload:Jy({},rb(this,cb))}))}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gb(Object(r),!0).forEach((function(t){vb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yb(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function bb(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){yb(o,n,i,a,s,"next",e)}function s(e){yb(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("tcfv2",{gdpr:{enabledIfDissent:!0},init:Tb,initTimeout:Pn.RD});var _b=function(e){var t=e.broker,r=e.log,n=e.storage;return new Promise((function(e){var i=n.getConsentDegree()||void 0,o=n.getTCData();i||!(0,O.xb)(o)?(r("resolving consentDegree",i,o),e(i)):t.once("valid consent degree",(function(t){r("resolving consentDegree",t),e(t)}))}))},wb=function(e){e.once("dom ready",(function(){document.querySelectorAll("a[href^='javascript:window.__cmp.a.push([\\'openSettings\\']']").forEach((function(e){e.href="javascript:window.openUi({ uiLevel: 'Level2', reason: 'userRequest' })"}))}))},Sb=function(e,t,r){__webpack_require__.g.openUi=function(t){var n="string"==typeof t?{uiLevel:t,reason:"unknown"}:t||{},i=n.reason,o=void 0===i?"unknown":i,a=n.uiLevel,s=void 0===a?"Level1":a;r.handleAction("openRequest",{openRequest:{reason:o}}),e({reason:o,uiLevel:s})},__webpack_require__.g.dissentUserToAll=function(){window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:t,sender:"@mol-ads/mol-adverts",action:"dissentUserToAll"},"*")},__webpack_require__.g.ctv=function(){__webpack_require__.g.__tcfapi("hasUserConsentedToVendors",2,(function(e){return console.log("d",e)}),[1,2,4])}};function Tb(e){return Ib.apply(this,arguments)}function Ib(){return Ib=bb(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,w,S,T,k,A,E,O,C,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=t).broker,i=r.device,o=r.getConfig,a=r.isTCFV2Jurisdiction,s=r.log,u=r.setConfig,e.next=3,a(o);case 3:if(e.sent){e.next=7;break}return s("tcfv2 is not supported for this geo, bailing"),e.abrupt("return");case 7:if((c=new Dv(t)).cleanup(),l=o("site","mol"),(d=new yy({account:l,broker:n,log:s.extend("tracking"),storage:c})).init(),p=o("tcfv2.reprompt",{version:0,chance:0}),f=c.getRepromptVersion(),h=c.getTCData().repromptVersion,g=h||f.version||0,m=g<p.version&&f.chance<p.chance,s("reprompt - should: ".concat(m,", config chance: ").concat(p.chance,", user chance: ").concat(f.chance,", config version: ").concat(p.version,", user version: ").concat(g)),v={version:p.version,chance:f.chance},y={storedTCDataVersion:h,storedRepromptVersion:f.version,chosenRepromptVersion:g,repromptConfigVersion:p.version,shouldRepromptUser:m,userRepromptUpdateVersion:v.version},(b=I.SP.privacy)&&n.once("TCFV2 controller ready",(function(){s('removing "privacy" from url'),(0,I.WH)("privacy")})),t=mb(mb({},t),{},{renderPlatform:i||o("tcfv2.renderPlatform",""),storage:c,showUi:b,uiLevel:b&&"Level2",repromptVersion:g,nextRepromptVersion:p.version,tracking:d}),_=new Pv(t),w=_.brokerId,S=_.openUi,(0,vv.oP)(),T=Gc("getValidTCData"),k=Gc("getPurposesByVendorMap"),A=_b({broker:n,log:s,storage:c}),t=mb(mb({},t),{},{validTCDataP:T,purposesByVendorMapP:k,pValidConsentDegree:A,controllerHandler:_}),A.then((function(e){s("consent: ",e),u("cmp.consent",e)})),wb(n),(E=new fb({broker:n,log:s.extend("pageUnload"),tracking:d})).init(),O=new Ky({broker:n,log:s.extend("eventsHandler"),openUi:S,pageUnload:E,storage:c,tracking:d,userRepromptUpdate:v,debugRepromptData:y}),Sb(S,w,O),Ty({userRepromptUpdate:v,shouldReprompt:m,stateHandler:O}),C=_.loadController(),P=new Nv(mb(mb({},t),{},{log:s.extend("bouncer")})).setup(),ly(t),(0,vv.hd)()&&!m){e.next=43;break}return e.next=43,C;case 43:return e.next=45,T;case 45:return e.next=47,P;case 47:Kv(t),n.on("openCmpBanner",(function(){O.handleAction("openRequest",{openRequest:{reason:"userRequest"}}),_.openUi({uiLevel:"Level2",reason:"userRequest"})})),s("resume loading ads bundle...");case 50:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}Tb.isAdsFreeSupported=!0;var kb=Tb;function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ab(Object(r),!0).forEach((function(t){Ob(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ob(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xb(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Db(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){xb(o,n,i,a,s,"next",e)}function s(e){xb(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("botsPlugin",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.getConfig,r=e.setConfig,n=function(e){return e("bots",[]).some((function(e){var t=e.ip,r=e.ua,n=PageCriteria.clientIP===t;return r?n&&navigator.userAgent===r:n}))}(t)||/(?:[bB]ot|BOT|GrapeshotCrawler)s?\b/.test(navigator.userAgent);r("bots.isBotDetected",n)},run:function(e){var t=e.broker,r=e.getConfig;t.emit("set page level targeting",{bot:r("bots.isBotDetected")})}}),(0,Ye.fo)("browserResolutionPlugin",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.getConfig,n=e.log;if(!r("bots.isBotDetected")){var i=function(){var e=(0,I.ap)(),r=e.width,i=e.height;n("setting browserResolution page-level targeting",r,i),t.emit("set page level targeting",{sw:r,sh:i}),t.emit("sync video tags update",{cust_params:{sw:r,sh:i}})};window.addEventListener("resize",(0,Vn.Ds)(i,300)),i()}}}),(0,Ye.fo)("pageArea",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=function(){t.emit("set page level targeting",{area:__webpack_require__.g.adAreaId,subarea:__webpack_require__.g.adSubareaId})};t.on("set adSubareaId",(function(e){__webpack_require__.g.adSubareaId=e,r()})),r()}}),(0,Ye.fo)("visits",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){return Hb.apply(this,arguments)}});var jb="mol.ads.visits.counterInt",Rb="mol.ads.visits.lastKnownVisitId",Mb=function(e){return e("plugins.enabled").includes("tcfv2")&&e("tcfv2.enabled")||e("plugins.enabled").includes("cmp")};function Ub(e){return Lb.apply(this,arguments)}function Lb(){return Lb=Db(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){__webpack_require__.g.__tcfapi?__webpack_require__.g.__tcfapi("getTCData",2,(function(t){var r=t.tcString;e(r)})):__webpack_require__.g.__cmp&&__webpack_require__.g.__cmp("getConsentData",null,(function(t){var r=t.consentData;e(r)}))}));case 2:return r=e.sent,n=Av(r).created,i=Math.floor((Date.now()-n.getTime())/1e3/60/60/24),t("days since cmp created:",i),e.abrupt("return",{cmpCreated:n,cmpDays:i});case 7:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Nb(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=Db(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(__webpack_require__.g.RTA&&__webpack_require__.g.RTA.ids&&__webpack_require__.g.RTA.ids.then)){e.next=11;break}return n=t("visits.rtaDataTimeout",5e3),e.next=4,(0,Xe.Ye)(n,[__webpack_require__.g.RTA.ids]);case 4:if(i=e.sent,!(o=i.results).length){e.next=11;break}return a=o[0],s=a.created,u=a.visitId,c=Math.floor((Date.now()-s)/1e3/60/60/24),r("days since RTA created:",c),e.abrupt("return",{rtaCreated:s,rtaDays:c,visitId:u});case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function qb(){var e=vr("mol.ads.sessionStarted")||!1,t=parseInt((0,I.ej)("mol.ads.visits"));return isNaN(t)&&(t=0),e||(yr("mol.ads.sessionStarted",!0),(0,I.zP)("mol.ads.visits",t)),t}function Fb(e){return Vb.apply(this,arguments)}function Vb(){return Vb=Db(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Db(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("no local storage found, trying to fetch visits count from cookie"),e.next=3,Promise.race([Sr(),(0,Xe.Vs)(200)]);case 3:return r=qb(),t("cookie visits:",r),localStorage.setItem(jb,""+r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=parseInt(localStorage.getItem(jb)),e.abrupt("return",isNaN(n)?r():n);case 3:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function zb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Db(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Mb(t)?Ub(r):{},Nb(t,r),Fb(r)]);case 2:return n=e.sent,i=Cb(n,3),o=i[0],a=i[1],s=i[2],r("cmpData",o),r("rtaData",a),r("visits",s),u=a.visitId,c=localStorage.getItem(Rb),u&&c!==u&&(r("visitId changed:",{lastKnownVisitId:c,visitId:u}),localStorage.setItem(Rb,u),s++,r("bumping visit count",s),localStorage.setItem(jb,""+s)),e.abrupt("return",Eb(Eb(Eb({},o),a),{},{visits:s}));case 14:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Hb(){return Hb=Db(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.log,e.next=3,zb(n,i);case 3:o=e.sent,a=o.visits,i("targeting",o),r.emit("set page level targeting",{visits:a}),r.register("call for page analytics",(function(){return o}));case 8:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Gb(e){return function(e){if(Array.isArray(e))return Kb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xb(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Yb(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Xb(o,n,i,a,s,"next",e)}function s(e){Xb(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("trackers.quantcast.userSync",{purposeIds:{gdpr:"N/A"},run:function(e){var t=e.broker,r=e.log;t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),n={userSync:(0,Vn.LY)(t,{userIds:[{name:"quantcastId"}]})};r("setting pbjs config",n),e.setConfig(n)}))},vendorIds:{gdpr:[11]}}),(0,Ye.fo)("trackers.admantx",{purposeIds:{gdpr:"N/A"},run:function(e){return Qb.apply(this,arguments)},vendorIds:{gdpr:[278]}});var $b={endPoint:"https://euasync01.admantx.com/admantx/service",request:{key:"d4d1cdf427f06ebc6ee7e0a3ffbcaecdfbfe517eca18a41d9126f88bdb16e7f0",type:"url",method:"descriptor",mode:"async",decorator:"json",filter:["admants"]}},Jb=["categories","feelings","entities","admants"];function Qb(){return Qb=Yb(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=n("trackers.admantx",$b),o=i.request,a=i.endPoint,s=window.location.href,o.body=s.substring(0,s.indexOf("?"))||s,u=JSON.stringify(o),c="".concat(a,"?request=").concat(u),l={"Content-Type":"text/plain","Content-Length":u.length,Connection:"keep-alive"},d=new Promise((function(e,t){fetch(c,{method:"GET",headers:l}).then(function(){var r=Yb(regeneratorRuntime.mark((function r(n){var i,a,s,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.json();case 2:i=r.sent,"OK"!==(a=i.info)?t(new Error("Admantx fetch error: ".concat(a,"."))):(s=o.filter.includes("default")?Jb:o.filter,u=s.map((function(e){return i[e]})).filter((function(e){return e})).reduce((function(e,t){return[].concat(Gb(e),Gb(t.map((function(e){return e.name}))))}),[]),e(u));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch(t)})),r.register("get admantx tags",(function(){return d})),r.emit("set page level targeting",d.then((function(e){return{"ias-bsp":e}}))),e.next=12,d;case 12:r.emit("admantx loaded");case 13:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}var Zb=function(){var e=function(){for(var e=[],t=1;t<=20;t++)e.push(t);return e}();return{getTags:function(){var t=function(){if(e.length){var t=(0,Pn.MX)(0,e.length-1);return e.splice(t,1)}}();if(t)return{adx_channel:t}}}};function e_(e){var t=e.broker,r=Zb();t.register("get tags",(function(){var e=r.getTags();return e&&[e]})),t.register("get video tags",(function(e){var t=e.pos,n=r.getTags();if("jwplayer"===t&&n)return{cust_params:n}}))}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r_(e){var t=e.broker,r=e.log,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(){var e=[window.screen.width,window.screen.height],t=function(t){return t[0]===e[0]&&t[1]===e[1]};__webpack_require__.g.DM.molFeMobileutils.isLandscape()&&e.reverse();var r={iphone:{iphone6:function(){return t([375,667])},iphone6p:function(){return t([414,736])},iphone5:function(){return t([320,568])}},other:{ipad:__webpack_require__.g.DM.molFeMobileutils.isIPad,other:function(){return!__webpack_require__.g.DM.molFeMobileutils.isMobile()&&!(0,I.bP)()},windows10:I.bP}},n={touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}};return{getTags:function(){return[{device:(e=r[PageCriteria.device]||{},Object.keys(e).find((function(t){return e[t]()}))||PageCriteria.device),device_features:Object.keys(n).filter((function(e){return n[e]()}))}];var e}}}().getTags(),1)[0];r(n),t.emit("set page level targeting",n)}function n_(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){n_(o,n,i,a,s,"next",e)}function s(e){n_(o,n,i,a,s,"throw",e)}a(void 0)}))}}function o_(e){var t=e.partnerId,r=e.cascades,n={partnerId:t,cascades:void 0===r?9:r,hasTcfCmp:!0,debug:I.SP["mol.ads.id5.debug"],makeUrl:function(){var e=void 0!==this.callType&&"sync"===this.callType.toLowerCase()&&this.myUid&&this.myUid.length>0;return"https://id5-sync.com/"+(e?"s":"i")+"/"+this.partnerId+"/"+this.cascades+".gif?"+(e?"puid="+encodeURIComponent(this.myUid)+"&":"")+"gdpr="+encodeURIComponent(this.gdprApplies||"")+"&gdpr_consent="+encodeURIComponent(this.consentData||"")},prepareId5Pixel:function(){"loading"!==document.readyState?this.fireId5Pixel():document.addEventListener("DOMContentLoaded",(function(){n.fireId5Pixel()}))},fireId5Pixel:function(){var e=this.makeUrl();this.log("[ID5] Firing ID5 pixel at url:",e),(new Image).src=e},processTcfResults:function(e){this.log("[ID5]: Received TCF result",e),this.gdprApplies=e.gdprApplies,this.consentData=e.consentData},init:function(){if(this.hasTcfCmp)try{window.__cmp("getConsentData",null,(function(e){n.processTcfResults(e),n.prepareId5Pixel()}))}catch(e){n.log("[ID5]: Exception received while calling TCF CMP",e),n.prepareId5Pixel()}else n.prepareId5Pixel()},log:function(e,t){this.debug&&console.log("[ID5] "+e,t)}};n.init()}function a_(e){return s_.apply(this,arguments)}function s_(){return s_=i_(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i={id5:!0},r.emit("set page level targeting",i),r.register("call for page analytics",(function(){return i})),o=n("trackers.id5.partnerId"),a=n("trackers.id5.cascades"),o?o_({partnerId:o,cascades:a}):console.error("[ID5] Missing Partner ID from configuration.");case 7:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function u_(e){var t=e.broker;(0,e.getConfig)("bots.isBotDetected")||t.emit("set page level targeting",{random:[window.PageCriteria.pageViewId],impid:[(0,Pn.kb)()]})}function c_(e){return function(e){if(Array.isArray(e))return l_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d_(e){var t=e.broker,r=(0,e.getConfig)("plugins.ixIdentify.scriptUrl","//js-sec.indexww.com/ht/p/184669-186298276891027.js"),n=t.invoke("load script",r,"headertag");t.register("prebid prerequisites",(function(){return n}))}e_.ccpa={enabledIfDissent:!0},e_.gdpr={enabledIfDissent:!0},r_.ccpa={enabledIfDissent:!0},r_.gdpr={enabledIfDissent:!0},a_.vendorIds={gdpr:[131]},a_.purposeIds={gdpr:"N/A"},u_.ccpa={enabledIfDissent:!0},u_.gdpr={enabledIfDissent:!0},d_.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=t("plugins.enabled"),i=n.findIndex((function(e){return"prebid"===e}));if(~i){var o=i-1,a=new Set([].concat(c_(n.slice(0,o)),["trackers.ixIdentity"],c_(n.slice(o))));r("plugins.enabled",c_(a))}};var p_=d_;function f_(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function h_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f_(o,n,i,a,s,"next",e)}function s(e){f_(o,n,i,a,s,"throw",e)}a(void 0)}))}}function g_(e){return m_.apply(this,arguments)}function m_(){return m_=h_(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getConfig,n=r("plugins.smartclip.url","https://sync.sxp.smartclip.net/sync?type=red&dsp=10"),Nt({url:n});case 3:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function v_(e){var t=e.broker;__webpack_require__.g._tfa=__webpack_require__.g._tfa||[],__webpack_require__.g._tfa.push({notify:"event",name:"page_view",id:1125455}),document.getElementById("tb_tfa_script")||t.invoke("import script","//cdn.taboola.com/libtrc/unip/1125455/tfa.js",{id:"tb_tfa_script"})}d_.vendorIds={gdpr:[10]},d_.purposeIds={gdpr:"N/A"},g_.vendorIds={gdpr:[115]},g_.purposeIds={gdpr:"N/A"},v_.vendorIds={gdpr:[42]},v_.purposeIds={gdpr:[1]};var y_=function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),i={userSync:(0,Vn.LY)(t,{userIds:[{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=a8r0pns&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}}],syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",i),e.setConfig(i)}))},b_=y_;y_.purposeIds={gdpr:[1]},y_.vendorIds={gdpr:"N/A"};var __=function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("trackers.universalIds",[]);i.length&&t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),o={userSync:(0,Vn.LY)(t,{userIds:i,syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",o),e.setConfig(o)}))};__.purposeIds={gdpr:[1]},__.vendorIds={gdpr:"N/A"};var w_=__;function S_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I_=function(){},k_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks=new Map,this.intersectionObserver=new IntersectionObserver(this._onIntersect.bind(this),t)}var t,r;return t=e,r=[{key:"_onIntersect",value:function(e){var t=this;e.forEach((function(e){(t.callbacks.get(e.target)||I_)(e,e.intersectionRatio>=Math.min.apply(Math,function(e){return function(e){if(Array.isArray(e))return S_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.intersectionObserver.thresholds)))}))}},{key:"observe",value:function(e,t){var r=this;return this.callbacks.set(e,t),this.intersectionObserver.observe(e),function(){return r.intersectionObserver.unobserve(e)}}},{key:"unobserve",value:function(e){this.callbacks.delete(e),this.intersectionObserver.unobserve(e)}}],r&&T_(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A_(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}var E_=(0,k.x)("AdsRefresher");function O_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||P_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C_(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function P_(e,t){if(e){if("string"==typeof e)return x_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x_(e,t):void 0}}function x_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.broker,n=t.inactiveTime,i=void 0===n?1e4:n,o=t.events,a=void 0===o?[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]]:o,s=t.log,u=void 0===s?E_:s;D_(this,e),this.priv={broker:r,events:a,inactiveTime:i,handleUserActivity:(0,Vn.FU)(M_.bind(this),i-10),lastActive:new Date,log:u}}var t,r;return t=e,r=[{key:"active",get:function(){var e=this.priv;return new Date-e.lastActive<e.inactiveTime}},{key:"start",value:function(){var e=this.priv;N_.call(this,(function(t,r){t.addEventListener(r,e.handleUserActivity)})),L_.call(this)}},{key:"stop",value:function(){var e=this.priv;N_.call(this,(function(t,r){t.removeEventListener(r,e.handleUserActivity)})),e.timer=clearTimeout(e.timer)}},{key:"whenActive",value:function(){var e=this;return new Promise((function(t){e.active?t():e.priv.broker.once("user active",t)}))}}],r&&j_(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M_(){var e=this.priv,t=!this.active;e.lastActive=new Date,t&&(this.priv.log("user became active"),e.broker.emit("user active"))}function U_(){var e=this.priv.broker;this.active?(this.priv.log.debug("user is still active"),L_.call(this)):(this.priv.log("user became inactive"),e.emit("user inactive"),e.once("user active",L_.bind(this)))}function L_(){this.priv.timer=setTimeout(U_.bind(this),this.priv.inactiveTime)}function N_(e){var t,r=C_(this.priv.events);try{for(r.s();!(t=r.n()).done;){var n=O_(t.value,2),i=n[0],o=n[1];if(i){var a,s=C_(o);try{for(s.s();!(a=s.n()).done;)e(i,a.value)}catch(e){s.e(e)}finally{s.f()}}}}catch(e){r.e(e)}finally{r.f()}}var B_=function(){var e,t;if(void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),!e)throw new Error("Can't create activity monitor");var r,n,i={capture:!0,passive:!0},o=0,a=function(){n=new Promise((function(e){r=e}))};a();var s=function(){if(document[e]){if(r)return;a()}else{if(!r)return;o=Date.now();var t=r;r=void 0;try{t()}catch(e){console.warn(e)}}};return s(),document.addEventListener(t,s,i),window.addEventListener("pagehide",s,i),window.addEventListener("pageshow",s,i),{whenActive:function(){return n},start:function(){},stop:function(){},get active(){return Date.now()-o}}};function q_(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function F_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){q_(o,n,i,a,s,"next",e)}function s(e){q_(o,n,i,a,s,"throw",e)}a(void 0)}))}}var V_=function(e){var t=e.broker,r=e.getConfig,n=new k_({threshold:[0,.5,1]}),i="mol"===r("viewability.activityMonitor","mol")?new R_({broker:t}):B_(),o=new Map,a=function(){var e=F_(regeneratorRuntime.mark((function e(r,a){var s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.set(r,a),u=0,n.observe(a,function(){var e=F_(regeneratorRuntime.mark((function e(n){var o,a,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.intersectionRatio,u=n.intersectionRatio,e.next=4,i.whenActive();case 4:n.isIntersecting?!s&&n.intersectionRatio>=.5&&(a=!0,c=function(){a&&o<1&&u<1?(a=!1,l()):(s=void 0,t.emit("ad viewable",r))},(l=function(){s=setTimeout(c,500)})()):s&&(clearTimeout(s),s=void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.on("track viewability",(function(e,t){a(e,t)})),t.on("untrack viewability",(function(e){return function(e){var t=o.get(e);t&&(n.unobserve(t),o.delete(e))}(e)})),t.once("dom ready",(function(){i.start()}))};V_.ccpa={enabledIfDissent:!0},V_.gdpr={enabledIfDissent:!0};var z_=V_;function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(r),!0).forEach((function(t){G_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K_(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function X_(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){K_(o,n,i,a,s,"next",e)}function s(e){K_(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J_=[{size:[300,600],url:"https://scripts.dailymail.co.uk/static/mol-fe/static/mol-fe-xpmodule-news-search/1.13.0/mpuCarousel.html?forceIto=Mol-Carousel&startTab=entertainment"},{size:[970,250],image:"https://www.dailymail.co.uk/static/mol-adverts/creatives/newzit-static-billboard.jpeg"},{size:[160,600],image:"https://www.dailymail.co.uk/static/mol-adverts/creatives/newzit-static-skyscrapper.png"}],Q_={vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]},legIntPurposeIds:{gdpr:[3,4]}};(0,Ye.fo)("adserver",{init:function(e){return cw.apply(this,arguments)},run:function(e){var t=e.log,r=googletag.cmd,n=function(e){try{e()}catch(e){t.warn("Error running function queued up in googletag.cmd:",e)}};googletag.cmd.push=n,r.forEach(n)}});var Z_,ew=function(e){var t=document.getElementById(e),r=Y_(t.getClientRects(),1)[0],n=r?Math.ceil(r.width):0,i=r?Math.ceil(r.height):0,o=document.createElement("div");o.style.border="0pt none",o.style.margin="0 auto",o.style.padding="0",o.style.minHeight="1px",t.appendChild(o);var a=document.createElement("iframe");return r&&(a.width=n+"",a.height=i+""),a.scrolling="no",a.marginWidth="0",a.marginHeight="0",a.style.marginTop="0px",a.style.marginLeft="0px",a.style.border="0pt none",o.appendChild(a),{document:a.contentDocument,size:[n,i],adElement:o}},tw=function(e,t,r,n){var i={},o=!1,a={getAdUnitPath:function(){return t},getSlotElementId:function(){return r},getTargetingMap:function(){return i},setTargeting:function(e,t){return void 0!==t&&(i[e]=[t]),a},getTargeting:function(e){return i[e]||[]},addService:function(){return a},setCollapseEmptyDiv:function(e){return o=e,a},getCollapseEmptyDiv:function(){return o},sizes:n,getTargetingKeys:function(){return Object.keys(i)},targeting:i};return a};function rw(e,t,r,n){return nw.apply(this,arguments)}function nw(){return nw=X_(regeneratorRuntime.mark((function e(t,r,n,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z_||(Z_=new Promise(function(){var e=X_(regeneratorRuntime.mark((function e(r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invokeAll({message:["call for page analytics"],timeout:2e3});case 2:n=e.sent,i=H_(H_({timestamp:__webpack_require__.g.adverts.startTime,referrer:document.referrer,localStorage:void 0,memory:void 0,indexedDB:void 0,viewability:void 0},n.reduce((function(e,t){return H_(H_({},e),t)}),{})),{},{event_type:"bidmax",type_version:2,version:I.SP.bidmax||"4.1.95"}),r(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.t0=H_,e.t1=H_,e.t2={timeAtSend:Date.now()-__webpack_require__.g.adverts.startTime},e.next=6,Z_;case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={type:"custom",payload:{module:"adserver",event:"click",id:n}},o=(0,e.t0)(e.t4,e.t5,e.t6),e.abrupt("return","".concat(r,"/_/e?r=").concat(encodeURIComponent(i),"&e=").concat(btoa(JSON.stringify(o))));case 12:case"end":return e.stop()}}),e)}))),nw.apply(this,arguments)}function iw(e,t,r,n,i,o){return ow.apply(this,arguments)}function ow(){return ow=X_(regeneratorRuntime.mark((function e(t,r,n,i,o,a){var s,u,c,l,d,p,f,h,g,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.createElement("div"),u=t.size,c=t.id,l=t.click,d=Y_(u,2),p=d[0],f=d[1],!t.url){e.next=15;break}(h=document.createElement("iframe")).width=p,h.height=f,h.scrolling="no",h.marginHeight=0,h.marginWidth=0,h.frameBorder=0,h.src=t.url,s.appendChild(h),e.next=35;break;case 15:if(!t.image){e.next=29;break}if((g=document.createElement("img")).width=p,g.height=f,g.src=t.image,m=document.createElement("a"),!l){e.next=25;break}return e.next=24,rw(o,a,c,l);case 24:m.href=e.sent;case 25:m.appendChild(g),s.appendChild(m),e.next=35;break;case 29:if(!t.html){e.next=33;break}s.innerHTML=t.html,e.next=35;break;case 33:return r.warn("unsupported creative:",t),e.abrupt("return");case 35:n.appendChild(s),i.adElement=s,v={size:u,slot:i,isEmpty:!1,creativeId:c,serviceName:"proprietary"},o.emit("gpt event","slotRenderEnded",v);case 39:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}var aw=0,sw=null;function uw(e,t){var r=[],n=e.intercept("import script","//www.googletagservices.com/tag/js/gpt.js",(function(e,i){n&&(r.push(i),t("holding off gpt loading"))}));return function(){n(),n=null,r.length&&(t("resume loading real gpt"),r.forEach((function(e){return e()})))}}function cw(){return cw=X_(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=function(){sw&&(sw(),sw=null),o([c]),n("bailing")},r=t.broker,n=t.log,i=t.addPlugins,o=t.removePlugins,a=t.getConfig,s=t.setConfig,u=t.pluginsAlreadyRun,c=t.ownName,l=t.checkPluginBouncer,d=a("bidmax.dispatcher.url","//crta.dailymail.co.uk"),u.has("tcfv2")){e.next=16;break}if(!(aw++>10||sw)){e.next=7;break}return p(),e.abrupt("return");case 7:return n("tcfv2 hasnt ran yet"),(f=a("plugins.enabled")).splice(f.indexOf(c),1),h=["tcfv2","mvt","debug.setPlugin"].filter((function(e){return!u.has(e)})),(g=h.find((function(e){return f.includes(e)})))?(n("re-queing just after",g),m=f.indexOf(g)):(n("cant find tcfv2 or any way to dynamically enable it, holding off gpt.js loading"),sw=uw(r,n),n("re-queuing as last plugin"),m=f.length-1),f.splice(m+1,0,c),s("plugins.enabled",f),e.abrupt("return","not yet");case 16:return n("starting"),e.next=19,l("adserver",Q_);case 19:if(!e.sent){e.next=25;break}return n("google enabled"),p(),e.abrupt("return");case 25:n("user seems to have dissented to google, running own adserver");case 26:sw||r.intercept("import script","//www.googletagservices.com/tag/js/gpt.js",(function(){n("intercepting real gpt loading")})),v=a("adserver.ads",J_),i(["analytics.headerbidderWinner"]),(y=__webpack_require__.g.googletag=__webpack_require__.g.googletag||{}).cmd=y.cmd||[],b={},_={setTargeting:function(e,t){return void 0!==t&&(b[e]=[t]),_},addEventListener:function(e,t){return r.on("gpt event",e,t),_},setCentering:function(e){return _},enableAsyncRendering:function(){return _},getTargetingKeys:function(){return Object.keys(b)},getTargeting:function(e){return b[e]||[]},setRequestNonPersonalizedAds:function(){},setPrivacySettings:function(){},getSlots:function(){return Object.values(w)}},y.pubads=function(){return _},w={},y.enableServices=function(){n("enableServices")},y.getVersion=function(){return"proprietary"},y.display=function(e){var t=w[e];if(t.displayed)n.warn("slot",e,"already displayed, ignoring multiple calls");else{t.displayed=!0,n("display:",e,t.sizes);var i=e,o=Y_(t.getTargeting("hb_pb"),1)[0];if(o>0&&"oopGptSlot"!==t.slotType){n("prebid bid",o,"rendering ad:",e);var a=ew(i),s=a.document,u=a.size,c=a.adElement,l=Y_(t.getTargeting("hb_adid"),1)[0];t.adElement=c,__webpack_require__.g.pbjs.renderAd(s,l),r.emit("gpt event","slotRenderEnded",{size:u,slot:t,isEmpty:!1})}else{var p=document.getElementById(i),f=v.filter((function(e){var r=e.size;return t.sizes.find((function(e){var t=Y_(e,2),n=t[0],i=t[1];return r[0]===n&&r[1]===i}))}));if(f.length){var h=f[Math.floor(f.length*Math.random())];n("found house ad for size:",h.size),iw(h,n,p,t,r,d)}else"oopGptSlot"===t.slotType?n("no header bidder or house ad found for out of page slot"):t.getCollapseEmptyDiv()?(n("no header bidder or house ad found, collapsing:",p),p.style.height="0px",p.style.display="none"):n("no header bidder or house ad found, but NOT collapsing it"),r.emit("gpt event","slotRenderEnded",{slot:t,isEmpty:!0})}}},_.refresh=function(e,t){n("refresh:",e,t)},y.defineSlot=function(e,t,r){n("defineSlot:",r);var i=tw(0,e,r,t);return w[r]=i,i},y.defineOutOfPageSlot=function(e,t){n("defineOutOfPageSlot:",t);var r=H_(H_({},tw(0,e,t,[])),{},{slotType:"oopGptSlot"});return w[t]=r,r},y.destroySlots=function(e){n("destroySlots:",e),e.forEach((function(t){var r=t.adElement;r&&r.parentNode.removeChild(r),delete e[t]}))};case 42:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e){return function(e){if(Array.isArray(e))return dw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pw(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function fw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){pw(o,n,i,a,s,"next",e)}function s(e){pw(o,n,i,a,s,"throw",e)}a(void 0)}))}}function hw(){return hw=fw(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getConfig,n=t.setConfig,i=t.removePlugins,o=t.broker,a=t.log,s=t.ownName,n("bidmax.reportPlugins",[].concat(lw(r("bidmax.reportPlugins",[])),[s])),u=r("plugins.enabled").filter((function(e){return e.startsWith("abe.")})),a("removing plugins:",u),i(u),a("loading blockthrough script"),o.invoke("import script","//btloader.com/tag?o=5761266544017408&upapi=true").then((function(){a("blockthrough script loaded")})),o.on("ad delayed",(function(e){var t=e.id;return window.postMessage("mol-ads/events/ad-delayed:"+t,"*")})),o.on("resuming delayed ad",(function(e){var t=e.id;return window.postMessage("mol-ads/events/ad-resumed:"+t,"*")}));case 9:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function gw(e){return gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(e)}function mw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("adsFree",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.broker,r=e.isAdsFreeUser,n=e.log,i=e.registerPluginBouncer,o=e.setConfig;if((0,e.getConfig)("plugins.adsFree.enabled",!1)){n("Starting..");var a=r();a&&(i((function(e,t){n("checking ".concat(e),Object.keys(t));var r=t.isAdsFreeSupported;return!r&&n("bouncing",e),r})),o("slots.enabled",{}),document.documentElement.classList.add("molads_ads_free")),t.register("call for page analytics",(function(){return{adsFreeUser:a}}))}},isAdsFreeSupported:!0}),(0,Ye.fo)("blockthrough",{init:function(e){return hw.apply(this,arguments)},purposeIds:{gdpr:"N/A"},vendorIds:{gdpr:[815]}}),(0,Ye.fo)("conditionalLoad",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.broker,r=e.getConfig,n=e.log;n("starting"),t.register("call for page-unload",(function(){return{sdoc:bw.length}}));var i=r("plugins.slots.loadConditions.constants",{});t.on("ad rendered",(function(e,t){var r=t.size,n=t.slot,i=t.isEmpty,o=n.molAd.pos;"oopGptSlot"===n.molAd.slotType&&(o+="-oop"),_w.renderedAds[o]={size:r,isEmpty:i},Sw()})),t.intercept("slot defined",(function(e,t){var r=vw(e,2),o=(r[0],r[1].pos),a=(0,S.get)(o);if(_w.definedPositions.push(o),a&&void 0!==a.loadCondition){var s="string"==typeof a.loadCondition?i[a.loadCondition]:a.loadCondition;n("delaying slot",o,"due to condition:",s),Tw(new ww(s,{pos:o}),t)}else t();Sw()})),t.intercept("request slot",(function(e,t){var r=vw(e,2),o=(r[0],r[1]),a=o.pos,s=o.slotType,u=(0,S.get)(a);if("oopGptSlot"===s&&void 0!==u.oopLoadCondition){var c="string"==typeof u.oopLoadCondition?i[u.oopLoadCondition]:u.oopLoadCondition;n("delaying oop slot",a,"due to condition:",c),Tw(new ww(c,{pos:a}),t)}else t();Sw()}))}});var bw=[],_w={renderedAds:{},definedPositions:[]},ww=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=r,this.rootDescriptor=t,this.do=this.do.bind(this),this.not=this.not.bind(this)}var t,r;return t=e,(r=[{key:"do",value:function(e){if("object"===gw(e)){var t=Object.keys(e)[0];if("function"==typeof this[t])return this[t](e[t]);throw new Error("error calling fnName "+t)}return e}},{key:"not",value:function(e){return!this.do(e)}},{key:"and",value:function(e){return!e.find(this.not)}},{key:"or",value:function(e){return!!e.find(this.do)}},{key:"isAdSmallerThan",value:function(e){var t,r,n,i,o,a,s,u=e.pos;return t=e.size,n=(r=vw(_w.renderedAds[u].size,2))[0],i=r[1],a=(o=vw(t,2))[0],s=o[1],n<a&&i<s}},{key:"isMasterRendered",value:function(){return!!_w.renderedAds[this.context.pos]}},{key:"isPosDefined",value:function(e){return!!~_w.definedPositions.indexOf(e)}},{key:"isPosEmpty",value:function(e){return _w.renderedAds[e].isEmpty||!_w.renderedAds[e].size}},{key:"isPosRendered",value:function(e){return _w.renderedAds.hasOwnProperty(e)}},{key:"isViewPortWidthLargerThan",value:function(e){return(0,I.ap)().width>e}},{key:"isViewPortHeightLargerThan",value:function(e){return(0,I.ap)().height>e}},{key:"isIE",value:function(){return I.JW}},{key:"run",value:function(){return this.do(this.rootDescriptor)}}])&&mw(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Sw=(0,Vn.yS)((function(){bw=bw.filter((function(e){var t=e.condition,r=e.done;try{return!t.run()||(r(),!1)}catch(e){return console.error("conditional-load: ",e),!1}}))}));function Tw(e,t){bw.push({condition:e,done:t})}var Iw=__webpack_require__(1294),kw=__webpack_require__.n(Iw);function Aw(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ew(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Aw(o,n,i,a,s,"next",e)}function s(e){Aw(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ow(e,t){var r=document.createElement("div");r.id=e,r.classList.add("watermark"),t.parentElement.insertBefore(r,t)}function Cw(){return Cw=Ew(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.log,o=n("taboola.outStream.paragraphIndex",4),a=n("taboola.outStream.margin",{top:30,bottom:60}),s="taboola-mid-article-thumbnails",e.prev=4,e.next=7,ng({broker:r,log:i,targetParagraphIndex:o,margin:a});case 7:u=e.sent,Ow(s,u),r.emit("add taboola",s,{id:s,position:"outStream"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),i("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),Cw.apply(this,arguments)}function Pw(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xw(Object(r),!0).forEach((function(t){Mw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jw(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rw(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ye.fo)("conditionalEnable",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.broker,r=e.log,n=e.getConfig,i=e.setConfig;r("starting");var o=n("enableCondition.downlinkMin",0),a=kw()(),s=n("enableCondition.notForAuthorTypes",[]);if(o>=a)return r("disabling ads because of downlink:",{downlinkMax:a,downlinkMin:o}),c();var u=__webpack_require__.g.PageCriteria.authorType;if(s.includes(u))return r("disabling ads because of controvential author:",{controversialAuthors:s,authorType:u}),c();function c(){i("slots.enabled",{}),t.register("call for page analytics",(function(){return{adsDisabled:!0}})),(0,Ae.appendStyle)("\n.mpu_puff_wrapper {\n  display: none;\n}\n\n.billboard_wrapper {\n  display: none;\n}\n")}}}),(0,Ye.fo)("imageGallery",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker;t.on("image gallery open",(function(){t.emit("pause refreshing ads")})),t.on("image gallery close",(function(){t.emit("resume refreshing ads")}))}}),(0,Ye.fo)("taboola.Outstream",{purposeIds:{gdpr:"N/A"},run:function(e){return Cw.apply(this,arguments)},vendorIds:{gdpr:[42]}}),(0,Ye.fo)("taboolaAds",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.log;(Uw=r)("taboola running"),(0,b.U2)("taboola",{enabled:!0}).enabled?(t.on("add taboola","pufflist",(function(e){return function(e,t){var r=(0,b.U2)("taboola."+t.position,{enabled:!1});if(r.enabled){var n,i=r.start,o=r.every,a=jw(document.getElementById(t.id).querySelectorAll("li"));try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.classList.contains("mpu_puff_wrapper"))return;if(0!=--i)return;i=o;var u=++Lw,c=Fw(s,u,r,"afterend"),l=Dw(Dw({},r),{},{placement:"".concat(r.placement," ").concat(Lw),container:c});qw(e,c,l)}}catch(e){a.e(e)}finally{a.f()}}}(t,e)})),t.on("add taboola",(function(e,r){Uw("adding taboola",e,r),function(e,t){var r=t.position,n=t.id,i=(0,b.U2)("taboola."+r,{enabled:!1});if(i.enabled){["thumbnail","thumbnailChannel"].includes(r)&&Bw({status:"widgetCall",placement:"thumbnails-feed"});var o=e.on("taboola render",(function(e){"api::render"===e.type&&e.detail.mode.includes("thumbnails-feed")&&(o.cancel(),Bw({status:"widgetRendered",placement:"thumbnails-feed"}))}));qw(e,n,i)}else Uw.warn("taboola widget",r,"is disabled, ignoring load request.")}(t,r)})),function(e){var t=(0,b.U2)("taboola.infiniteScroll",{enabled:!1});if(t.enabled){var r=t.start,n=t.every,i=t.platform;e.on("infinite-list append",function(){var o,a=(o=regeneratorRuntime.mark((function o(a){var s,u,c,l,d,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n){o.next=2;break}return o.abrupt("return");case 2:s=jw(a.querySelectorAll(Vw(i)));try{for(s.s();!(u=s.n()).done;)c=u.value,0===r?(l=++Lw,d=Fw(c,l,t,"beforebegin"),p=Object.assign({},t,{placement:t.placement+" "+l,container:d}),qw(e,d,p),r=n-1):r--}catch(e){s.e(e)}finally{s.f()}case 4:case"end":return o.stop()}}),o)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){Pw(i,r,n,a,s,"next",e)}function s(e){Pw(i,r,n,a,s,"throw",e)}a(void 0)}))});return function(e){return a.apply(this,arguments)}}())}}(t)):Uw("taboola disabled, bailing")},vendorIds:{gdpr:[42]}});var Uw,Lw=0,Nw={taboola:null},Bw=function(e){var t;null===(t=__webpack_require__.g.RTA)||void 0===t||t.tedEvent("page_event",{action:"set",name:"taboola",value:e})},qw=function(e,t,r){var n=function(e){var t,r;if(Nw.taboola)return Nw.taboola;var n=(0,b.U2)("taboola.scriptDir","dailymail-row"),i=(0,b.U2)("taboola.pageType","article"),o="//cdn.taboola.com/libtrc/"+n+"/loader.js";window._taboola=window._taboola||[],Nw.taboola=window._taboola;var a=Nw.taboola;a.push(Mw({},i,"auto")),a.push({listenTo:"render",handler:function(t){return e.emit("taboola render",t)}}),a.push({listenTo:"visible",handler:function(t){return e.emit("taboola visible",t)}}),a.push({listenTo:"nocontent",handler:function(t){return e.emit("taboola nocontent",t)}}),a.push({listenTo:"click",handler:function(t){return e.emit("taboola click",t)}});var s=document.createElement("script"),u=document.querySelector("script");return Bw({status:"scriptLoading"}),s.addEventListener("load",(function(){return Bw({status:"scriptLoaded"})})),s.async=!0,s.src=o,s.onError=function(){return e.emit("taboola failed to load")},u.parentNode.insertBefore(s,u),null===(t=window.performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"tbl_ic"),a}(e);n.push({container:t,mode:r.mode,placement:r.placement,targetType:r.targetType}),n.push({flush:!0})},Fw=function(e,t,r,n){var i=r.containerStr+t,o=function(e,t){return"mobile"===t?'<li id="'.concat(e,'"></li>'):'<div id="'.concat(e,'" style="min-height: 280px;"></div>')}(i,r.platform);return e.insertAdjacentHTML(n,o),i},Vw=function(e){return"mobile"===e?"li":"div.article"};function zw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ww(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ww(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hw(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Gw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Hw(o,n,i,a,s,"next",e)}function s(e){Hw(o,n,i,a,s,"throw",e)}a(void 0)}))}}var Kw="mol-ads-control-panel",Xw={abv:"mol-ads-control-panel-abv",cluster:"mol-ads-control-panel-cluster"},Yw="mol-ads-control-panel-config";function $w(e){var t=e.broker,r=e.getConfig,n=e.doc,i=e.log,o=e.win,a=r("controlPanel.scriptURL");a?o.DM.later("molFeReact_LOADED",Gw(regeneratorRuntime.mark((function e(){var s,u,c,l,d,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.DM.molFeReact,u=s.React,c=s.ReactDOM,e.prev=1,e.next=4,Promise.all([t.invoke("load script",a,"MOLAdsControlPanel"),t.invoke("get all plugins")]);case 4:l=e.sent,d=zw(l,2),p=d[0],f=d[1],h=document.getElementById(Kw)||Jw(n),c.unmountComponentAtNode(h),c.render(u.createElement(p,{abvCookieName:Xw.abv,allPlugins:Object.keys(f),clusterCookieName:Xw.cluster,configStorageKey:Yw,enabledPlugins:r("plugins.enabled",[]),onClose:function(){return c.unmountComponentAtNode(h)}}),h),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),Object.values(Xw).forEach(I.kT),localStorage.removeItem(Yw),i.error("\n        MOL Ads Control Panel has been requested to load, but cannot. \n        I have deleted the control panel cookies that will affect the behaviour of this site.\n      "),i.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})))):i.error("No configured script url")}function Jw(e){var t=document.createElement("div");return t.id=Kw,e.body.appendChild(t),t}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qw(Object(r),!0).forEach((function(t){eS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tS(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function rS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){tS(o,n,i,a,s,"next",e)}function s(e){tS(o,n,i,a,s,"throw",e)}a(void 0)}))}}function nS(e){return iS.apply(this,arguments)}function iS(){return iS=rS(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=(new Date).getTime();!function t(n){if(0===n){var i=(new Date).getTime()-r;e(i)}else setTimeout((function(){return t(n-1)}),0)}(t)})));case 1:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function oS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sS(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function uS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){sS(o,n,i,a,s,"next",e)}function s(e){sS(o,n,i,a,s,"throw",e)}a(void 0)}))}}function cS(){return cS=uS(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=n("plugins.adnami.scriptTimeout",500),o={adNami:"off"},a=(0,Xe.Ye)(i,[new Promise((function(e){window.adsmtag=window.adsmtag||{},window.adsmtag.cmd=window.adsmtag.cmd||[],window.adsmtag.cmd.push((function(){o.adNami="on",e()}))}))]),r.invoke("import script","https://macro.adnami.io/macro/spec/adsm.macro.4111597d-dc70-4fd8-b25e-7d24d8423e73.js"),r.intercept("slot ready for ad",function(){var e=uS(regeneratorRuntime.mark((function e(t,r){var n,i,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oS(t,3),i=n[0],s=n[1],u=n[2],e.next=3,a;case 3:u.push(o),r(i,s,u);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function dS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){lS(o,n,i,a,s,"next",e)}function s(e){lS(o,n,i,a,s,"throw",e)}a(void 0)}))}}function pS(){return pS=dS(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,(n=t.log)("starting"),e.next=4,r.until("add fb-marketing-pixel");case 4:n("got request to add tracking"),__webpack_require__.g._fbq||(n("loading fbds.js"),__webpack_require__.g._fbq=[],__webpack_require__.g._fbq.disablePushState=!0,r.invoke("import script","//connect.facebook.net/en_US/fbds.js").then((function(){return n("fbds.js loaded")}))),"function"==typeof __webpack_require__.g._fbq.push?(__webpack_require__.g._fbq.push(["addPixelId","1401367413466420"]),__webpack_require__.g._fbq.push(["track","PixelInitialized",{}])):n.error("window._fbq.push is not a function");case 7:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function fS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(r),!0).forEach((function(t){mS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||yS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yS(e,t){if(e){if("string"==typeof e)return bS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bS(e,t):void 0}}function bS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("controlPanel",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){(Object.values(Xw).some(I.ej)||I.SP.acp||I.SP.adsControlPanel||localStorage.getItem(Yw))&&$w(e),e.broker.on("open control panel",(function(){return $w(e)}))}}),(0,Ye.fo)("performanceMonitor",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0,run:function(e){var t=e.broker,r=e.getConfig,n=r("performance.sampleSize",100);r("performance.pageLoad.offsets",[0,5,15]).forEach((function(e){return setTimeout(function(e){return rS(regeneratorRuntime.mark((function r(){var i,o,a,s,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.invoke("is page visible?");case 2:return i=r.sent,o=t.on("page hidden",(function(){i=!1})),r.next=6,nS(n);case 6:a=r.sent,o.cancel(),s=a/n,u=Zw(Zw({offset:e,sampleSize:n,visible:i},(0,Pn._b)("delayP1s",s)),(0,Pn._b)("delayP100ms",s)),t.emit("send event to bidmax",{type:"custom",payload:Zw({module:"perf-monitor",event:"measure"},u)});case 11:case"end":return r.stop()}}),r)})))}(e),1e3*e)}))}}),(0,Ye.fo)("adNami",{purposeIds:{gdpr:"N/A"},run:function(e){return cS.apply(this,arguments)},vendorIds:{gdpr:[612]}}),(0,Ye.fo)("fbRemarketingPixel",{purposeIds:{gdpr:"N/A"},run:function(e){return pS.apply(this,arguments)},vendorIds:{gdpr:[89]}}),(0,Ye.fo)("bidCount",{ccpa:{enabledIfDissent:!0},purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.log,n={},i=function(e){return(0,w.jj)(e.map((function(e){return e.bidderCode})))};t.register("get tags based on tags",(function(e){var t=e.flat().filter((function(e){return e&&"bid"===e.type}));if(t.length){var n=i(t),o=t[0].pos;r("".concat(o," - unique bidders"),n);var a=n.length;return r("".concat(o," - bidCount"),a),{bidCount:a}}return r("no bids found"),{bidCount:0}})),t.intercept("collect video tags",(function(e,t){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),a=o[0],s=o[1],u=o[2],c=function(e,t){if(t&&"bid"===t.type){var o=t.pos,a=t.offset,s=t.auctionId;n[s]=n[s]||[],n[s].push(t);var c=i(n[s]),l=c.length;r("".concat(o," - bid received for auctionId: ").concat(s,", offset: ").concat(a,", uniqueBidders: ").concat(c,", bidCount: ").concat(l)),t.tags.cust_params.bidCount=l}u(e,t)};c(null,{cust_params:{bidCount:0}}),t(a,s,c)})),t.on("bidding ended",(function(e,t){n[t]&&(r("video auction ended, removing auctionId",t),delete n[t])}))},vendorIds:{gdpr:"N/A"}}),(0,Ye.fo)("maxbid",{ccpa:{enabledIfDissent:!0},purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.log,n={},i=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o=function(e){return function(e){return function(e){if(Array.isArray(e))return bS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e).sort((function(e,t){return t.cpm-e.cpm}))},a=function(e){var t=e.bidderCode,r=e.cpm,n=e.cachedBid;if(n){var i=n.bidderCode,o=n.cpm;return{bidderCode:i,cpm:parseFloat(o)}}return{bidderCode:t,cpm:parseFloat(r)}};t.register("get tags based on tags",(function(e){var t=e.flat().filter((function(e){return"bid"===(null==e?void 0:e.type)&&i(null==e?void 0:e.cpm)}));if(t.length){var n=t[0].pos,s=t.map(a);r("".concat(n," - bids:"),s);var u=o(s);r("".concat(n," - sorted:"),u);var c=u[0],l=c.bidderCode,d=c.cpm;return r("".concat(n," - highest bidder"),l,d),{maxbid:d,maxbidpk:_S.findIndex((function(e){var t=vS(e,2),r=t[0],n=t[1];return r<=d&&d<=n}))+1,maxbid_bidder:l}}})),t.intercept("collect video tags",(function(e,t){var s=vS(e,3),u=s[0],c=s[1],l=s[2];t(u,c,(function(e,t){if(t&&"bid"===t.type&&t.cpm&&i(t.cpm)){n[t.auctionId]=n[t.auctionId]||[];var s=a(t),u=t.auctionId,c=t.offset;r("bid received, auctionId: ".concat(u,", offset: ").concat(c,", bid:"),s),n[t.auctionId].push(s);var d=o(n[t.auctionId]);r("sorted bids, auctionId: ".concat(u,", offset: ").concat(c),d);var p=d[0],f=p.cpm,h=p.bidderCode;r("hightest bid, auctionId: auctionId: ".concat(u,", offset: ").concat(c),h,f);var g=gS(gS({},t.tags.cust_params),{},{maxbid:f,maxbidpk:_S.findIndex((function(e){var t=vS(e,2),r=t[0],n=t[1];return r<=f&&f<=n}))+1,maxbid_bidder:h});t.tags.cust_params=g}l(e,t)}))})),t.on("bidding ended",(function(e,t){n[t]&&(r("video auction ended, removing auctionId",t),delete n[t])}))},vendorIds:{gdpr:"N/A"}});var _S=[[.01,.5],[.51,1],[1.01,1.5],[1.51,2],[2.01,2.5],[2.51,3],[3.01,3.5],[3.51,4],[4.01,4.5],[4.51,5],[5.01,6],[6.01,7],[7.01,8],[8.01,9],[9.01,10],[10.01,12],[12.01,14],[14.01,16],[16.01,18],[18.01,20]];function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wS(Object(r),!0).forEach((function(t){TS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IS(e){return function(e){if(Array.isArray(e))return PS(e)}(e)||AS(e)||CS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kS(e){return xS(e)||AS(e)||CS(e)||OS()}function AS(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ES(e,t){return xS(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||CS(e,t)||OS()}function OS(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CS(e,t){if(e){if("string"==typeof e)return PS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?PS(e,t):void 0}}function PS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xS(e){if(Array.isArray(e))return e}(0,Ye.fo)("bidsReceived",{ccpa:{enabledIfDissent:!0},purposeIds:{gdpr:[1]},run:function(e){e.broker.register("get tags based on tags",(function(e){return e.flat().filter((function(e){return e&&"bid"===e.type})).length?{nobids:!1}:{nobids:!0}}))},vendorIds:{gdpr:"N/A"}}),(0,Ye.fo)("gpid",{ccpa:{enabledIfDissent:!0},init:function(e){var t=e.getConfig,r=e.setConfig,n=e.log,i=Object.keys(t("slots.enabled",{})),o=t("dfp.networkCode"),a=Object.fromEntries(i.map((function(e){return[e,"".concat(o,",").concat((0,tr.Z)(e).replace(/\//g,","))]})));n("setting display globalPlacementIds",a),r("prebid.globalPlacementIds.display",a);var s=t("players.chromeless.dmplayer.v3.dfpAccountCode","5765"),u=t("players.chromeless.dmplayer.v3.adUnitNameLevel1","dm.chromelessvideo"),c=t("players.chromeless.dmplayer.v3.adUnitNameLevel2","dm_dmros_ros"),l=t("players.editorial.v2.gpid.adUnitNameLevel1","dm.video"),d=t("players.editorial.v2.gpid.adUnitNameLevel2","dm_ros"),p=Object.fromEntries(["preroll","midroll"].map((function(e){return[e,"".concat(s,",").concat(u,",").concat(c,",").concat(e)]}))),f=Object.fromEntries(["preroll","midroll"].map((function(e){return[e,"".concat(s,",").concat(l,",").concat(d,",").concat(e)]})));n("setting video globalPlacementIds",p,f),r("prebid.globalPlacementIds.video",{jwplayer:p,video:f})},purposeIds:{gdpr:[1]},vendorIds:{gdpr:"N/A"}}),(0,Ye.fo)("permutive.rtd",{purposeIds:{gdpr:[1]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("permutive.rtd.acBidders",["appnexus","rubicon","ozone"]),o=r("permutive.rtd.maxSegs",500),a=r("permutive.rtd.auctionDelay",2e3),s={name:"permutive",params:{acBidders:i,maxSegs:o}},u=[a?SS(SS({},s),{},{waitForIt:!0}):s],c=a?{auctionDelay:a,dataProviders:u}:{dataProviders:u};t.once("prebid loaded",(function(e){n("setting realTimeData rtd",c),e.setConfig({realTimeData:c})}))},vendorIds:{gdpr:[361]}}),(0,Ye.fo)("prebid.sharedId",{purposeIds:{gdpr:[1,3,4]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),i={userSync:(0,Vn.LY)(t,{userIds:[{name:"sharedId",params:{syncTime:60},storage:{name:"sharedid",type:"cookie",expires:28}}],syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",i),e.setConfig(i)}))},vendorIds:{gdpr:"N/A"}}),(0,Ye.fo)("message-trace",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.broker,r=e.log,n=Object.entries(I.SP).filter((function(e){return ES(e,1)[0].startsWith("ads.debug.messageTrace")}));if(n.length){r("filters:",Object.fromEntries(n)),t.bus.logCall=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:""},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i(n,e,r)){var u,c=kS(n),l=c[0],d=c.slice(1),p=[["Message",jS],[e.id,a(2)],[t,a(1)],[l,a(0)],[o?s?"resuming":"intercepted by":"->",a(o?s?4:3:1)],[r.id,a(2)]].reduce((function(e,t){var r=ES(t,2),n=r[0],i=r[1];return e.text.length&&(e.text+="%c ",e.styles.push(RS)),e.text+="%c".concat(n),e.styles.push(i),e}),{text:"",styles:[]}),f=p.text,h=p.styles,g=d;try{g=(0,O.$Z)(d)}catch(e){}(u=console).log.apply(u,[f].concat(IS(h),[g]))}};var i=function(){return!1};n.forEach((function(e){var t,r=ES(e,2),n=r[0],i=r[1],o=kS(n.split(".").slice(3)),a=o[0],l=o.slice(1),d=new RegExp("^".concat(i.replace(/\*/g,".*"),"$"),"i");switch(a){case"path":u(l.join("."),i);break;case"slot":u("",i),u("pos",i),u("slot.pos",i);break;case"fulltext":t=new RegExp(i,"igm"),s((function(e){return t.test(JSON.stringify(e,MS))}));break;case"broker":c(d,d);break;case"sender":c(d);break;case"receiver":c(void 0,d)}}));var o="#FFEFD3/black #FFFEE4/black #D0ECEA/black #FBC3BC/black #C8FFBE/black".split(" ").map((function(e){return(0,w.$R)(["background-color","color"],e.split("/")).map((function(e){return e.join(": ")})).join("; ")})),a=function(e){return DS+o[e]}}else r("no message filter, bailing");function s(e){var t=i;i=function(n,i,o){var a;try{a=e(n,i,o)}catch(e){r.warn("Error while filtering message:",e)}return a||t(n,i,o)}}function u(e,t){s((function(r){return r.find((function(r){var n=e?Fo()(r,e):r;return n&&(void 0===t||new RegExp("^".concat(t.replace(/\*/g,".*"),"$")).test(n))}))}))}function c(e,t){s((function(r,n,i){return e&&e.test(n.id)||t&&t.test(i.id)}))}}});var DS="display: inline-block; padding: 1px 4px; border-radius: 3px;",jS=DS+"color: #fff; background: hsl(214deg 100% 55%); ",RS="color: black; background: none;";function MS(e,t){if(!(0,O.T$)(t))return t}function US(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}var LS={mediaTrust:"//scripts.webcontentassessor.com/scripts/bc585bfefc95184247617f742a451b7f4f99b8d4f250b51c2fabb00dee8e855d",ticio:"//d2tuygj4en2za2.cloudfront.net/script.js",confiant:"//confiant-integrations.global.ssl.fastly.net/pkity_Tu7korz-AKdcG26RZexkw/gpt_and_prebid/config.js"};function NS(){var e=new Date;return{watershed:String(e.getHours()>=21||e.getHours()+e.getMinutes()/60<5.5)}}(0,Ye.fo)("scanner",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){return(t=regeneratorRuntime.mark((function t(){var r,n,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.broker,n=e.getConfig,i=e.log,o=n("plugins.scanner.sync",!1),a=n("plugins.scanner.setupTimeout",2e3),s=n("plugins.scanner.provider"),u=n("plugins.scanner.scriptUrl",LS)[s],i("config:",{provider:s,sync:o,timeout:a}),u){t.next=9;break}return i.warn("unknown provider:",s),t.abrupt("return");case 9:return c=hr(u,{async:!o}),l={scanner:{provider:s}},r.register("call for page analytics",(function(){return l})),c.then((function(){i("provider script loaded"),l.scanner.enabled=!0})),t.next=15,(0,Xe.yq)(a,c).catch((function(){i.warn("provider script did not load fast enough, continue loading ads bundle..."),l.scanner.timeout=!0}));case 15:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){US(o,n,i,a,s,"next",e)}function s(e){US(o,n,i,a,s,"throw",e)}a(void 0)}))})();var t}}),(0,Ye.fo)("watershed",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker;t.emit("set page level targeting",NS()),t.register("get prebid tags",NS)}});var BS=function(e){var t=e.broker;__webpack_require__.g.adsbygoogle=__webpack_require__.g.adsbygoogle||[],t.on("adsByGoogle",(function(){t.invoke("load script","//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",null,{},(function(){return!0})).then((function(){return __webpack_require__.g.adsbygoogle.push({}),!0}))}))},qS=BS;function FS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}BS.vendorIds={gdpr:[755]},BS.purposeIds={gdpr:"N/A"};var VS=Symbol("private properties"),zS=function(){function e(t){var r=t.broker,n=t.pos;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this[VS]={};i.broker=r,i.pos=n,i.inView=!1}var t,r;return t=e,(r=[{key:"inView",get:function(){return this[VS].inView}},{key:"start",value:function(){var e=this[VS];e.slotVisibilityChangedSub=e.broker.on("slot visibility changed",e.pos,GS.bind(this)),e.adViewableSub=e.broker.on("ad viewable",e.pos,WS.bind(this))}},{key:"stop",value:function(){var e=this[VS];e.slotVisibilityChangedSub.cancel(),e.adViewableSub.cancel(),XS.call(this)}}])&&FS(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function WS(){if(!this.inView){var e=this[VS];e.inView=!0,e.broker.emit("ad active view",e.pos)}}function HS(){if(this.inView){var e=this[VS];e.inView=!1,XS.call(this),e.broker.emit("ad out of view",this[VS].pos)}}function GS(e){e.inViewPercentage<50?HS.call(this):this[VS].timer||KS.call(this)}function KS(){this[VS].timer=setTimeout(WS.bind(this),1e3)}function XS(){var e=this[VS];e.timer=clearTimeout(e.timer)}function YS(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function $S(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){YS(o,n,i,a,s,"next",e)}function s(e){YS(o,n,i,a,s,"throw",e)}a(void 0)}))}}function JS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var QS,ZS=function(){function e(t){var r=this,n=t.interval,i=void 0===n?3e4:n,o=t.broker,a=t.positions,s=t.ids,u=t.activeViewTracker,c=t.userInactivityMonitor,l=void 0===c?new R_({broker:o}):c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var d={};this.interval=i,d.broker=o,d.positions=a,d.ids=s,d.userInactivityMonitor=l,d.activeSub=d.broker.on("user active",eT.bind(this)),u&&(d.activeViewTracker=u,d.activeViewSub=d.broker.on("ad active view",d.positions[0],eT.bind(this)),d.activeViewTracker.start()),this.stopped=!1,this.priv=d,this.refresh=tT.bind(this),o.on("force ads refresh",$S(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.refresh(),e.next=3,o.until("ad rendered");case 3:E_("Ads force-refreshed");case 4:case"end":return e.stop()}}),e)})))),o.on("ad rendered",(function(e){d.positions.includes(e)&&d.timer&&r.start()}))}var t,r;return t=e,(r=[{key:"start",value:function(){var e=this.priv;e.timer=clearTimeout(e.timer),e.stopped=!1,e.remaining=e.remaining||this.interval,e.timer=setTimeout(this.refresh,e.remaining)}},{key:"stop",value:function(){var e=this.priv;e.activeSub.cancel(),e.activeViewTracker&&(e.activeViewSub.cancel(),e.activeViewTracker.stop()),e.timer=clearTimeout(e.timer),e.remaining=0,this.stopped=!0}}])&&JS(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function eT(){0===this.priv.remaining&&tT.call(this)}function tT(){var e=this.priv;if(E_("Refresh: ",{positions:e.positions.join(" "),ids:e.ids.join(" "),active:e.userInactivityMonitor.active,inView:e.activeViewTracker?e.activeViewTracker.inView:"N/A"}),!e.userInactivityMonitor.active||e.activeViewTracker&&!e.activeViewTracker.inView)return e.timer=clearTimeout(e.timer),void(e.remaining=0);E_("Refreshing",{positions:e.positions.join(" "),ids:e.ids.join(" ")}),e.broker.emit("prepare to refresh ads",e.positions),e.broker.emit("refresh ads",{ids:e.ids,reason:"periodic",positions:e.positions}),this.start()}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(r),!0).forEach((function(t){iT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oT(e){var t=e.broker,r=e.getConfig,n=r("adsRefresh.inactiveTime",1e4);t.on("ad rendered","billboard",(function(e){e.size&&e.size.every((function(e){return 1===e}))&&t.emit("stop refreshing ads")})),QS=new Promise((function(e){return t.once("ad viewable",(function(t){E_('Position "'.concat(t,'" viewed, refreshes will start immediately')),e()}))}));var i,o=(i=r("viewability.activityMonitor","mol"),E_('Using "'.concat(i,'" activity monitor')),"rta"===i?B_():new R_({broker:t,inactiveTime:n}));o.start();var a=aT(t,o),s=new Set,u=r("adsRefresh.interval",6e4),c=new Set(r("adsRefresh.slots",[])),l=r("adsRefresh.activeViewSlots",[]).reduce((function(e,t){var r=t.pos,n=t.interval;return nT(nT({},e),{},iT({},r,n))}),{});t.on("slot defined",(function(e){var r=e.pos,n=e.id,i=l[r];i?t.emit("setup ad refresh",{pos:r,id:n,interval:i}):c.has(r)&&t.emit("setup ad refresh",{pos:r,id:n,interval:u,activeViewSlot:!1})})),t.on("setup ad refresh",(function(e){var r=e.pos,n=e.id,i=e.interval,o=e.activeViewSlot,u=void 0===o||o;E_("Start refreshing:",{pos:r,id:n,interval:i,activeViewSlot:u});var c=u&&new zS({broker:t,pos:r}),l=a({pos:r,id:n,interval:i,activeViewTracker:c}).stop,d=function(){E_("Stop refreshing:",r),l()};s.add(d),t.once("destroy slot",n,(function(){E_("Slot destroyed:",n),s.delete(d),d()}))})),t.on("stop refreshing ads",(function(){E_("Received request to stop ads refreshing altogether"),o.stop(),s.forEach((function(e){return e()})),s.clear()}))}var aT=function(e,t){return function(r){var n,i=r.pos,o=r.id,a=r.interval,s=r.activeViewTracker,u=new ZS({broker:e,interval:a,positions:[i],ids:[o],userInactivityMonitor:t,activeViewTracker:s});return s?n=e.once("ad viewable",i,(function(){E_('Position "'.concat(i,'" viewed, scheduling its refresh')),u.start()})):QS.then((function(){u.start(),E_("Start adRefresher:",i)})),{stop:function(){n&&n.cancel(),u&&u.stop()}}}};function sT(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return uT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uT(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function uT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(r),!0).forEach((function(t){dT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pT(e){var t=e.broker,r=e.getConfig,n=e.log,i=function(e){var t=e("adsRefresh.interval",6e4);return{intervalRefreshSlots:e("adsRefresh.slots",[]).reduce((function(e,r){return lT(lT({},e),{},dT({},r,{pos:r,interval:t,type:"interval"}))}),{}),activeViewRefreshSlots:e("adsRefresh.activeViewSlots",[]).reduce((function(e,t){var r=t.pos,n=t.interval;return lT(lT({},e),{},dT({},r,{pos:r,interval:n,type:"activeView"}))}),{})}}(r),o=i.intervalRefreshSlots,a=i.activeViewRefreshSlots;if((0,O.xb)(o)&&(0,O.xb)(a))n("no slot refresh config provided, bailing");else{var s=new Promise((function(e){return t.once("ad viewable",(function(t){n('Position "'.concat(t,'" viewed, refreshes will start immediately')),e()}))})),u=r("adsRefresh.inactiveTime",1e4),c=new R_({broker:t,inactiveTime:u});c.start();var l={broker:t,userInactivityMonitor:c,log:n,slotViewedPromise:s},d=lT(lT({},o),a);t.on("ad rendered","billboard",(function(e){e.size&&e.size.every((function(e){return 1===e}))&&t.emit("stop refreshing ads")})),t.on("slot defined",(function(e){var t=e.pos,r=e.id;if(d[t]){n("slot defined, found refresher",d[t]),d[t].id=r;var i=function(e){var t=e.broker,r=e.userInactivityMonitor,n=e.pos,i=e.id,o=e.interval,a=e.type;E_("Start refreshing: ".concat(n,", id: ").concat(i,", with ").concat(a," refresh of ").concat(o,"ms"));var s="activeView"===a&&new zS({broker:t,pos:n});return new ZS({broker:t,interval:o,positions:[n],ids:[i],userInactivityMonitor:r,activeViewTracker:s})}(lT(lT({},l),d[t]));d[t].adRefresher=i,d[t].cancel=function(e){var t=e.broker,r=e.pos,n=e.type,i=e.adRefresher,o=e.slotViewedPromise;return"activeView"===n?t.once("ad viewable",r,a).cancel:(o.then(a),function(){});function a(){i.stopped?E_("adRefresher for ".concat(r," already stopped, and won't be started")):(i.start(),E_("Refreshing position ".concat(r)))}}(lT(lT({},l),d[t]))}})),t.on("pause refreshing ads",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(d),r=n.extend("pause"),i=sT(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;d[o]?d[o].adRefresher?d[o].adRefresher.stopped?r.warn('"'.concat(o,'" position has already stopped refreshing.')):(d[o].adRefresher.stop(),r.info('"'.concat(o,'" position refresh is paused'))):r.warn('"'.concat(o,'" position has not been setup to refresh yet.')):r.warn('"'.concat(o,'" position is not configured to refresh and is therefore probably not refreshing.'))}}catch(e){i.e(e)}finally{i.f()}})),t.on("resume refreshing ads",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(d),r=n.extend("resume"),i=sT(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;d[o]?d[o].adRefresher?d[o].adRefresher.stopped?(d[o].adRefresher.start(),r.info('"'.concat(o,'" position refresh is resumed'))):r.warn('"'.concat(o,"\" position isn't paused.")):r.warn('"'.concat(o,'" position has not been setup to refresh yet.')):r.warn('"'.concat(o,'" position is not configured to refresh.'))}}catch(e){i.e(e)}finally{i.f()}})),t.on("stop refreshing ads",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n("Received request to stop ads refreshing altogether",e);var t=e.positions,r=void 0===t?[]:t,i=e.activeView,a=void 0===i||i,s=a?d:o,u=r.length?(0,vn.e$)(s,r):Object.keys(s);u.forEach((function(e){var t=d[e],r=t.id,i=t.type;n("stopping ".concat(i," refresh for ").concat(e,", id: ").concat(r)),d[e].adRefresher&&d[e].adRefresher.stop(),d[e].cancel&&d[e].cancel(),delete d[e]})),(0,O.xb)(d)&&c.stop()}))}}function fT(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function hT(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){fT(o,n,i,a,s,"next",e)}function s(e){fT(o,n,i,a,s,"throw",e)}a(void 0)}))}}function gT(e){var t=e.broker,r=e.getConfig;DM.later("DOM_READY",hT(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r("pos.under-article.amazon.id"),document.getElementById("amzn-assoc-ad-".concat(n))){e.next=4;break}return e.abrupt("return");case 4:return i="".concat(r("pos.under-article.amazon.url"),"?MarketPlace=US&adInstanceId=").concat(n),e.prev=5,e.next=8,t.invoke("import script",i);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),DM.log("ads","Error loading ".concat(i)),DM.log("ads",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,10]])}))))}oT.ccpa={enabledIfDissent:!0},oT.gdpr={enabledIfDissent:!0},pT.ccpa={enabledIfDissent:!0},pT.gdpr={enabledIfDissent:!0},gT.vendorIds={gdpr:[793]},gT.purposeIds={gdpr:"N/A"};var mT=function(){};mT.pluginSetup=function(e){var t=e.broker,r=e.getConfig,n=e.log;if(r("arrowKeysScroll.userAgents",[".*"]).some((function(e){return navigator.userAgent.match(new RegExp(e))}))){(0,O.ns)(["DM"],__webpack_require__.g).arrowKeysScrollEnabled=!0;var i=r("arrowKeysScroll.stride",40);if(document.addEventListener("keydown",(function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.target!==document.body)){var t;switch(e.keyCode){case 38:t=-i;break;case 40:t=i}t&&(event.preventDefault(),event.stopPropagation(),window.scrollBy(0,t))}})),"scrollRestoration"in history){history.scrollRestoration="manual";var o=history.state;o&&"arrow-keys-scroll"===o.name&&(n("state stored:",o),t.once("dom loaded",(function(){0===window.pageYOffset?(n("restoring scroll offset to:",o.pageYOffset),window.scrollTo(window.pageXOffset,o.pageYOffset)):n("page scrolled to",window.pageYOffset,", ignoring scroll restore")}))),window.addEventListener("scroll",DM.molFeMiniLodash.debounce((function(){var e={name:"arrow-keys-scroll",version:1,pageYOffset:window.pageYOffset};history.replaceState(e,document.title)}),200),{passive:!0,capture:!0})}}},mT.isAdsFreeSupported=!0,mT.ccpa={enabledIfDissent:!0},mT.gdpr={enabledIfDissent:!0};var vT=mT,yT=function(e){var t=e.broker,r=(0,b.U2)("plugins.audienceProject.scriptSrc","https://sak.userreport.com/mol/launcher.js");t.invoke("import script",r,{id:"userreport-launcher-script"})},bT=yT;function _T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wT(e){var t=e.broker;t.on("slot defined",(function(e){if("billboard"===e.pos){t.intercept("ad rendered","billboard",(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),i=n[1],o=n[2];try{r(i,o)}finally{t()}}));var r=function(t,r){if(!r.isEmpty&&document.getElementById(e.parentId).parentNode){var n=document.getElementsByClassName("molads_billboard_on")[0];n&&(function(e){var t=document.querySelector("#".concat(e.slot.getSlotElementId()," iframe"));return t&&"90"===t.getAttribute("height")}(r)?n.classList.add("molads_ldr_billboard_on"):n.classList.remove("molads_ldr_billboard_on"))}}}}))}function ST(e){var t,r=e.broker,n=null!=(t=__webpack_require__.g.location.hostname.match(/(www[0-9]*?\.)?(.[^/:]+)/i))&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2].replace(/\./g,"_"):null;r.emit("set page level targeting",{location:n})}function TT(e){var t=e.broker,r=__webpack_require__.g.inlineModules;r&&r.split(/\s+/).includes("62032338")&&t.emit("set page level targeting",{fff:!0})}yT.vendorIds={gdpr:[394]},yT.purposeIds={gdpr:"N/A"},wT.ccpa={enabledIfDissent:!0},wT.gdpr={enabledIfDissent:!0},ST.ccpa={enabledIfDissent:!0},ST.gdpr={enabledIfDissent:!0},TT.ccpa={enabledIfDissent:!0},TT.gdpr={enabledIfDissent:!0};var IT=__webpack_require__(773),kT=__webpack_require__.n(IT);function AT(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function ET(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){AT(o,n,i,a,s,"next",e)}function s(e){AT(o,n,i,a,s,"throw",e)}a(void 0)}))}}function OT(e){var t,r=e.broker,n=e.log,i=new Promise((function(e){window.addEventListener("IrisContextAPI",(function(){n("Loaded"),t=window.IrisContextAPI({client_token:"W491AUI45FTTFWD"}),e(t)}))})),o=kT()(function(){var e=ET(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,i;case 4:return e.next=6,t.getVideoInfo(r);case 6:return o=e.sent,n("Info for video ".concat(r),o),e.abrupt("return",(0,O.ei)(o,["context","categories","iris_id"]));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());r.invoke("import script","https://ovp.iris.tv/libs/context/iris-context.min.js"),r.register("get IrisTV tags",o),r.register("get video tags",function(){var e=ET(regeneratorRuntime.mark((function e(r){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.videoId,t){e.next=4;break}return n("Video auction started but IrisTV still not available"),e.abrupt("return");case 4:if(i){e.next=7;break}return n("IrisTV loaded but no videoId provided"),e.abrupt("return");case 7:return n("Auction for video:",i),e.t0=O.ei,e.next=11,o(i);case 11:return e.t1=e.sent,e.t2=["context","categories"],a=(0,e.t0)(e.t1,e.t2),n("cust_params:",a),e.abrupt("return",{cust_params:a});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function CT(e){return CT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CT(e)}function PT(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function xT(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){PT(o,n,i,a,s,"next",e)}function s(e){PT(o,n,i,a,s,"throw",e)}a(void 0)}))}}OT.vendorIds={gdpr:"N/A"},OT.purposeIds={gdpr:[1]};var DT=function(e){var t=e.broker,r=(e.getConfig,[]);t.on("plugins enabled",(function(e){r.lengh&&t.emit("creative updated plugins",r)})),t.register("get plugins set by creative",xT(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)})))),__webpack_require__.g.addEventListener("message",function(){var e=xT(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"object"===CT(i=n.data)&&"managePlugins"===i.callId&&(r=i.plugins||[],__webpack_require__.g.postMessage("managePluginsReceived","*"),t.emit("creative updated plugins",r),I.SP.hasOwnProperty("setPlugin")&&console.log("message from creative ".concat(JSON.stringify(r))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};DT.ccpa={enabledIfDissent:!0},DT.gdpr={enabledIfDissent:!0};var jT=DT;function RT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UT=(0,k.x)("mvt");function LT(e){return LT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LT(e)}function NT(e){return function(e){if(Array.isArray(e))return BT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return BT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BT(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qT=(0,k.x)("mvt"),FT=__webpack_require__(2604);function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VT(Object(r),!0).forEach((function(t){WT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||KT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GT(e){return function(e){if(Array.isArray(e))return XT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||KT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KT(e,t){if(e){if("string"==typeof e)return XT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XT(e,t):void 0}}function XT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YT,$T="mol.ads.mvt.tests",JT="probabilityDraw",QT={},ZT="";function eI(e){var t=e.broker,r=function(){return[].concat(GT(ZT.split(",")),GT(function(){try{return(__webpack_require__.g.molMVTest||"").split(",").map((function(e){return e.trim()}))}catch(e){return[]}}())).filter((function(e){return e})).join(",")};t.register("call for page analytics",(function(){return{mvt:r()}})),t.emit("send with rta page unload",{mvt:r().split("=").join("_")}),t.emit("set page level targeting",{mvt:r().split("=").join("_").split(",")})}var tI=function(e){var t=HT(e,2);return zT({name:t[0]},t[1])},rI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"P0D";try{return 1e3*(0,FT.my)((0,FT.Qc)(e))||NaN}catch(t){return console.error("Error parsing duration ".concat(e),t),NaN}},nI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/^(-?[0-9.]+)\s*(%?)$/);if(t){var r=parseFloat(t[1]);return"%"===t[2]&&(r/=100),r}return 0},iI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat($T,".").concat(e.name,".").concat(JT),n=e.size||e.scenarios.reduce((function(e,t){var r=t.size;return e+nI(String(r))}),0),i=aI(Math.min(Math.max(0,nI(String(n))),1)),o=t[r];isNaN(o)&&(o=Math.random(),t[r]=o);var a=o<i;return YT('Test "'.concat(e.name,'" probability draw: ').concat(o,", test population segment size: ").concat(100*i,"%. Will run: ").concat(a)),a},oI={};function aI(e){return Math.round(1e4*e)/1e4}eI.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.log,i=e.ownName;(YT=n)("Initialising MVT plugin");var o=Object.entries(t("mvt.tests",[])).map(tI).filter((function(e){return e.scenarios})).map((function(e){return zT(zT({},e),{},{scenarios:Object.entries(e.scenarios).map(tI)})})),a=o.map((function(e){var t=Date.parse(e.start)||Date.now(),r=rI(e.duration)||rI("P100Y"),n=r*(nI(e.enrolment)||nI("100%"));YT('Test "'.concat(e.name,'"')),YT("                  Beginning: ".concat(new Date(t))),YT("              Enrolment end: ".concat(new Date(t+n)," - no new 'user' scoped tests after this")),YT("                    Run end: ".concat(new Date(t+r)," duration: ").concat(r,"ms (~").concat(Math.round(r/864e5)," days)")),YT("  'user' scoped tests ready: ".concat(new Date(t+r+n)));var i=Date.now(),o="";if(t<=i&&i<t+r){var a=e.scope||"page";YT('  Test "'.concat(e.name,'" scope: ').concat(a));var s="page"===a?QT:"session"===a?sessionStorage:localStorage;o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scenarios:[]},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat($T,".").concat(t.name,".selected"),i=r[n],o=t.scenarios.find((function(e){return e.name===i}));if(iI(t,r)){if(o)e=o;else{var a=t.scenarios.filter((function(e){return e.size}));if(t.scenarios.length===a.length){var s=Math.random(),u=0;e=t.scenarios.find((function(e){var t=e.size;return aI(u+=t)>s}))}else a.length&&YT.warn('Test "'.concat(t.name,'" has some scenarios with size and some without, falling back to global scope size')),e=t.scenarios[Math.floor(Math.random()*t.scenarios.length)];r[n]=e.name}return oI[t.name]=e.name,e}}(e,s),o&&YT('From test "'.concat(e.name,'" selecting scenario'),o),!s["".concat($T,".").concat(e.name,".").concat(JT)]&&t+n<=i&&(YT('  Outside of enrolment window for test "'.concat(e.name,'". Skipping.')),o="")}else{YT('  Removing test "'.concat(e.name,"\" as it's outside of set duration."));for(var u=0,c=[QT,localStorage,sessionStorage];u<c.length;u++){var l=c[u];for(var d in l)0===d.indexOf("mol.ads.mvt.tests.".concat(e.name))&&delete l[d]}}return o})).filter((function(e){return e}));YT("Scenarios summary: ",a),function(e,t,r,n){var i,o=e("plugins.enabled",[]),a=[],s=[];r.forEach((function(e){Array.isArray(e.plugins)?(qT('From scenario "'.concat(e.name,'", adding plugins:'),e.plugins),a=[].concat(NT(a),NT(e.plugins))):"object"===LT(e.plugins)&&(Array.isArray(e.plugins.add)&&(qT('From scenario "'.concat(e.name,'", adding plugins:'),e.plugins.add),a=[].concat(NT(a),NT(e.plugins.add))),Array.isArray(e.plugins.remove)&&(qT('From scenario "'.concat(e.name,'", removing plugins:'),e.plugins.remove),s=[].concat(NT(s),NT(e.plugins.remove))))}));var u=o.indexOf(n)+1;(i=o).splice.apply(i,[u,0].concat(NT(a)));var c=new Set(s);o=o.filter((function(e){return!c.has(e)})),t("plugins.enabled",NT(new Set(o)))}(t,r,a,i),function(e,t,r){var n=function(e){return e.map((function(e){return UT('From scenario "'.concat(e.name,'", loading config:'),e.config||{}),e.config||[]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e})).reduce((function(e,t){return Object.entries(t).forEach((function(t){var r=RT(t,2),n=r[0],i=r[1];e[n]=i})),e}),{})}(r);Object.entries(n).forEach((function(e){var r=RT(e,2),n=r[0],i=r[1];t(n,i)}))}(0,r,a),ZT=o.map((function(e){return[e.name,oI[e.name]]})).filter((function(e){var t=HT(e,2);return t[0],t[1]})).map((function(e){return e.join("=")})).join(",")},eI.isAdsFreeSupported=!0,eI.ccpa={enabledIfDissent:!0},eI.gdpr={enabledIfDissent:!0};var sI=function(e){var t=e.broker,r=(0,b.U2)("plugins.nativo.scriptSrc","//s.ntv.io/serve/load.js");t.invoke("import script",r)},uI=sI;function cI(e,t){if(e){if("string"==typeof e)return lI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lI(e,t):void 0}}function lI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dI(e){e.broker,e.getConfig}function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fI(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("plugins.nonPersonalizedAds.sendNPA",!0),o=r("plugins.nonPersonalizedAds.sendIllegalAttempts",!0),a={npa:!1,npaIllegalAttempts:[]},s=function(e){t.once("gpt loaded",(function(){googletag.pubads().setRequestNonPersonalizedAds(e)}))};t.once("gpt loaded",(function(){var e=googletag.pubads();s=e.setRequestNonPersonalizedAds.bind(e),e.setRequestNonPersonalizedAds=function(e){var t=new Error("Illegal attempt to call setRequestNonPersonalizedAds(".concat(JSON.stringify(e),")"));a.npaIllegalAttempts.push(t.stack),n.warn(t)}})),t.register("call for page analytics",(function(){var e={};return i&&(e.npa=a.npa),o&&(e.npaIllegalAttempts=function(e){return function(e){if(Array.isArray(e))return pI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pI(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.npaIllegalAttempts)),a.npaIllegalAttempts=[],e})),t.on("set non personalized ads",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a.npa=!!e,s(e)}))}sI.vendorIds={gdpr:[263]},sI.purposeIds={gdpr:"N/A"},dI.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=e.broker;if(__webpack_require__.g.PageCriteria&&__webpack_require__.g.PageCriteria.nonAdservable){var i=new Set(t("nonAdServable.plugins.whitelist",[]));r("plugins.enabled",t("plugins.enabled").filter((function(e){return i.has(e)}))),n.intercept("slot defined",(function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||cI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),n=(r[0],r[1]),i=r[2];"billboard"===n.pos?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i)})),window.DM&&window.DM.molFeComponents&&"function"==typeof window.DM.molFeComponents.setConfig&&window.DM.molFeComponents.setConfig("mol-fe-videoplayer",{plugins:{flyout:{enabled:!1,forceFlyout:{enabled:!1}}}}),function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:"textContent"in t?t.textContent=e:t.innerText=e,document.getElementsByTagName("head")[0].appendChild(t)}("#mini-carousel-wrapper {display: none;}"),n.on("dom ready",(function(){return function(e){return function(e){if(Array.isArray(e))return lI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelectorAll(".mol-ads-label-container")).forEach((function(e){return e.parentNode.removeChild(e)}))}))}},dI.ccpa={enabledIfDissent:!0},dI.gdpr={enabledIfDissent:!0},fI.ccpa={enabledIfDissent:!0},fI.gdpr={enabledIfDissent:!0};var hI=(0,k.x)("page-visibility");function gI(e){var t=e.broker;t.register("is page visible?",(function(){return new Promise((function(e,t){return e((r=document.hasFocus(),hI("isPageVisible",r),r));var r}))})),__webpack_require__.g.top.addEventListener("blur",(function(){setTimeout((function(){hI("Blur event - page hidden"),t.emit("page hidden")}))})),__webpack_require__.g.top.addEventListener("focus",(function(){setTimeout((function(){hI("Focus event - page visible"),t.emit("page visible")}))}))}gI.isAdsFreeSupported=!0,gI.ccpa={enabledIfDissent:!0},gI.gdpr={enabledIfDissent:!0};var mI="mol.ads.paidSession",vI=function(e){return localStorage.setItem(mI,JSON.stringify(e))};function yI(e){var t=e.broker,r=e.getConfig,n=JSON.parse(localStorage.getItem(mI))||{},i="none",o="none",a=1e3*r("plugins.paidSessions.maxIntervalInSeconds",900);n&&n.lastUpdate&&n.lastUpdate>=Date.now()-a?(n.lastUpdate=Date.now(),vI(n),o=n.utm_source,i=n.session_page_ID):I.SP.utm_source?(o=I.SP.utm_source,i=PageCriteria.articleId,vI({lastUpdate:Date.now(),utm_source:o,session_page_ID:i})):localStorage.removeItem(mI);var s={session_page_ID:i,utm_source:o};t.emit("set page level targeting",s),t.register("call for page analytics",(function(){return s}))}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bI(Object(r),!0).forEach((function(t){wI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function II(e){var t=e.broker,r=e.getConfig,n={auctions:[],auctionByPos:{},started:{},queue:[],bids:{},kv:{},gkv:{}},i=function(e){return n.auctionByPos[e]||n.auctionByPos[e.substr(0,e.lastIndexOf("-"))]},o=function(e,t){if(i(e)){var r=i(e);r.slots[e]||(r.slots[e]={}),r.slots[e][t]||(r.slots[e][t]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:__webpack_require__.g.adverts.startTime;return parseFloat(((Date.now()-e)/1e3).toFixed(1))}())}},a=function e(t){return Array.isArray(t)?1===t.length?e(t[0]):t.join(", "):"boolean"==typeof t||isNaN(t)?t:parseFloat(t)},s=function(e){return Object.keys(e).reduce((function(t,r){return Object.keys(e[r]).forEach((function(n){t[n]=t[n]||{},t[n][r]=e[r][n]})),t}),{})},u=function(e){console.group("Auction Performance"),console.table(s(Object.fromEntries(Object.entries(e.streamAuctions).map((function(e){var t=SI(e,2),r=t[0],n=t[1].endpoints;return[r,Object.fromEntries(Object.entries(n).map((function(e){var t=SI(e,2),r=t[0],n=t[1];return[r,n>1e3?"ready":n]})))]}))))),console.groupEnd()},c=function(e){return(!n.currentAuction||n.currentAuction.lastPosTime<Date.now()-5e3)&&(n.currentAuction={id:n.auctions.length,slots:{},ads:{},kv:{},bids:{},streamAuctions:{}},n.auctions.push(n.currentAuction)),n.currentAuction.lastPosTime=Date.now(),n.currentAuction.streamAuctions[e]||(n.currentAuction.streamAuctions[e]={start:0,endpoints:{}}),n.auctionByPos[e]=n.currentAuction};t.on("get tags",(function(e){var t=e.slot.pos;c(t).streamAuctions[t].start=Date.now()})),t.on("get video tags",(function(e){var t=e.slot.pos;c(t)})),t.on("ad rendered",(function(e,t){o(e,"ad rendered");for(var r=e,n=0,a=i(e);a.ads[r];)n++,r="".concat(e," ").concat(n);var s=a.ads[r]={};s.creativeId=t.creativeId||t.sourceAgnosticCreativeId,s.lineItem=t.lineItemId||t.sourceAgnosticLineItemId,s.adUnit=t.slot.molAd.adUnit,t.sourceAgnosticLineItemId&&t.creativeId!==t.sourceAgnosticCreativeId&&(s["reservation or backfil"]=!0)})),t.on("headerbidder winner",(function(e,t){var r=i(e);r&&r.ads[e]&&(r.ads[e]["headerbidder winner"]=t)})),t.on("ad viewable",(function(e,t){o(e,"ad viewable")})),t.on("ad loaded",(function(e,t){o(t,"ad loaded")})),t.on("slot defined",(function(e){c(e.pos),o(e.pos,"slot defined")})),t.on("start bidding",(function(e){c(e),o(e,"start bidding"),n.started[e]=Date.now()})),t.on("ready to request",(function(e){return o(e,"ready to request")})),t.on("ad requested",(function(e){return o(e,"ad requested")})),t.on("bidding ended",(function(e){return o(e,"bidding ended")})),t.on("bids requested",(function(e){e.positions.forEach((function(e){c(e),o(e,"prebid called")}))})),t.on("bid",(function(e,t){var r=t.bidder,n=t.cpm,i=c(e),o=i.bids[e]=i.bids[e]||{},a=n/100;(!o[r]||o[r]<a)&&(o[r]=a)})),t.on("set key value",(function(e,t,r){var n=c(e);(n.kv[e]=n.kv[e]||{})[a(t)]=a(r)}));var l,d,p=function(e){return c(e).streamAuctions[e]},f=function(e,t){e.endpoints[t]=Math.round((Date.now()-e.start)/10)/100};t.on("auction event",(function(e,t,r){var n=p(e);if(!n.ended)if("interested endpoint"===t){0===n.start&&(n.start=Date.now(),Object.keys(n.endpoints).forEach((function(e){var t=n.endpoints[e];Number.isFinite(t)&&(n.endpoints[e]=Math.round((1e3*t-n.start)/10)/100)})));var i=(r.endpoints||[]).filter((function(e){return void 0===n.endpoints[e]})),o=Object.fromEntries(i.map((function(e){return[e,"pending"]})));n.endpoints=_I(_I({},n.endpoints),o)}else"stream done"===t?f(n,r.endpoint):"end"===t&&(n.ended=!0,Object.entries(n.endpoints).forEach((function(e){var t=SI(e,2),r=t[0];"string"==typeof t[1]&&(n.endpoints[r]="timed out")})))})),t.on("plugin done",(function(e,t){var r=p(e);r.ended||f(r,t)})),__webpack_require__.g.openAdsControlPanel=function(){t.emit("load script",r("controlPanel.url","http://scripts.dailymail.co.uk/static/mol-adverts/control-panel/0.0.3/mol-ads-control-panel.js"),null,{},(function(){return!0}))},l="",d="38384040373937396665",document.addEventListener("keydown",(function(e){var t=e.keyCode;(l+=""+t)===d&&__webpack_require__.g.openAdsControlPanel(),d.indexOf(l)&&(l=""+t)})),__webpack_require__.g.adverts.performance={state:n,print:function(){n.auctions.forEach((function(e){console.group("Auction ".concat(e.id)),console.group("Slots performance"),console.table(e.slots),console.table(e.ads),console.groupEnd(),console.group("Key+values"),console.table(s(e.kv)),console.groupEnd(),console.group("Bids"),console.table(e.bids),console.groupEnd(),u(e),console.groupEnd()})),console.group("Page level Key+values"),console.table(n.gkv),console.groupEnd()},printAuctionPerformance:function(){n.auctions.forEach((function(e){console.group("Auction ".concat(e.id)),u(e),console.groupEnd()}))}}}function kI(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function AI(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){kI(o,n,i,a,s,"next",e)}function s(e){kI(o,n,i,a,s,"throw",e)}a(void 0)}))}}function EI(){return OI.apply(this,arguments)}function OI(){return OI=AI(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,b.U2)("plugins.pixelSync.byCMPVendor",{}),r=Object.keys(t),e.next=4,CI(r);case 4:for(n=e.sent,i=0,o=r;i<o.length;i++)a=o[i],n(a,t[a]);case 6:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}yI.ccpa={enabledIfDissent:!0},yI.gdpr={enabledIfDissent:!0},II.ccpa={enabledIfDissent:!0},II.gdpr={enabledIfDissent:!0};var CI=function(){var e=AI(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la("getVendorConsents",t);case 2:return r=e.sent,n=r.vendorConsents,e.abrupt("return",(function(e,t){return n[e]&&PI(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),PI=function(e){(new Image).src=e};EI.vendorIds={gdpr:!1};var xI=__webpack_require__(5529),DI=__webpack_require__(394),jI=__webpack_require__.n(DI);function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RI(Object(r),!0).forEach((function(t){UI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var NI=function(){function e(t){var r=t.broker;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n={};this.broker=r,n.auctions={},n.pendingStreams={},this.priv=n}var t,r;return t=e,r=[{key:"_createPendingStreamForPosition",value:function(e){var t=this.broker.createReadObjectStream();return this.priv.pendingStreams[e]=t,t}},{key:"_createAuctionForPositions",value:function(e,t){var r=this,n=(0,Nf.Z)(),i=e.reduce((function(e,n){var i=t?r._createPendingStreamForPosition(n):r.broker.createReadObjectStream();return i.bids=[],MI(MI({},e),{},UI({},n,{stream:i}))}),{});return this.priv.auctions[n]=i,{auctionId:n,positions:i}}},{key:"createAuctionWithPendingStreams",value:function(e){return this._createAuctionForPositions(e,!0)}},{key:"resolveStreamForPosition",value:function(e){var t={};if(this.priv.pendingStreams[e])t.stream=this.priv.pendingStreams[e],delete this.priv.pendingStreams[e];else{var r=this._createAuctionForPositions([e],!1);t={auctionId:r.auctionId,stream:r.positions[e].stream}}return t}},{key:"createAuctionForAdUnitCode",value:function(e,t,r,n){var i=t||(0,Nf.Z)(),o=this.broker.createReadObjectStream();o.bids=[];var a={stream:o,offset:r,platform:n};return this.priv.auctions[i]=UI({},e,a),{auctionId:i,positions:UI({},e,a)}}},{key:"getStreamForAdUnitCode",value:function(e,t){return this.priv.auctions[e]&&this.priv.auctions[e][t]||{}}},{key:"dispose",value:function(e){var t=this.priv.auctions[e];t?(Object.values(t).forEach((function(e){var t=e.stream;t.push(null),t.ended=!0})),delete this.priv.auctions[e]):console.error("Unabled to find auctionId: ".concat(e))}}],r&&LI(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BI(Object(r),!0).forEach((function(t){FI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WI(e,t,r){return e.bidderSettings.standard.adserverTargeting.filter((function(e){return void 0===t[e.key]})).map((function(e){return[e.key,e.val(r)]})).filter((function(e){var t=VI(e,2);return t[0],void 0!==t[1]})).forEach((function(e){var r=VI(e,2),n=r[0],i=r[1];return t[n]=i})),t}function HI(e,t){return Object.keys(t).reduce((function(r,n){return"hb_bidder"===n||(r["".concat(n,"_").concat(e).substring(0,20)]=t[n]),r}),{})}var GI=function(e){return JSON.parse(JSON.stringify(e))};function KI(e,t,r,n){return ol.UI(e,(function(e){if(e.length){var i=e[0],o=i.bidderCode,a=i.cpm,s=i.cachedBid,u=e[0].tags;return{auctionId:r,pos:t,offset:n,type:"bid",cpm:a,bidderCode:o,cachedBid:s,tags:{cust_params:qI({},u)}}}return{}}))}var XI=__webpack_require__(1468),YI=__webpack_require__.n(XI);function $I(e){return $I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$I(e)}function JI(e){return function(e){if(Array.isArray(e))return nk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QI(Object(r),!0).forEach((function(t){ek(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ek(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||rk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rk(e,t){if(e){if("string"==typeof e)return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nk(e,t):void 0}}function nk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ik(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function ok(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ik(o,n,i,a,s,"next",e)}function s(e){ik(o,n,i,a,s,"throw",e)}a(void 0)}))}}var ak=(0,k.x)("prebid"),sk=function(e,t){return(0,w.DZ)((function(e){var r=t[e.code];return!!r&&!(0,xI.lv)(r)&&r.earlyBidding}),(function(e){return e.code}),e||[])};function uk(e,t){var r=e[0]*e[1],n=t[0]*t[1],i=e[0]<t[0]?1:e[0]>t[0]?-1:0;return r<n?1:r>n?-1:i}var ck=function(e,t){var r=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]),n=t.filter((function(t){return r.has(t.code)?(t.bids&&t.bids.length&&(e[t.code]=e[t.code]||[],e[t.code].push(t)),!1):t.bids&&t.bids.length}));return n},lk=function(e,t,r,n){t.onEvent("bidderDone",(function(t){var r=t.bidderCode,n=t.bids;new Set(n.map((function(e){return e.adUnitCode}))).forEach((function(t){return e.emit("plugin done",t,r)}))})),t.onEvent("bidResponse",(function(i){ak("auctionId: ".concat(i.auctionId,", bidResponse, adUnitCode: ").concat(i.adUnitCode,", bidderCode: ").concat(i.bidderCode,", adId: ").concat(i.adId,", cpm: ").concat(i.cpm));var o=r.getStreamForAdUnitCode(i.auctionId,i.adUnitCode),a=o.stream,s=o.offset,u=o.platform,c=Math.round(100*i.cpm),l=n[i.adUnitCode]&&n[i.adUnitCode][i.bidderCode]&&n[i.adUnitCode][i.bidderCode].requestSizes;e.emit("bid",i.adUnitCode,{bidder:i.bidderCode,cpm:c,offset:s,platform:u,requestSizes:l}),ak("bid requestSize",i.adUnitCode,i.bidderCode,l),a?a.ended?ak("auctionId: ".concat(i.auctionId,", streamEnded, adUnitCode: ").concat(i.adUnitCode,", bidder: ").concat(i.bidderCode,", adId: ").concat(i.adId,", bailing")):function(e){var t=e.stream,r=e.log,n=e.bid,i=e.broker,o=e.pbjs;if(!(t.bids&&t.bids[n.bidderCode]&&(r("auctionId: ".concat(n.auctionId,", additional bid, adUnitCode: ").concat(n.adUnitCode,", ").concat(n.bidderCode,", cpm: ").concat(n.cpm,", slotSize: ").concat(n.size)),t.bids[n.bidderCode].cpm>=n.cpm))){var a;if(["video","jwplayer"].includes(n.adUnitCode))r("auctionId: ".concat(n.auctionId,", bid caching not supported for slot: ").concat(n.adUnitCode)),t.highestBidder=t.highestBidder&&n.cpm<=t.highestBidder.cpm?t.highestBidder:n,a=t.highestBidder;else{var s=o.getHighestUnusedBidResponseForAdUnitCode(n.adUnitCode);r("auctionId: ".concat(n.auctionId,", bidResponse, adUnitCode: ").concat(n.adUnitCode,", highestCachedBid: ").concat(s&&s.bidderCode,", adId: ").concat(s&&s.adId,", cpm: ").concat(s&&s.cpm,", from auctionId: ").concat(s.auctionId)),a=s&&!(0,O.xb)(s)&&s.cpm>=n.cpm?s:n,r("auctionId: ".concat(n.auctionId,", bidResponse, adUnitCode: ").concat(n.adUnitCode,", selected bidder isCached: ").concat(n.auctionId!==a.auctionId,",  bidderCode: ").concat(a.bidderCode,", adId: ").concat(a.adId,", cpm: ").concat(a.cpm))}!function(e){var t=e.broker,r=e.log,n=e.pbjs,i=e.stream,o=e.bidResponse,a=e.selectedBid;e.requestSizes,i.bids=i.bids||{},i.cachedBid=i.cachedBid||{},i.bids[o.bidderCode]=i.bids[o.bidderCode]||{};var s,u=WI(n,GI(a.adserverTargeting),a),c=HI(o.bidderCode,WI(n,GI(o.adserverTargeting),o)),l=a.auctionId!==o.auctionId?1:0;if(void 0===i.highestCpm&&(i.highestCpm=0),i.highestCpm=o.cpm>i.highestCpm?o.cpm:i.highestCpm,u.bc=l,u.bc_diff=(s=l?a.cpm-i.highestCpm:0,Math.round(100*s)/100),r("auctionId: ".concat(o.auctionId,", streamBid, adUnitCode: ").concat(a.adUnitCode,", bidder: ").concat(a.bidderCode,", adId: ").concat(a.adId,", cpm: ").concat(a.cpm,", from auctionId: ").concat(a.auctionId,", cachedBidDiff: ").concat(u.bc_diff)),i.bids[o.bidderCode].bidderTargeting=c,i.bids[o.bidderCode].cpm=o.cpm,l&&!i.cachedBid.hasUsedCachedBid){var d=HI(a.bidderCode,WI(n,GI(a.adserverTargeting),a));i.cachedBid={hasUsedCachedBid:!0,targeting:d,bidderCode:a.bidderCode};var p={cached:!0,bidder:a.bidderCode,cpm:Math.round(100*a.cpm)};t.emit("bid",a.adUnitCode,p)}else!l&&i.cachedBid.hasUsedCachedBid?(i.bids[i.cachedBid.bidderCode]?i.cachedBid.targeting=i.bids[i.cachedBid.bidderCode].bidderTargeting:i.cachedBid.targeting=i.cachedBid.targeting?Object.fromEntries(Object.keys(i.cachedBid.targeting).map((function(e){return[e,void 0]}))):{},i.cachedBid.hasUsedCachedBid=!1):l||(i.cachedBid.targeting={});var f=qI(qI(qI({},u),c),i.cachedBid.targeting),h={type:"bid",pos:o.adUnitCode,cpm:Math.round(100*o.cpm)/100,bidderCode:o.bidderCode,tags:f};l&&(h.cachedBid={bidderCode:a.bidderCode,cpm:Math.round(100*a.cpm)/100}),i.push([h])}({broker:i,log:r,pbjs:o,stream:t,bidResponse:n,selectedBid:a})}}({broker:e,log:ak,pbjs:t,stream:a,bid:i,requestSizes:l}):console.error("[PREBID] auctionId: ".concat(i.auctionId,",  Unknown stream for ").concat(i.adUnitCode,", bidder: ").concat(i.bidderCode))}))},dk=function(){var e=ok(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,S,T,k,A,C,P,x,D,j,R,M,U,L,N,B,q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q=function(){return q=ok(regeneratorRuntime.mark((function e(t){var n,o,a,s,u,c,l,d,p,f,g,m,v,y,b,_,w,S,T,I,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.platform,o=t.offset,a=void 0===o?0:o,s=t.timeout,u=t.slot,c=t.autoplay,l=t.videoId,d=t.auctionId,e.next=3,R;case 3:return p=U(u.pos),f=p.code,g=p.mediaTypes,m=u.pos||"video",e.next=8,r.invokeAll("provide video adUnits",m,c,a,l);case 8:return v=e.sent.filter((function(e){return e})),y=v.reduce((function(e,t){if(t.pbjsConfig&&(e.pbjsConfig=E()({},e.pbjsConfig,t.pbjsConfig)),t.mediaTypes){var r=t.bids,n=t.code,i=t.mediaTypes;e.adUnits.push({bids:r,code:n,mediaTypes:i})}else t.bids&&(e.bids=[].concat(JI(e.bids),JI(t.bids)));return e}),{adUnits:[],bids:[],pbjsConfig:{}}),b=y.adUnits,_=y.bids,w=y.pbjsConfig,S=[].concat(JI(b),[{bids:_,code:f,mediaTypes:g}]).map((function(e){return N(h,e,a)})),ak("video auctionId: ".concat(d,", adUnit config"),S,w),S.length&&((0,O.xb)(w)||i.setConfig(w),I=k(S,s,d,a,n),T=I.stream,r.emit("prebid video auction started",d,m,a)),A=S.map((function(e){return e.bids})).flat().map((function(e){return e.bidder})),ak("Interested endpoints:",A),r.emit("auction event",m,"interested endpoint",{endpoints:A}),e.abrupt("return",KI(T,m,d,a));case 17:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)},B=function(e){return q.apply(this,arguments)},r=t.broker,n=t.getConfig,o=n("slots.enabled",{}),a=r.invokeAll("prebid prerequisites",{timeout:n("plugins.prebid.prequisiteTimeout",3e3)}),s=new Promise(function(){var e=ok(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:n=__webpack_require__(8814),i=n.default,r.emit("prebid loaded",i),t(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=new NI({broker:r}),c=new Set,l={},d=n("slotDescriptions.initial",{}),p=(0,O.ei)(d,Object.keys(o)),f=n("prebid.globalPlacementIds.display",{}),h=n("prebid.globalPlacementIds.video",{}),g=function(e){return e.forEach((function(e){return c.add(e)}))},m={},v={},y=function(e){var t={},r=e.filter((function(e){var t=e&&"code"in e;return t||ak("ignoring invalid adUnit"),t}));r.forEach((function(e){var r=e.bids,n=e.code,i=e.sizes.map((function(e){var t=tk(e,2),r=t[0],n=t[1];return"".concat(r,"x").concat(n)}));(0,w.jj)(r.map((function(e){return e.bidder}))).forEach((function(e){t[n]=t[n]||{},t[n][e]=t[n][e]||{};var r=t[n][e].requestSizes||[];r.push(i),t[n][e]={requestSizes:(0,w.jj)(r)}}))})),Object.entries(t).forEach((function(e){var t=tk(e,2),r=t[0],n=t[1],i=Object.entries(n).reduce((function(e,t){var r=tk(t,2),n=r[0],i=r[1].requestSizes.flat();return ZI(ZI({},e),{},ek({},n,{requestSizes:i}))}),{});v[r]=i})),ak("addAdUnits",r),i.addAdUnits(r),g(r.map((function(e){return e.code}))),r.forEach((function(e){var t=e.code,r=e.bids;m[t]=JI(new Set([].concat(JI(m[t]||[]),JI(r.map((function(e){return e.bidder}))))))}))},b=n("auction.priceGranularity",{buckets:[{min:0,max:20,increment:.01},{min:20,max:50,increment:.1}]}),r.register("prebid config async update",function(){var e=ok(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:i.setConfig(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=function(e,t,r){return function(n){ak("auctionId:",e,", ",t,"auctionEnded, bids:",Object.keys(n||{}).length);try{r&&r()}finally{u.dispose(e)}}},S=function(e,t){ak("auctionId:",e,", bidOnAdUnitCodes: ",t),i.requestBids({adUnitCodes:t,auctionId:e,bidsBackHandler:_(e,t)}),r.emit("bids requested",{positions:t})},T=n("prebid.videoAuctionOffset",500),k=function(e,t,n,o,a){var s=e[0].code,c=u.createAuctionForAdUnitCode(s,n,o,a);ak("auctionId:",c.auctionId,", adUnit: ",e),r.emit("bids requested",{positions:[s]});var l=t-T;return i.requestBids({adUnits:e,auctionId:c.auctionId,timeout:l,bidsBackHandler:_(c.auctionId,[s],(function(){return r.emit("prebid video auction ended",[s],c.auctionId)}))}),{stream:c.positions[s].stream,auctionId:c.auctionId}},A={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){switch(b){case"auto":return e.pbAg;case"dense":return e.pbDg;case"high":return e.pbHg;case"low":return e.pbLg;case"medium":return e.pbMg;default:return"object"===$I(b)?e.pbCg:e.pbHg}}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_source",val:function(e){return e.source}},{key:"hb_format",val:function(e){return e.mediaType}},{key:"hb_skin",val:function(e){return"inskin"===e.bidderCode}},{key:"hb_cache_id",val:function(e){return e.videoCacheKey}},{key:"hb_uuid",val:function(e){return e.videoCacheKey}},{key:"fb_bidid",val:function(e){return e.fb_bidid}}]}},r.on("plugins enabled",function(){var e=ok(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invokeAll("provide prebid adUnits");case 2:return n=e.sent.flat(),e.next=5,s;case 5:return e.next=7,r.invokeChainMutable("prebid reduce bidderSettings",A);case 7:return i.bidderSettings=e.sent,e.next=10,r.invokeAll("provide bidder alias");case 10:e.sent.forEach((function(e){var t=e.adapterName,r=e.aliasedName;i.aliasBidder(t,r)})),r.emit("configure and start prebid",t,n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=function(e){return JI(new Set([].concat(JI(e.banner&&e.banner.sizes||[]),JI(e.video&&[e.video.playerSize]||[])))).sort(uk)},P=function(e){return Object.values(e.reduce((function(e,t){var r=t.code,n=t.bids,i=t.mediaTypes,o=r+JSON.stringify(i),a=e[o]=e[o]||{code:r,mediaTypes:i,bids:[],sizes:C(i)};return a.bids=[].concat(JI(a.bids),JI(n)),e}),{}))},x=function(e,t){var r=t.reduce((function(t,r){return e.has(r.bids[0].bidder)?t.s2sAdUnits.push(r):t.headerAdUnits.push(r),t}),{s2sAdUnits:[],headerAdUnits:[]}),n=r.s2sAdUnits,i=r.headerAdUnits;ak("S2S AdUnits",n);var o=n.reduce((function(e,t){var r=t.code,n=t.bids,i=t.mediaTypes,o=[].concat(JI(e[r]&&e[r].bids||[]),JI(n)),a=(0,w.jj)([].concat(JI(e[r]&&e[r].mediaTypes.banner.sizes||[]),JI(i.banner.sizes.map((function(e){return e.toString()})))));return ZI(ZI({},e),ek({},r,{code:r,bids:o,mediaTypes:{banner:{sizes:a}}}))}),{}),a=Object.values(o).map((function(e){return{code:e.code,bids:e.bids,mediaTypes:{banner:{sizes:e.mediaTypes.banner.sizes.map((function(e){return e.split(",").map((function(e){return parseInt(e)}))}))}}}}));return ak("merged S2S AdUnits",a),[].concat(JI(i),JI(a))},D=function(e,t){return e[t.code]&&YI()(t,"ortb2Imp.ext.data.pbadslot",e[t.code]),t},j=function(){var e=ok(regeneratorRuntime.mark((function e(t,o){var a,s,c,d,h,g,m,_,w,T,k,A,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={"bidders.adform.display":"adform","bidders.adform.v2.display":"adform","bidders.adform.video":"adform","bidders.mediagrid":"grid","bidders.mediagrid.v2.display":"grid","bidders.mediagridVideo":"grid","bidders.brightroll":"brightroll"},ak.info("pluginToS2SBidderNameMap",a),s=jI()(t,Object.keys(a)),ak.info("enabledS2SPlugins",s),c=new Set(s.map((function(e){return a[e]}))),d=Array.from(c),ak.info("enabledS2SBidders",c),h=x(c,o),g=P(h),ak("mergedAdUnits",g),m=g.map((function(e){return D(f,e)})),ak("allAdUnits",m),_=JI(new Set(sk(m,p))),w=n("topPageUrl"),T={debug:n("prebid.debug",!1)||I.SP.pbjs_debug||!1,enableSendAllBids:!1,priceGranularity:b,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},s2sConfig:{accountId:n("auction.accountId","37643165-9d8c-4c14-9e55-57b51f032308"),enabled:!!d.length,bidders:d,timeout:n("auction.maxTime",2e3),adapter:n("auction.adapter","prebidServer"),endpoint:n("auction.endpoint","https://prebid.adnxs.com/pbs/v1/openrtb2/auction"),syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",secure:n("auction.secure",0)},currency:n("prebid.currency",{adServerCurrency:"USD",granularityMultiplier:1,conversionRateFile:"https://currency.prebid.org/latest.json",defaultRates:{GBP:{USD:1.2764213953}}}),sizeConfig:n("plugins.prebid.sizeConfig",[])},w&&(T.pageUrl=w),__webpack_require__.g.__tcfapi?T.consentManagement=ZI(ZI({},T.consentManagement||{}),{},{gdpr:{cmpApi:"iab",timeout:5e3,defaultGdprScope:!0}}):__webpack_require__.g.__cmp&&(T.consentManagement=ZI(ZI({},T.consentManagement||{}),{},{gdpr:{cmpApi:"iab",timeout:5e3,allowAuctionWithoutConsent:!1}})),__webpack_require__.g.__uspapi&&(T.consentManagement=ZI(ZI({},T.consentManagement||{}),{},{usp:{cmpApi:"iab",timeout:500}})),ak("config:",T),i.setConfig(T),k=ck(l,m),ak("adUnits",k),ak("othersAdsPos templates",l),y(k),lk(r,i,u,v),r.emit("prebid adunits added",k,_),A=u.createAuctionWithPendingStreams(_),E=A.auctionId,ak("auctionId: ".concat(E,", requestBids. adUnitCodes: ").concat(_)),S(E,_);case 29:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),R=new Promise((function(e){r.on("configure and start prebid",function(){var t=ok(regeneratorRuntime.mark((function t(r){var n,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],t.next=3,j(r,n);case 3:e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),M=function(e,t,r){var n=l[e]&&JSON.parse(JSON.stringify(l[e]))||[];return n=n.map((function(n){if(n.code=t,r[e]){var i=r[e].split(",");i[i.length-1]=t,YI()(n,"ortb2Imp.ext.data.pbadslot",i.join(","))}return n})),y(n),n},r.registerStream("get tags",function(){var e=ok(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slot,e.next=3,R;case 3:if(i=n.pos,ak("get tags, pos:",i,n),!i.startsWith("mpu_puff_other")){e.next=9;break}M("mpu_puff_others",i,f),e.next=28;break;case 9:if(!i.startsWith("puff_ad_other")){e.next=13;break}M("puff_ad_others",i,f),e.next=28;break;case 13:if(!i.startsWith("mpu_mobile_other")){e.next=17;break}M("mpu_mobile_others",i,f),e.next=28;break;case 17:if(!i.startsWith("mpu_factbox")){e.next=21;break}M("mpu_factbox",i,f),e.next=28;break;case 21:if(!i.startsWith("mpu_mobile_factbox")){e.next=25;break}M("mpu_mobile_factbox",i,f),e.next=28;break;case 25:if(p[i]&&c.has(i)){e.next=28;break}return ak("unable to run auction for pos:",i,p[i],c.has(i)),e.abrupt("return");case 28:return(o=u.resolveStreamForPosition(i)).auctionId&&S(o.auctionId,[i]),r.emit("auction event",i,"interested endpoint",{endpoints:m[i]}),e.abrupt("return",o.stream);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=function(e){return n("plugins.slots.".concat(e,".v2"),{})},L=n("plugins.enabled").filter((function(e){return e.includes("konduit")})).length>0,ak("konduitEnabled:",L),L?r.registerStream("konduit get video tags",B):r.registerStream("get video tags",B),N=function(e,t,r){var n,i,o=0===r?"preroll":"midroll";return null!=e&&null!==(n=e[t.code])&&void 0!==n&&n[o]&&YI()(t,"ortb2Imp.ext.data.pbadslot",null==e||null===(i=e[t.code])||void 0===i?void 0:i[o]),t},r.on("prepare to refresh ads",(function(e){var t=u.createAuctionWithPendingStreams(e).auctionId;ak("auctionId: ".concat(t,", requestBids refresh, adUnitCodes: ").concat(e)),S(t,e)})),e.abrupt("return",s);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();dk.ccpa={enabledIfDissent:!0},dk.purposeIds={gdpr:[1]},dk.vendorIds={gdpr:"N/A"};var pk=dk;function fk(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function hk(e){return function(e){if(Array.isArray(e))return gk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gk(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mk(e){var t=e.getConfig,r=e.broker,n=e.log,i=r.until("prebid loaded");r.on("configure and start prebid",function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:a=e.sent[0],s=a.getConfig("userSync"),u=E()({},t("plugins.prebid.userSync"),{filterSettings:{iframe:{bidders:(r=o,Array.from(new Set(r.reduce((function(e,t){return[].concat(hk(e),hk(t.bids.map((function(e){return e.bidder}))))}),[]))))}}}),c={userSync:(0,Vn.LY)(s,u)},n("setting pbjs config",u),a.setConfig(c);case 8:case"end":return e.stop()}var r}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){fk(o,n,i,a,s,"next",e)}function s(e){fk(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,t){return r.apply(this,arguments)}}())}mk.purposeIds={gdpr:[1]},mk.vendorIds={gdpr:"N/A"};var vk=__webpack_require__(4155),yk=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},bk=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},_k=function(e){this.version=e,this.type="node",this.name="node",this.os=vk.platform},wk=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},Sk=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Tk=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Ik=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,kk=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ak=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ek(e){var t=function(e){return""!==e&&kk.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new Sk;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=yk(yk([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),a=function(e){for(var t=0,r=Ak.length;t<r;t++){var n=Ak[t],i=n[0];if(n[1].exec(e))return i}return null}(e),s=Ik.exec(e);return s&&s[1]?new wk(r,o,a,s[1]):new bk(r,o,a)}var Ok=I.SP["mol.ads.programmatic.debug"];function Ck(e){var t,r=e.broker,n=e.getConfig,i=t?Ek(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Tk:"undefined"!=typeof navigator?Ek(navigator.userAgent):void 0!==vk&&vk.version?new _k(vk.version.slice(1)):null,o=Math.random(),a=i&&i.name&&function(e,t){return{chrome:e("prog.campaign.percentage.chrome",.7),crios:e("prog.campaign.percentage.crios",.7)}[t]}(n,i.name)||0;Ok&&console.log("[PROG CAMPAIGN] browser: ".concat(i&&i.name,", chance: ").concat(a,", rand: ").concat(o)),a>o&&r.emit("set page level targeting",{prog:!0})}function Pk(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function xk(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Pk(o,n,i,a,s,"next",e)}function s(e){Pk(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Dk(e){return jk.apply(this,arguments)}function jk(){return jk=xk(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,t.getConfig,__webpack_require__.g.window._qevents=__webpack_require__.g.window._qevents||[],__webpack_require__.g.window._qevents.push({qacct:"p-yVg_z7_Zx4fHs"}),r.invoke("import script","https://secure.quantserve.com/quant.js");case 4:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Rk(e){var t=e.broker,r=e.log,n={},i={},o={total:0,auction:{},video:{}};function a(e,t,a){var s;return!i[a]&&n[a]&&(r("[",a,"] ad viewable, but bidding in progress - assuming the auction ended",n[a]),i[a]=n[a],delete n[a]),i[a]?(s=i[a].cpm,o.total+=s,o[e][t]=(o[e][t]||0)+s,r("[",a,"] ad viewable",i[a],"summary.total",o.total),delete i[a]):r("[",a,"] ad viewable - no winner"),s}window.adverts.getRevenueSummary=function(){return o},t.on("bids requested",(function(e){e.positions.forEach((function(e){r("[",e,"] start auction"),delete n[e]}))})),t.on("bid",(function(e,t){var i=t.bidder,o=t.cpm;(!n[e]||n[e].cpm<o)&&(n[e]={bidder:i,cpm:o}),r("[",e,"]",i,"offers to pay",o)})),t.on("bidding ended",(function(e){n[e]?(i[e]=n[e],delete n[e],r("[",e,"] bidding ended",i[e])):r("[",e,"] bidding ended - no bids")})),t.on("video ad viewable",(function(e){var t=e.pos;return a("video",e.videoId||"unknown",t)})),t.on("ad viewable",(function(e){return a("auction",e,e)}))}Ck.ccpa={enabledIfDissent:!0},Ck.gdpr={enabledIfDissent:!0},Dk.vendorIds={gdpr:[11]},Dk.purposeIds={gdpr:"N/A"},Rk.ccpa={enabledIfDissent:!0},Rk.gdpr={enabledIfDissent:!0};var Mk=(0,k.x)("rta");function Uk(e){e.broker.on("send to rta",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"store";if(__webpack_require__.g.RTA&&"function"==typeof __webpack_require__.g.RTA.tedEvent){var n={action:r,name:e,value:t};Mk("Sending:",n),__webpack_require__.g.RTA.tedEvent("page_event",n)}}))}function Lk(e){var t=e.broker;(0,Ae.loaded)().then((function(){return t.emit("dom loaded")})),DM.later("DOM_READY",(function(){return t.emit("dom ready")})),window.addEventListener("load",(function(){return t.emit("page load")}))}Uk.isAdsFreeSupported=!0,Uk.ccpa={enabledIfDissent:!0},Uk.gdpr={enabledIfDissent:!0},Lk.isAdsFreeSupported=!0,Lk.ccpa={enabledIfDissent:!0},Lk.gdpr={enabledIfDissent:!0};var Nk=function(e,t){var r=t.isEmpty,n=t.slot;if(!r)switch(e){case"billboard-oop":return qk();case"billboard":return Bk(document.getElementById(n.getSlotElementId()))}},Bk=function(e){if(e){var t=e.querySelector(".mol-ads-label-container");t&&e.parentNode.appendChild(t)}},qk=function(){var e=document.createElement("div"),t=document.createElement("div"),r=document.createTextNode((0,b.U2)("label.text","ADVERTISEMENT"));t.classList.add("mol-ads-skin-label"),t.appendChild(r),e.classList.add("mol-ads-skin-label-container"),e.appendChild(t),document.body.appendChild(e)},Fk=function(e){var t=e.imageURL,r=e.clickURL,n=document.body;document.documentElement.classList.add("mol-ads-skin-enabled");var i=document.createElement("a");i.className="mol-ads-skin-click-target",i.href=r;var o=document.createElement("div");o.className="mol-ads-skin-pad",n.insertBefore(i,n.firstChild),n.insertBefore(o,i),(0,Ae.appendStyle)("\nbody { background-image: url(".concat(t,"); }\n")),adverts.stopRefreshingAds(),qk()};function Vk(e){var t=e.broker;t.on("add skin to page",Fk),t.on("add skin label to page",qk),t.on("ad rendered",Nk)}Vk.ccpa={enabledIfDissent:!0},Vk.gdpr={enabledIfDissent:!0};var zk=["fps","count","internalExecuter"];function Wk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Hk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delay,r=void 0===t?0:t,n=[];return function(e){n.push(e),setTimeout((function(){return n.shift()()}),r)}},Gk={sync:function(){return function(e){return e()}},async:Hk,serial:function(){var e,t=[],r=function(){e=t.length&&setTimeout(n,0)},n=function(){t.shift()(),r()},i=function(n){t.push(n),e||r()};return i.pause=function(){e&&(clearTimeout(e),e=!1)},i.resume=function(){e||r()},i.queue=t,i},idle:function(){return __webpack_require__.g.requestIdleCallback?function(e){return __webpack_require__.g.requestIdleCallback(e)}:Hk()},nextFrame:function(){return __webpack_require__.g.requestAnimationFrame?function(e){return __webpack_require__.g.requestAnimationFrame(e)}:Hk()},fps:__webpack_require__.g.requestAnimationFrame?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fps,n=void 0===r?20:r,i=t.count,o=void 0===i?1:i,a=t.internalExecuter,s=void 0===a?"serial":a,u=Wk(t,zk);n=parseInt(n),o=parseInt(o);var c=0,l=[],d=Gk[s](u);function p(e){d((function(){e()}))}function f(){var e=l;l={push:p},e.forEach(p),!e.length&&d.resume&&d.resume()}function h(){d.pause&&d.pause(),l=[]}function g(t){requestAnimationFrame(g),e?(1e3/(t-e)>=n?++c===o&&f():(c>=o&&h(),c=0),e=t):e=t}return requestAnimationFrame(g),function(e){l.push(e)}}:Hk},Kk=["type"];function Xk(e){var t=e.broker,r=(0,e.getConfig)("scheduler.executer",{type:"async"}),n=r.type,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,Kk),o=(0,Gk[n])(i);t.register("call for page analytics",(function(){return{executer:n}})),t.bus.setDispatcher(o),i.debug&&console.log("Message dispatcher strategy:",n,i)}Xk.isAdsFreeSupported=!0,Xk.ccpa={enabledIfDissent:!0},Xk.gdpr={enabledIfDissent:!0};var Yk=Xk;function $k(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function Jk(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){$k(o,n,i,a,s,"next",e)}function s(e){$k(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Qk(e){return Zk.apply(this,arguments)}function Zk(){return Zk=Jk(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,i=/^https?:\/\/t\.co(\/.*)?$/.test(document.referrer),o="newzit.app"===I.SP.source,a=n("molFeSmartBanner"),r.once("dom ready",Jk(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!MobileUtils.isMobile()&&!(0,I.bP)()||(0,I.ej)("smart-banner")||i||o||DM.molFeComponents.setConfig("molFeSmartBanner",a);case 1:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function eA(e){e.broker.emit("set page level targeting",{abv:"4.1.95"})}function tA(e){var t=e.broker,r=e.log;r("video-events starting");var n=DM&&DM.pageEvents,i=[n.VIDEO_ADVERT_ABORTED,n.VIDEO_ADVERT_COMPLETED,n.VIDEO_ADVERT_FAILED,n.VIDEO_ADVERT_IMPRESSION,n.VIDEO_ADVERT_NOT_SHOWN,n.VIDEO_ADVERT_STARTED,n.VIDEO_CONTENT_ABORTED,n.VIDEO_CONTENT_COMPLETED,n.VIDEO_CONTENT_STARTED,n.VIDEO_DATA_READY,n.VIDEO_PLAYER_READY,n.VIDEO_PROGRESS,n.VIDEO_STREAM_FAILED,n.VIDEO_STREAM_STARTED];n&&i.forEach((function(e){n.subscribe(e,(function(n,i){r("firing:",e),t.emit("video page event ".concat(e),e,i)}))}))}function rA(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}Qk.isAdsFreeSupported=!0,Qk.ccpa={enabledIfDissent:!0},Qk.gdpr={enabledIfDissent:!0},eA.isAdsFreeSupported=!0,eA.ccpa={enabledIfDissent:!0},eA.gdpr={enabledIfDissent:!0},tA.ccpa={enabledIfDissent:!0},tA.gdpr={enabledIfDissent:!0};var nA=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t("tcfv2.enabled",!1));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){rA(o,n,i,a,s,"next",e)}function s(e){rA(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),iA={isAdsFreeUser:function(){return __webpack_require__.g.isAdFreeEntitled&&__webpack_require__.g.isAdFreeEntitled()},isTCFV2Jurisdiction:nA,pageCriteria:__webpack_require__.g.PageCriteria,queryParams:I.SP,DM:__webpack_require__.g.DM,adPageType:__webpack_require__.g.adPageType};function oA(e,t){return Object.keys(t("slots.enabled",{})).includes(e)}function aA(e){return aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aA(e)}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,Ye.fo)("api",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("api message","adSlotMount",(function(e){var i=e.variant,o=e.position,a=e.slotId;if(oA(o,r)){var s={pos:o,id:a,parentId:a,variant:i},u=document.getElementById(a);n("adSlotMount",s,u),t.emit("slot defined",s,u)}})),t.on("api message","adSlotUnmount",(function(e){var r=e.position;n("adSlotUnmount",r),t.emit("destroy slot",r)})),t.on("api message","adSlotUpdate",(function(e){var i=e.position,o=e.slotId;oA(i,r)&&(n("adSlotUpdate",{position:i,slotId:o}),t.emit("prepare to refresh ads",[i]),t.emit("refresh ads",{positions:[i],ids:[o],reason:"api message"}))})),t.on("api message","onAdRendered",(function(e){t.on("ad rendered",e)})),t.on("api message","imageGalleryOpen",(function(){n("imageGalleryOpen"),t.emit("image gallery open")})),t.on("api message","imageGalleryClose",(function(){n("imageGalleryClose"),t.emit("image gallery close")})),t.on("api message","adBlockerDetection",(function(e){n("adBlockerDetection",e),t.emit("ad block detection result",e)})),t.on("api message","takeover",(function(e){var r=e.type,i=e.config;n("takeover requested",r),t.emit("takeover",r,i)}))}}),(0,Ye.fo)("site",{init:function(e){var t=e.broker,r=e.log,n=e.setConfig,i=e.getConfig,o=i("site","mol");n("site",o),__webpack_require__.g.PageCriteria.pageViewId=(0,Pn.kb)(),t.register("call for page analytics",(function(){return{account:o}})),function(e,t){var r=(0,b.U2)("tcfv2.enabled",!1),n="US"===PageCriteria.geo;t("cmp.model",(n?"ccpa":r&&"gdpr")||void 0),t("cmp.shouldBeEnforced",n&&"CA"===__webpack_require__.g.PageCriteria.region||r),t("cmp.keyNameForGPTVideoConsent",n?"rdp":"npa"),t("cmp.apiHandler",(n?"__uspapi":r&&"__tcfapi")||void 0),e("cmp:",(0,b.U2)("cmp"))}(r,n);var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sA(Object(r),!0).forEach((function(t){uA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},cA),s=i("tcfv2.branding.includePrimaryVendor",!0),u=i("tcfv2.branding.providerUrl"),c={level1Paragraphs:lA};s&&(c.primaryVendor=a),u&&(c.providerUrl=u),n("tcfv2.brand",c),"object"===aA(__webpack_require__.g.DM)&&"function"==typeof __webpack_require__.g.DM.getPageMetadata&&n("tcfv2.renderPlatform",__webpack_require__.g.DM.getPageMetadata().renderPlatform)},ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},isAdsFreeSupported:!0});var cA={features:[1,2,3],flexiblePurposes:[],headingName:"Associated Newspapers Ltd.",legIntPurposes:[5,6,8,10],name:"Associated Newspapers Ltd. (MailOnline, ThisIsMoney & Metro)",policyUrl:(0,b.U2)("tcfv2.policyUrl","/home/article-7759273/Privacy-Cookies-Policy-Policy.html"),purposes:[1,2,3,4,7,9],specialFeatures:[1],specialPurposes:[1,2]},lA=["We and our partners process, store and/or access data such as IP address, unique ID and browsing data based on your consent to display personalised ads and content, ad and content measurement, audience insights and product development, use precise geolocation data, and actively scan device characteristics for identification.","Sometimes we and/or our partners don’t rely on your consent but rely on legitimate interest to process your data. Click Cookie Settings below to see our partners, why they rely on legitimate interest and how you can object.","Control how your data is used and view more info at any time via the Cookie Settings link in the Privacy Policy."];function dA(e){var t=e.broker,r=e.getConfig,n=e.log,i="chromelessPlayer"===r("players.commercial.closeButton.style","commercialPlayer")?"commercial-player-close-chromeless":"commercial-player-close",o=r("players.commercial.closeButton.addAfterImpression",!1),a=r("players.commercial.closeButton.addAfterTimeout",6e4);return function(e){var r;function s(){n("closing the player"),e.dispose(),t.emit("set slots enabled",["chromeless"],!1),t.emit("chromeless player closed"),t.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"close"}})}n("adding");var u,c,l,d=null!==(r=__webpack_require__.g.MobileUtils)&&void 0!==r&&r.isMobile()?"touchend":"click",p=e.addChild("button",{text:"Close"}),f=new ln,h=function(){p.addClass(i),p.on(d,s),e.on("dispose",(function(){return p.off(d,s)})),f.dispose(),clearTimeout(u)};o?(c=function(){u||(l(),u=setTimeout((function(){n("adding closebutton due to timeout"),h()}),a))},l=f.one(e,"playing",c),f.one(e,"adserror",h),f.one(e,"ads-manager",(function(t){var r=t.adsManager;f.addEventListener(r,__webpack_require__.g.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,h),f.addEventListener(r,__webpack_require__.g.google.ima.AdEvent.Type.SKIPPED,h),f.one(e,"ads-ad-started",(function(){f.one(e,"playing",(function(){n("playing, show close button"),h()}))})),c()}))):h()}}var pA=__webpack_require__(8908),fA=__webpack_require__.n(pA),hA=__webpack_require__(9144),gA=__webpack_require__.n(hA);function mA(){return mA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mA.apply(this,arguments)}function vA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yA(e,t){return yA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yA(e,t)}function bA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yA(e,t)}var _A=__webpack_require__(5974),wA=__webpack_require__.n(_A),SA=__webpack_require__(7537),TA=__webpack_require__.n(SA),IA=__webpack_require__(9603),kA=__webpack_require__.n(IA),AA=__webpack_require__(3407),EA=__webpack_require__.n(AA);function OA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function CA(e,t,r){return CA=OA()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&yA(i,r.prototype),i},CA.apply(null,arguments)}var PA=__webpack_require__(9945),xA=__webpack_require__.n(PA),DA="http://example.com",jA=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=fA().location&&fA().location.href||"");var r="function"==typeof fA().URL,n=/^\/\//.test(e),i=!fA().location&&!/\/\//i.test(e);if(r?e=new(fA().URL)(e,fA().location||DA):/\/\//i.test(e)||(e=xA().buildAbsoluteURL(fA().location&&fA().location.href||"",e)),r){var o=new URL(t,e);return i?o.href.slice(DA.length):n?o.href.slice(o.protocol.length):o.href}return xA().buildAbsoluteURL(e,t)},RA=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(r,1),r>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),MA=__webpack_require__(2236).Buffer;function UA(e){for(var t,r=(t=e,fA().atob?fA().atob(t):MA.from(t,"base64").toString("binary")),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}var LA,NA,BA,qA=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return bA(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(RA),FA=String.fromCharCode(9),VA=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),r={};return t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),r},zA=function(e){for(var t,r=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=r.length;i--;)""!==r[i]&&((t=/([^=]*)=(.*)/.exec(r[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n},WA=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}bA(t,e);var r=t.prototype;return r.push=function(e){var t,r,n=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,r){var n=r(e);return n===e?t:t.concat([n])}),[e]).forEach((function(e){for(var i=0;i<n.customParsers.length;i++)if(n.customParsers[i].call(n,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))n.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",tagType:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void n.trigger("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void n.trigger("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"version"},t[1]&&(r.version=parseInt(t[1],10)),void n.trigger("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void n.trigger("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void n.trigger("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",tagType:"playlist-type"},t[1]&&(r.playlistType=t[1]),void n.trigger("data",r);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return r=mA(VA(t[1]),{type:"tag",tagType:"byterange"}),void n.trigger("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",tagType:"allow-cache"},t[1]&&(r.allowed=!/NO/.test(t[1])),void n.trigger("data",r);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"map"},t[1]){var o=zA(t[1]);o.URI&&(r.uri=o.URI),o.BYTERANGE&&(r.byterange=VA(o.BYTERANGE))}n.trigger("data",r)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"stream-inf"},t[1]){if(r.attributes=zA(t[1]),r.attributes.RESOLUTION){var a=r.attributes.RESOLUTION.split("x"),s={};a[0]&&(s.width=parseInt(a[0],10)),a[1]&&(s.height=parseInt(a[1],10)),r.attributes.RESOLUTION=s}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}n.trigger("data",r)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return r={type:"tag",tagType:"media"},t[1]&&(r.attributes=zA(t[1])),void n.trigger("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))n.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))n.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return r={type:"tag",tagType:"program-date-time"},t[1]&&(r.dateTimeString=t[1],r.dateTimeObject=new Date(t[1])),void n.trigger("data",r);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",tagType:"key"},t[1]&&(r.attributes=zA(t[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void n.trigger("data",r);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return r={type:"tag",tagType:"start"},t[1]&&(r.attributes=zA(t[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void n.trigger("data",r);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out-cont"},t[1]?r.data=t[1]:r.data="",void n.trigger("data",r);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out"},t[1]?r.data=t[1]:r.data="",void n.trigger("data",r);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-in"},t[1]?r.data=t[1]:r.data="",void n.trigger("data",r);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(r={type:"tag",tagType:"skip"}).attributes=zA(t[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(FA)),void n.trigger("data",r);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(r={type:"tag",tagType:"part"}).attributes=zA(t[1]),["DURATION"].forEach((function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=/YES/.test(r.attributes[e]))})),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=VA(r.attributes.BYTERANGE)),void n.trigger("data",r);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(r={type:"tag",tagType:"server-control"}).attributes=zA(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=/YES/.test(r.attributes[e]))})),void n.trigger("data",r);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(r={type:"tag",tagType:"part-inf"}).attributes=zA(t[1]),["PART-TARGET"].forEach((function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))})),void n.trigger("data",r);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(r={type:"tag",tagType:"preload-hint"}).attributes=zA(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(r.attributes.hasOwnProperty(e)){r.attributes[e]=parseInt(r.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[t]=r.attributes[e],delete r.attributes[e]}})),void n.trigger("data",r);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(r={type:"tag",tagType:"rendition-report"}).attributes=zA(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseInt(r.attributes[e],10))})),void n.trigger("data",r);n.trigger("data",{type:"tag",data:e.slice(4)})}}}else n.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},r.addParser=function(e){var t=this,r=e.expression,n=e.customType,i=e.dataParser,o=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(r.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:n,segment:o}),!0}))},r.addTagMapper=function(e){var t=e.expression,r=e.map;this.tagMappers.push((function(e){return t.test(e)?r(e):e}))},t}(RA),HA=function(e){var t={};return Object.keys(e).forEach((function(r){var n;t[(n=r,n.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[r]})),t},GA=function(e){var t=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(t){var i="#EXT-X-SERVER-CONTROL",o="holdBack",a="partHoldBack",s=r&&3*r,u=n&&2*n;r&&!t.hasOwnProperty(o)&&(t[o]=s,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+s+")."})),s&&t[o]<s&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+t[o]+") to targetDuration * 3 ("+s+")"}),t[o]=s),n&&!t.hasOwnProperty(a)&&(t[a]=3*n,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[a]+")."})),n&&t[a]<u&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+t[a]+") to partTargetDuration * 2 ("+u+")."}),t[a]=u)}},KA=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new qA,t.parseStream=new WA,t.lineStream.pipe(t.parseStream);var r,n,i=vA(t),o=[],a={},s=!1,u=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0,p=0;return t.on("end",(function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&r&&(a.map=r),!a.key&&n&&(a.key=n),a.timeline||"number"!=typeof l||(a.timeline=l),t.manifest.preloadSegment=a)})),t.parseStream.on("data",(function(e){var t,f;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=d)),"offset"in e&&(a.byterange=t,t.offset=e.offset),d=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:UA(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(n.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,l=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){r={},e.uri&&(r.uri=e.uri),e.byterange&&(r.byterange=e.byterange),n&&(r.key=n)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes?(a.attributes||(a.attributes={}),mA(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var r=this.manifest.mediaGroups[e.attributes.TYPE];r[e.attributes["GROUP-ID"]]=r[e.attributes["GROUP-ID"]]||{},t=r[e.attributes["GROUP-ID"]],(f={default:/yes/i.test(e.attributes.DEFAULT)}).default?f.autoselect=!0:f.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(f.language=e.attributes.LANGUAGE),e.attributes.URI&&(f.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(f.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(f.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(f.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=f}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,GA.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data},skip:function(){this.manifest.skip=HA(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;s=!0;var r=this.manifest.segments.length,n=HA(e.attributes);a.parts=a.parts||[],a.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=p),p=n.byterange.offset+n.byterange.length);var i=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+i+" for segment #"+r,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,r){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+r+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=HA(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),GA.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,r=HA(e.attributes),n=r.type&&"PART"===r.type;a.preloadHints=a.preloadHints||[],a.preloadHints.push(r),r.byterange&&(r.byterange.hasOwnProperty("offset")||(r.byterange.offset=n?p:0,n&&(p=r.byterange.offset+r.byterange.length)));var i=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t,e.attributes,["TYPE","URI"]),r.type)for(var o=0;o<a.preloadHints.length-1;o++){var s=a.preloadHints[o];s.type&&s.type===r.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t+" has the same TYPE "+r.type+" as preload hint #"+o})}},"rendition-report":function(){var t=HA(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var r=this.manifest.renditionReports.length-1,n=["LAST-MSN","URI"];s&&n.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+r,e.attributes,n)},"part-inf":function(){this.manifest.partInf=HA(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),GA.call(this,this.manifest)}}[e.tagType]||u).call(i)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),n&&(a.key=n),a.timeline=l,r&&(a.map=r),p=0,a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}bA(t,e);var r=t.prototype;return r.warnOnMissingAttributes_=function(e,t,r){var n=[];r.forEach((function(e){t.hasOwnProperty(e)||n.push(e)})),n.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+n.join(", ")})},r.push=function(e){this.lineStream.push(e)},r.end=function(){this.lineStream.push("\n"),this.trigger("end")},r.addParser=function(e){this.parseStream.addParser(e)},r.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(RA),XA={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},YA=["video","audio","text"],$A=["Video","Audio","Text"],JA=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,r){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)})):e},QA=function(e){void 0===e&&(e="");var t=e.split(","),r=[];return t.forEach((function(e){var t;e=e.trim(),YA.forEach((function(n){var i=XA[n].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=n;var o=e.substring(0,i[1].length),a=e.replace(o,"");r.push({type:o,details:a,mediaType:n})}})),t||r.push({type:e,details:"",mediaType:"unknown"})})),r},ZA=function(e){return void 0===e&&(e=""),XA.audio.test(e.trim().toLowerCase())},eE=function(e){if(e&&"string"==typeof e){var t,r=e.toLowerCase().split(",").map((function(e){return JA(e.trim())})),n="video";1===r.length&&ZA(r[0])?n="audio":1===r.length&&(void 0===(t=r[0])&&(t=""),XA.text.test(t.trim().toLowerCase()))&&(n="application");var i="mp4";return r.every((function(e){return XA.mp4.test(e)}))?i="mp4":r.every((function(e){return XA.webm.test(e)}))?i="webm":r.every((function(e){return XA.ogg.test(e)}))&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},tE=function(e){return void 0===e&&(e=""),fA().MediaSource&&fA().MediaSource.isTypeSupported&&fA().MediaSource.isTypeSupported(eE(e))||!1},rE=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<$A.length;t++)if(XA["muxer"+$A[t]].test(e))return!0;return!1}))},nE="mp4a.40.2",iE=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,oE=/^application\/dash\+xml/i,aE=function(e){return iE.test(e)?"hls":oE.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},sE=__webpack_require__(3969),uE=function(e){return!!e&&"object"==typeof e},cE=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce((function(t,r){return"object"!=typeof r||Object.keys(r).forEach((function(n){Array.isArray(t[n])&&Array.isArray(r[n])?t[n]=t[n].concat(r[n]):uE(t[n])&&uE(r[n])?t[n]=e(t[n],r[n]):t[n]=r[n]})),t}),{})},lE=function(e){return Object.keys(e).map((function(t){return e[t]}))},dE=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},pE=function(e){if(!e.length)return[];for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},fE=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1},hE=function(e){var t=e.baseUrl,r=void 0===t?"":t,n=e.source,i=void 0===n?"":n,o=e.range,a=void 0===o?"":o,s=e.indexRange,u=void 0===s?"":s,c={uri:i,resolvedUri:jA(r||"",i)};if(a||u){var l,d=(a||u).split("-"),p=fA().BigInt?fA().BigInt(d[0]):parseInt(d[0],10),f=fA().BigInt?fA().BigInt(d[1]):parseInt(d[1],10);p<Number.MAX_SAFE_INTEGER&&"bigint"==typeof p&&(p=Number(p)),f<Number.MAX_SAFE_INTEGER&&"bigint"==typeof f&&(f=Number(f)),"bigint"==typeof(l="bigint"==typeof f||"bigint"==typeof p?fA().BigInt(f)-fA().BigInt(p)+fA().BigInt(1):f-p+1)&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),c.byterange={length:l,offset:p}}return c},gE=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},mE={static:function(e){var t=e.duration,r=e.timescale,n=void 0===r?1:r,i=e.sourceDuration,o=e.periodDuration,a=gE(e.endNumber),s=t/n;return"number"==typeof a?{start:0,end:a}:"number"==typeof o?{start:0,end:o/s}:{start:0,end:i/s}},dynamic:function(e){var t=e.NOW,r=e.clientOffset,n=e.availabilityStartTime,i=e.timescale,o=void 0===i?1:i,a=e.duration,s=e.periodStart,u=void 0===s?0:s,c=e.minimumUpdatePeriod,l=void 0===c?0:c,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,f=gE(e.endNumber),h=(t+r)/1e3,g=n+u,m=h+l-g,v=Math.ceil(m*o/a),y=Math.floor((h-g-p)*o/a),b=Math.floor((h-g)*o/a);return{start:Math.max(0,y),end:"number"==typeof f?f:Math.min(v,b)}}},vE=function(e){var t=e.type,r=e.duration,n=e.timescale,i=void 0===n?1:n,o=e.periodDuration,a=e.sourceDuration,s=mE[t](e),u=function(e,t){for(var r=[],n=e;n<t;n++)r.push(n);return r}(s.start,s.end).map(function(e){return function(t){var r=e.duration,n=e.timescale,i=void 0===n?1:n,o=e.periodStart,a=e.startNumber;return{number:(void 0===a?1:a)+t,duration:r/i,timeline:o,time:t*r}}}(e));if("static"===t){var c=u.length-1,l="number"==typeof o?o:a;u[c].duration=l-r/i*c}return u},yE=function(e){var t=e.baseUrl,r=e.initialization,n=void 0===r?{}:r,i=e.sourceDuration,o=e.indexRange,a=void 0===o?"":o,s=e.periodStart,u=e.presentationTime,c=e.number,l=void 0===c?0:c,d=e.duration;if(!t)throw new Error("NO_BASE_URL");var p=hE({baseUrl:t,source:n.sourceURL,range:n.range}),f=hE({baseUrl:t,source:t,indexRange:a});if(f.map=p,d){var h=vE(e);h.length&&(f.duration=h[0].duration,f.timeline=h[0].timeline)}else i&&(f.duration=i,f.timeline=s);return f.presentationTime=u||s,f.number=l,[f]},bE=function(e,t,r){var n,i=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,u=s.offset+s.length,c=t.timescale,l=t.references.filter((function(e){return 1!==e.referenceType})),d=[],p=e.endList?"static":"dynamic",f=e.sidx.timeline,h=f,g=e.mediaSequence||0;n="bigint"==typeof t.firstOffset?fA().BigInt(u)+t.firstOffset:u+t.firstOffset;for(var m=0;m<l.length;m++){var v,y=t.references[m],b=y.referencedSize,_=y.subsegmentDuration;v="bigint"==typeof n?n+fA().BigInt(b)-fA().BigInt(1):n+b-1;var w=yE({baseUrl:r,timescale:c,timeline:a,periodStart:f,presentationTime:h,number:g,duration:_,sourceDuration:o,indexRange:n+"-"+v,type:p})[0];i&&(w.map=i),d.push(w),n+="bigint"==typeof n?fA().BigInt(b):b,h+=_/c,g++}return e.segments=d,e},_E=["AUDIO","SUBTITLES"],wE=function(e){return(t=e,r=function(e){return e.timeline},lE(t.reduce((function(e,t){return t.forEach((function(t){e[r(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,r},SE=function(e){var t,r,n=[];return t=e,r=function(e,t,r,i){n=n.concat(e.playlists||[])},_E.forEach((function(e){for(var n in t.mediaGroups[e])for(var i in t.mediaGroups[e][n]){var o=t.mediaGroups[e][n][i];r(o)}})),n},TE=function(e){var t=e.playlist,r=e.mediaSequence;t.mediaSequence=r,t.segments.forEach((function(e,r){e.number=t.mediaSequence+r}))},IE=function(e){return e&&e.uri+"-"+(r="bigint"==typeof(t=e.byterange).offset||"bigint"==typeof t.length?fA().BigInt(t.offset)+fA().BigInt(t.length)-fA().BigInt(1):t.offset+t.length-1,t.offset+"-"+r);var t,r},kE=function(e){var t=lE(e.reduce((function(e,t){var r,n=t.attributes.id+(t.attributes.lang||"");e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(r=e[n].segments).push.apply(r,t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]);return e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{}));return t.map((function(e){var t;return e.discontinuityStarts=(t=e.segments||[],"discontinuity",t.reduce((function(e,t,r){return t.discontinuity&&e.push(r),e}),[])),e}))},AE=function(e,t){var r=IE(e.sidx),n=r&&t[r]&&t[r].sidx;return n&&bE(e,n,e.sidx.resolvedUri),e},EE=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var r in e)e[r]=AE(e[r],t);return e},OE=function(e){var t,r=e.attributes,n=e.segments,i=e.sidx,o=e.discontinuityStarts,a={attributes:(t={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuityStarts:o,timelineStarts:r.timelineStarts,segments:n};return r.contentProtection&&(a.contentProtection=r.contentProtection),i&&(a.sidx=i),a},CE=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},PE=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},xE=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},DE=function(e){return e?Object.keys(e).reduce((function(t,r){var n=e[r];return t.concat(n.playlists)}),[]):[]},jE=function(e){var t,r=e.dashPlaylists,n=e.locations,i=e.sidxMapping,o=void 0===i?{}:i,a=e.previousManifest;if(!r.length)return{};var s=r[0].attributes,u=s.sourceDuration,c=s.type,l=s.suggestedPresentationDelay,d=s.minimumUpdatePeriod,p=kE(r.filter(CE)).map(OE),f=kE(r.filter(PE)),h=kE(r.filter(xE)),g=r.map((function(e){return e.attributes.captionServices})).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:u,playlists:EE(p,o)};d>=0&&(m.minimumUpdatePeriod=1e3*d),n&&(m.locations=n),"dynamic"===c&&(m.suggestedPresentationDelay=l);var v,y,b,_,w,S,T,I=0===m.playlists.length,k=f.length?function(e,t,r){var n;void 0===t&&(t={}),void 0===r&&(r=!1);var i=e.reduce((function(e,i){var o=i.attributes.role&&i.attributes.role.value||"",a=i.attributes.lang||"",s=i.attributes.label||"main";if(a&&!i.attributes.label){var u=o?" ("+o+")":"";s=""+i.attributes.lang+u}e[s]||(e[s]={language:a,autoselect:!0,default:"main"===o,playlists:[],uri:""});var c=AE(function(e,t){var r,n=e.attributes,i=e.segments,o=e.sidx,a=e.mediaSequence,s=e.discontinuitySequence,u=e.discontinuityStarts,c={attributes:(r={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},r["PROGRAM-ID"]=1,r),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:s,discontinuityStarts:u,timelineStarts:n.timelineStarts,mediaSequence:a,segments:i};return n.contentProtection&&(c.contentProtection=n.contentProtection),o&&(c.sidx=o),t&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c}(i,r),t);return e[s].playlists.push(c),void 0===n&&"main"===o&&((n=i).default=!0),e}),{});return n||(i[Object.keys(i)[0]].default=!0),i}(f,o,I):null,A=h.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,r){var n=r.attributes.lang||"text";return e[n]||(e[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),e[n].playlists.push(AE(function(e){var t,r=e.attributes,n=e.segments,i=e.mediaSequence,o=e.discontinuityStarts,a=e.discontinuitySequence;void 0===n&&(n=[{uri:r.baseUrl,timeline:r.periodStart,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration);var s=((t={NAME:r.id,BANDWIDTH:r.bandwidth})["PROGRAM-ID"]=1,t);return r.codecs&&(s.CODECS=r.codecs),{attributes:s,uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,timelineStarts:r.timelineStarts,discontinuityStarts:o,discontinuitySequence:a,mediaSequence:i,segments:n}}(r),t)),e}),{})}(h,o):null,E=p.concat(DE(k),DE(A)),O=E.map((function(e){return e.timelineStarts}));return m.timelineStarts=wE(O),v=E,y=m.timelineStarts,v.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=fE(y,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),k&&(m.mediaGroups.AUDIO.audio=k),A&&(m.mediaGroups.SUBTITLES.subs=A),g.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=g.reduce((function(e,t){return t?(t.forEach((function(t){var r=t.channel,n=t.language;e[n]={autoselect:!1,default:!1,instreamId:r,language:n},t.hasOwnProperty("aspectRatio")&&(e[n].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[n].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[n]["3D"]=t["3D"])})),e):e}),{})),a?(_=(b={oldManifest:a,newManifest:m}).oldManifest,w=b.newManifest,S=_.playlists.concat(SE(_)),T=w.playlists.concat(SE(w)),w.timelineStarts=wE([_.timelineStarts,w.timelineStarts]),function(e){var t=e.oldPlaylists,r=e.timelineStarts;e.newPlaylists.forEach((function(e){e.discontinuitySequence=fE(r,(function(t){return t.timeline===e.timeline}));var n=function(e,t){for(var r=0;r<e.length;r++)if(e[r].attributes.NAME===t)return e[r];return null}(t,e.attributes.NAME);if(n&&!e.sidx){var i=e.segments[0],o=fE(n.segments,(function(e){return Math.abs(e.presentationTime-i.presentationTime)<.016666666666666666}));if(-1===o)return TE({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[o].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),TE({playlist:e,mediaSequence:n.segments[o].number})}}))}({oldPlaylists:S,newPlaylists:T,timelineStarts:w.timelineStarts}),w):m},RE=function(e,t,r){var n=e.NOW,i=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,u=e.periodStart,c=void 0===u?0:u,l=e.minimumUpdatePeriod,d=(n+i)/1e3+(void 0===l?0:l)-(o+c);return Math.ceil((d*s-t)/r)},ME=function(e,t){for(var r=e.type,n=e.minimumUpdatePeriod,i=void 0===n?0:n,o=e.media,a=void 0===o?"":o,s=e.sourceDuration,u=e.timescale,c=void 0===u?1:u,l=e.startNumber,d=void 0===l?1:l,p=e.periodStart,f=[],h=-1,g=0;g<t.length;g++){var m=t[g],v=m.d,y=m.r||0,b=m.t||0;h<0&&(h=b),b&&b>h&&(h=b);var _=void 0;if(y<0){var w=g+1;_=w===t.length?"dynamic"===r&&i>0&&a.indexOf("$Number$")>0?RE(e,h,v):(s*c-h)/v:(t[w].t-h)/v}else _=y+1;for(var S=d+f.length+_,T=d+f.length;T<S;)f.push({number:T,duration:v/c,time:h,timeline:p}),h+=v,T++}return f},UE=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,LE=function(e,t){return e.replace(UE,function(e){return function(t,r,n,i){if("$$"===t)return"$";if(void 0===e[r])return t;var o=""+e[r];return"RepresentationID"===r?o:(i=n?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}}(t))},NE=function(e,t){var r={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,i=void 0===n?{sourceURL:"",range:""}:n,o=hE({baseUrl:e.baseUrl,source:LE(i.sourceURL,r),range:i.range}),a=function(e,t){return e.duration||t?e.duration?vE(e):ME(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return a.map((function(t){r.Number=t.number,r.Time=t.time;var n=LE(e.media||"",r),i=e.timescale||1,a=e.presentationTimeOffset||0,s=e.periodStart+(t.time-a)/i;return{uri:n,timeline:t.timeline,duration:t.duration,resolvedUri:jA(e.baseUrl||"",n),map:o,number:t.number,presentationTime:s}}))},BE=function(e,t){var r=e.duration,n=e.segmentUrls,i=void 0===n?[]:n,o=e.periodStart;if(!r&&!t||r&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var a,s=i.map((function(t){return function(e,t){var r=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,o=hE({baseUrl:r,source:i.sourceURL,range:i.range}),a=hE({baseUrl:r,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return r&&(a=vE(e)),t&&(a=ME(e,t)),a.map((function(t,r){if(s[r]){var n=s[r],i=e.timescale||1,a=e.presentationTimeOffset||0;return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n.presentationTime=o+(t.time-a)/i,n}})).filter((function(e){return e}))},qE=function(e){var t,r,n=e.attributes,i=e.segmentInfo;i.template?(r=NE,t=cE(n,i.template)):i.base?(r=yE,t=cE(n,i.base)):i.list&&(r=BE,t=cE(n,i.list));var o={attributes:n};if(!r)return o;var a=r(t,i.segmentTimeline);if(t.duration){var s=t,u=s.duration,c=s.timescale,l=void 0===c?1:c;t.duration=u/l}else a.length?t.duration=a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return o.attributes=t,o.segments=a,i.base&&t.indexRange&&(o.sidx=a[0],o.segments=[]),o},FE=function(e,t){return pE(e.childNodes).filter((function(e){return e.tagName===t}))},VE=function(e){return e.textContent.trim()},zE=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var r=t.slice(1),n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(i||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},WE={mediaPresentationDuration:function(e){return zE(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return zE(e)},suggestedPresentationDelay:function(e){return zE(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return zE(e)},start:function(e){return zE(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?zE(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},HE=function(e){return e&&e.attributes?pE(e.attributes).reduce((function(e,t){var r=WE[t.name]||WE.DEFAULT;return e[t.name]=r(t.value),e}),{}):{}},GE={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},KE=function(e,t){return t.length?dE(e.map((function(e){return t.map((function(t){return jA(e,VE(t))}))}))):e},XE=function(e){var t=FE(e,"SegmentTemplate")[0],r=FE(e,"SegmentList")[0],n=r&&FE(r,"SegmentURL").map((function(e){return cE({tag:"SegmentURL"},HE(e))})),i=FE(e,"SegmentBase")[0],o=r||t,a=o&&FE(o,"SegmentTimeline")[0],s=r||i||t,u=s&&FE(s,"Initialization")[0],c=t&&HE(t);c&&u?c.initialization=u&&HE(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var l={template:c,segmentTimeline:a&&FE(a,"S").map((function(e){return HE(e)})),list:r&&cE(HE(r),{segmentUrls:n,initialization:HE(u)}),base:i&&cE(HE(i),{initialization:HE(u)})};return Object.keys(l).forEach((function(e){l[e]||delete l[e]})),l},YE=function(e,t){return function(r,n){var i=KE(t,FE(r.node,"BaseURL")),o=cE(e,{periodStart:r.attributes.start});"number"==typeof r.attributes.duration&&(o.periodDuration=r.attributes.duration);var a=FE(r.node,"AdaptationSet"),s=XE(r.node);return dE(a.map(function(e,t,r){return function(n){var i,o=HE(n),a=KE(t,FE(n,"BaseURL")),s=FE(n,"Role")[0],u={role:HE(s)},c=cE(e,o,u),l=FE(n,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(i=HE(l)).schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map((function(e){var t,r;if(r=e,/^CC\d=/.test(e)){var n=e.split("=");t=n[0],r=n[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:r}})):"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?("string"!=typeof i.value?[]:i.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var r=e.split("="),n=r[0],i=r[1],o=void 0===i?"":i;t.channel=n,t.language=e,o.split(",").forEach((function(e){var r=e.split(":"),n=r[0],i=r[1];"lang"===n?t.language=i:"er"===n?t.easyReader=Number(i):"war"===n?t.aspectRatio=Number(i):"3D"===n&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;d&&(c=cE(c,{captionServices:d}));var p=FE(n,"Label")[0];if(p&&p.childNodes.length){var f=p.childNodes[0].nodeValue.trim();c=cE(c,{label:f})}var h=FE(n,"ContentProtection").reduce((function(e,t){var r=HE(t),n=GE[r.schemeIdUri];if(n){e[n]={attributes:r};var i=FE(t,"cenc:pssh")[0];if(i){var o=VE(i),a=o&&UA(o);e[n].pssh=a}}return e}),{});Object.keys(h).length&&(c=cE(c,{contentProtection:h}));var g=XE(n),m=FE(n,"Representation"),v=cE(r,g);return dE(m.map(function(e,t,r){return function(n){var i=FE(n,"BaseURL"),o=KE(t,i),a=cE(e,HE(n)),s=XE(n);return o.map((function(e){return{segmentInfo:cE(r,s),attributes:cE(a,{baseUrl:e})}}))}}(c,a,v)))}}(o,i,s)))}},$E=function(e){if(""===e)throw new Error("DASH_EMPTY_MANIFEST");var t,r,n=new sE.DOMParser;try{r=(t=n.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return r},JE=__webpack_require__(4221),QE=__webpack_require__.n(JE),ZE=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||function(e){return ArrayBuffer.isView(e)}(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},eO=fA().BigInt||Number,tO=[eO("0x1"),eO("0x100"),eO("0x10000"),eO("0x1000000"),eO("0x100000000"),eO("0x10000000000"),eO("0x1000000000000"),eO("0x100000000000000"),eO("0x10000000000000000")],rO=(LA=new Uint16Array([65484]),255===(NA=new Uint8Array(LA.buffer,LA.byteOffset,LA.byteLength))[0]||NA[0],function(e,t){var r=void 0===t?{}:t,n=r.signed,i=void 0!==n&&n,o=r.le,a=void 0!==o&&o;e=ZE(e);var s=a?"reduce":"reduceRight",u=(e[s]?e[s]:Array.prototype[s]).call(e,(function(t,r,n){var i=a?n:Math.abs(n+1-e.length);return t+eO(r)*tO[i]}),eO(0));if(i){var c=tO[e.length]/eO(2)-eO(1);(u=eO(u))>c&&(u-=c,u-=c,u-=eO(2))}return Number(u)}),nO=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},iO=function(e,t,r){var n=void 0===r?{}:r,i=n.offset,o=void 0===i?0:i,a=n.mask,s=void 0===a?[]:a;e=ZE(e);var u=(t=ZE(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&u.call(t,(function(t,r){return t===(s[r]?s[r]&e[o+r]:e[o+r])}))},oO=ZE([73,68,51]),aO=function e(t,r){return void 0===r&&(r=0),(t=ZE(t)).length-r<10||!iO(t,oO,{offset:r})?r:(r+=function(e,t){void 0===t&&(t=0);var r=(e=ZE(e))[t+5],n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&r)>>4?n+20:n+10}(t,r),e(t,r))},sO=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?nO(e):e}),uO=function(e){e=ZE(e);for(var t=[],r=0;e.length>r;){var n=e[r],i=0,o=0,a=e[++o];for(o++;128&a;)i=(127&a)<<7,a=e[o],o++;i+=127&a;for(var s=0;s<BA.length;s++){var u=BA[s],c=u.id,l=u.parser;if(n===c){t.push(l(e.subarray(o,o+i)));break}}r+=i+o}return t};BA=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var r=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,ZE(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+r)),t.size+=r}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=uO(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:uO(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var cO=function e(t,r,n){void 0===n&&(n=!1),r=function(e){return Array.isArray(e)?e.map((function(e){return sO(e)})):[sO(e)]}(r),t=ZE(t);var i=[];if(!r.length)return i;for(var o=0;o<t.length;){var a=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,s=t.subarray(o+4,o+8);if(0===a)break;var u=o+a;if(u>t.length){if(n)break;u=t.length}var c=t.subarray(o+8,u);iO(s,r[0])&&(1===r.length?i.push(c):i.push.apply(i,e(c,r.slice(1),n))),o=u}return i},lO={EBML:ZE([26,69,223,163]),DocType:ZE([66,130]),Segment:ZE([24,83,128,103]),SegmentInfo:ZE([21,73,169,102]),Tracks:ZE([22,84,174,107]),Track:ZE([174]),TrackNumber:ZE([215]),DefaultDuration:ZE([35,227,131]),TrackEntry:ZE([174]),TrackType:ZE([131]),FlagDefault:ZE([136]),CodecID:ZE([134]),CodecPrivate:ZE([99,162]),VideoTrack:ZE([224]),AudioTrack:ZE([225]),Cluster:ZE([31,67,182,117]),Timestamp:ZE([231]),TimestampScale:ZE([42,215,177]),BlockGroup:ZE([160]),BlockDuration:ZE([155]),Block:ZE([161]),SimpleBlock:ZE([163])},dO=[128,64,32,16,8,4,2,1],pO=function(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n=!1);var i=function(e){for(var t=1,r=0;r<dO.length&&!(e&dO[r]);r++)t++;return t}(e[t]),o=e.subarray(t,t+i);return r&&((o=Array.prototype.slice.call(e,t,t+i))[0]^=dO[i-1]),{length:i,value:rO(o,{signed:n}),bytes:o}},fO=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?function(e,t){var r=(void 0===t?{}:t).le,n=void 0!==r&&r;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var i,o=(i=e=eO(e),Math.ceil(function(e){return e.toString(2).length}(i)/8)),a=new Uint8Array(new ArrayBuffer(o)),s=0;s<o;s++){var u=n?s:Math.abs(s+1-a.length);a[u]=Number(e/tO[s]&eO(255)),e<0&&(a[u]=Math.abs(~a[u]),a[u]-=0===s?1:2)}return a}(t):t},hO=function e(t,r,n){if(n>=r.length)return r.length;var i=pO(r,n,!1);if(iO(t.bytes,i.bytes))return n;var o=pO(r,n+i.length);return e(t,r,n+o.length+o.value+i.length)},gO=function e(t,r){r=function(e){return Array.isArray(e)?e.map((function(e){return fO(e)})):[fO(e)]}(r),t=ZE(t);var n=[];if(!r.length)return n;for(var i=0;i<t.length;){var o=pO(t,i,!1),a=pO(t,i+o.length),s=i+o.length+a.length;127===a.value&&(a.value=hO(o,t,s),a.value!==t.length&&(a.value-=s));var u=s+a.value>t.length?t.length:s+a.value,c=t.subarray(s,u);iO(r[0],o.bytes)&&(1===r.length?n.push(c):n=n.concat(e(c,r.slice(1)))),i+=o.length+a.length+c.length}return n},mO=ZE([0,0,0,1]),vO=ZE([0,0,1]),yO=ZE([0,0,3]),bO=function(e){for(var t=[],r=1;r<e.length-2;)iO(e.subarray(r,r+3),yO)&&(t.push(r+2),r++),r++;if(0===t.length)return e;var n=e.length-t.length,i=new Uint8Array(n),o=0;for(r=0;r<n;o++,r++)o===t[0]&&(o++,t.shift()),i[r]=e[o];return i},_O=function(e,t,r,n){void 0===n&&(n=1/0),e=ZE(e),r=[].concat(r);for(var i,o=0,a=0;o<e.length&&(a<n||i);){var s=void 0;if(iO(e.subarray(o),mO)?s=4:iO(e.subarray(o),vO)&&(s=3),s){if(a++,i)return bO(e.subarray(i,o));var u=void 0;"h264"===t?u=31&e[o+s]:"h265"===t&&(u=e[o+s]>>1&63),-1!==r.indexOf(u)&&(i=o+s),o+=s+("h264"===t?1:2)}else o++}return e.subarray(0,0)},wO={webm:ZE([119,101,98,109]),matroska:ZE([109,97,116,114,111,115,107,97]),flac:ZE([102,76,97,67]),ogg:ZE([79,103,103,83]),ac3:ZE([11,119]),riff:ZE([82,73,70,70]),avi:ZE([65,86,73]),wav:ZE([87,65,86,69]),"3gp":ZE([102,116,121,112,51,103]),mp4:ZE([102,116,121,112]),fmp4:ZE([115,116,121,112]),mov:ZE([102,116,121,112,113,116]),moov:ZE([109,111,111,118]),moof:ZE([109,111,111,102])},SO={aac:function(e){var t=aO(e);return iO(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=aO(e);return iO(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=gO(e,[lO.EBML,lO.DocType])[0];return iO(t,wO.webm)},mkv:function(e){var t=gO(e,[lO.EBML,lO.DocType])[0];return iO(t,wO.matroska)},mp4:function(e){return!SO["3gp"](e)&&!SO.mov(e)&&(!(!iO(e,wO.mp4,{offset:4})&&!iO(e,wO.fmp4,{offset:4}))||!(!iO(e,wO.moof,{offset:4})&&!iO(e,wO.moov,{offset:4}))||void 0)},mov:function(e){return iO(e,wO.mov,{offset:4})},"3gp":function(e){return iO(e,wO["3gp"],{offset:4})},ac3:function(e){var t=aO(e);return iO(e,wO.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=aO(e);return iO(e,wO.flac,{offset:t})},ogg:function(e){return iO(e,wO.ogg)},avi:function(e){return iO(e,wO.riff)&&iO(e,wO.avi,{offset:8})},wav:function(e){return iO(e,wO.riff)&&iO(e,wO.wav,{offset:8})},h264:function(e){return function(e,t,r){return _O(e,"h264",7,3)}(e).length},h265:function(e){return function(e,t,r){return _O(e,"h265",[32,33],3)}(e).length}},TO=Object.keys(SO).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);TO.forEach((function(e){var t=SO[e];SO[e]=function(e){return t(ZE(e))}}));for(var IO,kO=SO,AO=function(e){e=ZE(e);for(var t=0;t<TO.length;t++){var r=TO[t];if(kO[r](e))return r}return""},EO=__webpack_require__(1489),OO="7.18.0-mol.1",CO={},PO=function(e,t){return CO[e]=CO[e]||[],t&&(CO[e]=CO[e].concat(t)),CO[e]},xO=function(e,t){var r=PO(e).indexOf(t);return!(r<=-1||(CO[e]=CO[e].slice(),CO[e].splice(r,1),0))},DO={prefixed:!0},jO=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],RO=jO[0],MO=0;MO<jO.length;MO++)if(jO[MO][1]in gA()){IO=jO[MO];break}if(IO){for(var UO=0;UO<IO.length;UO++)DO[RO[UO]]=IO[UO];DO.prefixed=IO[0]!==RO[0]}var LO=[],NO=function e(t){var r,n="info",i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r("log",n,t)};return r=function(e,t){return function(r,n,i){var o=t.levels[n],a=new RegExp("^("+o+")$");if("log"!==r&&i.unshift(r.toUpperCase()+":"),i.unshift(e+":"),LO){LO.push([].concat(i));var s=LO.length-1e3;LO.splice(0,s>0?s:0)}if(fA().console){var u=fA().console[r];u||"debug"!==r||(u=fA().console.info||fA().console.log),u&&o&&a.test(r)&&u[Array.isArray(i)?"apply":"call"](fA().console,i)}}}(t,i),i.createLogger=function(r){return e(t+": "+r)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');n=e}return n},(i.history=function(){return LO?[].concat(LO):[]}).filter=function(e){return(LO||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},i.history.clear=function(){LO&&(LO.length=0)},i.history.disable=function(){null!==LO&&(LO.length=0,LO=null)},i.history.enable=function(){null===LO&&(LO=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",n,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",n,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",n,t)},i}("VIDEOJS"),BO=NO.createLogger,qO=Object.prototype.toString,FO=function(e){return WO(e)?Object.keys(e):[]};function VO(e,t){FO(e).forEach((function(r){return t(e[r],r)}))}function zO(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign?mA.apply(void 0,[e].concat(r)):(r.forEach((function(t){t&&VO(t,(function(t,r){e[r]=t}))})),e)}function WO(e){return!!e&&"object"==typeof e}function HO(e){return WO(e)&&"[object Object]"===qO.call(e)&&e.constructor===Object}function GO(e,t){if(!e||!t)return"";if("function"==typeof fA().getComputedStyle){var r;try{r=fA().getComputedStyle(e)}catch(e){return""}return r?r.getPropertyValue(t)||r[t]:""}return""}var KO,XO,YO,$O=fA().navigator&&fA().navigator.userAgent||"",JO=/AppleWebKit\/([\d.]+)/i.exec($O),QO=JO?parseFloat(JO.pop()):null,ZO=/iPod/i.test($O),eC=(KO=$O.match(/OS (\d+)_/i))&&KO[1]?KO[1]:null,tC=/Android/i.test($O),rC=function(){var e=$O.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),nC=tC&&rC<5&&QO<537,iC=/Firefox/i.test($O),oC=/Edg/i.test($O),aC=!oC&&(/Chrome/i.test($O)||/CriOS/i.test($O)),sC=function(){var e=$O.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),uC=(XO=/MSIE\s(\d+)\.\d/.exec($O),!(YO=XO&&parseFloat(XO[1]))&&/Trident\/7.0/i.test($O)&&/rv:11.0/.test($O)&&(YO=11),YO),cC=/Safari/i.test($O)&&!aC&&!tC&&!oC,lC=/Windows/i.test($O),dC=Boolean(bC()&&("ontouchstart"in fA()||fA().navigator.maxTouchPoints||fA().DocumentTouch&&fA().document instanceof fA().DocumentTouch)),pC=/iPad/i.test($O)||cC&&dC&&!/iPhone/i.test($O),fC=/iPhone/i.test($O)&&!pC,hC=fC||pC||ZO,gC=(cC||hC)&&!aC,mC=Object.freeze({__proto__:null,IS_IPOD:ZO,IOS_VERSION:eC,IS_ANDROID:tC,ANDROID_VERSION:rC,IS_NATIVE_ANDROID:nC,IS_FIREFOX:iC,IS_EDGE:oC,IS_CHROME:aC,CHROME_VERSION:sC,IE_VERSION:uC,IS_SAFARI:cC,IS_WINDOWS:lC,TOUCH_ENABLED:dC,IS_IPAD:pC,IS_IPHONE:fC,IS_IOS:hC,IS_ANY_SAFARI:gC});function vC(e){return"string"==typeof e&&Boolean(e.trim())}function yC(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function bC(){return gA()===fA().document}function _C(e){return WO(e)&&1===e.nodeType}function wC(){try{return fA().parent!==fA().self}catch(e){return!0}}function SC(e){return function(t,r){if(!vC(t))return gA()[e](null);vC(r)&&(r=gA().querySelector(r));var n=_C(r)?r:gA();return n[e]&&n[e](t)}}function TC(e,t,r,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===r&&(r={});var i=gA().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(NO.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+r+"."),i.setAttribute(e,r)):"textContent"===e?IC(i,r):i[e]===r&&"tabIndex"!==e||(i[e]=r)})),Object.getOwnPropertyNames(r).forEach((function(e){i.setAttribute(e,r[e])})),n&&zC(i,n),i}function IC(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function kC(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function AC(e,t){return yC(t),e.classList?e.classList.contains(t):(r=t,new RegExp("(^|\\s)"+r+"($|\\s)")).test(e.className);var r}function EC(e,t){return e.classList?e.classList.add(t):AC(e,t)||(e.className=(e.className+" "+t).trim()),e}function OC(e,t){return e?(e.classList?e.classList.remove(t):(yC(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(NO.warn("removeClass was called with an element that doesn't exist"),null)}function CC(e,t,r){var n=AC(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?EC(e,t):OC(e,t),e}function PC(e,t){Object.getOwnPropertyNames(t).forEach((function(r){var n=t[r];null==n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)}))}function xC(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,n=r.length-1;n>=0;n--){var i=r[n].name,o=r[n].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function DC(e,t){return e.getAttribute(t)}function jC(e,t,r){e.setAttribute(t,r)}function RC(e,t){e.removeAttribute(t)}function MC(){gA().body.focus(),gA().onselectstart=function(){return!1}}function UC(){gA().onselectstart=function(){return!0}}function LC(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(r[e]=t[e])})),r.height||(r.height=parseFloat(GO(e,"height"))),r.width||(r.width=parseFloat(GO(e,"width"))),r}}function NC(e){var t=LC(e)||function(){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,r=e.offsetHeight,n=0,i=0;e.offsetParent&&e!==gA()[DO.fullscreenElement];)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:n,top:i,width:t,height:r}}();return{left:t.left,top:t.top,width:t.width,height:t.height}}function BC(e,t){var r={x:0,y:0};if(hC)for(var n=e;n&&"html"!==n.nodeName.toLowerCase();){var i=GO(n,"transform");if(/^matrix/.test(i)){var o=i.slice(7,-1).split(/,\s/).map(Number);r.x+=o[4],r.y+=o[5]}else if(/^matrix3d/.test(i)){var a=i.slice(9,-1).split(/,\s/).map(Number);r.x+=a[12],r.y+=a[13]}n=n.parentNode}var s={},u=NC(t.target),c=NC(e),l=c.width,d=c.height,p=t.offsetY-(c.top-u.top),f=t.offsetX-(c.left-u.left);return t.changedTouches&&(f=t.changedTouches[0].pageX-c.left,p=t.changedTouches[0].pageY+c.top,hC&&(f-=r.x,p-=r.y)),s.y=1-Math.max(0,Math.min(1,p/d)),s.x=Math.max(0,Math.min(1,f/l)),s}function qC(e){return WO(e)&&3===e.nodeType}function FC(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function VC(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),_C(e)||qC(e)?e:"string"==typeof e&&/\S/.test(e)?gA().createTextNode(e):void 0})).filter((function(e){return e}))}function zC(e,t){return VC(t).forEach((function(t){return e.appendChild(t)})),e}function WC(e,t){return zC(FC(e),t)}function HC(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var GC,KC=SC("querySelector"),XC=SC("querySelectorAll"),YC=Object.freeze({__proto__:null,isReal:bC,isEl:_C,isInFrame:wC,createEl:TC,textContent:IC,prependTo:kC,hasClass:AC,addClass:EC,removeClass:OC,toggleClass:CC,setAttributes:PC,getAttributes:xC,getAttribute:DC,setAttribute:jC,removeAttribute:RC,blockTextSelection:MC,unblockTextSelection:UC,getBoundingClientRect:LC,findPosition:NC,getPointerPosition:BC,isTextNode:qC,emptyEl:FC,normalizeContent:VC,appendContent:zC,insertContent:WC,isSingleLeftClick:HC,$:KC,$$:XC}),$C=!1,JC=function(){if(!1!==GC.options.autoSetup){var e=Array.prototype.slice.call(gA().getElementsByTagName("video")),t=Array.prototype.slice.call(gA().getElementsByTagName("audio")),r=Array.prototype.slice.call(gA().getElementsByTagName("video-js")),n=e.concat(t,r);if(n&&n.length>0)for(var i=0,o=n.length;i<o;i++){var a=n[i];if(!a||!a.getAttribute){QC(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&GC(a)}else $C||QC(1)}};function QC(e,t){bC()&&(t&&(GC=t),fA().setTimeout(JC,e))}function ZC(){$C=!0,fA().removeEventListener("load",ZC)}bC()&&("complete"===gA().readyState?ZC():fA().addEventListener("load",ZC));var eP,tP=function(e){var t=gA().createElement("style");return t.className=e,t},rP=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},nP=3;function iP(){return nP++}fA().WeakMap||(eP=function(){function e(){this.vdata="vdata"+Math.floor(fA().performance&&fA().performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var r=e[this.vdata]||iP();return e[this.vdata]||(e[this.vdata]=r),this.data[r]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];NO("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var oP,aP=fA().WeakMap?new WeakMap:new eP;function sP(e,t){if(aP.has(e)){var r=aP.get(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&aP.delete(e)}}function uP(e,t,r,n){r.forEach((function(r){e(t,r,n)}))}function cP(e){if(e.fixed_)return e;function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var n=e||fA().event;for(var i in e={},n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||gA()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var o=gA().documentElement,a=gA().body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var lP=["touchstart","touchmove"];function dP(e,t,r){if(Array.isArray(t))return uP(dP,e,t,r);aP.has(e)||aP.set(e,{});var n=aP.get(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=iP()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=cP(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,r)}catch(e){NO.error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){var i=!1;(function(){if("boolean"!=typeof oP){oP=!1;try{var e=Object.defineProperty({},"passive",{get:function(){oP=!0}});fA().addEventListener("test",null,e),fA().removeEventListener("test",null,e)}catch(e){}}return oP})()&&lP.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function pP(e,t,r){if(aP.has(e)){var n=aP.get(e);if(n.handlers){if(Array.isArray(t))return uP(pP,e,t,r);var i=function(e,t){n.handlers[t]=[],sP(e,t)};if(void 0!==t){var o=n.handlers[t];if(o)if(r){if(r.guid)for(var a=0;a<o.length;a++)o[a].guid===r.guid&&o.splice(a--,1);sP(e,t)}else i(e,t)}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(e,s)}}}function fP(e,t,r){var n=aP.has(e)?aP.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=cP(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)fP.call(null,i,t,r);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){aP.has(t.target)||aP.set(t.target,{});var o=aP.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function hP(e,t,r){if(Array.isArray(t))return uP(hP,e,t,r);var n=function n(){pP(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||iP(),dP(e,t,n)}function gP(e,t,r){var n=function n(){pP(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||iP(),dP(e,t,n)}var mP,vP=Object.freeze({__proto__:null,fixEvent:cP,on:dP,off:pP,trigger:fP,one:hP,any:gP}),yP=30,bP=function(e,t,r){t.guid||(t.guid=iP());var n=t.bind(e);return n.guid=r?r+"_"+t.guid:t.guid,n},_P=function(e,t){var r=fA().performance.now();return function(){var n=fA().performance.now();n-r>=t&&(e.apply(void 0,arguments),r=n)}},wP=function(){};wP.prototype.allowedEvents_={},wP.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},dP(this,e,t),this.addEventListener=r},wP.prototype.addEventListener=wP.prototype.on,wP.prototype.off=function(e,t){pP(this,e,t)},wP.prototype.removeEventListener=wP.prototype.off,wP.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},hP(this,e,t),this.addEventListener=r},wP.prototype.any=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},gP(this,e,t),this.addEventListener=r},wP.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=cP(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),fP(this,e)},wP.prototype.dispatchEvent=wP.prototype.trigger,wP.prototype.queueTrigger=function(e){var t=this;mP||(mP=new Map);var r=e.type||e,n=mP.get(this);n||(n=new Map,mP.set(this,n));var i=n.get(r);n.delete(r),fA().clearTimeout(i);var o=fA().setTimeout((function(){0===n.size&&(n=null,mP.delete(t)),t.trigger(e)}),0);n.set(r,o)};var SP=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},TP=function(e){return e instanceof wP||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},IP=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},kP=function(e,t,r){if(!e||!e.nodeName&&!TP(e))throw new Error("Invalid target for "+SP(t)+"#"+r+"; must be a DOM node or evented object.")},AP=function(e,t,r){if(!IP(e))throw new Error("Invalid event type for "+SP(t)+"#"+r+"; must be a non-empty string or array.")},EP=function(e,t,r){if("function"!=typeof e)throw new Error("Invalid listener for "+SP(t)+"#"+r+"; must be a function.")},OP=function(e,t,r){var n,i,o,a=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return a?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(n=t[0],i=t[1],o=t[2]),kP(n,e,r),AP(i,e,r),EP(o,e,r),{isTargetingSelf:a,target:n,type:i,listener:o=bP(e,o)}},CP=function(e,t,r,n){kP(e,e,t),e.nodeName?vP[t](e,r,n):e[t](r,n)},PP={on:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=OP(this,r,"on"),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(CP(a,"on",s,u),!o){var c=function(){return e.off(a,s,u)};c.guid=u.guid;var l=function(){return e.off("dispose",c)};l.guid=u.guid,CP(this,"on","dispose",c),CP(a,"on","dispose",l)}},one:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=OP(this,r,"one"),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)CP(a,"one",s,u);else{var c=function t(){e.off(a,s,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];u.apply(null,n)};c.guid=u.guid,CP(a,"one",s,c)}},any:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=OP(this,r,"any"),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)CP(a,"any",s,u);else{var c=function t(){e.off(a,s,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];u.apply(null,n)};c.guid=u.guid,CP(a,"any",s,c)}},off:function(e,t,r){if(!e||IP(e))pP(this.eventBusEl_,e,t);else{var n=e,i=t;kP(n,this,"off"),AP(i,this,"off"),EP(r,this,"off"),r=bP(this,r),this.off("dispose",r),n.nodeName?(pP(n,i,r),pP(n,"dispose",r)):TP(n)&&(n.off(i,r),n.off("dispose",r))}},trigger:function(e,t){kP(this.eventBusEl_,this,"trigger");var r=e&&"string"!=typeof e?e.type:e;if(!IP(r)){var n="Invalid event type for "+SP(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(n);(this.log||NO).error(n)}return fP(this.eventBusEl_,e,t)}};function xP(e,t){void 0===t&&(t={});var r=t.eventBusKey;if(r){if(!e[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');e.eventBusEl_=e[r]}else e.eventBusEl_=TC("span",{className:"vjs-event-bus"});return zO(e,PP),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&aP.has(e)&&aP.delete(e)})),fA().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var DP={state:{},setState:function(e){var t,r=this;return"function"==typeof e&&(e=e()),VO(e,(function(e,n){r.state[n]!==e&&((t=t||{})[n]={from:r.state[n],to:e}),r.state[n]=e})),t&&TP(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function jP(e,t){return zO(e,DP),e.state=zO({},e.state,t),"function"==typeof e.handleStateChanged&&TP(e)&&e.on("statechanged",e.handleStateChanged),e}var RP=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},MP=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function UP(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){t&&VO(t,(function(t,r){HO(t)?(HO(e[r])||(e[r]={}),e[r]=UP(e[r],t)):e[r]=t}))})),e}var LP=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var r in this.map_)e.call(t,this.map_[r],r,this)},e}(),NP=fA().Map?fA().Map:LP,BP=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var r in this.set_)e.call(t,r,r,this)},e}(),qP=fA().Set?fA().Set:BP,FP=function(){function e(e,t,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=UP({},this.options_),t=this.options_=UP(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+iP()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&(xP(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),jP(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new qP,this.setIntervalIds_=new qP,this.rafIds_=new qP,this.namedRafs_=new NP,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(r),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=UP(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,r){return TC(e,t,r)},t.localize=function(e,t,r){void 0===r&&(r=e);var n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],u=r;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,(function(e,r){var n=t[r-1],i=n;return void 0===n&&(i=e),i}))),u},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var n=this,i=0;i<t.length;i++)if(!(n=n.getChild(t[i]))||!n.getChild)return;return n},t.addChild=function(t,r,n){var i,o;if(void 0===r&&(r={}),void 0===n&&(n=this.children_.length),"string"==typeof t){o=MP(t);var a=r.componentClass||o;r.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,r)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&MP(i.name()))&&(this.childNameIndex_[o]=i,this.childNameIndex_[RP(o)]=i),"function"==typeof i.el&&i.el()){var u=null;this.children_[n+1]&&(this.children_[n+1].el_?u=this.children_[n+1].el_:_C(this.children_[n+1])&&(u=this.children_[n+1])),this.contentEl().insertBefore(i.el(),u)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[MP(e.name())]=null,this.childNameIndex_[RP(e.name())]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,r=this.options_.children;if(r){var n,i=this.options_,o=e.getComponent("Tech");(n=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter((function(e){return!n.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var n,i;return"string"==typeof e?i=r[n=e]||t.options_[n]||{}:(n=e.name,i=e),{name:n,opts:i}})).filter((function(t){var r=e.getComponent(t.opts.componentClass||MP(t.name));return r&&!o.isTech(r)})).forEach((function(e){var r=e.name,n=e.opts;if(void 0!==i[r]&&(n=i[r]),!1!==n){!0===n&&(n={}),n.playerOptions=t.options_.playerOptions;var o=t.addChild(r,n);o&&(t[r]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return KC(e,t||this.contentEl())},t.$$=function(e,t){return XC(e,t||this.contentEl())},t.hasClass=function(e){return AC(this.el_,e)},t.addClass=function(e){EC(this.el_,e)},t.removeClass=function(e){OC(this.el_,e)},t.toggleClass=function(e,t){CC(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return DC(this.el_,e)},t.setAttribute=function(e,t){jC(this.el_,e,t)},t.removeAttribute=function(e){RC(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,r){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+MP(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=GO(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var r="offset"+MP(e);t=this.el_[r]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,r=null;this.on("touchstart",(function(n){1===n.touches.length&&(r={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=fA().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(r){var n=t.touches[0].pageX-r.pageX,i=t.touches[0].pageY-r.pageY;Math.sqrt(n*n+i*i)>10&&(e=!1)}}));var n=function(){e=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",(function(n){r=null,!0===e&&fA().performance.now()-t<200&&(n.preventDefault(),this.trigger("tap"))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=bP(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var r=function(r){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}},t.setTimeout=function(e,t){var r,n=this;return e=bP(this,e),this.clearTimersOnDispose_(),r=fA().setTimeout((function(){n.setTimeoutIds_.has(r)&&n.setTimeoutIds_.delete(r),e()}),t),this.setTimeoutIds_.add(r),r},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),fA().clearTimeout(e)),e},t.setInterval=function(e,t){e=bP(this,e),this.clearTimersOnDispose_();var r=fA().setInterval(e,t);return this.setIntervalIds_.add(r),r},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),fA().clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,r=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=bP(this,e),t=fA().requestAnimationFrame((function(){r.rafIds_.has(t)&&r.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var r=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=bP(this,t);var n=this.requestAnimationFrame((function(){t(),r.namedRafs_.has(e)&&r.namedRafs_.delete(e)}));return this.namedRafs_.set(e,n),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),fA().cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var r=t[0],n=t[1];e[r].forEach((function(t,r){return e[n](r)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,r){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=e.getComponent("Tech"),i=n&&n.isTech(r),o=e===r||e.prototype.isPrototypeOf(r.prototype);if(i||!o)throw new Error('Illegal component, "'+t+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=MP(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,u=Object.keys(s);if(s&&u.length>0&&u.map((function(e){return s[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=r,e.components_[RP(t)]=r,r},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function VP(e,t,r,n){return function(e,t,r){if("number"!=typeof t||t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}(e,n,r.length-1),r[n][t]}function zP(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:VP.bind(null,"start",0,e),end:VP.bind(null,"end",1,e)},fA().Symbol&&fA().Symbol.iterator&&(t[fA().Symbol.iterator]=function(){return(e||[]).values()}),t}function WP(e,t){return Array.isArray(e)?zP(e):void 0===e||void 0===t?zP():zP([[e,t]])}function HP(e,t){var r,n,i=0;if(!t)return 0;e&&e.length||(e=WP(0,0));for(var o=0;o<e.length;o++)r=e.start(o),(n=e.end(o))>t&&(n=t),i+=n-r;return i/t}function GP(e){if(e instanceof GP)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:WO(e)&&("number"==typeof e.code&&(this.code=e.code),zO(this,e)),this.message||(this.message=GP.defaultMessages[this.code]||"")}FP.prototype.supportsRaf_="function"==typeof fA().requestAnimationFrame&&"function"==typeof fA().cancelAnimationFrame,FP.registerComponent("Component",FP),GP.prototype.code=0,GP.prototype.message="",GP.prototype.status=null,GP.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],GP.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var KP=0;KP<GP.errorTypes.length;KP++)GP[GP.errorTypes[KP]]=KP,GP.prototype[GP.errorTypes[KP]]=KP;function XP(e){return null!=e&&"function"==typeof e.then}function YP(e){XP(e)&&e.then(null,(function(e){}))}var $P=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,r,n){return e[r]&&(t[r]=e[r]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},JP=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleKeyDown_=function(e){return n.handleKeyDown(e)},n.close_=function(e){return n.close(e)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=TC("div",{className:"vjs-modal-dialog-content"},{role:"document"}),n.descEl_=TC("p",{className:"vjs-modal-dialog-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),IC(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},r.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close_)}!t&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),WC(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);var i=this.getChild("closeButton");i&&r.appendChild(i.el_)},r.empty=function(){this.trigger("beforemodalempty"),FC(this.contentEl()),this.trigger("modalempty")},r.content=function(e){return void 0!==e&&(this.content_=e),this.content_},r.conditionalFocus_=function(){var e=gA().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(e){if(e.stopPropagation(),TA().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(TA().isEventKey(e,"Tab")){for(var t,r=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=0;i<r.length;i++)if(n===r[i]){t=i;break}gA().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(r[r.length-1].focus(),e.preventDefault()):e.shiftKey||t!==r.length-1||(r[0].focus(),e.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof fA().HTMLAnchorElement||e instanceof fA().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof fA().HTMLInputElement||e instanceof fA().HTMLSelectElement||e instanceof fA().HTMLTextAreaElement||e instanceof fA().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof fA().HTMLIFrameElement||e instanceof fA().HTMLObjectElement||e instanceof fA().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(FP);JP.prototype.options_={pauseOnOpen:!0,temporary:!0},FP.registerComponent("ModalDialog",JP);var QP=function(e){function t(t){var r;void 0===t&&(t=[]),(r=e.call(this)||this).tracks_=[],Object.defineProperty(vA(r),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<t.length;n++)r.addTrack(t[n]);return r}bA(t,e);var r=t.prototype;return r.addTrack=function(e){var t=this,r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.tracks_[r]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},TP(e)&&e.addEventListener("labelchange",e.labelchange_)},r.removeTrack=function(e){for(var t,r=0,n=this.length;r<n;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},r.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(wP);for(var ZP in QP.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},QP.prototype.allowedEvents_)QP.prototype["on"+ZP]=null;var ex=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].enabled=!1)},tx=function(e){function t(t){var r;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].enabled){ex(t,t[n]);break}return(r=e.call(this,t)||this).changing_=!1,r}bA(t,e);var r=t.prototype;return r.addTrack=function(t){var r=this;t.enabled&&ex(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){r.changing_||(r.changing_=!0,ex(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},r.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(QP),rx=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].selected=!1)},nx=function(e){function t(t){var r;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].selected){rx(t,t[n]);break}return(r=e.call(this,t)||this).changing_=!1,Object.defineProperty(vA(r),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}bA(t,e);var r=t.prototype;return r.addTrack=function(t){var r=this;t.selected&&rx(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){r.changing_||(r.changing_=!0,rx(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},r.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(QP),ix=function(e){function t(){return e.apply(this,arguments)||this}bA(t,e);var r=t.prototype;return r.addTrack=function(t){var r=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return r.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(QP),ox=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},t.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),ax=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},t.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}(),sx={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ux={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},cx={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},lx={disabled:"disabled",hidden:"hidden",showing:"showing"},dx=function(e){function t(t){var r;void 0===t&&(t={}),r=e.call(this)||this;var n={id:t.id||"vjs_track_"+iP(),kind:t.kind||"",language:t.language||""},i=t.label||"",o=function(e){Object.defineProperty(vA(r),e,{get:function(){return n[e]},set:function(){}})};for(var a in n)o(a);return Object.defineProperty(vA(r),"label",{get:function(){return i},set:function(e){e!==i&&(i=e,this.trigger("labelchange"))}}),r}return bA(t,e),t}(wP),px=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],r=gA().createElement("a");r.href=e;for(var n={},i=0;i<t.length;i++)n[t[i]]=r[t[i]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=fA().location.protocol),n.host||(n.host=fA().location.host),n},fx=function(e){if(!e.match(/^https?:\/\//)){var t=gA().createElement("a");t.href=e,e=t.href}return e},hx=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},gx=function(e,t){void 0===t&&(t=fA().location);var r=px(e);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host},mx=Object.freeze({__proto__:null,parseUrl:px,getAbsoluteURL:fx,getFileExtension:hx,isCrossOrigin:gx}),vx=function(e,t){var r=new(fA().WebVTT.Parser)(fA(),fA().vttjs,fA().WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),n.length>0&&(fA().console&&fA().console.groupCollapsed&&fA().console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach((function(e){return NO.error(e)})),fA().console&&fA().console.groupEnd&&fA().console.groupEnd()),r.flush()},yx=function(e,t){var r={uri:e},n=gx(e);n&&(r.cors=n);var i="use-credentials"===t.tech_.crossOrigin();i&&(r.withCredentials=i),kA()(r,bP(this,(function(e,r,n){if(e)return NO.error(e,r);t.loaded_=!0,"function"!=typeof fA().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return vx(n,t);NO.error("vttjs failed to load, stopping trying to process "+t.src)})):vx(n,t)})))},bx=function(e){function t(t){var r;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var n=UP(t,{kind:cx[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=lx[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden"),(r=e.call(this,n)||this).tech_=n.tech,r.cues_=[],r.activeCues_=[],r.preload_=!1!==r.tech_.preloadTextTracks;var a=new ax(r.cues_),s=new ax(r.activeCues_),u=!1,c=bP(vA(r),(function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1))}));return r.tech_.one("dispose",(function(){r.tech_.off("timeupdate",c)})),"disabled"!==i&&r.tech_.on("timeupdate",c),Object.defineProperties(vA(r),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){lx[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||yx(this.src,this),this.tech_.off("timeupdate",c),"disabled"!==i&&this.tech_.on("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(u=!1,t.length!==this.activeCues_.length)u=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(u=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),n.src?(r.src=n.src,r.preload_||(r.loaded_=!0),(r.preload_||"subtitles"!==n.kind&&"captions"!==n.kind)&&yx(r.src,vA(r))):r.loaded_=!0,r}bA(t,e);var r=t.prototype;return r.addCue=function(e){var t=e;if(fA().vttjs&&!(e instanceof fA().vttjs.VTTCue)){for(var r in t=new(fA().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)r in t||(t[r]=e[r]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},r.removeCue=function(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(dx);bx.prototype.allowedEvents_={cuechange:"cuechange"};var _x=function(e){function t(t){var r;void 0===t&&(t={});var n=UP(t,{kind:ux[t.kind]||""});r=e.call(this,n)||this;var i=!1;return Object.defineProperty(vA(r),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),n.enabled&&(r.enabled=n.enabled),r.loaded_=!0,r}return bA(t,e),t}(dx),wx=function(e){function t(t){var r;void 0===t&&(t={});var n=UP(t,{kind:sx[t.kind]||""});r=e.call(this,n)||this;var i=!1;return Object.defineProperty(vA(r),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),n.selected&&(r.selected=n.selected),r}return bA(t,e),t}(dx),Sx=function(e){function t(t){var r,n;void 0===t&&(t={}),r=e.call(this)||this;var i=new bx(t);return r.kind=i.kind,r.src=i.src,r.srclang=i.language,r.label=i.label,r.default=i.default,Object.defineProperties(vA(r),{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=0,i.addEventListener("loadeddata",(function(){n=2,r.trigger({type:"load",target:vA(r)})})),r}return bA(t,e),t}(wP);Sx.prototype.allowedEvents_={load:"load"},Sx.NONE=0,Sx.LOADING=1,Sx.LOADED=2,Sx.ERROR=3;var Tx={audio:{ListClass:tx,TrackClass:_x,capitalName:"Audio"},video:{ListClass:nx,TrackClass:wx,capitalName:"Video"},text:{ListClass:ix,TrackClass:bx,capitalName:"Text"}};Object.keys(Tx).forEach((function(e){Tx[e].getterName=e+"Tracks",Tx[e].privateName=e+"Tracks_"}));var Ix={remoteText:{ListClass:ix,TrackClass:bx,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ox,TrackClass:Sx,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},kx=mA({},Tx,Ix);Ix.names=Object.keys(Ix),Tx.names=Object.keys(Tx),kx.names=[].concat(Ix.names).concat(Tx.names);var Ax=function(e){function t(t,r){var n;return void 0===t&&(t={}),void 0===r&&(r=function(){}),t.reportTouchActivity=!1,(n=e.call(this,null,t,r)||this).onDurationChange_=function(e){return n.onDurationChange(e)},n.trackProgress_=function(e){return n.trackProgress(e)},n.trackCurrentTime_=function(e){return n.trackCurrentTime(e)},n.stopTrackingCurrentTime_=function(e){return n.stopTrackingCurrentTime(e)},n.disposeSourceHandler_=function(e){return n.disposeSourceHandler(e)},n.hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),kx.names.forEach((function(e){var r=kx[e];t&&t[r.getterName]&&(n[r.privateName]=t[r.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==t.preloadTextTracks,n.autoRemoteTextTracks_=new kx.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}bA(t,e);var r=t.prototype;return r.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(bP(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},r.onDurationChange=function(e){this.duration_=this.duration()},r.buffered=function(){return WP(0,0)},r.bufferedPercent=function(){return HP(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Tx.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},r.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack(i)}}))},r.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(e){return void 0!==e&&(this.error_=new GP(e),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?WP(0,0):WP()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var e=this;Tx.names.forEach((function(t){var r=Tx[t],n=function(){e.trigger(t+"trackchange")},i=e[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))},r.addWebVttScript_=function(){var e=this;if(!fA().WebVTT)if(gA().body.contains(this.el())){if(!this.options_["vtt.js"]&&HO(EA())&&Object.keys(EA()).length>0)return void this.trigger("vttjsloaded");var t=gA().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),fA().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var e=this,t=this.textTracks(),r=this.remoteTextTracks(),n=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",o),"showing"===r.mode&&r.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){r.off("addtrack",n),r.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)}))},r.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,r,n,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var a=new kx.text.TrackClass(i);return o.addTrack(a),a}(this,e,t,r)},r.createRemoteTextTrack=function(e){var t=UP(e,{tech:this});return new Ix.remoteTextEl.TrackClass(t)},r.addRemoteTextTrack=function(e,t){var r=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(NO.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready((function(){return r.autoRemoteTextTracks_.addTrack(n.track)})),n},r.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var e=this.options_.Promise||fA().Promise;if(e)return e.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,r){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,r){if(t.techs_||(t.techs_={}),!t.isTech(r))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=MP(e),t.techs_[e]=r,t.techs_[RP(e)]=r,"Tech"!==e&&t.defaultTechOrder_.push(e),r},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=MP(e),fA()&&fA().videojs&&fA().videojs[e]?(NO.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),fA().videojs[e]):void 0)},t}(FP);kx.names.forEach((function(e){var t=kx[e];Ax.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Ax.prototype.featuresVolumeControl=!0,Ax.prototype.featuresMuteControl=!0,Ax.prototype.featuresFullscreenResize=!1,Ax.prototype.featuresPlaybackRate=!1,Ax.prototype.featuresProgressEvents=!1,Ax.prototype.featuresSourceset=!1,Ax.prototype.featuresTimeupdateEvents=!1,Ax.prototype.featuresNativeTextTracks=!1,Ax.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r,n=e.sourceHandlers||[],i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,r))return n[i];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""},["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:NO.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},FP.registerComponent("Tech",Ax),Ax.registerTech("Tech",Ax),Ax.defaultTechOrder_=[];var Ex={},Ox={},Cx={};function Px(e,t,r){e.setTimeout((function(){return Ux(t,Ex[t.type],r,e)}),1)}function xx(e,t,r,n){void 0===n&&(n=null);var i="call"+MP(r),o=e.reduce(Mx(i),n),a=o===Cx,s=a?null:t[r](o);return function(e,t,r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](n,r)}}(e,r,s,a),s}var Dx={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},jx={setCurrentTime:1,setMuted:1,setVolume:1},Rx={play:1,pause:1};function Mx(e){return function(t,r){return t===Cx?Cx:r[e]?r[e](t):t}}function Ux(e,t,r,n,i,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var a=t,s=a[0],u=a.slice(1);if("string"==typeof s)Ux(e,Ex[s],r,n,i,o);else if(s){var c=function(e,t){var r=Ox[e.id()],n=null;if(null==r)return n=t(e),Ox[e.id()]=[[t,n]],n;for(var i=0;i<r.length;i++){var o=r[i],a=o[0],s=o[1];a===t&&(n=s)}return null===n&&(n=t(e),r.push([t,n])),n}(n,s);if(!c.setSource)return i.push(c),Ux(e,u,r,n,i,o);c.setSource(zO({},e),(function(t,a){if(t)return Ux(e,u,r,n,i,o);i.push(c),Ux(a,e.type===a.type?u:Ex[a.type],r,n,i,o)}))}else u.length?Ux(e,u,r,n,i,o):o?r(e,i):Ux(e,Ex["*"],r,n,i,!0)}var Lx={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Nx=function(e){void 0===e&&(e="");var t=hx(e);return Lx[t.toLowerCase()]||""},Bx=function e(t){if(Array.isArray(t)){var r=[];t.forEach((function(t){t=e(t),Array.isArray(t)?r=r.concat(t):WO(t)&&r.push(t)})),t=r}else t="string"==typeof t&&t.trim()?[qx({src:t})]:WO(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[qx(t)]:[];return t};function qx(e){if(!e.type){var t=Nx(e.src);t&&(e.type=t)}return e}var Fx=function(e){function t(t,r,n){var i,o=UP({createEl:!1},r);if(i=e.call(this,t,o,n)||this,r.playerOptions.sources&&0!==r.playerOptions.sources.length)t.src(r.playerOptions.sources);else for(var a=0,s=r.playerOptions.techOrder;a<s.length;a++){var u=MP(s[a]),c=Ax.getTech(u);if(u||(c=FP.getComponent(u)),c&&c.isSupported()){t.loadTech_(u);break}}return i}return bA(t,e),t}(FP);FP.registerComponent("MediaLoader",Fx);var Vx=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleMouseOver_=function(e){return n.handleMouseOver(e)},n.handleMouseOut_=function(e){return n.handleMouseOut(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.emitTapEvents(),n.enable(),n}bA(t,e);var r=t.prototype;return r.createEl=function(e,t,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===r&&(r={}),t=zO({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&NO.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=zO({role:"button"},r),this.tabIndex_=t.tabIndex;var n=TC(e,t,r);return n.appendChild(TC("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n},r.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},r.createControlTextEl=function(e){return this.controlTextEl_=TC("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},r.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,IC(this.controlTextEl_,r),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",r)},r.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(t){TA().isEventKey(t,"Space")||TA().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(FP);FP.registerComponent("ClickableComponent",Vx);var zx=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update(),n.update_=function(e){return n.update(e)},t.on("posterchange",n.update_),n}bA(t,e);var r=t.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},r.createEl=function(){return TC("div",{className:"vjs-poster",tabIndex:-1})},r.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},r.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},r.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(uC||oC)&&t||this.player_.tech(!0).focus(),this.player_.paused()?YP(this.player_.play()):this.player_.pause()}},t}(Vx);FP.registerComponent("PosterImage",zx);var Wx={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Hx(e,t){var r;if(4===e.length)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");r=e.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function Gx(e,t,r){try{e.style[t]=r}catch(e){return}}var Kx=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var o=function(e){return i.updateDisplay(e)};return t.on("loadstart",(function(e){return i.toggleDisplay(e)})),t.on("texttrackchange",o),t.on("loadedmetadata",(function(e){return i.preselectTrack(e)})),t.ready(bP(vA(i),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),fA().addEventListener("orientationchange",o),t.on("dispose",(function(){return fA().removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],r=0;r<e.length;r++)this.player_.addRemoteTextTrack(e[r],!0);this.preselectTrack()}}))),i}bA(t,e);var r=t.prototype;return r.preselectTrack=function(){for(var e,t,r,n={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in n?s.kind===o.kind?r=s:r||(r=s):o&&!o.enabled?(r=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in n&&!t&&(t=s):e=s)}r?r.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){"function"==typeof fA().WebVTT&&fA().WebVTT.processCues(fA(),[],this.el_)},r.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var r=[],n=0;n<e.length;++n){var i=e[n];"showing"===i.mode&&r.push(i)}this.updateForTrack(r)}else{for(var o=null,a=null,s=e.length;s--;){var u=e[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},r.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),r=e.activeCues,n=r.length;n--;){var i=r[n];if(i){var o=i.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&Gx(o.firstChild,"color",Hx(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Gx(o.firstChild,"backgroundColor",Hx(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Gx(o,"backgroundColor",Hx(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var a=fA().parseFloat(o.style.fontSize);o.style.fontSize=a*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Wx[t.fontFamily])}}},r.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof fA().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=0;i<n.activeCues.length;++i)t.push(n.activeCues[i]);fA().WebVTT.processCues(fA(),t,this.el_);for(var o=0;o<e.length;++o){for(var a=e[o],s=0;s<a.activeCues.length;++s){var u=a.activeCues[s].displayState;EC(u,"vjs-text-track-cue"),EC(u,"vjs-text-track-cue-"+(a.language?a.language:o)),a.language&&jC(u,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},t}(FP);FP.registerComponent("TextTrackDisplay",Kx);var Xx=function(e){function t(){return e.apply(this,arguments)||this}return bA(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),r=this.localize(t?"Audio Player":"Video Player"),n=TC("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},t}(FP);FP.registerComponent("LoadingSpinner",Xx);var Yx=function(e){function t(){return e.apply(this,arguments)||this}bA(t,e);var r=t.prototype;return r.createEl=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=TC("button",t=zO({className:this.buildCSSClass()},t),r=zO({type:"button"},r));return n.appendChild(TC("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n},r.addChild=function(e,t){void 0===t&&(t={});var r=this.constructor.name;return NO.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),FP.prototype.addChild.call(this,e,t)},r.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(t){TA().isEventKey(t,"Space")||TA().isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Vx);FP.registerComponent("Button",Yx);var $x=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).mouseused_=!1,n.on("mousedown",(function(e){return n.handleMouseDown(e)})),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return YP(t),void(!this.player_.tech(!0)||(uC||oC)&&r||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var o=function(){return i.focus()};XP(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},r.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},r.handleMouseDown=function(e){this.mouseused_=!0},t}(Yx);$x.prototype.controlText_="Play Video",FP.registerComponent("BigPlayButton",$x);var Jx=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).controlText(r&&r.controlText||n.localize("Close")),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(t){TA().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Yx);FP.registerComponent("CloseButton",Jx);var Qx=function(e){function t(t,r){var n;return void 0===r&&(r={}),n=e.call(this,t,r)||this,r.replay=void 0===r.replay||r.replay,n.on(t,"play",(function(e){return n.handlePlay(e)})),n.on(t,"pause",(function(e){return n.handlePause(e)})),r.replay&&n.on(t,"ended",(function(e){return n.handleEnded(e)})),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.player_.paused()?YP(this.player_.play()):this.player_.pause()},r.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},r.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(Yx);Qx.prototype.controlText_="Play",FP.registerComponent("PlayToggle",Qx);var Zx=function(e,t){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),(i=i>0||a>0?i+":":"")+(n=((i||o>=10)&&n<10?"0"+n:n)+":")+(r<10?"0"+r:r)},eD=Zx;function tD(e,t){return void 0===t&&(t=e),eD(e,t)}var rD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,["timeupdate","ended"],(function(e){return n.updateContent(e)})),n.updateTextNode_(),n}bA(t,e);var r=t.prototype;return r.createEl=function(){var t=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),n=TC("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return r.appendChild(n),this.contentEl_=TC("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),r.appendChild(this.contentEl_),r},r.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},r.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=tD(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,NO.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=gA().createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},r.updateContent=function(e){},t}(FP);rD.prototype.labelText_="Time",rD.prototype.controlText_="Time",FP.registerComponent("TimeDisplay",rD);var nD=function(e){function t(){return e.apply(this,arguments)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(rD);nD.prototype.labelText_="Current Time",nD.prototype.controlText_="Current Time",FP.registerComponent("CurrentTimeDisplay",nD);var iD=function(e){function t(t,r){var n,i=function(e){return n.updateContent(e)};return(n=e.call(this,t,r)||this).on(t,"durationchange",i),n.on(t,"loadstart",i),n.on(t,"loadedmetadata",i),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(rD);iD.prototype.labelText_="Duration",iD.prototype.controlText_="Duration",FP.registerComponent("DurationDisplay",iD);var oD=function(e){function t(){return e.apply(this,arguments)||this}return bA(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=e.prototype.createEl.call(this,"div"),n=e.prototype.createEl.call(this,"span",{textContent:"/"});return r.appendChild(n),t.appendChild(r),t},t}(FP);FP.registerComponent("TimeDivider",oD);var aD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,"durationchange",(function(e){return n.updateContent(e)})),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(TC("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},r.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(rD);aD.prototype.labelText_="Remaining Time",aD.prototype.controlText_="Remaining Time",FP.registerComponent("RemainingTimeDisplay",aD);var sD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).updateShowing(),n.on(n.player(),"durationchange",(function(e){return n.updateShowing(e)})),n}bA(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=TC("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(TC("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(gA().createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},r.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},r.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(FP);FP.registerComponent("LiveDisplay",sD);var uD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).updateLiveEdgeStatus(),n.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(e){return n.updateLiveEdgeStatus(e)},n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatusHandler_)),n}bA(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=TC("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(Yx);uD.prototype.controlText_="Seek to live, currently playing live",FP.registerComponent("SeekToLive",uD);var cD=function(e,t,r){return e=Number(e),Math.min(r,Math.max(t,isNaN(e)?t:e))},lD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleMouseDown_=function(e){return n.handleMouseDown(e)},n.handleMouseUp_=function(e){return n.handleMouseUp(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleMouseMove_=function(e){return n.handleMouseMove(e)},n.update_=function(e){return n.update(e)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}bA(t,e);var r=t.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),r.className=r.className+" vjs-slider",r=zO({tabIndex:0},r),n=zO({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},r.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||aC||e.preventDefault(),MC(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},r.handleMouseMove=function(e){},r.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;UC(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var r=e.vertical()?"height":"width";e.bar.el().style[r]=(100*t).toFixed(2)+"%"}))),t}},r.getProgress=function(){return Number(cD(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(e){var t=BC(this.el_,e);return this.vertical()?t.y:t.x},r.handleKeyDown=function(t){TA().isEventKey(t,"Left")||TA().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):TA().isEventKey(t,"Right")||TA().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},r.handleClick=function(e){e.stopPropagation(),e.preventDefault()},r.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(FP);FP.registerComponent("Slider",lD);var dD=function(e,t){return cD(e/t*100,0,100).toFixed(2)+"%"},pD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).partEls_=[],n.on(t,"progress",(function(e){return n.update(e)})),n}bA(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),r=TC("span",{className:"vjs-control-text"}),n=TC("span",{textContent:this.localize("Loaded")}),i=gA().createTextNode(": ");return this.percentageEl_=TC("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),t},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},r.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,r=t.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),o=t.partEls_,a=dD(i,n);t.percent_!==a&&(t.el_.style.width=a,IC(t.percentageEl_,a),t.percent_=a);for(var s=0;s<r.length;s++){var u=r.start(s),c=r.end(s),l=o[s];l||(l=t.el_.appendChild(TC()),o[s]=l),l.dataset.start===u&&l.dataset.end===c||(l.dataset.start=u,l.dataset.end=c,l.style.left=dD(u,i),l.style.width=dD(c-u,i))}for(var d=o.length;d>r.length;d--)t.el_.removeChild(o[d-1]);o.length=r.length}))},t}(FP);FP.registerComponent("LoadProgressBar",pD);var fD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=_P(bP(vA(n),n.update),yP),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(e,t,r){var n=NC(this.el_),i=LC(this.player_.el()),o=e.width*t;if(i&&n){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),u=n.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>n.width&&(u=n.width),u=Math.round(u),this.el_.style.right="-"+u+"px",this.write(r)}},r.write=function(e){IC(this.el_,e)},r.updateTime=function(e,t,r,n){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),u=s-t*s;o=(u<1?"":"-")+tD(u,s)}else o=tD(r,a);i.update(e,t,o),n&&n()}))},t}(FP);FP.registerComponent("TimeTooltip",fD);var hD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=_P(bP(vA(n),n.update),yP),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(e,t){var r=this.getChild("timeTooltip");if(r){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,t,n)}},t}(FP);hD.prototype.options_={children:[]},hC||tC||hD.prototype.options_.children.push("timeTooltip"),FP.registerComponent("PlayProgressBar",hD);var gD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=_P(bP(vA(n),n.update),yP),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,t){var r=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,(function(){r.el_.style.left=e.width*t+"px"}))},t}(FP);gD.prototype.options_={children:["timeTooltip"]},FP.registerComponent("MouseTimeDisplay",gD);var mD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).setEventHandlers_(),n}bA(t,e);var r=t.prototype;return r.setEventHandlers_=function(){var e=this;this.update_=bP(this,this.update),this.update=_P(this.update_,yP),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in gA()&&"visibilityState"in gA()&&this.on(gA(),"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(e){"hidden"===gA().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,yP))},r.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(t){var r=this;if("hidden"!==gA().visibilityState){var n=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=r.player_.ended()?r.player_.duration():r.getCurrentTime_(),t=r.player_.liveTracker,i=r.player_.duration();t&&t.isLive()&&(i=r.player_.liveTracker.liveCurrentTime()),r.percent_!==n&&(r.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),r.percent_=n),r.currentTime_===e&&r.duration_===i||(r.el_.setAttribute("aria-valuetext",r.localize("progress bar timing: currentTime={1} duration={2}",[tD(e,i),tD(i,i)],"{1} of {2}")),r.currentTime_=e,r.duration_=i),r.bar&&r.bar.update(LC(r.el()),r.getProgress())})),n}},r.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var e,t=this.getCurrentTime_(),r=this.player_.liveTracker;return r&&r.isLive()?(e=(t-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},r.handleMouseDown=function(t){HC(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},r.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),HC(e)){var r;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var o=i.seekableStart(),a=i.liveCurrentTime();if((r=o+n*i.liveWindow())>=a&&(r=a),r<=o&&(r=o+.1),r===1/0)return}else(r=n*this.player_.duration())===this.player_.duration()&&(r-=.1);this.userSeek_(r)}},r.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},r.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},r.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?YP(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},r.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(t){var r=this.player_.liveTracker;if(TA().isEventKey(t,"Space")||TA().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(TA().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(TA().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(TA()(t))){t.preventDefault(),t.stopPropagation();var n=10*(TA().codes[TA()(t)]-TA().codes[0])/100;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else TA().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):TA().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in gA()&&"visibilityState"in gA()&&this.off(gA(),"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(lD);mD.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},hC||tC||mD.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),FP.registerComponent("SeekBar",mD);var vD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleMouseMove=_P(bP(vA(n),n.handleMouseMove),yP),n.throttledHandleMouseSeek=_P(bP(vA(n),n.handleMouseSeek),yP),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.handleMouseDownHandler_=function(e){return n.handleMouseDown(e)},n.enable(),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var r=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(r||n){var i=t.el(),o=NC(i),a=BC(i,e).x;a=cD(a,0,1),n&&n.update(o,a),r&&r.update(o,t.getProgress())}}},r.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&YP(this.player_.play())}},r.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(FP);vD.prototype.options_={children:["seekBar"]},FP.registerComponent("ProgressControl",vD);var yD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return n.handlePictureInPictureChange(e)})),n.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return n.handlePictureInPictureEnabledChange(e)})),n.disable(),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){gA().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},r.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Yx);yD.prototype.controlText_="Picture-in-Picture",FP.registerComponent("PictureInPictureToggle",yD);var bD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,"fullscreenchange",(function(e){return n.handleFullscreenChange(e)})),!1===gA()[t.fsApi_.fullscreenEnabled]&&n.disable(),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Yx);bD.prototype.controlText_="Fullscreen",FP.registerComponent("FullscreenToggle",bD);var _D=function(e){function t(){return e.apply(this,arguments)||this}return bA(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(FP);FP.registerComponent("VolumeLevel",_D);var wD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=_P(bP(vA(n),n.update),yP),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(e,t,r,n){if(!r){var i=LC(this.el_),o=LC(this.player_.el()),a=e.width*t;if(!o||!i)return;var s=e.left-o.left+a,u=e.width-a+(o.right-e.right),c=i.width/2;s<c?c+=c-s:u<c&&(c=u),c<0?c=0:c>i.width&&(c=i.width),this.el_.style.right="-"+c+"px"}this.write(n+"%")},r.write=function(e){IC(this.el_,e)},r.updateVolume=function(e,t,r,n,i){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){o.update(e,t,r,n.toFixed(0)),i&&i()}))},t}(FP);FP.registerComponent("VolumeLevelTooltip",wD);var SD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=_P(bP(vA(n),n.update),yP),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,t,r){var n=this,i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,r,i,(function(){r?n.el_.style.bottom=e.height*t+"px":n.el_.style.left=e.width*t+"px"}))},t}(FP);SD.prototype.options_={children:["volumeLevelTooltip"]},FP.registerComponent("MouseVolumeLevelDisplay",SD);var TD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on("slideractive",(function(e){return n.updateLastVolume_(e)})),n.on(t,"volumechange",(function(e){return n.updateARIAAttributes(e)})),t.ready((function(){return n.updateARIAAttributes()})),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(t){HC(t)&&e.prototype.handleMouseDown.call(this,t)},r.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var r=this.el(),n=LC(r),i=this.vertical(),o=BC(r,e);o=i?o.y:o.x,o=cD(o,0,1),t.update(n,o,i)}HC(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},r.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},r.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(lD);TD.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},hC||tC||TD.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),TD.prototype.playerEvent="volumechange",FP.registerComponent("VolumeBar",TD);var ID=function(e){function t(t,r){var n;return void 0===r&&(r={}),r.vertical=r.vertical||!1,(void 0===r.volumeBar||HO(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(vA(n=e.call(this,t,r)||this),t),n.throttledHandleMouseMove=_P(bP(vA(n),n.handleMouseMove),yP),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.on("mousedown",(function(e){return n.handleMouseDown(e)})),n.on("touchstart",(function(e){return n.handleMouseDown(e)})),n.on("mousemove",(function(e){return n.handleMouseMove(e)})),n.on(n.volumeBar,["focus","slideractive"],(function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")})),n.on(n.volumeBar,["blur","sliderinactive"],(function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")})),n}bA(t,e);var r=t.prototype;return r.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},r.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(FP);ID.prototype.options_={children:["volumeBar"]},FP.registerComponent("VolumeControl",ID);var kD=function(e){function t(t,r){var n;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(vA(n=e.call(this,t,r)||this),t),n.on(t,["loadstart","volumechange"],(function(e){return n.update(e)})),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){var t=this.player_.volume(),r=this.player_.lastVolume_();if(0===t){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(e){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var e=this.player_.volume(),t=3;hC&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var r=0;r<4;r++)OC(this.el_,"vjs-vol-"+r);EC(this.el_,"vjs-vol-"+t)},r.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Yx);kD.prototype.controlText_="Mute",FP.registerComponent("MuteToggle",kD);var AD=function(e){function t(t,r){var n;return void 0===r&&(r={}),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||HO(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),(n=e.call(this,t,r)||this).handleKeyPressHandler_=function(e){return n.handleKeyPress(e)},n.on(t,["loadstart"],(function(e){return n.volumePanelState_(e)})),n.on(n.muteToggle,"keyup",(function(e){return n.handleKeyPress(e)})),n.on(n.volumeControl,"keyup",(function(e){return n.handleVolumeControlKeyUp(e)})),n.on("keydown",(function(e){return n.handleKeyPress(e)})),n.on("mouseover",(function(e){return n.handleMouseOver(e)})),n.on("mouseout",(function(e){return n.handleMouseOut(e)})),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}bA(t,e);var r=t.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},r.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(e){TA().isEventKey(e,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(e){this.addClass("vjs-hover"),dP(gA(),"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(e){this.removeClass("vjs-hover"),pP(gA(),"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(e){TA().isEventKey(e,"Esc")&&this.handleMouseOut()},t}(FP);AD.prototype.options_={children:["muteToggle","volumeControl"]},FP.registerComponent("VolumePanel",AD);var ED=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,r&&(n.menuButton_=r.menuButton),n.focusedChild_=-1,n.on("keydown",(function(e){return n.handleKeyDown(e)})),n.boundHandleBlur_=function(e){return n.handleBlur(e)},n.boundHandleTapClick_=function(e){return n.handleTapClick(e)},n}bA(t,e);var r=t.prototype;return r.addEventListenerForItem=function(e){e instanceof FP&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(e){e instanceof FP&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},r.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},r.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=TC(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),dP(r,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),r},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},r.handleBlur=function(e){var t=e.relatedTarget||gA().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var r=this.menuButton_;r&&r.buttonPressed_&&t!==r.el().firstChild&&r.unpressButton()}},r.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var r=t.filter((function(t){return t.el()===e.target}))[0];if(!r)return;"CaptionSettingsMenuItem"!==r.name()&&this.menuButton_.focus()}},r.handleKeyDown=function(e){TA().isEventKey(e,"Left")||TA().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(TA().isEventKey(e,"Right")||TA().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},r.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},r.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},r.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(FP);FP.registerComponent("Menu",ED);var OD=function(e){function t(t,r){var n;void 0===r&&(r={}),(n=e.call(this,t,r)||this).menuButton_=new Yx(t,r),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Yx.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;var o=function(e){return n.handleClick(e)};return n.handleMenuKeyUp_=function(e){return n.handleMenuKeyUp(e)},n.on(n.menuButton_,"tap",o),n.on(n.menuButton_,"click",o),n.on(n.menuButton_,"keydown",(function(e){return n.handleKeyDown(e)})),n.on(n.menuButton_,"mouseenter",(function(){n.addClass("vjs-hover"),n.menu.show(),dP(gA(),"keyup",n.handleMenuKeyUp_)})),n.on("mouseleave",(function(e){return n.handleMouseLeave(e)})),n.on("keydown",(function(e){return n.handleSubmenuKeyDown(e)})),n}bA(t,e);var r=t.prototype;return r.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.createMenu=function(){var e=new ED(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=TC("li",{className:"vjs-menu-title",textContent:MP(this.options_.title),tabIndex:-1}),r=new FP(this.player_,{el:t});e.addItem(r)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},r.createItems=function(){},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Yx.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},r.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},r.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},r.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(e){this.removeClass("vjs-hover"),pP(gA(),"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(e){TA().isEventKey(e,"Esc")||TA().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),TA().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(TA().isEventKey(e,"Up")||TA().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(e){(TA().isEventKey(e,"Esc")||TA().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},r.handleSubmenuKeyDown=function(e){(TA().isEventKey(e,"Esc")||TA().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),TA().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),hC&&wC())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(FP);FP.registerComponent("MenuButton",OD);var CD=function(e){function t(t,r){var n,i=r.tracks;if((n=e.call(this,t,r)||this).items.length<=1&&n.hide(),!i)return vA(n);var o=bP(vA(n),n.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),i.addEventListener("labelchange",o),n.player_.on("ready",o),n.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o),i.removeEventListener("labelchange",o)})),n}return bA(t,e),t}(OD);FP.registerComponent("TrackButton",CD);var PD=["Tab","Esc","Up","Down","Right","Left"],xD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).selectable=r.selectable,n.isSelected_=r.selected||!1,n.multiSelectable=r.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}bA(t,e);var r=t.prototype;return r.createEl=function(t,r,n){this.nonIconControl=!0;var i=e.prototype.createEl.call(this,"li",zO({className:"vjs-menu-item",tabIndex:-1},r),n);return i.replaceChild(TC("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},r.handleKeyDown=function(t){PD.some((function(e){return TA().isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},r.handleClick=function(e){this.selected(!0)},r.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Vx);FP.registerComponent("MenuItem",xD);var DD=function(e){function t(t,r){var n,i=r.track,o=t.textTracks();r.label=i.label||i.language||"Unknown",r.selected="showing"===i.mode,(n=e.call(this,t,r)||this).track=i,n.kinds=(r.kinds||[r.kind||n.track.kind]).filter(Boolean);var a,s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleTracksChange.apply(vA(n),t)},u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleSelectedLanguageChange.apply(vA(n),t)};return t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),n.on("dispose",(function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)})),void 0===o.onchange&&n.on(["tap","click"],(function(){if("object"!=typeof fA().Event)try{a=new(fA().Event)("change")}catch(e){}a||(a=gA().createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)})),n.handleTracksChange(),n}bA(t,e);var r=t.prototype;return r.handleClick=function(t){var r=this.track,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var i=0;i<n.length;i++){var o=n[i];-1!==this.kinds.indexOf(o.kind)&&(o===r?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},r.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(xD);FP.registerComponent("TextTrackMenuItem",DD);var jD=function(e){function t(t,r){return r.track={player:t,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,e.call(this,t,r)||this}bA(t,e);var r=t.prototype;return r.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},r.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(DD);FP.registerComponent("OffTextTrackMenuItem",jD);var RD=function(e){function t(t,r){return void 0===r&&(r={}),r.tracks=t.textTracks(),e.call(this,t,r)||this}return bA(t,e),t.prototype.createItems=function(e,t){var r;void 0===e&&(e=[]),void 0===t&&(t=DD),this.label_&&(r=this.label_+" off"),e.push(new jD(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<n.length;i++){var o=n[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(CD);FP.registerComponent("TextTrackButton",RD);var MD=function(e){function t(t,r){var n,i=r.track,o=r.cue,a=t.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime,(n=e.call(this,t,r)||this).track=i,n.cue=o,i.addEventListener("cuechange",bP(vA(n),n.update)),n}bA(t,e);var r=t.prototype;return r.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(e){var t=this.cue,r=this.player_.currentTime();this.selected(t.startTime<=r&&r<t.endTime)},t}(xD);FP.registerComponent("ChaptersTrackMenuItem",MD);var UD=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},r.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},r.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(MP(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},r.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],o=new MD(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(RD);UD.prototype.kind_="chapters",UD.prototype.controlText_="Chapters",FP.registerComponent("ChaptersButton",UD);var LD=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var o=t.textTracks(),a=bP(vA(i),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}bA(t,e);var r=t.prototype;return r.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(RD);LD.prototype.kind_="descriptions",LD.prototype.controlText_="Descriptions",FP.registerComponent("DescriptionsButton",LD);var ND=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(RD);ND.prototype.kind_="subtitles",ND.prototype.controlText_="Subtitles",FP.registerComponent("SubtitlesButton",ND);var BD=function(e){function t(t,r){var n;return r.track={player:t,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",(n=e.call(this,t,r)||this).addClass("vjs-texttrack-settings"),n.controlText(", opens "+r.kind+" settings dialog"),n}return bA(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(DD);FP.registerComponent("CaptionSettingsMenuItem",BD);var qD=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new BD(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(RD);qD.prototype.kind_="captions",qD.prototype.controlText_="Captions",FP.registerComponent("CaptionsButton",qD);var FD=function(e){function t(){return e.apply(this,arguments)||this}return bA(t,e),t.prototype.createEl=function(t,r,n){var i=e.prototype.createEl.call(this,t,r,n),o=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(o.appendChild(TC("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(TC("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),i},t}(DD);FP.registerComponent("SubsCapsMenuItem",FD);var VD=function(e){function t(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(MP(n.label_)),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new BD(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,FD)},t}(RD);VD.prototype.kinds_=["captions","subtitles"],VD.prototype.controlText_="Subtitles",FP.registerComponent("SubsCapsButton",VD);var zD=function(e){function t(t,r){var n,i=r.track,o=t.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled,(n=e.call(this,t,r)||this).track=i,n.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleTracksChange.apply(vA(n),t)};return o.addEventListener("change",a),n.on("dispose",(function(){o.removeEventListener("change",a)})),n}bA(t,e);var r=t.prototype;return r.createEl=function(t,r,n){var i=e.prototype.createEl.call(this,t,r,n),o=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(o.appendChild(TC("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(TC("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i},r.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var r=this.player_.audioTracks(),n=0;n<r.length;n++){var i=r[n];i!==this.track&&(i.enabled=i===this.track)}},r.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(xD);FP.registerComponent("AudioTrackMenuItem",zD);var WD=function(e){function t(t,r){return void 0===r&&(r={}),r.tracks=t.audioTracks(),e.call(this,t,r)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),r=0;r<t.length;r++){var n=t[r];e.push(new zD(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},t}(CD);WD.prototype.controlText_="Audio Track",FP.registerComponent("AudioTrackButton",WD);var HD=function(e){function t(t,r){var n,i=r.rate,o=parseFloat(i,10);return r.label=i,r.selected=o===t.playbackRate(),r.selectable=!0,r.multiSelectable=!1,(n=e.call(this,t,r)||this).label=i,n.rate=o,n.on(t,"ratechange",(function(e){return n.update(e)})),n}bA(t,e);var r=t.prototype;return r.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(xD);HD.prototype.contentElType="button",FP.registerComponent("PlaybackRateMenuItem",HD);var GD=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).menuButton_.el_.setAttribute("aria-describedby",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(t,"loadstart",(function(e){return n.updateVisibility(e)})),n.on(t,"ratechange",(function(e){return n.updateLabel(e)})),n.on(t,"playbackrateschange",(function(e){return n.handlePlaybackRateschange(e)})),n}bA(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=TC("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},r.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var e=this.playbackRates(),t=[],r=e.length-1;r>=0;r--)t.push(new HD(this.player(),{rate:e[r]+"x"}));return t},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(e){for(var t=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>t){n=r[i];break}this.player().playbackRate(n)},r.handlePlaybackRateschange=function(e){this.update()},r.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(OD);GD.prototype.controlText_="Playback Rate",FP.registerComponent("PlaybackRateMenuButton",GD);var KD=function(e){function t(){return e.apply(this,arguments)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(t,r,n){return void 0===t&&(t="div"),void 0===r&&(r={}),void 0===n&&(n={}),r.className||(r.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,r,n)},t}(FP);FP.registerComponent("Spacer",KD);var XD=function(e){function t(){return e.apply(this,arguments)||this}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},t}(KD);FP.registerComponent("CustomControlSpacer",XD);var YD=function(e){function t(){return e.apply(this,arguments)||this}return bA(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(FP);YD.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in gA()&&YD.prototype.options_.children.splice(YD.prototype.options_.children.length-1,0,"pictureInPictureToggle"),FP.registerComponent("ControlBar",YD);var $D=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,"error",(function(e){return n.open(e)})),n}bA(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},r.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(JP);$D.prototype.options_=mA({},JP.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),FP.registerComponent("ErrorDisplay",$D);var JD="vjs-text-track-settings",QD=["#000","Black"],ZD=["#00F","Blue"],ej=["#0FF","Cyan"],tj=["#0F0","Green"],rj=["#F0F","Magenta"],nj=["#F00","Red"],ij=["#FFF","White"],oj=["#FF0","Yellow"],aj=["1","Opaque"],sj=["0.5","Semi-Transparent"],uj=["0","Transparent"],cj={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[QD,ij,nj,tj,ZD,oj,rj,ej]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[aj,sj,uj]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ij,QD,nj,tj,ZD,oj,rj,ej]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[aj,sj]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[uj,sj,aj]}};function lj(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}cj.windowColor.options=cj.backgroundColor.options;var dj=function(e){function t(t,r){var n;return r.temporary=!1,(n=e.call(this,t,r)||this).updateDisplay=n.updateDisplay.bind(vA(n)),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=TC("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===r.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),VO(cj,(function(e){n.on(n.$(e.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}bA(t,e);var r=t.prototype;return r.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},r.createElSelect_=function(e,t,r){var n=this;void 0===t&&(t=""),void 0===r&&(r="label");var i=cj[e],o=i.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},r.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return TC("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return TC("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var e=this.localize("restore all settings to the default values");return TC("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var e,t,r,n=this;return t=function(e,t,r){var i,o,a=(i=n.$(t.selector),o=t.parser,lj(i.options[i.options.selectedIndex].value,o));return void 0!==a&&(e[r]=a),e},void 0===(r={})&&(r=0),FO(e=cj).reduce((function(r,n){return t(r,e[n],n)}),r)},r.setValues=function(e){var t=this;VO(cj,(function(r,n){!function(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(lj(e.options[n].value,r)===t){e.selectedIndex=n;break}}(t.$(r.selector),e[n],r.parser)}))},r.setDefaults=function(){var e=this;VO(cj,(function(t){var r=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=r}))},r.restoreSettings=function(){var e;try{e=JSON.parse(fA().localStorage.getItem(JD))}catch(e){NO.warn(e)}e&&this.setValues(e)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?fA().localStorage.setItem(JD,JSON.stringify(e)):fA().localStorage.removeItem(JD)}catch(e){NO.warn(e)}}},r.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,r=e&&e.captionsButton;t?t.focus():r&&r.focus()},t}(JP);FP.registerComponent("TextTrackSettings",dj);var pj=function(e){function t(t,r){var n,i=r.ResizeObserver||fA().ResizeObserver;null===r.ResizeObserver&&(i=!1);var o=UP({createEl:!i,reportTouchActivity:!1},r);return(n=e.call(this,t,o)||this).ResizeObserver=r.ResizeObserver||fA().ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=function(e,t,r,n){var i;void 0===n&&(n=fA());var o=function(){var t=this,r=arguments,o=function(){i=null,o=null,e.apply(t,r)};n.clearTimeout(i),i=n.setTimeout(o,100)};return o.cancel=function(){n.clearTimeout(i),i=null},o}((function(){n.resizeHandler()}),0,0,vA(n)),i?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(t.el())):(n.loadListener_=function(){if(n.el_&&n.el_.contentWindow){var e=n.debouncedHandler_,t=n.unloadListener_=function(){pP(this,"resize",e),pP(this,"unload",t),t=null};dP(n.el_.contentWindow,"unload",t),dP(n.el_.contentWindow,"resize",e)}},n.one("load",n.loadListener_)),n}bA(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(FP);FP.registerComponent("ResizeManager",pj);var fj={trackingThreshold:20,liveTolerance:15},hj=function(e){function t(t,r){var n,i=UP(fj,r,{createEl:!1});return(n=e.call(this,t,i)||this).handleVisibilityChange_=function(e){return n.handleVisibilityChange(e)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(e){return n.handlePlay(e)},n.handleFirstTimeupdate_=function(e){return n.handleFirstTimeupdate(e)},n.handleSeeked_=function(e){return n.handleSeeked(e)},n.seekToLiveEdge_=function(e){return n.seekToLiveEdge(e)},n.reset_(),n.on(n.player_,"durationchange",(function(e){return n.handleDurationchange(e)})),n.on(n.player_,"canplay",(function(){return n.toggleTracking()})),uC&&"hidden"in gA()&&"visibilityState"in gA()&&n.on(gA(),"visibilitychange",n.handleVisibilityChange_),n}bA(t,e);var r=t.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(gA().hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(fA().performance.now().toFixed(4)),r=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+r;var n=this.liveCurrentTime(),i=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-i)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,yP),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],r=e?e.length:0;r--;)t.push(e.end(r));return t.length?t.sort()[t.length-1]:1/0},r.seekableStart=function(){for(var e=this.player_.seekable(),t=[],r=e?e.length:0;r--;)t.push(e.start(r));return t.length?t.sort()[0]:0},r.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(gA(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(FP);FP.registerComponent("LiveTracker",hj);var gj,mj=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var r=e.$$("source"),n=[],i="";if(!r.length)return!1;for(var o=0;o<r.length;o++){var a=r[o].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(i=n[0]),e.triggerSourceset(i),!0)},vj=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=gA().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var r=gA().createDocumentFragment();t.childNodes.length;)r.appendChild(t.childNodes[0]);return this.innerText="",fA().Element.prototype.appendChild.call(this,r),this.innerHTML}}),yj=function(e,t){for(var r={},n=0;n<e.length&&!((r=Object.getOwnPropertyDescriptor(e[n],t))&&r.set&&r.get);n++);return r.enumerable=!0,r.configurable=!0,r},bj=function(e){var t=e.el();if(!t.resetSourceWatch_){var r={},n=function(e){return yj([e.el(),fA().HTMLMediaElement.prototype,fA().Element.prototype,vj],"innerHTML")}(e),i=function(r){return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(t,i);return mj(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(r[e]=t[e],t[e]=i(r[e]))})),Object.defineProperty(t,"innerHTML",UP(n,{set:i(n.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(r).forEach((function(e){t[e]=r[e]})),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)}},_j=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?fx(fA().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return fA().Element.prototype.setAttribute.call(this,"src",e),e}}),wj=function(e,t,r,n){void 0===n&&(n=!0);var i=function(r){return Object.defineProperty(e,t,{value:r,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=r();return i(e),e}};return n&&(o.set=i),Object.defineProperty(e,t,o)},Sj=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i=t.source,o=!1;if(i&&(n.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){for(var a=n.el_.childNodes,s=a.length,u=[];s--;){var c=a[s];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),o||n.el_.hasAttribute("crossorigin")||!gx(c.src)||(o=!0)):u.push(c))}for(var l=0;l<u.length;l++)n.el_.removeChild(u[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&NO.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(dC||fC||nC)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}bA(t,e);var r=t.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var r=function(e){return yj([e.el(),fA().HTMLMediaElement.prototype,_j],"src")}(e),n=t.setAttribute,i=t.load;Object.defineProperty(t,"src",UP(r,{set:function(n){var i=r.set.call(t,n);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(r,i){var o=n.call(t,r,i);return/src/i.test(r)&&e.triggerSourceset(t.src),o},t.load=function(){var r=i.call(t);return mj(e)||(e.triggerSourceset(""),bj(e)),r},t.currentSrc?e.triggerSourceset(t.currentSrc):mj(e)||bj(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=n,Object.defineProperty(t,"src",r),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),r=function(){e=[];for(var r=0;r<t.length;r++){var n=t[r];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};r(),t.addEventListener("change",r),this.on("dispose",(function(){return t.removeEventListener("change",r)}));var n=function r(){for(var n=0;n<e.length;n++){var i=e[n];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",r)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",r),t.removeEventListener("change",n),t.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",r),t.addEventListener("change",r),t.removeEventListener("change",n)}))},r.overrideNative_=function(e,t){var r=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach((function(e){r.el()[n+"Tracks"].removeEventListener(e,r[n+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},r.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},r.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},r.proxyNativeTracksForType_=function(e){var t=this,r=Tx[e],n=this.el()[r.getterName],i=this[r.getterName]();if(this["featuresNative"+r.capitalName+"Tracks"]&&n&&n.addEventListener){var o={change:function(r){var n={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(n),"text"===e&&t[Ix.remoteText.getterName]().trigger(n)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var r=!1,o=0;o<n.length;o++)if(n[o]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[r.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var r=o[e];n.addEventListener(e,r),t.on("dispose",(function(t){return n.removeEventListener(e,r)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},r.proxyNativeTracks_=function(){var e=this;Tx.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},r.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=gA().createElement("video");var n=UP({},this.options_.tag&&xC(this.options_.tag));dC&&!0===this.options_.nativeControlsForTouch||delete n.controls,PC(e,zO(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&jC(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var a=i[o],s=this.options_[a];void 0!==s&&(s?jC(e,a,a):RC(e,a),e[a]=s)}return e},r.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,r=function(){t=!0};this.on("loadstart",r);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",r),this.off("loadedmetadata",n),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},r.setScrubbing=function(e){this.isScrubbing_=e},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&gC?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){NO(e,"Video is not ready. (Video.js)")}},r.duration=function(){var e=this;return this.el_.duration===1/0&&tC&&aC&&0===this.el_.currentTime?(this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN):this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",(function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)}))}},r.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=fA().navigator&&fA().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},r.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)YP(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},r.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},r.reset=function(){t.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(e){this.el_.controls=!!e},r.addTextTrack=function(t,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,n):e.prototype.addTextTrack.call(this,t,r,n)},r.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var r=gA().createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},r.addRemoteTextTrack=function(t,r){var n=e.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},r.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)t!==r[n]&&t!==r[n].track||this.el().removeChild(r[n])},r.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),fA().performance&&"function"==typeof fA().performance.now?e.creationTime=fA().performance.now():fA().performance&&fA().performance.timing&&"number"==typeof fA().performance.timing.navigationStart&&(e.creationTime=fA().Date.now()-fA().performance.timing.navigationStart),e},t}(Ax);wj(Sj,"TEST_VID",(function(){if(bC()){var e=gA().createElement("video"),t=gA().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Sj.isSupported=function(){try{Sj.TEST_VID.volume=.5}catch(e){return!1}return!(!Sj.TEST_VID||!Sj.TEST_VID.canPlayType)},Sj.canPlayType=function(e){return Sj.TEST_VID.canPlayType(e)},Sj.canPlaySource=function(e,t){return Sj.canPlayType(e.type)},Sj.canControlVolume=function(){try{var e=Sj.TEST_VID.volume;Sj.TEST_VID.volume=e/2+.1;var t=e!==Sj.TEST_VID.volume;return t&&hC?(fA().setTimeout((function(){Sj&&Sj.prototype&&(Sj.prototype.featuresVolumeControl=e!==Sj.TEST_VID.volume)})),!1):t}catch(e){return!1}},Sj.canMuteVolume=function(){try{var e=Sj.TEST_VID.muted;return Sj.TEST_VID.muted=!e,Sj.TEST_VID.muted?jC(Sj.TEST_VID,"muted","muted"):RC(Sj.TEST_VID,"muted"),e!==Sj.TEST_VID.muted}catch(e){return!1}},Sj.canControlPlaybackRate=function(){if(tC&&aC&&sC<58)return!1;try{var e=Sj.TEST_VID.playbackRate;return Sj.TEST_VID.playbackRate=e/2+.1,e!==Sj.TEST_VID.playbackRate}catch(e){return!1}},Sj.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(gA().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(gA().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(gA().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(gA().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Sj.supportsNativeTextTracks=function(){return gC||hC&&aC},Sj.supportsNativeVideoTracks=function(){return!(!Sj.TEST_VID||!Sj.TEST_VID.videoTracks)},Sj.supportsNativeAudioTracks=function(){return!(!Sj.TEST_VID||!Sj.TEST_VID.audioTracks)},Sj.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],r=e[1];wj(Sj.prototype,t,(function(){return Sj[r]()}),!0)})),Sj.prototype.featuresVolumeControl=Sj.canControlVolume(),Sj.prototype.movingMediaElementInDOM=!hC,Sj.prototype.featuresFullscreenResize=!0,Sj.prototype.featuresProgressEvents=!0,Sj.prototype.featuresTimeupdateEvents=!0,Sj.patchCanPlayType=function(){rC>=4&&!iC&&!aC&&(gj=Sj.TEST_VID&&Sj.TEST_VID.constructor.prototype.canPlayType,Sj.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":gj.call(this,e)})},Sj.unpatchCanPlayType=function(){var e=Sj.TEST_VID.constructor.prototype.canPlayType;return gj&&(Sj.TEST_VID.constructor.prototype.canPlayType=gj),e},Sj.patchCanPlayType(),Sj.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Sj.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Sj.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Sj.prototype["set"+MP(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Sj.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Sj.prototype["set"+MP(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Sj.prototype[e]=function(){return this.el_[e]()}})),Ax.withSourceHandlers(Sj),Sj.nativeSourceHandler={},Sj.nativeSourceHandler.canPlayType=function(e){try{return Sj.TEST_VID.canPlayType(e)}catch(e){return""}},Sj.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Sj.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=hx(e.src);return Sj.nativeSourceHandler.canPlayType("video/"+r)}return""},Sj.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},Sj.nativeSourceHandler.dispose=function(){},Sj.registerSourceHandler(Sj.nativeSourceHandler),Ax.registerTech("Html5",Sj);var Tj=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ij={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},kj=["tiny","xsmall","small","medium","large","xlarge","huge"],Aj={};kj.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Aj[e]="vjs-layout-"+t}));var Ej={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Oj=function(e){function t(r,n,i){var o;if(r.id=r.id||n.id||"vjs_video_"+iP(),(n=zO(t.getTagSettings(r),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof r.closest){var a=r.closest("[lang]");a&&a.getAttribute&&(n.language=a.getAttribute("lang"))}else for(var s=r;s&&1===s.nodeType;){if(xC(s).hasOwnProperty("lang")){n.language=s.getAttribute("lang");break}s=s.parentNode}if((o=e.call(this,null,n,i)||this).boundDocumentFullscreenChange_=function(e){return o.documentFullscreenChange_(e)},o.boundFullWindowOnEscKey_=function(e){return o.fullWindowOnEscKey(e)},o.boundUpdateStyleEl_=function(e){return o.updateStyleEl_(e)},o.boundApplyInitTime_=function(e){return o.applyInitTime_(e)},o.boundUpdateCurrentBreakpoint_=function(e){return o.updateCurrentBreakpoint_(e)},o.boundHandleTechClick_=function(e){return o.handleTechClick_(e)},o.boundHandleTechDoubleClick_=function(e){return o.handleTechDoubleClick_(e)},o.boundHandleTechTouchStart_=function(e){return o.handleTechTouchStart_(e)},o.boundHandleTechTouchMove_=function(e){return o.handleTechTouchMove_(e)},o.boundHandleTechTouchEnd_=function(e){return o.handleTechTouchEnd_(e)},o.boundHandleTechTap_=function(e){return o.handleTechTap_(e)},o.isFullscreen_=!1,o.log=BO(o.id_),o.fsApi_=DO,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=r,o.tagAttributes=r&&xC(r),o.language(o.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach((function(e){u[e.toLowerCase()]=n.languages[e]})),o.languages_=u}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=n.poster||"",o.controls_=!!n.controls,r.controls=!1,r.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],r.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),xP(vA(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(dP(gA(),o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_);var c=UP(o.options_);n.plugins&&Object.keys(n.plugins).forEach((function(e){o[e](n.plugins[e])})),n.debug&&o.debug(!0),o.options_.playerOptions=c,o.middleware_=[],o.playbackRates(n.playbackRates),o.initChildren(),o.isAudio("audio"===r.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),dC&&o.addClass("vjs-touch-enabled"),hC||o.addClass("vjs-workinghover"),t.players[o.id_]=vA(o);var l=OO.split(".")[0];return o.addClass("vjs-v"+l),o.userActive(!0),o.reportUserActivity(),o.one("play",(function(e){return o.listenForUserActivity_(e)})),o.on("stageclick",(function(e){return o.handleStageClick_(e)})),o.on("keydown",(function(e){return o.handleKeyDown(e)})),o.on("languagechange",(function(e){return o.handleLanguagechange(e)})),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}bA(t,e);var r=t.prototype;return r.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),pP(gA(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),pP(gA(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ox[this.id()]=null,kx.names.forEach((function(e){var t=kx[e],n=r[t.getterName]();n&&n.off&&n.off()})),e.prototype.dispose.call(this)},r.createEl=function(){var t,r=this.tag,n=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();n?t=this.el_=r.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=xC(r);if(i){for(t=this.el_=r,r=this.tag=gA().createElement("video");t.children.length;)r.appendChild(t.firstChild);AC(t,"video-js")||EC(t,"video-js"),t.appendChild(r),n=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{r[e]=t[e]}catch(e){}}))}if(r.setAttribute("tabindex","-1"),o.tabindex="-1",(uC||aC&&lC)&&(r.setAttribute("role","application"),o.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){i&&"class"===e||t.setAttribute(e,o[e]),i&&r.setAttribute(e,o[e])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=t.player=this,this.addClass("vjs-paused"),!0!==fA().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tP("vjs-styles-dimensions");var a=KC(".vjs-styles-defaults"),s=KC("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=r.getElementsByTagName("a"),c=0;c<u.length;c++){var l=u.item(c);EC(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!n&&r.parentNode.insertBefore(t,r),kC(r,t),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},r.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):NO.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},r.width=function(e){return this.dimension("width",e)},r.height=function(e){return this.dimension("height",e)},r.dimension=function(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t||"auto"===t)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?NO.error('Improper value "'+t+'" supplied for for '+e):(this[r]=n,this.updateStyleEl_())},r.fluid=function(e){var t,r,n=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,TP(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),r=function(){n.on(["playerreset","resize"],n.boundUpdateStyleEl_)},TP(t=this)?r():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(r))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(!0!==fA().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,r,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),rP(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+r+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},r.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_();var n=MP(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Ax.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(o=!1);var a={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};kx.names.forEach((function(e){var t=kx[e];a[t.getterName]=r[t.privateName]})),zO(a,this.options_[n]),zO(a,this.options_[i]),zO(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s,u,c=Ax.getTech(e);if(!c)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new c(a),this.tech_.ready(bP(this,this.handleTechReady_),!0),s=this.textTracksJson_||[],u=this.tech_,s.forEach((function(e){var t=u.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return t.addCue(e)}))})),u.textTracks(),Tj.forEach((function(e){r.on(r.tech_,e,(function(t){return r["handleTech"+MP(e)+"_"](t)}))})),Object.keys(Ij).forEach((function(e){r.on(r.tech_,e,(function(t){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+Ij[e]+"_"].bind(r),event:t}):r["handleTech"+Ij[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return r.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return r.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return r.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return r.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return r.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return r.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return r.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return r.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return r.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return r.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return r.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return r.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return r.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return r.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return r.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return r.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return r.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||kC(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var e,t,r,n=this;kx.names.forEach((function(e){var t=kx[e];n[t.privateName]=n[t.getterName]()})),this.textTracksJson_=(e=this.tech_,t=e.$$("track"),r=Array.prototype.map.call(t,(function(e){return e.track})),Array.prototype.map.call(t,(function(e){var t=$P(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===r.indexOf(e)})).map($P))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(e){return void 0===e&&NO.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var r,n=function(){var e=t.muted();t.muted(!0);var r=function(){t.muted(e)};t.playTerminatedQueue_.push(r);var n=t.play();if(XP(n))return n.catch((function(e){throw r(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?r="muted"!==e||this.muted()?this.play():n():XP(r=this.play())&&(r=r.catch(n)),XP(r))return r.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},r.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,r="";"string"!=typeof t&&(t=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!r&&(r=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter((function(e){return e.src===t}));if(r.length)return r[0].type;for(var n=e.$$("source"),i=0;i<n.length;i++){var o=n[i];if(o.type&&o.src&&o.src===t)return o.type}return Nx(t)}(this,t)),this.cache_.source=UP({},e,{src:t,type:r});for(var n=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=xC(o[s]);i.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},r.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var r=function(e){return t.updateSourceCaches_(e)},n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=function(){}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var r=t.techGet("currentSrc");t.lastSource_.tech=r,t.updateSourceCaches_(r)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},r.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function r(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",r))}))},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(NO.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?YP(this.play()):this.pause()))},r.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var r=this.el(),n=gA()[this.fsApi_.fullscreenElement]===r;!n&&r.matches?n=r.matches(":"+this.fsApi_.fullscreen):!n&&r.msMatchesSelector&&(n=r.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},r.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},r.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var e=this.tech_.error();this.error(e)},r.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(e,t){this.ready((function(){if(e in jx)return function(e,t,r,n){return t[r](e.reduce(Mx(r),n))}(this.middleware_,this.tech_,e,t);if(e in Rx)return xx(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw NO(e),e}}),!0)},r.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Dx)return function(e,t,r){return e.reduceRight(Mx(r),t[r]())}(this.middleware_,this.tech_,e);if(e in Rx)return xx(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw NO("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw NO("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw NO(t),t}}},r.play=function(){var e=this,t=this.options_.Promise||fA().Promise;return t?new t((function(t){e.play_(t)})):this.play_()},r.play_=function(e){var t=this;void 0===e&&(e=YP),this.playCallbacks_.push(e);var r=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(r||!gC&&!hC||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},r.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},r.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},r.pause=function(){this.techCall_("pause")},r.paused=function(){return!1!==this.techGet_("paused")},r.played=function(){return this.techGet_("played")||WP(0,0)},r.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=WP(0,0)),e},r.bufferedPercent=function(){return HP(this.buffered(),this.duration())},r.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},r.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},r.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},r.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},r.requestFullscreen=function(e){var t=this.options_.Promise||fA().Promise;if(t){var r=this;return new t((function(t,n){function i(){r.off("fullscreenerror",a),r.off("fullscreenchange",o)}function o(){i(),t()}function a(e,t){i(),n(t)}r.one("fullscreenchange",o),r.one("fullscreenerror",a);var s=r.requestFullscreenHelper_(e);s&&(s.then(i,i),s.then(t,n))}))}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(e){var t,r=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](t);return n&&n.then((function(){return r.isFullscreen(!0)}),(function(){return r.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var e=this.options_.Promise||fA().Promise;if(e){var t=this;return new e((function(e,r){function n(){t.off("fullscreenerror",o),t.off("fullscreenchange",i)}function i(){n(),e()}function o(e,t){n(),r(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",o);var a=t.exitFullscreenHelper_();a&&(a.then(n,n),a.then(e,r))}))}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=gA()[this.fsApi_.exitFullscreen]();return t&&YP(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=gA().documentElement.style.overflow,dP(gA(),"keydown",this.boundFullWindowOnEscKey_),gA().documentElement.style.overflow="hidden",EC(gA().body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(e){TA().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,pP(gA(),"keydown",this.boundFullWindowOnEscKey_),gA().documentElement.style.overflow=this.docOrigOverflow,OC(gA().body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in gA()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in gA())return gA().exitPictureInPicture()},r.handleKeyDown=function(e){var t,r,n=this.options_.userActions;n&&n.hotkeys&&(t=this.el_.ownerDocument.activeElement,r=t.tagName.toLowerCase(),t.isContentEditable||("input"===r?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(r))||("function"==typeof n.hotkeys?n.hotkeys.call(this,e):this.handleHotkeys(e)))},r.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},r=t.fullscreenKey,n=void 0===r?function(e){return TA().isEventKey(e,"f")}:r,i=t.muteKey,o=void 0===i?function(e){return TA().isEventKey(e,"m")}:i,a=t.playPauseKey,s=void 0===a?function(e){return TA().isEventKey(e,"k")||TA().isEventKey(e,"Space")}:a;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();var u=FP.getComponent("FullscreenToggle");!1!==gA()[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else o.call(this,e)?(e.preventDefault(),e.stopPropagation(),FP.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),FP.getComponent("PlayToggle").prototype.handleClick.call(this,e))},r.canPlayType=function(e){for(var t,r=0,n=this.options_.techOrder;r<n.length;r++){var i=n[r],o=Ax.getTech(i);if(o||(o=FP.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else NO.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},r.selectSource=function(e){var t,r,n=this,i=this.options_.techOrder.map((function(e){return[e,Ax.getTech(e)]})).filter((function(e){var t=e[0],r=e[1];return r?r.isSupported():(NO.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(e,t,r){var n;return e.some((function(e){return t.some((function(t){if(n=r(e,t))return!0}))})),n},a=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return t=this.options_.sourceOrder?o(e,i,(r=a,function(e,t){return r(t,e)})):o(i,e,a),t||!1},r.handleSrc_=function(e,t){var r=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var n=Bx(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),Px(this,n[0],(function(e,i){var o,a;if(r.middleware_=i,t||(r.cache_.sources=n),r.updateSourceCaches_(e),r.src_(e))return n.length>1?r.handleSrc_(n.slice(1)):(r.changingSrc_=!1,r.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void r.triggerReady());o=i,a=r.tech_,o.forEach((function(e){return e.setTech&&e.setTech(a)}))})),this.options_.retryOnError&&n.length>1){var i=function(){r.error(null),r.handleSrc_(n.slice(1),!0)},o=function(){r.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=function(){r.off("error",i),r.off("playing",o)}}}else this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},r.src=function(e){return this.handleSrc_(e,!1)},r.src_=function(e){var t,r,n=this,i=this.selectSource([e]);return!i||(t=i.tech,r=this.techName_,MP(t)!==MP(r)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},r.load=function(){this.techCall_("load")},r.reset=function(){var e=this,t=this.options_.Promise||fA().Promise;this.paused()||!t?this.doReset_():YP(this.play().then((function(){return e.doReset_()})))},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),TP(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,r=e.remainingTimeDisplay;t&&t.updateContent(),r&&r.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},r.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},r.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},r.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},r.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(PO("beforeerror").forEach((function(r){var n=r(t,e);WO(n)&&!Array.isArray(n)||"string"==typeof n||"number"==typeof n||null===n?e=n:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var r=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),void this.one("loadstart",(function(){this.off(["click","touchstart"],r)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new GP(e),this.addClass("vjs-error"),NO.error("(CODE:"+this.error_.code+" "+GP.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),PO("error").forEach((function(e){return e(t,t.error_)}))},r.reportUserActivity=function(e){this.userActivity_=!0},r.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var e,t,r,n=bP(this,this.reportUserActivity),i=function(t){n(),this.clearInterval(e)};this.on("mousedown",(function(){n(),this.clearInterval(e),e=this.setInterval(n,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())})),this.on("mouseup",i),this.on("mouseleave",i);var o,a=this.getChild("controlBar");!a||hC||tC||(a.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",n),this.on("keyup",n),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},r.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},r.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},r.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},r.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},r.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),TP(this)&&this.trigger("languagechange"))},r.languages=function(){return UP(t.prototype.options_.languages,this.languages_)},r.toJSON=function(){var e=UP(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];(n=UP(n)).player=void 0,e.tracks[r]=n}return e},r.createModal=function(e,t){var r=this;(t=t||{}).content=e||"";var n=new JP(this,t);return this.addChild(n),n.on("dispose",(function(){r.removeChild(n)})),n.open(),n},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),r=0;r<kj.length;r++){var n=kj[r];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(Aj[e]),this.addClass(Aj[n]),this.breakpoint_=n;break}}},r.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},r.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=zO({},Ej,e),this.updateCurrentBreakpoint_()),zO(this.breakpoints_)},r.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Aj[this.breakpoint_]||""},r.loadMedia=function(e,t){var r=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=UP(e);var n=this.cache_.media,i=n.artwork,o=n.poster,a=n.src,s=n.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:Nx(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(e){return r.addRemoteTextTrack(e,!1)})),this.ready(t)}},r.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Nx(t.poster)}]),t}return UP(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=xC(e),n=r["data-setup"];if(AC(e,"vjs-fill")&&(r.fill=!0),AC(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=wA()(n||"{}"),o=i[0],a=i[1];o&&NO.error(o),zO(r,a)}if(zO(t,r),e.hasChildNodes())for(var s=e.childNodes,u=0,c=s.length;u<c;u++){var l=s[u],d=l.nodeName.toLowerCase();"source"===d?t.sources.push(xC(l)):"track"===d&&t.tracks.push(xC(l))}return t},r.flexNotSupported_=function(){var e=gA().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},r.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(FP);kx.names.forEach((function(e){var t=kx[e];Oj.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Oj.prototype.crossorigin=Oj.prototype.crossOrigin,Oj.players={};var Cj=fA().navigator;Oj.prototype.options_={techOrder:Ax.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Cj&&(Cj.languages&&Cj.languages[0]||Cj.userLanguage||Cj.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Oj.prototype[e]=function(){return this.techGet_(e)}})),Tj.forEach((function(e){Oj.prototype["handleTech"+MP(e)+"_"]=function(){return this.trigger(e)}})),FP.registerComponent("Player",Oj);var Pj="plugin",xj={},Dj=function(e){return xj.hasOwnProperty(e)},jj=function(e){return Dj(e)?xj[e]:void 0},Rj=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Mj=function(e,t,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},Uj=function(e,t){return t.prototype.name=e,function(){Mj(this,{name:e,plugin:t,instance:null},!0);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=CA(t,[this].concat(n));return this[e]=function(){return o},Mj(this,o.getEventHash()),o}},Lj=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),xP(this),delete this.trigger,jP(this,this.constructor.defaultState),Rj(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),fP(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Uj(e,xj[e])},e.isBasic=function(t){var r="string"==typeof t?jj(t):t;return"function"==typeof r&&!e.prototype.isPrototypeOf(r.prototype)},e.registerPlugin=function(t,r){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Dj(t))NO.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Oj.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof r)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof r+".");return xj[t]=r,t!==Pj&&(e.isBasic(r)?Oj.prototype[t]=function(e,t){var r=function(){Mj(this,{name:e,plugin:t,instance:null},!0);var r=t.apply(this,arguments);return Rj(this,e),Mj(this,{name:e,plugin:t,instance:r}),r};return Object.keys(t).forEach((function(e){r[e]=t[e]})),r}(t,r):Oj.prototype[t]=Uj(t,r)),r},e.deregisterPlugin=function(e){if(e===Pj)throw new Error("Cannot de-register base plugin.");Dj(e)&&(delete xj[e],delete Oj.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(xj)),e.forEach((function(e){var r=jj(e);r&&((t=t||{})[e]=r)})),t},e.getPluginVersion=function(e){var t=jj(e);return t&&t.VERSION||""},e}();Lj.getPlugin=jj,Lj.BASE_PLUGIN_NAME=Pj,Lj.registerPlugin(Pj,Lj),Oj.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Oj.prototype.hasPlugin=function(e){return!!Dj(e)};var Nj=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Bj(e,t,r){var n=Bj.getPlayer(e);if(n)return t&&NO.warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&n.ready(r),n;var i="string"==typeof e?KC("#"+Nj(e)):e;if(!_C(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||NO.warn("The element supplied is not included in the DOM"),t=t||{},PO("beforesetup").forEach((function(e){var r=e(i,UP(t));WO(r)&&!Array.isArray(r)?t=UP(t,r):NO.error("please return an object in beforesetup hooks")}));var o=FP.getComponent("Player");return n=new o(i,t,r),PO("setup").forEach((function(e){return e(n)})),n}if(Bj.hooks_=CO,Bj.hooks=PO,Bj.hook=function(e,t){PO(e,t)},Bj.hookOnce=function(e,t){PO(e,[].concat(t).map((function(t){return function r(){return xO(e,r),t.apply(void 0,arguments)}})))},Bj.removeHook=xO,!0!==fA().VIDEOJS_NO_DYNAMIC_STYLE&&bC()){var qj=KC(".vjs-styles-defaults");if(!qj){qj=tP("vjs-styles-defaults");var Fj=KC("head");Fj&&Fj.insertBefore(qj,Fj.firstChild),rP(qj,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}QC(1,Bj),Bj.VERSION=OO,Bj.options=Oj.prototype.options_,Bj.getPlayers=function(){return Oj.players},Bj.getPlayer=function(e){var t,r=Oj.players;if("string"==typeof e){var n=Nj(e),i=r[n];if(i)return i;t=KC("#"+n)}else t=e;if(_C(t)){var o=t,a=o.player,s=o.playerId;if(a||r[s])return a||r[s]}},Bj.getAllPlayers=function(){return Object.keys(Oj.players).map((function(e){return Oj.players[e]})).filter(Boolean)},Bj.players=Oj.players,Bj.getComponent=FP.getComponent,Bj.registerComponent=function(e,t){Ax.isTech(t)&&NO.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),FP.registerComponent.call(FP,e,t)},Bj.getTech=Ax.getTech,Bj.registerTech=Ax.registerTech,Bj.use=function(e,t){Ex[e]=Ex[e]||[],Ex[e].push(t)},Object.defineProperty(Bj,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Bj.middleware,"TERMINATOR",{value:Cx,writeable:!1,enumerable:!0}),Bj.browser=mC,Bj.TOUCH_ENABLED=dC,Bj.extend=function(e,t){void 0===t&&(t={});var r=function(){e.apply(this,arguments)},n={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yA(e,t)}(r,e),e&&(r.super_=e),n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r},Bj.mergeOptions=UP,Bj.bind=bP,Bj.registerPlugin=Lj.registerPlugin,Bj.deregisterPlugin=Lj.deregisterPlugin,Bj.plugin=function(e,t){return NO.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Lj.registerPlugin(e,t)},Bj.getPlugins=Lj.getPlugins,Bj.getPlugin=Lj.getPlugin,Bj.getPluginVersion=Lj.getPluginVersion,Bj.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),Bj.options.languages=UP(Bj.options.languages,((r={})[e]=t,r)),Bj.options.languages[e]},Bj.log=NO,Bj.createLogger=BO,Bj.createTimeRange=Bj.createTimeRanges=WP,Bj.formatTime=tD,Bj.setFormatTime=function(e){eD=e},Bj.resetFormatTime=function(){eD=Zx},Bj.parseUrl=px,Bj.isCrossOrigin=gx,Bj.EventTarget=wP,Bj.on=dP,Bj.one=hP,Bj.off=pP,Bj.trigger=fP,Bj.xhr=kA(),Bj.TextTrack=bx,Bj.AudioTrack=_x,Bj.VideoTrack=wx,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Bj[e]=function(){return NO.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),YC[e].apply(null,arguments)}})),Bj.computedStyle=GO,Bj.dom=YC,Bj.url=mx,Bj.defineLazyProperty=wj,Bj.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Vj=jA,zj=function(e,t,r){return e&&r&&r.responseURL&&t!==r.responseURL?r.responseURL:t},Wj=function(e){return Bj.log.debug?Bj.log.debug.bind(Bj,"VHS:",e+" >"):function(){}},Hj=1/30,Gj=.1,Kj=function(e,t){var r,n=[];if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return Bj.createTimeRanges(n)},Xj=function(e,t){return Kj(e,(function(e,r){return e-Gj<=t&&r+Gj>=t}))},Yj=function(e,t){return Kj(e,(function(e){return e-Hj>=t}))},$j=function(e){var t=[];if(!e||!e.length)return"";for(var r=0;r<e.length;r++)t.push(e.start(r)+" => "+e.end(r));return t.join(", ")},Jj=function(e){for(var t=[],r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t},Qj=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},Zj=function(e,t){var r=0;if(!e||!e.length)return r;for(var n=0;n<e.length;n++){var i=e.start(n),o=e.end(n);t>o||(r+=t>i&&t<=o?o-t:o-i)}return r},eR=Bj.createTimeRange,tR=function(e,t){if(!t.preload)return t.duration;var r=0;return(t.parts||[]).forEach((function(e){r+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(r+=e.partTargetDuration)})),r},rR=function(e){return(e.segments||[]).reduce((function(e,t,r){return t.parts?t.parts.forEach((function(n,i){e.push({duration:n.duration,segmentIndex:r,partIndex:i,part:n,segment:t})})):e.push({duration:t.duration,segmentIndex:r,partIndex:null,segment:t,part:null}),e}),[])},nR=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},iR=function(e){var t=e.preloadSegment;if(t){var r=t.parts,n=(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0);return n+(r&&r.length?r.length:0)}},oR=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var r=nR(t).length>0;return r&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:r&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},aR=function(e,t,r){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var n=function(e,t){var r=0,n=t-e.mediaSequence,i=e.segments[n];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;n--;){if(void 0!==(i=e.segments[n]).end)return{result:r+i.end,precise:!0};if(r+=tR(e,i),void 0!==i.start)return{result:r+i.start,precise:!0}}return{result:r,precise:!1}}(e,t);if(n.precise)return n.result;var i=function(e,t){for(var r,n=0,i=t-e.mediaSequence;i<e.segments.length;i++){if(void 0!==(r=e.segments[i]).start)return{result:r.start-n,precise:!0};if(n+=tR(e,r),void 0!==r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:n.result+r},sR=function(e,t,r){if(!e)return 0;if("number"!=typeof r&&(r=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return fA()[1/0]}return aR(e,t,r)},uR=function(e){var t=e.defaultDuration,r=e.durationList,n=e.startIndex,i=e.endIndex,o=0;if(n>i){var a=[i,n];n=a[0],i=a[1]}if(n<0){for(var s=n;s<Math.min(0,i);s++)o+=t;n=0}for(var u=n;u<i;u++)o+=r[u].duration;return o},cR=function(e,t,r,n){if(!e||!e.segments)return null;if(e.endList)return sR(e);if(null===t)return null;t=t||0;var i=aR(e,e.mediaSequence+e.segments.length,t);return r&&(i-=n="number"==typeof n?n:oR(null,e)),Math.max(0,i)},lR=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},dR=function(e){return e.excludeUntil&&e.excludeUntil===1/0},pR=function(e){var t=lR(e);return!e.disabled&&!t},fR=function(e,t){return t.attributes&&t.attributes[e]},hR=function(e,t){if(1===e.playlists.length)return!0;var r=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!pR(e)&&(e.attributes.BANDWIDTH||0)<r})).length},gR=function(e,t){return!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri))},mR=function(e,t){var r=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(var i in r){for(var o in r[i])if(n=t(r[i][o]))break;if(n)break}return!!n},vR=function(e){if(!e||!e.playlists||!e.playlists.length)return mR(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var r=e.playlists[t],n=r.attributes&&r.attributes.CODECS;return n&&n.split(",").every((function(e){return ZA(e)}))||mR(e,(function(e){return gR(r,e)}))?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var n=t(r);if("continue"!==n&&"object"==typeof n)return n.v}return!0},yR={liveEdgeDelay:oR,duration:sR,seekable:function(e,t,r){var n=t||0,i=cR(e,t,!0,r);return null===i?eR():eR(n,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,r=e.currentTime,n=e.startingSegmentIndex,i=e.startingPartIndex,o=e.startTime,a=e.experimentalExactManifestTimings,s=r-o,u=rR(t),c=0,l=0;l<u.length;l++){var d=u[l];if(n===d.segmentIndex&&("number"!=typeof i||"number"!=typeof d.partIndex||i===d.partIndex)){c=l;break}}if(s<0){if(c>0)for(var p=c-1;p>=0;p--){var f=u[p];if(s+=f.duration,a){if(s<0)continue}else if(s+Hj<=0)continue;return{partIndex:f.partIndex,segmentIndex:f.segmentIndex,startTime:o-uR({defaultDuration:t.targetDuration,durationList:u,startIndex:c,endIndex:p})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:r}}if(c<0){for(var h=c;h<0;h++)if((s-=t.targetDuration)<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:r};c=0}for(var g=c;g<u.length;g++){var m=u[g];if(s-=m.duration,a){if(s>0)continue}else if(s-Hj>=0)continue;return{partIndex:m.partIndex,segmentIndex:m.segmentIndex,startTime:o+uR({defaultDuration:t.targetDuration,durationList:u,startIndex:c,endIndex:g})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:r}},isEnabled:pR,isDisabled:function(e){return e.disabled},isBlacklisted:lR,isIncompatible:dR,playlistEnd:cR,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:fR,estimateSegmentRequestTime:function(e,t,r,n){return void 0===n&&(n=0),fR("BANDWIDTH",r)?(e*r.attributes.BANDWIDTH-8*n)/t:NaN},isLowestEnabledRendition:hR,isAudioOnly:vR,playlistMatch:gR,segmentDurationWithParts:tR},bR=Bj.log,_R=function(e,t){return e+"-"+t},wR=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(r){if(e.mediaGroups[r])for(var n in e.mediaGroups[r])for(var i in e.mediaGroups[r][n]){var o=e.mediaGroups[r][n][i];t(o,r,n,i)}}))},SR=function(e){var t=e.playlist,r=e.uri,n=e.id;t.id=n,t.playlistErrors_=0,r&&(t.uri=r),t.attributes=t.attributes||{}},TR=function(e,t){e.uri=t;for(var r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){var n="placeholder-uri-"+r;e.playlists[r].uri=n}var i=vR(e);wR(e,(function(t,r,n,o){var a="placeholder-uri-"+r+"-"+n+"-"+o;if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===r&&!t.uri)for(var s=0;s<e.playlists.length;s++){var u=e.playlists[s];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===n)return}t.playlists=[mA({},t)]}t.playlists.forEach((function(t,r){var n=_R(r,a);t.uri?t.resolvedUri=t.resolvedUri||Vj(e.uri,t.uri):(t.uri=0===r?a:n,t.resolvedUri=t.uri),t.id=t.id||n,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var r=e.playlists[t];SR({playlist:r,id:_R(t,r.uri)}),r.resolvedUri=Vj(e.uri,r.uri),e.playlists[r.id]=r,e.playlists[r.uri]=r,r.attributes.BANDWIDTH||bR.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){wR(e,(function(t){t.uri&&(t.resolvedUri=Vj(e.uri,t.uri))}))}(e)},IR=Bj.mergeOptions,kR=Bj.EventTarget,AR=function(e,t){if(!e)return t;var r=IR(e,t);if(e.preloadHints&&!t.preloadHints&&delete r.preloadHints,e.parts&&!t.parts)delete r.parts;else if(e.parts&&t.parts)for(var n=0;n<t.parts.length;n++)e.parts&&e.parts[n]&&(r.parts[n]=IR(e.parts[n],t.parts[n]));return!e.skipped&&t.skipped&&(r.skipped=!1),e.preload&&!t.preload&&(r.preload=!1),r},ER=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Vj(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Vj(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Vj(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Vj(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=Vj(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=Vj(t,e.uri))}))},OR=function(e){var t=e.segments||[],r=e.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints)for(var n=0;n<r.preloadHints.length;n++)if("MAP"===r.preloadHints[n].type)return t;r.duration=e.targetDuration,r.preload=!0,t.push(r)}return t},CR=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},PR=function(e,t,r){void 0===r&&(r=CR);var n=IR(e,{}),i=n.playlists[t.id];if(!i)return null;if(r(i,t))return null;t.segments=OR(t);var o=IR(i,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,i.segments){if(t.skip){t.segments=t.segments||[];for(var a=0;a<t.skip.skippedSegments;a++)t.segments.unshift({skipped:!0})}o.segments=function(e,t,r){var n=e.slice(),i=t.slice();r=r||0;for(var o,a=[],s=0;s<i.length;s++){var u=n[s+r],c=i[s];u?(o=u.map||o,a.push(AR(u,c))):(o&&!c.map&&(c.map=o),a.push(c))}return a}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)}o.segments.forEach((function(e){ER(e,o.resolvedUri)}));for(var s=0;s<n.playlists.length;s++)n.playlists[s].id===t.id&&(n.playlists[s]=o);return n.playlists[t.id]=o,n.playlists[t.uri]=o,wR(e,(function(e,r,n,i){if(e.playlists)for(var o=0;o<e.playlists.length;o++)t.id===e.playlists[o].id&&(e.playlists[o]=t)})),n},xR=function(e,t){var r=e.segments||[],n=r[r.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],o=i&&i.duration||n&&n.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)},DR=function(e){function t(t,r,n){var i;if(void 0===n&&(n={}),i=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");i.logger_=Wj("PlaylistLoader");var o=n,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,c=void 0!==u&&u;i.src=t,i.vhs_=r,i.withCredentials=s,i.handleManifestRedirects=c;var l=r.options_;return i.customTagParsers=l&&l.customTagParsers||[],i.customTagMappers=l&&l.customTagMappers||[],i.experimentalLLHLS=l&&l.experimentalLLHLS||!1,Bj.browser.IE_VERSION&&(i.experimentalLLHLS=!1),i.state="HAVE_NOTHING",i.handleMediaupdatetimeout_=i.handleMediaupdatetimeout_.bind(vA(i)),i.on("mediaupdatetimeout",i.handleMediaupdatetimeout_),i}bA(t,e);var r=t.prototype;return r.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),r=Vj(this.master.uri,t.uri);this.experimentalLLHLS&&(r=function(e,t){if(t.endList||!t.serverControl)return e;var r={};if(t.serverControl.canBlockReload){var n=t.preloadSegment,i=t.mediaSequence+t.segments.length;if(n){var o=n.parts||[],a=iR(t)-1;a>-1&&a!==o.length-1&&(r._HLS_part=a),(a>-1||o.length)&&i--}r._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(r._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){var s=new(fA().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){r.hasOwnProperty(e)&&s.searchParams.set(e,r[e])})),e=s.toString()}return e}(r,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials},(function(t,r){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},r.playlistRequestError=function(e,t,r){var n=t.uri,i=t.id;this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[i],status:e.status,message:"HLS playlist request error at URL: "+n+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(e){var t=this,r=e.url;return function(e){var t=e.onwarn,r=e.oninfo,n=e.manifestString,i=e.customTagParsers,o=void 0===i?[]:i,a=e.customTagMappers,s=void 0===a?[]:a,u=e.experimentalLLHLS,c=new KA;t&&c.on("warn",t),r&&c.on("info",r),o.forEach((function(e){return c.addParser(e)})),s.forEach((function(e){return c.addTagMapper(e)})),c.push(n),c.end();var l=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){l.hasOwnProperty(e)&&delete l[e]})),l.segments&&l.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!l.targetDuration){var d=10;l.segments&&l.segments.length&&(d=l.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+d),l.targetDuration=d}var p=nR(l);if(p.length&&!l.partTargetDuration){var f=p.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+f),bR.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),l.partTargetDuration=f}return l}({onwarn:function(e){var n=e.message;return t.logger_("m3u8-parser warn for "+r+": "+n)},oninfo:function(e){var n=e.message;return t.logger_("m3u8-parser info for "+r+": "+n)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(e){var t=e.playlistString,r=e.playlistObject,n=e.url,i=e.id;this.request=null,this.state="HAVE_METADATA";var o=r||this.parseManifest_({url:n,manifestString:t});o.lastRequest=Date.now(),SR({playlist:o,uri:n,id:i});var a=PR(this.master,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.master=a,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(xR(this.media(),!!a)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),fA().clearTimeout(this.mediaUpdateTimeout),fA().clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},r.media=function(e,t){var r=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(fA().clearTimeout(this.finalRenditionTimeout),t){var n=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=fA().setTimeout(this.media.bind(this,e,!1),n)}else{var i=this.state,o=!this.media_||e.id!==this.media_.id,a=this.master.playlists[e.id];if(a&&a.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(o&&(this.trigger("mediachanging"),"HAVE_MASTER"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(xR(e,!0)),o){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,n){if(r.request){if(e.lastRequest=Date.now(),e.resolvedUri=zj(r.handleManifestRedirects,e.resolvedUri,n),t)return r.playlistRequestError(r.request,e,i);r.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===i?r.trigger("loadedmetadata"):r.trigger("mediachange")}}))}}},r.pause=function(){this.mediaUpdateTimeout&&(fA().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},r.load=function(e){var t=this;this.mediaUpdateTimeout&&(fA().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var r=this.media();if(e){var n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=fA().setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),n)}else this.started?r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},r.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(fA().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=fA().setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},r.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=fA().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,r){if(e.request){if(e.request=null,t)return e.error={status:r.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:r.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=zj(e.handleManifestRedirects,e.src,r);var n=e.parseManifest_({manifestString:r.responseText,url:e.src});e.setupInitialPlaylist(n)}}))},r.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},r.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,TR(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=OR(e),e.segments.forEach((function(t){ER(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||fA().location.href;this.master=function(e,t){var r=_R(0,t),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:fA().location.href,resolvedUri:fA().location.href,playlists:[{uri:t,id:r,resolvedUri:t,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[t]=n.playlists[0],n}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(kR),jR=Bj.xhr,RR=Bj.mergeOptions,MR=function(e,t,r,n){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),r.headers&&(e.responseHeaders=r.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===r.statusCode||206===r.statusCode||0===r.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),n(t,e)},UR=function(){var e=function e(t,r){t=RR({timeout:45e3},t);var n=e.beforeRequest||Bj.Vhs.xhr.beforeRequest;if(n&&"function"==typeof n){var i=n(t);i&&(t=i)}var o=(!0===Bj.Vhs.xhr.original?jR:Bj.Vhs.xhr)(t,(function(e,t){return MR(o,e,t,r)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e.original=!0,e},LR=function(e){var t,r={};return e.byterange&&(r.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?fA().BigInt(t.offset)+fA().BigInt(t.length)-fA().BigInt(1):t.offset+t.length-1)),r},NR=function(e,t){return e.start(t)+"-"+e.end(t)},BR=function(e,t){var r=e.toString(16);return"00".substring(0,2-r.length)+r+(t%2?" ":"")},qR=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},FR=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];ArrayBuffer.isView(n)?t[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[r]=n})),t},VR=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},zR=function(e){return e.resolvedUri},WR=function(e){for(var t=Array.prototype.slice.call(e),r=16,n="",i=0;i<t.length/r;i++)n+=t.slice(i*r,i*r+r).map(BR).join("")+" "+t.slice(i*r,i*r+r).map(qR).join("")+"\n";return n},HR=Object.freeze({__proto__:null,createTransferableMessage:FR,initSegmentId:VR,segmentKeyId:zR,hexDump:WR,tagDump:function(e){var t=e.bytes;return WR(t)},textRanges:function(e){var t,r="";for(t=0;t<e.length;t++)r+=NR(e,t)+" ";return r}}),GR=function e(t){var r=t.programTime,n=t.playlist,i=t.retryCount,o=void 0===i?2:i,a=t.seekTo,s=t.pauseAfterSeek,u=void 0===s||s,c=t.tech,l=t.callback;if(!l)throw new Error("seekToProgramTime: callback must be provided");if(void 0===r||!n||!a)return l({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!c.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(n))return l({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var d=function(e,t){var r;try{r=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var n=t.segments[0];if(r<n.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(n=t.segments[i],!(r<t.segments[i+1].dateTimeObject));i++);var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return r>new Date(s.getTime()+1e3*u)?null:(r>s&&(n=a),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:yR.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(r,n);if(!d)return l({message:r+" was not found in the stream"});var p=d.segment,f=function(e,t){var r,n;try{r=new Date(e),n=new Date(t)}catch(e){}var i=r.getTime();return(n.getTime()-i)/1e3}(p.dateTimeObject,r);if("estimate"===d.type)return 0===o?l({message:r+" is not buffered yet. Try again"}):(a(d.estimatedStart+f),void c.one("seeked",(function(){e({programTime:r,playlist:n,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:c,callback:l})})));var h=p.start+f;c.one("seeked",(function(){return l(null,c.currentTime())})),u&&c.pause(),a(h)},KR=function(e,t){if(4===e.readyState)return t()},XR=Bj.EventTarget,YR=Bj.mergeOptions,$R=function(e,t){if(!CR(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var r=0;r<e.segments.length;r++){var n=e.segments[r],i=t.segments[r];if(n.uri!==i.uri)return!1;if(n.byterange||i.byterange){var o=n.byterange,a=i.byterange;if(o&&!a||!o&&a)return!1;if(o.offset!==a.offset||o.length!==a.length)return!1}}return!0},JR=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},QR=function(e,t){var r={};for(var n in e){var i=e[n].sidx;if(i){var o=IE(i);if(!t[o])break;var a=t[o].sidxInfo;JR(a,i)&&(r[o]=t[o])}}return r},ZR=function(e){function t(t,r,n,i){var o;void 0===n&&(n={}),(o=e.call(this)||this).masterPlaylistLoader_=i||vA(o),i||(o.isMaster_=!0);var a=n,s=a.withCredentials,u=void 0!==s&&s,c=a.handleManifestRedirects,l=void 0!==c&&c;if(o.vhs_=r,o.withCredentials=u,o.handleManifestRedirects=l,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Wj("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=t,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=t,o}bA(t,e);var r=t.prototype;return r.requestErrored_=function(e,t,r){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,r&&(this.state=r),this.trigger("error"),!0):void 0)},r.addSidxSegments_=function(e,t,r){var n=this,i=e.sidx&&IE(e.sidx);if(e.sidx&&i&&!this.masterPlaylistLoader_.sidxMapping_[i]){var o=zj(this.handleManifestRedirects,e.sidx.resolvedUri),a=function(o,a){if(!n.requestErrored_(o,a,t)){var s,u=n.masterPlaylistLoader_.sidxMapping_;try{s=QE()(ZE(a.response).subarray(8))}catch(e){return void n.requestErrored_(e,a,t)}return u[i]={sidxInfo:e.sidx,sidx:s},bE(e,s,e.sidx.resolvedUri),r(!0)}};this.request=function(e,t,r){var n,i=[],o=!1,a=function(e,t,n,i){return t.abort(),o=!0,r(e,t,n,i)},s=function(e,t){if(!o){if(e)return a(e,t,"",i);var r=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return ZE(t[0]);var n=t.reduce((function(e,t,r){return e+(t.byteLength||t.length)}),0),i=new Uint8Array(n),o=0;return t.forEach((function(e){e=ZE(e),i.set(e,o),o+=e.byteLength})),i}(i,nO(r,!0)),n=n||aO(i),i.length<10||n&&i.length<n+2)return KR(t,(function(){return a(e,t,"",i)}));var s=AO(i);return"ts"===s&&i.length<188||!s&&i.length<376?KR(t,(function(){return a(e,t,"",i)})):a(null,t,s,i)}},u={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,MR(e,null,{statusCode:e.status},s)}))}},c=t(u,(function(e,t){return MR(c,e,t,s)}));return c}(o,this.vhs_.xhr,(function(t,r,i,s){if(t)return a(t,r);if(!i||"mp4"!==i)return a({status:r.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+o,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},r);var u=e.sidx.byterange,c=u.offset,l=u.length;if(s.length>=l+c)return a(t,{response:s.subarray(c,c+l),status:r.status,uri:r.uri});n.request=n.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:LR({byterange:e.sidx.byterange})},a)}))}else this.mediaRequest_=fA().setTimeout((function(){return r(!1)}),0)},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},fA().clearTimeout(this.minimumUpdatePeriodTimeout_),fA().clearTimeout(this.mediaRequest_),fA().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},r.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,(function(n){t.haveMetadata({startingState:r,playlist:e})})))},r.haveMetadata=function(e){var t=e.startingState,r=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),fA().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(fA().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},r.load=function(e){var t=this;fA().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var r=this.media();if(e){var n=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=fA().setTimeout((function(){return t.load()}),n)}else this.started?r&&!r.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},r.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,r){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=fA().setTimeout((function(){return e.haveMaster_()}),0)},r.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(r,n){if(!t.requestErrored_(r,n)){var i=n.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=zj(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,n),i?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(n,i)}))):e(n,i)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},r.syncClientServerClock_=function(e){var t,r=this,n=(t=this.masterPlaylistLoader_.masterXml_,function(e){var t=FE(e,"UTCTiming")[0];if(!t)return null;var r=HE(t);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return r}($E(t)));return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Vj(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(t,i){if(r.request){if(t)return r.masterPlaylistLoader_.clientOffset_=r.masterLoaded_-Date.now(),e();var o;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):r.masterLoaded_:Date.parse(i.responseText),r.masterPlaylistLoader_.clientOffset_=o-Date.now(),e()}})))},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var e,t,r,n=this.masterPlaylistLoader_.master,i=(r=function(e,t){void 0===t&&(t={});var r=function(e,t){void 0===t&&(t={});var r=t,n=r.manifestUri,i=void 0===n?"":n,o=r.NOW,a=void 0===o?Date.now():o,s=r.clientOffset,u=void 0===s?0:s,c=FE(e,"Period");if(!c.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var l=FE(e,"Location"),d=HE(e),p=KE([i],FE(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,l.length&&(d.locations=l.map(VE));var f=[];return c.forEach((function(e,t){var r=HE(e),n=f[t-1];r.start=function(e){var t=e.attributes,r=e.priorPeriodAttributes,n=e.mpdType;return"number"==typeof t.start?t.start:r&&"number"==typeof r.start&&"number"==typeof r.duration?r.start+r.duration:r||"static"!==n?null:0}({attributes:r,priorPeriodAttributes:n?n.attributes:null,mpdType:d.type}),f.push({node:e,attributes:r})})),{locations:d.locations,representationInfo:dE(f.map(YE(d,p)))}}($E(e),t),n=r.representationInfo.map(qE);return jE({dashPlaylists:n,locations:r.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})}((e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:n}).masterXml,{manifestUri:t=e.srcUrl,clientOffset:e.clientOffset,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest}),TR(r,t),r);n&&(i=function(e,t,r){for(var n=!0,i=YR(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),o=0;o<t.playlists.length;o++){var a=t.playlists[o];if(a.sidx){var s=IE(a.sidx);r&&r[s]&&r[s].sidx&&bE(a,r[s].sidx,a.sidx.resolvedUri)}var u=PR(i,a,$R);u&&(i=u,n=!1)}return wR(t,(function(e,t,r,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,s=PR(i,e.playlists[0],$R);s&&((i=s).mediaGroups[t][r][o].playlists[0]=i.playlists[a],n=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:i}(n,i,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=i||n;var o=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return o&&o!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=o),(!n||i&&i.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(i)},r.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(fA().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},r.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=fA().setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},r.refreshXml_=function(){var e=this;this.requestMaster_((function(t,r){var n,i,o;r&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(n=e.masterPlaylistLoader_.master,i=e.masterPlaylistLoader_.sidxMapping_,o=QR(n.playlists,i),wR(n,(function(e,t,r,n){if(e.playlists&&e.playlists.length){var a=e.playlists;o=YR(o,QR(a,i))}})),o),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},r.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var r=this.masterPlaylistLoader_.master.playlists,n=!this.media_||this.media_!==r[e];n?this.media_=r[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function e(){t.media().endList||(t.mediaUpdateTimeout=fA().setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),xR(t.media(),Boolean(n))))}(),this.trigger("loadedplaylist")},t}(XR),eM={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},tM=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},rM=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(r){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),r=tM(new Worker(t));r.objURL=t;var n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(t),n.call(this)},r}},nM=function(e){return"var browserWorkerPolyFill = "+tM.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},iM=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},oM=nM(iM((function(){var e=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t]=e[t].concat(r)},this.off=function(t,r){var n;return!!e[t]&&(n=e[t].indexOf(r),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var r,n,i,o;if(r=e[t])if(2===arguments.length)for(i=r.length,n=0;n<i;++n)r[n].call(this,arguments[1]);else{for(o=[],n=arguments.length,n=1;n<arguments.length;++n)o.push(arguments[n]);for(i=r.length,n=0;n<i;++n)r[n].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,w,S,T,I,k,A,E,O,C,P,x,D,j,R,M,U,L,N,B,q,F=e,V=Math.pow(2,32),z={getUint64:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getBigUint64?(t=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:r.getUint32(0)*V+r.getUint32(4)},MAX_UINT32:V},W=z.MAX_UINT32;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),I=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),O={video:A,audio:E},x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),j=D,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),M=D,C=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,r,n=[],i=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)i+=n[t].byteLength;for(r=new Uint8Array(i+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(e,4),t=0,i=8;t<n.length;t++)r.set(n[t],i),i+=n[t].byteLength;return r},r=function(){return t(S.dinf,t(S.dref,x))},n=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(S.hdlr,O[e])},h=function(e){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(r[12]=e.samplerate>>>24&255,r[13]=e.samplerate>>>16&255,r[14]=e.samplerate>>>8&255,r[15]=255&e.samplerate),t(S.mdhd,r)},f=function(e){return t(S.mdia,h(e),g(e.type),a(e))},o=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},a=function(e){return t(S.minf,"video"===e.type?t(S.vmhd,C):t(S.smhd,P),r(),v(e))},s=function(e,r){for(var n=[],i=r.length;i--;)n[i]=b(r[i]);return t.apply(null,[S.moof,o(e)].concat(n))},u=function(e){for(var r=e.length,n=[];r--;)n[r]=d(e[r]);return t.apply(null,[S.moov,l(4294967295)].concat(n).concat(c(e)))},c=function(e){for(var r=e.length,n=[];r--;)n[r]=_(e[r]);return t.apply(null,[S.mvex].concat(n))},l=function(e){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,r)},m=function(e){var r,n,i=e.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t(S.sdtp,o)},v=function(e){return t(S.stbl,y(e),t(S.stts,M),t(S.stsc,j),t(S.stsz,R),t(S.stco,D))},y=function(e){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?U(e):L(e))},U=function(e){var r,n,i=e.sps||[],o=e.pps||[],a=[],s=[];for(r=0;r<i.length;r++)a.push((65280&i[r].byteLength)>>>8),a.push(255&i[r].byteLength),a=a.concat(Array.prototype.slice.call(i[r]));for(r=0;r<o.length;r++)s.push((65280&o[r].byteLength)>>>8),s.push(255&o[r].byteLength),s=s.concat(Array.prototype.slice.call(o[r]));if(n=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],a,[o.length],s))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var u=e.sarRatio[0],c=e.sarRatio[1];n.push(t(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return t.apply(null,n)},L=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},p=function(e){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,r)},b=function(e){var r,n,i,o,a,s;return r=t(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/W),s=Math.floor(e.baseMediaDecodeTime%W),n=t(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===e.type?(i=w(e,92),t(S.traf,r,n,i)):(o=m(e),i=w(e,o.length+92),t(S.traf,r,n,i,o))},d=function(e){return e.duration=e.duration||4294967295,t(S.trak,p(e),f(e))},_=function(e){var r=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(r[r.length-1]=0),t(S.trex,r)},q=function(e,t){var r=0,n=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,r|n|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},B=function(e,r){var n,i,o,a,s,u;for(r+=20+16*(a=e.samples||[]).length,o=q(a,r),(i=new Uint8Array(o.length+16*a.length)).set(o),n=o.length,u=0;u<a.length;u++)s=a[u],i[n++]=(4278190080&s.duration)>>>24,i[n++]=(16711680&s.duration)>>>16,i[n++]=(65280&s.duration)>>>8,i[n++]=255&s.duration,i[n++]=(4278190080&s.size)>>>24,i[n++]=(16711680&s.size)>>>16,i[n++]=(65280&s.size)>>>8,i[n++]=255&s.size,i[n++]=s.flags.isLeading<<2|s.flags.dependsOn,i[n++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,i[n++]=61440&s.flags.degradationPriority,i[n++]=15&s.flags.degradationPriority,i[n++]=(4278190080&s.compositionTimeOffset)>>>24,i[n++]=(16711680&s.compositionTimeOffset)>>>16,i[n++]=(65280&s.compositionTimeOffset)>>>8,i[n++]=255&s.compositionTimeOffset;return t(S.trun,i)},N=function(e,r){var n,i,o,a,s,u;for(r+=20+8*(a=e.samples||[]).length,o=q(a,r),(n=new Uint8Array(o.length+8*a.length)).set(o),i=o.length,u=0;u<a.length;u++)s=a[u],n[i++]=(4278190080&s.duration)>>>24,n[i++]=(16711680&s.duration)>>>16,n[i++]=(65280&s.duration)>>>8,n[i++]=255&s.duration,n[i++]=(4278190080&s.size)>>>24,n[i++]=(16711680&s.size)>>>16,n[i++]=(65280&s.size)>>>8,n[i++]=255&s.size;return t(S.trun,n)},w=function(e,t){return"audio"===e.type?N(e,t):B(e,t)},i=function(){return t(S.ftyp,T,I,T,k)};var H,G,K,X,Y,$,J,Q,Z=function(e){return t(S.mdat,e)},ee=s,te=function(e,t){var r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return r.dataOffset=t,r.compositionTimeOffset=e.pts-e.dts,r.duration=e.duration,r.size=4*e.length,r.size+=e.byteLength,e.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),r},re=[33,16,5,32,164,27],ne=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ie=function(e){for(var t=[];e--;)t.push(0);return t},oe=9e4;$=function(e,t){return G(Y(e,t))},J=function(e,t){return K(X(e),t)},Q=function(e,t,r){return X(r?e:e-t)};var ae=oe,se=G=function(e){return e*oe},ue=(K=function(e,t){return e*t},X=function(e){return e/oe}),ce=(Y=function(e,t){return e/t},$),le=J,de=Q,pe=function(e,t,r,n){var i,o,a,s,u,c=0,l=0,d=0;if(t.length&&(i=ce(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(ae/(e.samplerate/1024)),r&&n&&(c=i-Math.max(r,n),d=(l=Math.floor(c/o))*o),!(l<1||d>45e3))){for((a=function(){if(!H){var e={96e3:[re,[227,64],ie(154),[56]],88200:[re,[231],ie(170),[56]],64e3:[re,[248,192],ie(240),[56]],48e3:[re,[255,192],ie(268),[55,148,128],ie(54),[112]],44100:[re,[255,192],ie(268),[55,163,128],ie(84),[112]],32e3:[re,[255,192],ie(268),[55,234],ie(226),[112]],24e3:[re,[255,192],ie(268),[55,255,128],ie(268),[111,112],ie(126),[224]],16e3:[re,[255,192],ie(268),[55,255,128],ie(268),[111,255],ie(269),[223,108],ie(195),[1,192]],12e3:[ne,ie(268),[3,127,248],ie(268),[6,255,240],ie(268),[13,255,224],ie(268),[27,253,128],ie(259),[56]],11025:[ne,ie(268),[3,127,248],ie(268),[6,255,240],ie(268),[13,255,224],ie(268),[27,255,192],ie(268),[55,175,128],ie(108),[112]],8e3:[ne,ie(268),[3,121,16],ie(47),[7]]};t=e,H=Object.keys(t).reduce((function(e,r){return e[r]=new Uint8Array(t[r].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return H}()[e.samplerate])||(a=t[0].data),s=0;s<l;s++)u=t[0],t.splice(0,0,{data:a,dts:u.dts-o,pts:u.pts-o});return e.baseMediaDecodeTime-=Math.floor(le(d,e.samplerate)),d}},fe=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},he=function(e,t){var r,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),r=e.timelineStartInfo.baseMediaDecodeTime,r+=n,r=Math.max(0,r),"audio"===e.type&&(r*=e.samplerate/9e4,r=Math.floor(r)),r},ge=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},me=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ae(0,0),new Ae(0,1),new Ae(1,0),new Ae(1,1)],this.parse708captions_&&(this.cc708Stream_=new we({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(me.prototype=new F).push=function(e){var t,r,n;if("sei_rbsp"===e.nalUnitType&&(t=function(e){for(var t=0,r={payloadType:-1,payloadSize:0},n=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!r.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){r.payloadType=n,r.payloadSize=i,r.payload=e.subarray(t,t+i);break}r.payload=void 0}t+=i,n=0,i=0}return r}(e.escapedRBSP)).payload&&4===t.payloadType&&(r=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=function(e,t){var r,n,i,o,a=[];if(!(64&t[0]))return a;for(n=31&t[0],r=0;r<n;r++)o={type:3&t[2+(i=3*r)],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a}(e.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},me.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},me.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},me.prototype.flush=function(){return this.flushStream("flush")},me.prototype.partialFlush=function(){return this.flushStream("partialFlush")},me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},me.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},me.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},me.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},me.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},me.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ye=function(e){return 32<=e&&e<=127||160<=e&&e<=255},be=function(e){this.windowNum=e,this.reset()};be.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},be.prototype.getText=function(){return this.rows.join("\n")},be.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},be.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},be.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},be.prototype.addText=function(e){this.rows[this.rowIdx]+=e},be.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var _e=function(e,t,r){this.serviceNum=e,this.text="",this.currentWindow=new be(-1),this.windows=[],this.stream=r,"string"==typeof t&&this.createTextDecoder(t)};_e.prototype.init=function(e,t){this.startPts=e;for(var r=0;r<8;r++)this.windows[r]=new be(r),"function"==typeof t&&(this.windows[r].beforeRowOverflow=t)},_e.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},_e.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var we=function e(t){t=t||{},e.prototype.init.call(this);var r,n=this,i=t.captionServices||{},o={};Object.keys(i).forEach((function(e){r=i[e],/^SERVICE/.test(e)&&(o[e]=r.encoding)})),this.serviceEncodings=o,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(n.new708Packet(),n.add708Bytes(e)):(null===n.current708Packet&&n.new708Packet(),n.add708Bytes(e))}};we.prototype=new F,we.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},we.prototype.add708Bytes=function(e){var t=e.ccData,r=t>>>8,n=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(r),this.current708Packet.data.push(n)},we.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,r=null,n=null,i=0,o=t[i++];for(e.seq=o>>6,e.sizeCode=63&o;i<t.length;i++)n=31&(o=t[i++]),7==(r=o>>5)&&n>0&&(r=o=t[i++]),this.pushServiceBlock(r,i,n),n>0&&(i+=n-1)},we.prototype.pushServiceBlock=function(e,t,r){var n,i=t,o=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,i));i<t+r&&i<o.length;i++)n=o[i],ye(n)?i=this.handleText(i,a):24===n?i=this.multiByteCharacter(i,a):16===n?i=this.extendedCommands(i,a):128<=n&&n<=135?i=this.setCurrentWindow(i,a):152<=n&&n<=159?i=this.defineWindow(i,a):136===n?i=this.clearWindows(i,a):140===n?i=this.deleteWindows(i,a):137===n?i=this.displayWindows(i,a):138===n?i=this.hideWindows(i,a):139===n?i=this.toggleWindows(i,a):151===n?i=this.setWindowAttributes(i,a):144===n?i=this.setPenAttributes(i,a):145===n?i=this.setPenColor(i,a):146===n?i=this.setPenLocation(i,a):143===n?a=this.reset(i,a):8===n?a.currentWindow.backspace():12===n?a.currentWindow.clearText():13===n?a.currentWindow.pendingNewLine=!0:14===n?a.currentWindow.clearText():141===n&&i++},we.prototype.extendedCommands=function(e,t){var r=this.current708Packet.data[++e];return ye(r)&&(e=this.handleText(e,t,{isExtended:!0})),e},we.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},we.prototype.initService=function(e,t){var r,n,i=this;return(r="SERVICE"+e)in this.serviceEncodings&&(n=this.serviceEncodings[r]),this.services[e]=new _e(e,n,i),this.services[e].init(this.getPts(t),(function(t){i.flushDisplayed(t,i.services[e])})),this.services[e]},we.prototype.handleText=function(e,t,r){var n,i,o,a,s=r&&r.isExtended,u=r&&r.isMultiByte,c=this.current708Packet.data,l=s?4096:0,d=c[e],p=c[e+1],f=t.currentWindow;return t.textDecoder_&&!s?(u?(i=[d,p],e++):i=[d],n=t.textDecoder_.decode(new Uint8Array(i))):(a=ve[o=l|d]||o,n=4096&o&&o===a?"":String.fromCharCode(a)),f.pendingNewLine&&!f.isEmpty()&&f.newLine(this.getPts(e)),f.pendingNewLine=!1,f.addText(n),e},we.prototype.multiByteCharacter=function(e,t){var r=this.current708Packet.data,n=r[e+1],i=r[e+2];return ye(n)&&ye(i)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},we.prototype.setCurrentWindow=function(e,t){var r=7&this.current708Packet.data[e];return t.setCurrentWindow(r),e},we.prototype.defineWindow=function(e,t){var r=this.current708Packet.data,n=r[e],i=7&n;t.setCurrentWindow(i);var o=t.currentWindow;return n=r[++e],o.visible=(32&n)>>5,o.rowLock=(16&n)>>4,o.columnLock=(8&n)>>3,o.priority=7&n,n=r[++e],o.relativePositioning=(128&n)>>7,o.anchorVertical=127&n,n=r[++e],o.anchorHorizontal=n,n=r[++e],o.anchorPoint=(240&n)>>4,o.rowCount=15&n,n=r[++e],o.columnCount=63&n,n=r[++e],o.windowStyle=(56&n)>>3,o.penStyle=7&n,o.virtualRowCount=o.rowCount+1,e},we.prototype.setWindowAttributes=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.winAttr;return n=r[++e],i.fillOpacity=(192&n)>>6,i.fillRed=(48&n)>>4,i.fillGreen=(12&n)>>2,i.fillBlue=3&n,n=r[++e],i.borderType=(192&n)>>6,i.borderRed=(48&n)>>4,i.borderGreen=(12&n)>>2,i.borderBlue=3&n,n=r[++e],i.borderType+=(128&n)>>5,i.wordWrap=(64&n)>>6,i.printDirection=(48&n)>>4,i.scrollDirection=(12&n)>>2,i.justify=3&n,n=r[++e],i.effectSpeed=(240&n)>>4,i.effectDirection=(12&n)>>2,i.displayEffect=3&n,e},we.prototype.flushDisplayed=function(e,t){for(var r=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&r.push(t.windows[n].getText());t.endPts=e,t.text=r.join("\n\n"),this.pushCaption(t),t.startPts=e},we.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},we.prototype.displayWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible=1);return e},we.prototype.hideWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible=0);return e},we.prototype.toggleWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&(t.windows[i].visible^=1);return e},we.prototype.clearWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&t.windows[i].clearText();return e},we.prototype.deleteWindows=function(e,t){var r=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var i=0;i<8;i++)r&1<<i&&t.windows[i].reset();return e},we.prototype.setPenAttributes=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penAttr;return n=r[++e],i.textTag=(240&n)>>4,i.offset=(12&n)>>2,i.penSize=3&n,n=r[++e],i.italics=(128&n)>>7,i.underline=(64&n)>>6,i.edgeType=(56&n)>>3,i.fontStyle=7&n,e},we.prototype.setPenColor=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penColor;return n=r[++e],i.fgOpacity=(192&n)>>6,i.fgRed=(48&n)>>4,i.fgGreen=(12&n)>>2,i.fgBlue=3&n,n=r[++e],i.bgOpacity=(192&n)>>6,i.bgRed=(48&n)>>4,i.bgGreen=(12&n)>>2,i.bgBlue=3&n,n=r[++e],i.edgeRed=(48&n)>>4,i.edgeGreen=(12&n)>>2,i.edgeBlue=3&n,e},we.prototype.setPenLocation=function(e,t){var r=this.current708Packet.data,n=r[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=r[++e],i.row=15&n,n=r[++e],i.column=63&n,e},we.prototype.reset=function(e,t){var r=this.getPts(e);return this.flushDisplayed(r,t),this.initService(t.serviceNum,e)};var Se={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Te=function(e){return null===e?"":(e=Se[e]||e,String.fromCharCode(e))},Ie=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ke=function(){for(var e=[],t=15;t--;)e.push("");return e},Ae=function e(t,r){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,n,i,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=ke();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ke();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=ke()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,i))o=Te((n=(3&n)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(n,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Te((n=(3&n)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(n,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,i))this.column_+=3&i;else if(this.isPAC(n,i)){var a=Ie.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===i&&(i=null),o=Te(n),o+=Te(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ae.prototype=new F,Ae.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ae.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ke(),this.nonDisplayed_=ke(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ae.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ae.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ae.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ae.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ae.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ae.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ae.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ae.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ae.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=ke(),this.displayed_=ke()),void 0!==t&&t!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[t-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ae.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,r)},Ae.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ae.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},Ae.prototype.rollUp=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r},Ae.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ae.prototype.paintOn=function(e,t){var r=this.displayed_[this.row_];r+=t,this.displayed_[this.row_]=r};var Ee={CaptionStream:me,Cea608Stream:Ae,Cea708Stream:we},Oe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ce="shared",Pe=function(e,t){var r=1;for(e>t&&(r=-1);Math.abs(t-e)>4294967296;)e+=8589934592*r;return e},xe=function e(t){var r,n;e.prototype.init.call(this),this.type_=t||Ce,this.push=function(e){this.type_!==Ce&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=Pe(e.dts,n),e.pts=Pe(e.pts,n),r=e.dts,this.trigger("data",e))},this.flush=function(){n=r,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,r=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};xe.prototype=new F;var De,je=xe,Re=Pe,Me=function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},Ue=function(e,t,r){return decodeURIComponent(Me(e,t,r))},Le=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ne={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ue(e.data,1,t),e.value=Ue(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ue(e.data,1,t),e.url=Ue(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,r;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(r=e.data,unescape(Me(r,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};De=function(e){var t,r={descriptor:e&&e.descriptor},n=0,i=[],o=0;if(De.prototype.init.call(this),this.dispatchType=Oe.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(t=0;t<r.descriptor.length;t++)this.dispatchType+=("00"+r.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,a,s,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(i.push(e),o+=e.data.byteLength,1===i.length&&(n=Le(e.data.subarray(6,10)),n+=10),!(o<n)){for(t={data:new Uint8Array(n),frames:[],pts:i[0].pts,dts:i[0].dts},u=0;u<n;)t.data.set(i[0].data.subarray(0,n-u),u),u+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();r=10,64&t.data[5]&&(r+=4,r+=Le(t.data.subarray(10,14)),n-=Le(t.data.subarray(16,20)));do{if((a=Le(t.data.subarray(r+4,r+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((s={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+a+10)}).key=s.id,Ne[s.id]&&(Ne[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var c=s.data,l=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;l*=4,l+=3&c[7],s.timeStamp=l,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),r+=10,r+=a}while(r<n);this.trigger("data",t)}}},De.prototype=new F;var Be,qe,Fe,Ve=De,ze=je,We=188;(Be=function(){var e=new Uint8Array(We),t=0;Be.prototype.init.call(this),this.push=function(r){var n,i=0,o=We;for(t?((n=new Uint8Array(r.byteLength+t)).set(e.subarray(0,t)),n.set(r,t),t=0):n=r;o<n.byteLength;)71!==n[i]||71!==n[o]?(i++,o++):(this.trigger("data",n.subarray(i,o)),i+=We,o+=We);i<n.byteLength&&(e.set(n.subarray(i),0),t=n.byteLength-i)},this.flush=function(){t===We&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new F,qe=function(){var e,t,r,n;qe.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var i=0;n.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===n.type?t(e.subarray(i),n):r(e.subarray(i),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},r=function(e,t){var r,i;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<r;){var o=e[i],a=(31&e[i+1])<<8|e[i+2];o===Oe.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=a:o===Oe.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=a:o===Oe.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][a]=o),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var r={},n=4;if(r.payloadUnitStartIndicator=!!(64&t[1]),r.pid=31&t[1],r.pid<<=8,r.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===r.pid)r.type="pat",e(t.subarray(n),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",e(t.subarray(n),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,r]):this.processPes_(t,n,r)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=Oe.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=Oe.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}},qe.prototype=new F,qe.STREAM_TYPES={h264:27,adts:15},Fe=function(){var e,t=this,r=!1,n={data:[],size:0},i={data:[],size:0},o={data:[],size:0},a=function(e,r,n){var i,o,a=new Uint8Array(e.size),s={type:r},u=0,c=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)o=e.data[u],a.set(o.data,c),c+=o.data.byteLength;var l,d,p,f;d=s,f=(l=a)[0]<<16|l[1]<<8|l[2],d.data=new Uint8Array,1===f&&(d.packetLength=6+(l[4]<<8|l[5]),d.dataAlignmentIndicator=0!=(4&l[6]),192&(p=l[7])&&(d.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,d.pts*=4,d.pts+=(6&l[13])>>>1,d.dts=d.pts,64&p&&(d.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,d.dts*=4,d.dts+=(6&l[18])>>>1)),d.data=l.subarray(9+l[8])),i="video"===r||s.packetLength<=e.size,(n||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};Fe.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var e,t;switch(s.streamType){case Oe.H264_STREAM_TYPE:e=n,t="video";break;case Oe.ADTS_STREAM_TYPE:e=i,t="audio";break;case Oe.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&a(e,t,!0),e.data.push(s),e.size+=s.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=s.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),r=!0,t.trigger("data",n)}})[s.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(n,"video"),a(i,"audio"),a(o,"timed-metadata")},this.flush=function(){if(!r&&e){var n={type:"metadata",tracks:[]};null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}r=!1,this.flushStreams_(),this.trigger("done")}},Fe.prototype=new F;var He={PAT_PID:0,MP2T_PACKET_LENGTH:We,TransportPacketStream:Be,TransportParseStream:qe,ElementaryStream:Fe,TimestampRolloverStream:ze,CaptionStream:Ee.CaptionStream,Cea608Stream:Ee.Cea608Stream,Cea708Stream:Ee.Cea708Stream,MetadataStream:Ve};for(var Ge in Oe)Oe.hasOwnProperty(Ge)&&(He[Ge]=Oe[Ge]);var Ke,Xe=He,Ye=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ke=function(e){var t,r=0;Ke.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+r+" outside syncword"})},this.push=function(n){var i,o,a,s,u,c=0;if(e||(r=0),"audio"===n.type){var l;for(t&&t.length?(a=t,(t=new Uint8Array(a.byteLength+n.data.byteLength)).set(a),t.set(n.data,a.byteLength)):t=n.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof l&&(this.skipWarn_(l,c),l=null),o=2*(1&~t[c+1]),i=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,u=9e4*(s=1024*(1+(3&t[c+6])))/Ye[(60&t[c+2])>>>2],t.byteLength-c<i)break;this.trigger("data",{pts:n.pts+r*u,dts:n.dts+r*u,sampleCount:s,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:Ye[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,c+i)}),r++,c+=i}else"number"!=typeof l&&(l=c),c++;"number"==typeof l&&(this.skipWarn_(l,c),l=null),t=t.subarray(c)}},this.flush=function(){r=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},Ke.prototype=new F;var $e,Je=Ke;$e=function(e){var t=e.byteLength,r=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),r=new DataView(o.buffer).getUint32(0),n=8*a,t-=a},this.skipBits=function(e){var i;n>e?(r<<=e,n-=e):(e-=n,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),r<<=e,n-=e)},this.readBits=function(e){var i=Math.min(n,e),o=r>>>32-i;return(n-=i)>0?r<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(r&2147483648>>>e))return r<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Qe,Ze,et,tt=$e;Ze=function(){var e,t,r=0;Ze.prototype.init.call(this),this.push=function(n){var i;t?((i=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),i.set(n.data,t.byteLength),t=i):t=n.data;for(var o=t.byteLength;r<o-3;r++)if(1===t[r+2]){e=r+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}r+3!==e-2&&this.trigger("data",t.subarray(r+3,e-2));do{e++}while(1!==t[e]&&e<o);r=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(r+3,e-2)),r=e-2,e+=3;break;default:e+=3}t=t.subarray(r),e-=r,r=0},this.reset=function(){t=null,r=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(r+3)),t=null,r=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ze.prototype=new F,et={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Qe=function(){var e,t,r,n,i,o,a,s=new Ze;Qe.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,r=e.pts,n=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:r,dts:n,data:a,nalUnitTypeCode:31&a[0]};switch(s.nalUnitTypeCode){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var r,n=8,i=8;for(r=0;r<e;r++)0!==i&&(i=(n+t.readExpGolomb()+256)%256),n=0===i?n:i},i=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},o=function(e){var t,r,n,i,o,s,u,c,l,d,p,f,h=0,g=0,m=0,v=0,y=[1,1];if(r=(t=new tt(e)).readUnsignedByte(),i=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),et[r]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,f=0;f<p;f++)t.readBoolean()&&a(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),f=0;f<u;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:r,levelIdc:n,profileCompatibility:i,width:16*(c+1)-2*h-2*g,height:(2-d)*(l+1)*16-2*m-2*v,sarRatio:y}}},Qe.prototype=new F;var rt,nt={H264Stream:Qe,NalByteStream:Ze},it=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ot=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return r=r>=0?r:0,(16&e[t+5])>>4?r+20:r+10},at=function e(t,r){return t.length-r<10||t[r]!=="I".charCodeAt(0)||t[r+1]!=="D".charCodeAt(0)||t[r+2]!=="3".charCodeAt(0)?r:e(t,r+=ot(t,r))},st=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},ut={isLikelyAacData:function(e){var t=at(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:ot,parseAdtsSize:function(e,t){var r=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|r},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return it[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,r,n;t=10,64&e[5]&&(t+=4,t+=st(e.subarray(10,14)));do{if((r=st(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,r){var n,i="";for(n=t;n<r;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i}(n,0,i))){var o=n.subarray(i+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return(a*=4)+(3&o[7])}break}}t+=10,t+=r}while(t<e.byteLength);return null}};(rt=function(){var e=new Uint8Array,t=0;rt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(r){var n,i,o,a,s=0,u=0;for(e.length?(a=e.length,(e=new Uint8Array(r.byteLength+a)).set(e.subarray(0,a)),e.set(r,a)):e=r;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!=(255&e[u])||240!=(240&e[u+1]))u++;else{if(e.length-u<7)break;if(u+(s=ut.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else{if(e.length-u<10)break;if(u+(s=ut.parseId3TagSize(e,u))>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}n=e.length-u,e=n>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new F;var ct,lt,dt,pt,ft=rt,ht=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],gt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],mt=nt.H264Stream,vt=ut.isLikelyAacData,yt=function(e,t){t.stream=e,this.trigger("log",t)},bt=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];"headOfPipeline"!==i&&t[i].on&&t[i].on("log",yt.bind(e,i))}},_t=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},wt=function(e,t,r,n,i,o){return{start:{dts:e,pts:e+(r-t)},end:{dts:e+(n-t),pts:e+(i-r)},prependedContentDuration:o,baseMediaDecodeTime:e}};lt=function(e,t){var r,n=[],i=0,o=0,a=1/0;r=(t=t||{}).firstSequenceNumber||0,lt.prototype.init.call(this),this.push=function(t){ge(e,t),e&&ht.forEach((function(r){e[r]=t[r]})),n.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,u,c,l,d,p,f;0!==n.length?(s=function(e,t,r){return t.minSegmentDts>=r?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=r&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))}(n,e,i),e.baseMediaDecodeTime=he(e,t.keepOriginalTimestamps),f=pe(e,s,o,a),e.samples=function(e){var t,r,n=[];for(t=0;t<e.length;t++)r=e[t],n.push({size:r.data.byteLength,duration:1024});return n}(s),c=Z(function(e){var t,r,n=0,i=new Uint8Array(function(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t].data.byteLength;return r}(e));for(t=0;t<e.length;t++)r=e[t],i.set(r.data,n),n+=r.data.byteLength;return i}(s)),n=[],u=ee(r,[e]),l=new Uint8Array(u.byteLength+c.byteLength),r++,l.set(u),l.set(c,u.byteLength),fe(e),d=Math.ceil(9216e4/e.samplerate),s.length&&(p=s.length*d,this.trigger("segmentTimingInfo",wt(ce(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+p,s[0].pts+p,f||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+p})),this.trigger("data",{track:e,boxes:l}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){fe(e),n=[],this.trigger("reset")}},lt.prototype=new F,ct=function(e,t){var r,n,i,o=[],a=[];r=(t=t||{}).firstSequenceNumber||0,ct.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){ge(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],gt.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,i,s,u,c,l,d,p,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=function(e){var t,r,n=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(r=e[t]).nalUnitType?(n.length&&(n.duration=r.dts-n.dts,i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n)),(n=[r]).byteLength=r.data.byteLength,n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.duration=r.dts-n.dts,n.byteLength+=r.data.byteLength,n.push(r));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n),i}(o),(s=function(e){var t,r,n=[],i=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(r=e[t]).keyFrame?(n.length&&(i.push(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration),(n=[r]).nalCount=r.length,n.byteLength=r.byteLength,n.pts=r.pts,n.dts=r.dts,n.duration=r.duration):(n.duration+=r.duration,n.nalCount+=r.length,n.byteLength+=r.byteLength,n.push(r));return i.length&&n.duration<=0&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration,i.push(n),i}(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],e))?(f=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e}(s)),a.length){var h;if(!(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");fe(e),s=h}ge(e,s),e.samples=function(e,t){var r,n,i,o,a,s=t||0,u=[];for(r=0;r<e.length;r++)for(o=e[r],n=0;n<o.length;n++)a=o[n],s+=(i=te(a,s)).size,u.push(i);return u}(s),c=Z(function(e){var t,r,n,i,o,a,s=0,u=e.byteLength,c=e.nalCount,l=new Uint8Array(u+4*c),d=new DataView(l.buffer);for(t=0;t<e.length;t++)for(i=e[t],r=0;r<i.length;r++)for(o=i[r],n=0;n<o.length;n++)a=o[n],d.setUint32(s,a.data.byteLength),s+=4,l.set(a.data,s),s+=a.data.byteLength;return l}(s)),e.baseMediaDecodeTime=he(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],p=s[s.length-1],this.trigger("segmentTimingInfo",wt(e.baseMediaDecodeTime,d.dts,d.pts,p.dts+p.duration,p.pts+p.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=ee(r,[e]),l=new Uint8Array(u.byteLength+c.byteLength),r++,l.set(u),l.set(c,u.byteLength),this.trigger("data",{track:e,boxes:l}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){fe(e),n=void 0,i=void 0},this.getGopForFusion_=function(t){var r,n,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(o=this.gopCache_[a]).gop,e.pps&&_t(e.pps[0],o.pps[0])&&e.sps&&_t(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(r=t.dts-i.dts-i.duration)>=-1e4&&r<=45e3&&(!n||s>r)&&(n=o,s=r));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,r,n,i,o,s,u,c;for(o=e.byteLength,s=e.nalCount,u=e.duration,t=r=0;t<a.length&&r<e.length&&(n=a[t],i=e[r],n.pts!==i.pts);)i.pts>n.pts?t++:(r++,o-=i.byteLength,s-=i.nalCount,u-=i.duration);return 0===r?e:r===e.length?null:((c=e.slice(r)).byteLength=o,c.duration=u,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,r,n,i,o,s,u;for(t=a.length-1,r=e.length-1,o=null,s=!1;t>=0&&r>=0;){if(n=a[t],i=e[r],n.pts===i.pts){s=!0;break}n.pts>i.pts?t--:(t===a.length-1&&(o=r),r--)}if(!s&&null===o)return null;if(0===(u=s?r:o))return e;var c=e.slice(u),l=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){a=e}},ct.prototype=new F,pt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,pt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},pt.prototype=new F,pt.prototype.flush=function(e){var t,r,n,o,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},c=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(c=this.videoTrack.timelineStartInfo.pts,gt.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(c=this.audioTrack.timelineStartInfo.pts,ht.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,n=function(e){var t,r=i(),n=u(e);return(t=new Uint8Array(r.byteLength+n.byteLength)).set(r),t.set(n,r.byteLength),t}(this.pendingTracks),s.initSegment=new Uint8Array(n.byteLength),s.initSegment.set(n),s.data=new Uint8Array(this.pendingBytes),o=0;o<this.pendingBoxes.length;o++)s.data.set(this.pendingBoxes[o],a),a+=this.pendingBoxes[o].byteLength;for(o=0;o<this.pendingCaptions.length;o++)(t=this.pendingCaptions[o]).startTime=de(t.startPts,c,this.keepOriginalTimestamps),t.endTime=de(t.endPts,c,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(o=0;o<this.pendingMetadata.length;o++)(r=this.pendingMetadata[o]).cueTime=de(r.pts,c,this.keepOriginalTimestamps),s.metadata.push(r);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),o=0;o<s.captions.length;o++)t=s.captions[o],this.trigger("caption",t);for(o=0;o<s.metadata.length;o++)r=s.metadata[o],this.trigger("id3Frame",r)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},pt.prototype.setRemux=function(e){this.remuxTracks=e},dt=function(e){var t,r,n=this,i=!0;dt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new Xe.MetadataStream,i.aacStream=new ft,i.audioTimestampRolloverStream=new Xe.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new Xe.TimestampRolloverStream("timed-metadata"),i.adtsStream=new Je,i.coalesceStream=new pt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||i.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new lt(r,e),i.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),n.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),bt(this,i)},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new Xe.MetadataStream,i.packetStream=new Xe.TransportPacketStream,i.parseStream=new Xe.TransportParseStream,i.elementaryStream=new Xe.ElementaryStream,i.timestampRolloverStream=new Xe.TimestampRolloverStream,i.adtsStream=new Je,i.h264Stream=new mt,i.captionStream=new Xe.CaptionStream(e),i.coalesceStream=new pt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?r||"audio"!==o.tracks[a].type||((r=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new ct(t,e),i.videoSegmentStream.on("log",n.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",(function(t){r&&!e.keepOriginalTimestamps&&(r.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-n.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){r&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),r&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new lt(r,e),i.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,n.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),bt(this,i)},this.setBaseMediaDecodeTime=function(n){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,fe(r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,fe(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var r=this.transmuxPipeline_;e.remux=t,r&&r.coalesceStream&&r.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(r){r.stream=e,t.trigger("log",r)}},this.push=function(e){if(i){var t=vt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},dt.prototype=new F;var St,Tt,It,kt={Transmuxer:dt,VideoSegmentStream:ct,AudioSegmentStream:lt,AUDIO_PROPERTIES:ht,VIDEO_PROPERTIES:gt,generateSegmentTimingInfo:wt},At=function(e){return e>>>0},Et=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},Ot=At,Ct=function e(t,r){var n,i,o,a,s,u=[];if(!r.length)return null;for(n=0;n<t.byteLength;)i=Ot(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),o=Et(t.subarray(n+4,n+8)),a=i>1?n+i:t.byteLength,o===r[0]&&(1===r.length?u.push(t.subarray(n+8,a)):(s=e(t.subarray(n+8,a),r.slice(1))).length&&(u=u.concat(s))),n=a;return u},Pt=At,xt=z.getUint64,Dt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},Rt="undefined"!=typeof window?window:void 0!==jt?jt:"undefined"!=typeof self?self:{},Mt=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},Ut=Ee.CaptionStream,Lt=function(e,t){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(r<i.size)return i;r-=i.size}return null},Nt=function(e,t){var r=Ct(e,["moof","traf"]),n=Ct(e,["mdat"]),i={},o=[];return n.forEach((function(e,t){var n=r[t];o.push({mdat:e,traf:n})})),o.forEach((function(e){var r,n,o=e.mdat,a=e.traf,s=function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},i=1&n.flags[2],o=2&n.flags[2],a=8&n.flags[2],s=16&n.flags[2],u=32&n.flags[2],c=65536&n.flags[0],l=131072&n.flags[0];return t=8,i&&(t+=4,n.baseDataOffset=r.getUint32(12),t+=4),o&&(n.sampleDescriptionIndex=r.getUint32(t),t+=4),a&&(n.defaultSampleDuration=r.getUint32(t),t+=4),s&&(n.defaultSampleSize=r.getUint32(t),t+=4),u&&(n.defaultSampleFlags=r.getUint32(t)),c&&(n.durationIsEmpty=!0),!i&&l&&(n.baseDataOffsetIsMoof=!0),n}(Ct(a,["tfhd"])[0]),u=s.trackId,c=Ct(a,["tfdt"]),l=c.length>0?function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=xt(e.subarray(4)):t.baseMediaDecodeTime=Pt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t}(c[0]).baseMediaDecodeTime:0,d=Ct(a,["trun"]);t===u&&d.length>0&&(r=function(e,t,r){var n=t,i=r.defaultSampleDuration||0,o=r.defaultSampleSize||0,a=r.trackId,s=[];return e.forEach((function(e){var t=function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&r.flags[2],o=4&r.flags[2],a=1&r.flags[1],s=2&r.flags[1],u=4&r.flags[1],c=8&r.flags[1],l=n.getUint32(4),d=8;for(i&&(r.dataOffset=n.getInt32(d),d+=4),o&&l&&(t={flags:Dt(e.subarray(d,d+4))},d+=4,a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),c&&(1===r.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t),l--);l--;)t={},a&&(t.duration=n.getUint32(d),d+=4),s&&(t.size=n.getUint32(d),d+=4),u&&(t.flags=Dt(e.subarray(d,d+4)),d+=4),c&&(1===r.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=4),r.samples.push(t);return r}(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof n?(e.pts=n+Rt.BigInt(e.compositionTimeOffset),n+=Rt.BigInt(e.duration)):(e.pts=n+e.compositionTimeOffset,n+=e.duration)})),s=s.concat(t)})),s}(d,l,s),n=function(e,t,r){var n,i,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u={logs:[],seiNals:[]};for(i=0;i+4<e.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var c=e.subarray(i+1,i+1+o),l=Lt(i,t);if(n={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:Mt(c),trackId:r},l)n.pts=l.pts,n.dts=l.dts,a=l;else{if(!a){u.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+i+" for trackId "+r+". See mux.js#223."});break}n.pts=a.pts,n.dts=a.dts}u.seiNals.push(n)}return u}(o,r,u),i[u]||(i[u]={seiNals:[],logs:[]}),i[u].seiNals=i[u].seiNals.concat(n.seiNals),i[u].logs=i[u].logs.concat(n.logs))})),i},Bt=function(){var e,t,r,n,i,o,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new Ut,a=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,i.captions.push(e),i.captionStreams[e.stream]=!0})),e.on("log",(function(e){i.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||r===e[0]&&n===t[r])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))r=o[0],n=a[r];else if(null===r||!n)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return s=function(e,t,r){if(null===t)return null;var n=Nt(e,t)[t]||{};return{seiNals:n.seiNals,logs:n.logs,timescale:r}}(e,r,n),s&&s.logs&&(i.logs=i.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):i.logs.length?{logs:i.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={},i.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],r=null,n=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},qt=At,Ft=function(e){return("00"+e.toString(16)).slice(-2)},Vt=z.getUint64;St=function(e,t){var r=Ct(t,["moof","traf"]).reduce((function(t,r){var n,i,o=Ct(r,["tfhd"])[0],a=qt(o[4]<<24|o[5]<<16|o[6]<<8|o[7]),s=e[a]||9e4,u=Ct(r,["tfdt"])[0],c=new DataView(u.buffer,u.byteOffset,u.byteLength);return"bigint"==typeof(n=1===u[0]?Vt(u.subarray(4,12)):c.getUint32(4))?i=n/Rt.BigInt(s):"number"!=typeof n||isNaN(n)||(i=n/s),i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i<t&&(t=i),t}),1/0);return"bigint"==typeof r||isFinite(r)?r:0},It=function(e){var t=0===e[0]?12:20;return qt(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Tt=function(e){var t=Ct(e,["moov","trak"]),r=[];return t.forEach((function(e){var t,n,i={},o=Ct(e,["tkhd"])[0];o&&(n=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),i.id=0===n?t.getUint32(12):t.getUint32(20));var a=Ct(e,["mdia","hdlr"])[0];if(a){var s=Et(a.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var u=Ct(e,["mdia","minf","stbl","stsd"])[0];if(u){var c=u.subarray(8);i.codec=Et(c.subarray(4,8));var l,d=Ct(c,[i.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(i.codec)?(l=d.subarray(78),"avcC"===Et(l.subarray(4,8))&&l.length>11?(i.codec+=".",i.codec+=Ft(l[9]),i.codec+=Ft(l[10]),i.codec+=Ft(l[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(l=d.subarray(28),"esds"===Et(l.subarray(4,8))&&l.length>20&&0!==l[19]?(i.codec+="."+Ft(l[19]),i.codec+="."+Ft(l[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var p=Ct(e,["mdia","mdhd"])[0];p&&(i.timescale=It(p)),r.push(i)})),r};var zt=St,Wt=Tt,Ht=function(e){var t=31&e[1];return(t<<=8)|e[2]},Gt=function(e){return!!(64&e[1])},Kt=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},Xt=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Yt={parseType:function(e,t){var r=Ht(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},parsePat:function(e){var t=Gt(e),r=4+Kt(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},parsePmt:function(e){var t={},r=Gt(e),n=4+Kt(e);if(r&&(n+=e[n]+1),1&e[n+5]){var i;i=3+((15&e[n+1])<<8|e[n+2])-4;for(var o=12+((15&e[n+10])<<8|e[n+11]);o<i;){var a=n+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:Gt,parsePesType:function(e,t){switch(t[Ht(e)]){case Oe.H264_STREAM_TYPE:return"video";case Oe.ADTS_STREAM_TYPE:return"audio";case Oe.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Gt(e))return null;var t=4+Kt(e);if(t>=e.byteLength)return null;var r,n=null;return 192&(r=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+Kt(e),r=e.subarray(t),n=0,i=0,o=!1;i<r.byteLength-3;i++)if(1===r[i+2]){n=i+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}i+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Xt(31&r[i+3])&&(o=!0);do{n++}while(1!==r[n]&&n<r.length);i=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Xt(31&r[i+3])&&(o=!0),i=n-2,n+=3;break;default:n+=3}return r=r.subarray(i),n-=i,i=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Xt(31&r[i+3])&&(o=!0),o}},$t=Re,Jt={};Jt.ts=Yt,Jt.aac=ut;var Qt=ae,Zt=188,er=71,tr=function(e,t,r){for(var n,i,o,a,s=0,u=Zt,c=!1;u<=e.byteLength;)if(e[s]!==er||e[u]!==er&&u!==e.byteLength)s++,u++;else{if(n=e.subarray(s,u),"pes"===Jt.ts.parseType(n,t.pid)&&(i=Jt.ts.parsePesType(n,t.table),o=Jt.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(a=Jt.ts.parsePesTime(n))&&(a.type="audio",r.audio.push(a),c=!0)),c)break;s+=Zt,u+=Zt}for(s=(u=e.byteLength)-Zt,c=!1;s>=0;)if(e[s]!==er||e[u]!==er&&u!==e.byteLength)s--,u--;else{if(n=e.subarray(s,u),"pes"===Jt.ts.parseType(n,t.pid)&&(i=Jt.ts.parsePesType(n,t.table),o=Jt.ts.parsePayloadUnitStartIndicator(n),"audio"===i&&o&&(a=Jt.ts.parsePesTime(n))&&(a.type="audio",r.audio.push(a),c=!0)),c)break;s-=Zt,u-=Zt}},rr=function(e,t,r){for(var n,i,o,a,s,u,c,l=0,d=Zt,p=!1,f={data:[],size:0};d<e.byteLength;)if(e[l]!==er||e[d]!==er)l++,d++;else{if(n=e.subarray(l,d),"pes"===Jt.ts.parseType(n,t.pid)&&(i=Jt.ts.parsePesType(n,t.table),o=Jt.ts.parsePayloadUnitStartIndicator(n),"video"===i&&(o&&!p&&(a=Jt.ts.parsePesTime(n))&&(a.type="video",r.video.push(a),p=!0),!r.firstKeyFrame))){if(o&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)c=f.data.shift(),s.set(c,u),u+=c.byteLength;if(Jt.ts.videoPacketContainsKeyFrame(s)){var h=Jt.ts.parsePesTime(s);h?(r.firstKeyFrame=h,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(n),f.size+=n.byteLength}if(p&&r.firstKeyFrame)break;l+=Zt,d+=Zt}for(l=(d=e.byteLength)-Zt,p=!1;l>=0;)if(e[l]!==er||e[d]!==er)l--,d--;else{if(n=e.subarray(l,d),"pes"===Jt.ts.parseType(n,t.pid)&&(i=Jt.ts.parsePesType(n,t.table),o=Jt.ts.parsePayloadUnitStartIndicator(n),"video"===i&&o&&(a=Jt.ts.parsePesTime(n))&&(a.type="video",r.video.push(a),p=!0)),p)break;l-=Zt,d-=Zt}},nr=function(e,t){var r;return r=Jt.aac.isLikelyAacData(e)?function(e){for(var t,r=!1,n=0,i=null,o=null,a=0,s=0;e.length-s>=3;){switch(Jt.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){r=!0;break}if((a=Jt.aac.parseId3TagSize(e,s))>e.length){r=!0;break}null===o&&(t=e.subarray(s,s+a),o=Jt.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){r=!0;break}if((a=Jt.aac.parseAdtsSize(e,s))>e.length){r=!0;break}null===i&&(t=e.subarray(s,s+a),i=Jt.aac.parseSampleRate(t)),n++,s+=a;break;default:s++}if(r)return null}if(null===i||null===o)return null;var u=Qt/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*u,pts:o+1024*n*u}]}}(e):function(e){var t={pid:null,table:null},r={};for(var n in function(e,t){for(var r,n=0,i=Zt;i<e.byteLength;)if(e[n]!==er||e[i]!==er)n++,i++;else{switch(r=e.subarray(n,i),Jt.ts.parseType(r,t.pid)){case"pat":t.pid=Jt.ts.parsePat(r);break;case"pmt":var o=Jt.ts.parsePmt(r);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}n+=Zt,i+=Zt}}(e,t),t.table)if(t.table.hasOwnProperty(n))switch(t.table[n]){case Oe.H264_STREAM_TYPE:r.video=[],rr(e,t,r),0===r.video.length&&delete r.video;break;case Oe.ADTS_STREAM_TYPE:r.audio=[],tr(e,t,r),0===r.audio.length&&delete r.audio}return r}(e),r&&(r.audio||r.video)?(function(e,t){if(e.audio&&e.audio.length){var r=t;(void 0===r||isNaN(r))&&(r=e.audio[0].dts),e.audio.forEach((function(e){e.dts=$t(e.dts,r),e.pts=$t(e.pts,r),e.dtsTime=e.dts/Qt,e.ptsTime=e.pts/Qt}))}if(e.video&&e.video.length){var n=t;if((void 0===n||isNaN(n))&&(n=e.video[0].dts),e.video.forEach((function(e){e.dts=$t(e.dts,n),e.pts=$t(e.pts,n),e.dtsTime=e.dts/Qt,e.ptsTime=e.pts/Qt})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=$t(i.dts,n),i.pts=$t(i.pts,n),i.dtsTime=i.dts/Qt,i.ptsTime=i.pts/Qt}}}(r,t),r):null},ir=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new kt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var r=t.initSegment;t.initSegment={data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength};var n=t.data;t.data=n.buffer,e.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var r={start:{decode:ue(t.start.dts),presentation:ue(t.start.pts)},end:{decode:ue(t.end.dts),presentation:ue(t.end.pts)},baseMediaDecodeTime:ue(t.baseMediaDecodeTime)};t.prependedContentDuration&&(r.prependedContentDuration=ue(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:r})})),t.on("audioSegmentTimingInfo",(function(t){var r={start:{decode:ue(t.start.dts),presentation:ue(t.start.pts)},end:{decode:ue(t.end.dts),presentation:ue(t.end.pts)},baseMediaDecodeTime:ue(t.baseMediaDecodeTime)};t.prependedContentDuration&&(r.prependedContentDuration=ue(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:r})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ue(t.start),end:ue(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ue(t.start),end:ue(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new Bt,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),r=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:r&&r.captions||[],logs:r&&r.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,r=e.data,n=zt(t,r);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:r},[r.buffer])},t.probeMp4Tracks=function(e){var t=e.data,r=Wt(t);this.self.postMessage({action:"probeMp4Tracks",tracks:r,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,r=e.baseStartTime,n="number"!=typeof r||isNaN(r)?void 0:r*ae,i=nr(t,n),o=null;i&&((o={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(o.videoStart=i.video[0].ptsTime),o.hasAudio&&(o.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:o,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(se(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(se(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new ir(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new ir(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),aM=rM(oM),sM=function(e){var t=e.transmuxer,r=e.bytes,n=e.audioAppendStart,i=e.gopsToAlignWith,o=e.remux,a=e.onData,s=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,l=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,p=e.onId3,f=e.onCaptions,h=e.onDone,g=e.onEndedTimeline,m=e.onTransmuxerLog,v=e.isEndOfTimeline,y={buffer:[]},b=v;if(t.onmessage=function(r){t.currentTransmux===e&&("data"===r.data.action&&function(e,t,r){var n=e.data.segment,i=n.type,o=n.initSegment,a=n.captions,s=n.captionStreams,u=n.metadata,c=n.videoFrameDtsTime,l=n.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:s,metadata:u});var d=e.data.segment.boxes||{data:e.data.segment.data},p={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==c&&(p.videoFrameDtsTime=c),void 0!==l&&(p.videoFramePtsTime=l),r(p)}(r,y,a),"trackinfo"===r.data.action&&s(r.data.trackInfo),"gopInfo"===r.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(r,y),"audioTimingInfo"===r.data.action&&u(r.data.audioTimingInfo),"videoTimingInfo"===r.data.action&&c(r.data.videoTimingInfo),"videoSegmentTimingInfo"===r.data.action&&l(r.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===r.data.action&&d(r.data.audioSegmentTimingInfo),"id3Frame"===r.data.action&&p([r.data.id3Frame],r.data.id3Frame.dispatchType),"caption"===r.data.action&&f(r.data.caption),"endedtimeline"===r.data.action&&(b=!1,g()),"log"===r.data.action&&m(r.data.log),"transmuxed"===r.data.type&&(b||(t.onmessage=null,function(e){var t=e.transmuxedData,r=e.callback;t.buffer=[],r(t)}({transmuxedData:y,callback:h}),uM(t))))},n&&t.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),r.byteLength){var _=r instanceof ArrayBuffer?r:r.buffer,w=r instanceof ArrayBuffer?0:r.byteOffset;t.postMessage({action:"push",data:_,byteOffset:w,byteLength:r.byteLength},[_])}v&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},uM=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():sM(e.currentTransmux))},cM=function(e,t){e.postMessage({action:t}),uM(e)},lM=function(e){!function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void cM(t,e);t.transmuxQueue.push(cM.bind(null,t,e))}("reset",e)},dM=function(e){var t=e.transmuxer,r=e.endAction||e.action,n=e.callback,i=mA({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function i(o){o.data.action===r&&(t.removeEventListener("message",i),o.data.data&&(o.data.data=new Uint8Array(o.data.data,e.byteOffset||0,e.byteLength||o.data.data.byteLength),e.data&&(e.data=o.data.data)),n(o.data))})),e.data){var o=e.data instanceof ArrayBuffer;i.byteOffset=o?0:e.data.byteOffset,i.byteLength=e.data.byteLength;var a=[o?e.data:e.data.buffer];t.postMessage(i,a)}else t.postMessage(i)},pM=-101,fM=-102,hM=function(e){e.forEach((function(e){e.abort()}))},gM=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:pM,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:fM,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t}:null},mM=function(e,t,r){return function(n,i){var o=i.response,a=gM(n,i);if(a)return r(a,e);if(16!==o.byteLength)return r({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:2,xhr:i},e);for(var s=new DataView(o),u=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),c=0;c<t.length;c++)t[c].bytes=u;return r(null,e)}},vM=function(e,t){var r=AO(e.map.bytes);if("mp4"!==r){var n=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(r||"unknown")+" container for initialization segment at URL: "+n,code:2})}dM({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(r){var n=r.tracks,i=r.data;return e.map.bytes=i,n.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},yM=function(e){var t=e.segment,r=e.bytes,n=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,l=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog,h=t.map&&t.map.tracks||{},g=Boolean(h.audio&&h.video),m=i.bind(null,t,"audio","start"),v=i.bind(null,t,"audio","end"),y=i.bind(null,t,"video","start"),b=i.bind(null,t,"video","end");dM({action:"probeTs",transmuxer:t.transmuxer,data:r,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=r=e.data;var i=e.result;i&&(n(t,{hasAudio:i.hasAudio,hasVideo:i.hasVideo,isMuxed:g}),n=null,i.hasAudio&&!g&&m(i.audioStart),i.hasVideo&&y(i.videoStart),m=null,y=null),function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void sM(e);e.transmuxer.transmuxQueue.push(e)}({bytes:r,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:g,onData:function(e){e.type="combined"===e.type?"video":e.type,d(t,e)},onTrackInfo:function(e){n&&(g&&(e.isMuxed=!0),n(t,e))},onAudioTimingInfo:function(e){m&&void 0!==e.start&&(m(e.start),m=null),v&&void 0!==e.end&&v(e.end)},onVideoTimingInfo:function(e){y&&void 0!==e.start&&(y(e.start),y=null),b&&void 0!==e.end&&b(e.end)},onVideoSegmentTimingInfo:function(e){o(e)},onAudioSegmentTimingInfo:function(e){a(e)},onId3:function(e,r){s(t,e,r)},onCaptions:function(e){u(t,[e])},isEndOfTimeline:c,onEndedTimeline:function(){l()},onTransmuxerLog:f,onDone:function(e){p&&(e.type="combined"===e.type?"video":e.type,p(null,t,e))}})}})},bM=function(e){var t=e.segment,r=e.bytes,n=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,l=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog,h=new Uint8Array(r);if(function(e){return cO(e,["moof"]).length>0}(h)){t.isFmp4=!0;var g=t.map.tracks,m={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&"enca"!==g.audio.codec&&(m.audioCodec=g.audio.codec),g.video&&g.video.codec&&"encv"!==g.video.codec&&(m.videoCodec=g.video.codec),g.video&&g.audio&&(m.isMuxed=!0),n(t,m);var v=function(e){d(t,{data:h,type:m.hasAudio&&!m.isMuxed?"audio":"video"}),e&&e.length&&u(t,e),p(null,t,{})};dM({action:"probeMp4StartTime",timescales:t.map.timescales,data:h,transmuxer:t.transmuxer,callback:function(e){var n=e.data,o=e.startTime;r=n.buffer,t.bytes=h=n,m.hasAudio&&!m.isMuxed&&i(t,"audio","start",o),m.hasVideo&&i(t,"video","start",o),g.video&&n.byteLength&&t.transmuxer?dM({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:h,timescales:t.map.timescales,trackIds:[g.video.id],callback:function(e){r=e.data.buffer,t.bytes=h=e.data,e.logs.forEach((function(e){f(Bj.mergeOptions(e,{stream:"mp4CaptionParser"}))})),v(e.captions)}}):v()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=AO(h)),"ts"!==t.container&&"aac"!==t.container)return n(t,{hasAudio:!1,hasVideo:!1}),void p(null,t,{});yM({segment:t,bytes:r,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:l,dataFn:d,doneFn:p,onTransmuxerLog:f})}else p(null,t,{})},_M=function(e,t){var r,n=e.id,i=e.key,o=e.encryptedBytes,a=e.decryptionWorker;a.addEventListener("message",(function e(r){if(r.data.source===n){a.removeEventListener("message",e);var i=r.data.decrypted;t(new Uint8Array(i.bytes,i.byteOffset,i.byteLength))}})),r=i.bytes.slice?i.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.bytes)),a.postMessage(FR({source:n,encrypted:o,key:r,iv:i.iv}),[o.buffer,r.buffer])},wM=function(e){var t=e.xhr,r=e.xhrOptions,n=e.decryptionWorker,i=e.segment,o=e.abortFn,a=e.progressFn,s=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,l=e.audioSegmentTimingInfoFn,d=e.id3Fn,p=e.captionsFn,f=e.isEndOfTimeline,h=e.endedTimelineFn,g=e.dataFn,m=e.doneFn,v=e.onTransmuxerLog,y=[],b=function(e){var t=e.activeXhrs,r=e.decryptionWorker,n=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,l=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog,h=0,g=!1;return function(e,m){if(!g){if(e)return g=!0,hM(t),p(e,m);if((h+=1)===t.length){var v=function(){if(m.encryptedBytes)return function(e){var t=e.decryptionWorker,r=e.segment,n=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,l=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,f=e.onTransmuxerLog;_M({id:r.requestId,key:r.key,encryptedBytes:r.encryptedBytes,decryptionWorker:t},(function(e){r.bytes=e,bM({segment:r,bytes:r.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:l,dataFn:d,doneFn:p,onTransmuxerLog:f})}))}({decryptionWorker:r,segment:m,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:l,dataFn:d,doneFn:p,onTransmuxerLog:f});bM({segment:m,bytes:m.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:l,dataFn:d,doneFn:p,onTransmuxerLog:f})};if(m.endOfAllRequests=Date.now(),m.map&&m.map.encryptedBytes&&!m.map.bytes)return _M({decryptionWorker:r,id:m.requestId+"-init",encryptedBytes:m.map.encryptedBytes,key:m.map.key},(function(e){m.map.bytes=e,vM(m,(function(e){if(e)return hM(t),p(e,m);v()}))}));v()}}}}({activeXhrs:y,decryptionWorker:n,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:p,isEndOfTimeline:f,endedTimelineFn:h,dataFn:g,doneFn:m,onTransmuxerLog:v});if(i.key&&!i.key.bytes){var _=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&_.push(i.map.key);var w=t(Bj.mergeOptions(r,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),mM(i,_,b));y.push(w)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var S=t(Bj.mergeOptions(r,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),mM(i,[i.map.key],b));y.push(S)}var T=Bj.mergeOptions(r,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:LR(i.map)}),I=function(e){var t=e.segment,r=e.finishProcessingFn;return function(e,n){var i=gM(e,n);if(i)return r(i,t);var o=new Uint8Array(n.response);if(t.map.key)return t.map.encryptedBytes=o,r(null,t);t.map.bytes=o,vM(t,(function(e){if(e)return e.xhr=n,e.status=n.status,r(e,t);r(null,t)}))}}({segment:i,finishProcessingFn:b}),k=t(T,I);y.push(k)}var A=Bj.mergeOptions(r,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:LR(i)}),E=t(A,function(e){var t=e.segment,r=e.finishProcessingFn,n=e.responseType;return function(e,i){var o=gM(e,i);if(o)return r(o,t);var a="arraybuffer"!==n&&i.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}(i.responseText.substring(t.lastReachedChar||0)):i.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),r(null,t)}}({segment:i,finishProcessingFn:b,responseType:A.responseType}));E.addEventListener("progress",function(e){var t=e.segment,r=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Bj.mergeOptions(t.stats,function(e){var t=e.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),r(e,t)}}({segment:i,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:p,isEndOfTimeline:f,endedTimelineFn:h,dataFn:g})),y.push(E);var O={};return y.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,r=e.abortFn;return function(e){e.target.aborted&&r&&!t.calledAbortFn&&(r(),t.calledAbortFn=!0)}}({loadendState:O,abortFn:o}))})),function(){return hM(y)}},SM=Wj("CodecUtils"),TM=function(e,t){var r=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&r.AUDIO&&e.mediaGroups.AUDIO[r.AUDIO]},IM=function(e){var t={};return e.forEach((function(e){var r=e.mediaType,n=e.type,i=e.details;t[r]=t[r]||[],t[r].push(JA(""+n+i))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return SM("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},kM=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},AM=function(e,t){var r=t.attributes||{},n=IM(function(e){var t=e.attributes||{};if(t.CODECS)return QA(t.CODECS)}(t)||[]);if(TM(e,t)&&!n.audio&&!function(e,t){if(!TM(e,t))return!0;var r=t.attributes||{},n=e.mediaGroups.AUDIO[r.AUDIO];for(var i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1}(e,t)){var i=IM(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var r=e.mediaGroups.AUDIO[t];if(!r)return null;for(var n in r){var i=r[n];if(i.default&&i.playlists)return QA(i.playlists[0].attributes.CODECS)}return null}(e,r.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},EM=Wj("PlaylistSelector"),OM=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},CM=function(e,t){if(!e)return"";var r=fA().getComputedStyle(e);return r?r[t]:""},PM=function(e,t){var r=e.slice();e.sort((function(e,n){var i=t(e,n);return 0===i?r.indexOf(e)-r.indexOf(n):i}))},xM=function(e,t){var r,n;return e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||fA().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),r-(n||fA().Number.MAX_VALUE)},jM=function(e,t,r,n,i,o){if(e){var a={bandwidth:t,width:r,height:n,limitRenditionByPlayerDimensions:i},s=e.playlists;yR.isAudioOnly(e)&&(s=o.getAudioTrackPlaylists_(),a.audioOnly=!0);var u=s.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,r=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||fA().Number.MAX_VALUE,width:t,height:r,playlist:e}}));PM(u,(function(e,t){return e.bandwidth-t.bandwidth}));var c=(u=u.filter((function(e){return!yR.isIncompatible(e.playlist)}))).filter((function(e){return yR.isEnabled(e.playlist)}));c.length||(c=u.filter((function(e){return!yR.isDisabled(e.playlist)})));var l=c.filter((function(e){return e.bandwidth*eM.BANDWIDTH_VARIANCE<t})),d=l[l.length-1],p=l.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(!1===i){var f=p||c[0]||u[0];if(f&&f.playlist){var h="sortedPlaylistReps";return p&&(h="bandwidthBestRep"),c[0]&&(h="enabledPlaylistReps"),EM("choosing "+OM(f)+" using "+h+" with options",a),f.playlist}return EM("could not choose a playlist with options",a),null}var g=l.filter((function(e){return e.width&&e.height}));PM(g,(function(e,t){return e.width-t.width}));var m=g.filter((function(e){return e.width===r&&e.height===n}));d=m[m.length-1];var v,y,b,_,w=m.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(w||(y=(v=g.filter((function(e){return e.width>r||e.height>n}))).filter((function(e){return e.width===v[0].width&&e.height===v[0].height})),d=y[y.length-1],b=y.filter((function(e){return e.bandwidth===d.bandwidth}))[0]),o.experimentalLeastPixelDiffSelector){var S=g.map((function(e){return e.pixelDiff=Math.abs(e.width-r)+Math.abs(e.height-n),e}));PM(S,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),_=S[0]}var T=_||b||w||p||c[0]||u[0];if(T&&T.playlist){var I="sortedPlaylistReps";return _?I="leastPixelDiffRep":b?I="resolutionPlusOneRep":w?I="resolutionBestRep":p?I="bandwidthBestRep":c[0]&&(I="enabledPlaylistReps"),EM("choosing "+OM(T)+" using "+I+" with options",a),T.playlist}return EM("could not choose a playlist with options",a),null}},RM=function(){var e=this.useDevicePixelRatio&&fA().devicePixelRatio||1;return jM(this.playlists.master,this.systemBandwidth,parseInt(CM(this.tech_.el(),"width"),10)*e,parseInt(CM(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},MM=function(e,t,r){var n,i;if(r&&r.cues)for(n=r.cues.length;n--;)(i=r.cues[n]).startTime>=e&&i.endTime<=t&&r.removeCue(i)},UM=function(e){return"number"==typeof e&&isFinite(e)},LM=1/60,NM=function(e){var t=e.startOfSegment,r=e.duration,n=e.segment,i=e.part,o=e.playlist,a=o.mediaSequence,s=o.id,u=o.segments,c=void 0===u?[]:u,l=e.mediaIndex,d=e.partIndex,p=e.timeline,f=c.length-1,h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=" with independent "+e.independent);var g="number"==typeof d,m=e.segment.uri?"segment":"pre-segment",v=g?iR({preloadSegment:n})-1:0;return m+" ["+(a+l)+"/"+(a+f)+"]"+(g?" part ["+d+"/"+v+"]":"")+" segment start/end ["+n.start+" => "+n.end+"]"+(g?" part start/end ["+i.start+" => "+i.end+"]":"")+" startOfSegment ["+t+"] duration ["+r+"] timeline ["+p+"] selected by ["+h+"] playlist ["+s+"]"},BM=function(e){return e+"TimingInfo"},qM=function(e){var t=e.timelineChangeController,r=e.currentTimeline,n=e.segmentTimeline,i=e.loaderType,o=e.audioDisabled;if(r===n)return!1;if("audio"===i){var a=t.lastTimelineChange({type:"main"});return!a||a.to!==n}if("main"===i&&o){var s=t.pendingTimelineChange({type:"audio"});return!s||s.to!==n}return!1},FM=function(e){var t=e.segmentDuration,r=e.maxDuration;return!!t&&Math.round(t)>r+Hj},VM=function(e){function t(t,r){var n;if(n=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.partIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.vhs_=t.vhs,n.loaderType_=t.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.sourceUpdater_=t.sourceUpdater,n.inbandTextTracks_=t.inbandTextTracks,n.state_="INIT",n.timelineChangeController_=t.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.parse708captions_=t.parse708captions,n.captionServices_=t.captionServices,n.experimentalExactManifestTimings=t.experimentalExactManifestTimings,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=Bj.browser.IE_VERSION>=11,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=t.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",(function(){n.isEndOfStream_()||(n.ended_=!1)})),n.fetchAtBuffer_=!1,n.logger_=Wj("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(vA(n),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),n.sourceUpdater_.on("ready",(function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),"main"===n.loaderType_&&n.timelineChangeController_.on("pendingtimelinechange",(function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),"audio"===n.loaderType_&&n.timelineChangeController_.on("timelinechange",(function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),n}bA(t,e);var r=t.prototype;return r.createTransmuxer_=function(){return function(e){var t=new aM;t.currentTransmux=null,t.transmuxQueue=[];var r=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,r.call(t)},t.postMessage({action:"init",options:e}),t}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&fA().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,fA().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},r.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&lM(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Bj.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,r=e.hasVideo,n=e.isMuxed;if(r&&t&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var r=VR(e),n=this.initSegments_[r];return t&&!n&&e.bytes&&(this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e},r.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var r=zR(e),n=this.keyCache_[r];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[r]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(n||e).resolvedUri};return n&&(i.bytes=n.bytes),i},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(e,t){if(void 0===t&&(t={}),e){var r=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var i=null;if(r&&(r.id?i=r.id:r.uri&&(i=r.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=e.mediaSequence-r.mediaSequence;if(this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){var s=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=s}}n&&(n.mediaIndex-=o,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}},r.pause=function(){this.checkBufferTimeout_&&(fA().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return null===this.checkBufferTimeout_},r.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&lM(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(e,t,r,n){if(void 0===r&&(r=function(){}),void 0===n&&(n=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var i=1,o=function(){0==--i&&r()};for(var a in!n&&this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(e,t,o)),(n||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,r,n){for(var i=Math.ceil((t-n)*EO.ONE_SECOND_IN_TS),o=Math.ceil((r-n)*EO.ONE_SECOND_IN_TS),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(e[u].pts<=i););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,e,t,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,t,o)),this.inbandTextTracks_)MM(e,t,this.inbandTextTracks_[a]);MM(e,t,this.segmentMetadataTrack_),o()}else this.logger_("skipping remove because no source updater or starting media info")},r.monitorBuffer_=function(){this.checkBufferTimeout_&&fA().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=fA().setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&fA().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=fA().setTimeout(this.monitorBufferTick_.bind(this),500)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},r.isEndOfStream_=function(e,t,r){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===r&&(r=this.partIndex),!t||!this.mediaSource_)return!1;var n="number"==typeof e&&t.segments[e],i=e+1===t.segments.length,o=!n||!n.parts||r+1===n.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&i&&o},r.chooseNextRequest_=function(){var e=this.buffered_(),t=Qj(e)||0,r=Zj(e,this.currentTime_()),n=!this.hasPlayed_()&&r>=1,i=r>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||n||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(a.isSyncRequest)a.mediaIndex=function(e,t,r){t=t||[];for(var n=[],i=0,o=0;o<t.length;o++){var a=t[o];if(e===a.timeline&&(n.push(o),(i+=a.duration)>r))return o}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,o,t);else if(null!==this.mediaIndex){var s=o[this.mediaIndex],u="number"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=s.end?s.end:t,s.parts&&s.parts[u+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=u+1):a.mediaIndex=this.mediaIndex+1}else{var c=yR.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),l=c.segmentIndex,d=c.startTime,p=c.partIndex;a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),a.mediaIndex=l,a.startOfSegment=d,a.partIndex=p}var f=o[a.mediaIndex],h=f&&"number"==typeof a.partIndex&&f.parts&&f.parts[a.partIndex];if(!f||"number"==typeof a.partIndex&&!h)return null;if("number"!=typeof a.partIndex&&f.parts&&(a.partIndex=0,h=f.parts[0]),!r&&h&&!h.independent)if(0===a.partIndex){var g=o[a.mediaIndex-1],m=g.parts&&g.parts.length&&g.parts[g.parts.length-1];m&&m.independent&&(a.mediaIndex-=1,a.partIndex=g.parts.length-1,a.independent="previous segment")}else f.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");var v=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return a.mediaIndex>=o.length-1&&v&&!this.seeking_()?null:this.generateSegmentInfo_(a)},r.generateSegmentInfo_=function(e){var t=e.independent,r=e.playlist,n=e.mediaIndex,i=e.startOfSegment,o=e.isSyncRequest,a=e.partIndex,s=e.forceTimestampOffset,u=e.getMediaInfoForTime,c=r.segments[n],l="number"==typeof a&&c.parts[a],d={requestId:"segment-loader-"+Math.random(),uri:l&&l.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:l?a:null,isSyncRequest:o,startOfSegment:i,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:l&&l.duration||c.duration,segment:c,part:l,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:t},p=void 0!==s?s:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:p});var f=Qj(this.sourceUpdater_.audioBuffered());return"number"==typeof f&&(d.audioAppendStart=f-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,r){if(null==t||!e.length)return[];var n,i=Math.ceil((t-r+3)*EO.ONE_SECOND_IN_TS);for(n=0;n<e.length&&!(e[n].pts>i);n++);return e.slice(n)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},r.timestampOffsetForSegment_=function(e){return r=(t=e).segmentTimeline,n=t.currentTimeline,i=t.startOfSegment,o=t.buffered,t.overrideCheck||r!==n?r<n?i:o.length?o.end(o.length-1):i:null;var t,r,n,i,o},r.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),r=e.bandwidth,n=this.pendingSegment_.duration,i=yR.estimateSegmentRequestTime(n,r,this.playlist_,e.bytesReceived),o=function(e,t,r){return void 0===r&&(r=1),((e.length?e.end(e.length-1):0)-t)/r}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(i<=o)){var a=function(e){var t=e.currentTime,r=e.bandwidth,n=e.duration,i=e.segmentDuration,o=e.timeUntilRebuffer,a=e.currentTimeline,s=e.syncController,u=e.master.playlists.filter((function(e){return!yR.isIncompatible(e)})),c=u.filter(yR.isEnabled);c.length||(c=u.filter((function(e){return!yR.isDisabled(e)})));var l=c.filter(yR.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var u=s.getSyncPoint(e,n,a,t)?1:2;return{playlist:e,rebufferingImpact:yR.estimateSegmentRequestTime(i,r,e)*u-o}})),d=l.filter((function(e){return e.rebufferingImpact<=0}));return PM(d,(function(e,t){return xM(t.playlist,e.playlist)})),d.length?d[0]:(PM(l,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),l[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=i-o-a.rebufferingImpact,u=.5;o<=Hj&&(u=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<u||(this.bandwidth=a.playlist.attributes.BANDWIDTH*eM.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(e){this.logger_("Aborting "+NM(e)),this.mediaRequestsAborted+=1},r.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},r.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i];if(o!==n[i])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},r.handleTimingInfo_=function(e,t,r,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var i=this.pendingSegment_,o=BM(t);i[o]=i[o]||{},i[o][r]=n,this.logger_("timinginfo: "+t+" - "+r+" - "+n),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(e,t){var r=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((function(e){i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+n),t.endTime=Math.max(t.endTime,e.endTime+n),t.captions.push(e)})),Object.keys(i).forEach((function(e){var t=i[e],o=t.startTime,a=t.endTime,s=t.captions,u=r.inbandTextTracks_;r.logger_("adding cues from "+o+" -> "+a+" for "+e),function(e,t,r){if(!e[r]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);var i=t.textTracks().getTrackById(n);if(i)e[r]=i;else{var o=r,a=r,s=!1,u=(t.options_.vhs&&t.options_.vhs.captionServices||{})[n];u&&(o=u.label,a=u.language,s=u.default),e[r]=t.addRemoteTextTrack({kind:"captions",id:n,default:s,label:o,language:a},!1).track}}}(u,r.vhs_.tech_,e),MM(o,a,u[e]),function(e){var t=e.inbandTextTracks,r=e.captionArray,n=e.timestampOffset;if(r){var i=fA().WebKitDataCue||fA().VTTCue;r.forEach((function(e){var r=e.stream;t[r].addCue(new i(e.startTime+n,e.endTime+n,e.text))}))}}({captionArray:s,inbandTextTracks:u,timestampOffset:n})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},r.handleId3_=function(e,t,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,r){e.metadataTrack_||(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,r,this.vhs_.tech_),function(e){var t=e.inbandTextTracks,r=e.metadataArray,n=e.timestampOffset,i=e.videoDuration;if(r){var o=fA().WebKitDataCue||fA().VTTCue,a=t.metadataTrack_;if(a&&(r.forEach((function(e){var t=e.cueTime+n;!("number"!=typeof t||fA().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var r=new o(t,t,e.value||e.url||e.data||"");r.frame=e,r.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Bj.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Bj.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Bj.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(r),a.addCue(r)}))})),a.cues&&a.cues.length)){for(var s=a.cues,u=[],c=0;c<s.length;c++)s[c]&&u.push(s[c]);var l=u.reduce((function(e,t){var r=e[t.startTime]||[];return r.push(t),e[t.startTime]=r,e}),{}),d=Object.keys(l).sort((function(e,t){return Number(e)-Number(t)}));d.forEach((function(e,t){var r=l[e],n=Number(d[t+1])||i;r.forEach((function(e){e.endTime=n}))}))}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,r))},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},r.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},r.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&qM({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var r=t.hasAudio,n=t.hasVideo,i=t.isMuxed;return!(n&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!i&&!e.audioTimingInfo||qM({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[BM(t.type)].start;else{var n,i=this.getCurrentMediaInfo_(),o="main"===this.loaderType_&&i&&i.hasVideo;o&&(n=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:n,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,t.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:"main"===this.loaderType_});var a=this.chooseNextRequest_();if(a.mediaIndex!==r.mediaIndex||a.partIndex!==r.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},r.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},r.getInitSegmentAndUpdateState_=function(e){var t=e.type,r=e.initSegment,n=e.map,i=e.playlist;if(n){var o=VR(n);if(this.activeInitSegmentId_===o)return null;r=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=o}return r&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,r):null},r.handleQuotaExceededError_=function(e,t){var r=this,n=e.segmentInfo,i=e.type,o=e.bytes,a=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Jj(a).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Jj(s).join(", "));var u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0,l=s.length?s.start(0):0,d=s.length?s.end(s.length-1):0;if(c-u<=1&&d-l<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+o.byteLength+", audio buffer: "+Jj(a).join(", ")+", video buffer: "+Jj(s).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:i,bytes:o}));var p=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+p),this.remove(0,p,(function(){r.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=fA().setTimeout((function(){r.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),r.quotaExceededErrorRetryTimeout_=null,r.processCallQueue_()}),1e3)}),!0)},r.handleAppendError_=function(e,t){var r=e.segmentInfo,n=e.type,i=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(n+" append of "+i.length+"b failed for segment #"+r.mediaIndex+" in playlist "+r.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:r,type:n,bytes:i}))},r.appendToSourceBuffer_=function(e){var t,r,n,i=e.segmentInfo,o=e.type,a=e.initSegment,s=e.data,u=e.bytes;if(!u){var c=[s],l=s.byteLength;a&&(c.unshift(a),l+=a.byteLength),n=0,(t={bytes:l,segments:c}).bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach((function(e){r.set(e,n),n+=e.byteLength}))),u=r}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:o,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:i,type:o,bytes:u}))},r.handleSegmentTimingInfo_=function(e,t,r){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment,i=e+"TimingInfo";n[i]||(n[i]={}),n[i].transmuxerPrependedSeconds=r.prependedContentDuration||0,n[i].transmuxedPresentationStart=r.start.presentation,n[i].transmuxedDecodeStart=r.start.decode,n[i].transmuxedPresentationEnd=r.end.presentation,n[i].transmuxedDecodeEnd=r.end.decode,n[i].baseMediaDecodeTime=r.baseMediaDecodeTime}},r.appendData_=function(e,t){var r=t.type,n=t.data;if(n&&n.byteLength&&("audio"!==r||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:r,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:i,data:n})}},r.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var r=mA({},e,{forceTimestampOffset:!0});mA(e,t.generateSegmentInfo_(r)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},r.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var r=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,o=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||i&&o;this.logger_("Requesting "+NM(e)),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=wM({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(r){var n=r.message,i=r.level,o=r.stream;t.logger_(NM(e)+" logged from transmuxer stream "+o+" as a "+i+": "+n)}})},r.trimBackBuffer_=function(e){var t=function(e,t,r){var n=t-eM.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));var i=t-r;return Math.min(i,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},r.createSimplifiedSegmentObj_=function(e){var t=e.segment,r=e.part,n={resolvedUri:r?r.resolvedUri:t.resolvedUri,byterange:r?r.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},i=e.playlist.segments[e.mediaIndex-1];if(i&&i.timeline===t.timeline&&(i.videoTimingInfo?n.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(n.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key){var o=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=o}return t.map&&(n.map=this.initSegmentForMap(t.map)),n},r.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},r.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<LM?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record 0.016666666666666666"):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},r.segmentRequestFinished_=function(e,t,r){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,r));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===fM)return;return this.pause(),e.code===pM?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=function(e,t,r){if(!t.length)return e;if(r)return t.slice();for(var n=t[0].pts,i=0;i<e.length&&!(e[i].pts>=n);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}},r.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},r.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},r.trueSegmentStart_=function(e){var t=e.currentStart,r=e.playlist,n=e.mediaIndex,i=e.firstVideoFrameTimeForData,o=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,s=e.videoTimingInfo,u=e.audioTimingInfo;if(void 0!==t)return t;if(!a)return u.start;var c=r.segments[n-1];return 0!==n&&c&&void 0!==c.start&&c.end===i+o?s.start:i},r.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var r=t.hasAudio,n=t.hasVideo,i=t.isMuxed,o="main"===this.loaderType_&&n,a=!this.audioDisabled_&&r&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},r.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(e){var t=function(e,t,r){return"main"===e&&t&&r?r.hasAudio||r.hasVideo?t.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},r.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},r.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),r="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end="number"==typeof r.end?r.end:r.start+e.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=function(e,t){if("hls"!==t)return null;var r,n,i=(r={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},n=0,["video","audio"].forEach((function(e){var t=r[e+"TimingInfo"];if(t){var i,o=t.start,a=t.end;"bigint"==typeof o||"bigint"==typeof a?i=fA().BigInt(a)-fA().BigInt(o):"number"==typeof o&&"number"==typeof a&&(i=a-o),void 0!==i&&i>n&&(n=i)}})),"bigint"==typeof n&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),n);if(!i)return null;var o=e.playlist.targetDuration,a=FM({segmentDuration:i,maxDuration:2*o}),s=FM({segmentDuration:i,maxDuration:o}),u="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+i+" when the reported duration is "+e.duration+" and the target duration is "+o+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:u}:null}(e,this.sourceType_);if(t&&("warn"===t.severity?Bj.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+NM(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var r=e.segment,n=e.part,i=r.end&&this.currentTime_()-r.end>3*e.playlist.targetDuration,o=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration;if(i||o)return this.logger_("bad "+(i?"segment":"part")+" "+NM(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+NM(e))},r.recordThroughput_=function(e){if(e.duration<LM)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record 0.016666666666666666");else{var t=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},r.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,r=t.start,n=t.end;if(UM(r)&&UM(n)){MM(r,n,this.segmentMetadataTrack_);var i=fA().WebKitDataCue||fA().VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:n},a=new i(r,n,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}},t}(Bj.EventTarget);function zM(){}var WM,HM=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},GM=["video","audio"],KM=function(e,t){var r=t[e+"Buffer"];return r&&r.updating||t.queuePending[e]},XM=function e(t,r){if(0!==r.queue.length){var n=0,i=r.queue[n];if("mediaSource"!==i.type){if("mediaSource"!==t&&r.ready()&&"closed"!==r.mediaSource.readyState&&!KM(t,r)){if(i.type!==t){if(n=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if("mediaSource"===n.type)return null;if(n.type===e)return r}return null}(t,r.queue),null===n)return;i=r.queue[n]}return r.queue.splice(n,1),r.queuePending[t]=i,i.action(t,r),i.doneFn?void 0:(r.queuePending[t]=null,void e(t,r))}}else r.updating()||"closed"===r.mediaSource.readyState||(r.queue.shift(),i.action(r),i.doneFn&&i.doneFn(),e("audio",r),e("video",r))}},YM=function(e,t){var r=t[e+"Buffer"],n=HM(e);r&&(r.removeEventListener("updateend",t["on"+n+"UpdateEnd_"]),r.removeEventListener("error",t["on"+n+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},$M=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},JM=function(e,t,r){return function(n,i){var o=i[n+"Buffer"];if($M(i.mediaSource,o)){i.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+n+"Buffer");try{o.appendBuffer(e)}catch(e){i.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+n+"Buffer"),i.queuePending[n]=null,r(e)}}}},QM=function(e,t){return function(r,n){var i=n[r+"Buffer"];if($M(n.mediaSource,i)){n.logger_("Removing "+e+" to "+t+" from "+r+"Buffer");try{i.remove(e,t)}catch(i){n.logger_("Remove "+e+" to "+t+" from "+r+"Buffer failed")}}}},ZM=function(e){return function(t,r){var n=r[t+"Buffer"];$M(r.mediaSource,n)&&(r.logger_("Setting "+t+"timestampOffset to "+e),n.timestampOffset=e)}},eU=function(e){return function(t,r){e()}},tU=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){Bj.log.warn("Failed to call media source endOfStream",e)}}}},rU=function(e,t){return function(r){var n=HM(e),i=eE(t);r.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var o=r.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",r["on"+n+"UpdateEnd_"]),o.addEventListener("error",r["on"+n+"Error_"]),r.codecs[e]=t,r[e+"Buffer"]=o}},nU=function(e){return function(t){var r=t[e+"Buffer"];if(YM(e,t),$M(t.mediaSource,r)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(r)}catch(t){Bj.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},iU=function(e){return function(t,r){var n=r[t+"Buffer"],i=eE(e);$M(r.mediaSource,n)&&r.codecs[t]!==e&&(r.logger_("changing "+t+"Buffer codec from "+r.codecs[t]+" to "+e),n.changeType(i),r.codecs[t]=e)}},oU=function(e){var t=e.type,r=e.sourceUpdater,n=e.action,i=e.doneFn,o=e.name;r.queue.push({type:t,action:n,doneFn:i,name:o}),XM(t,r)},aU=function(e,t){return function(r){if(t.queuePending[e]){var n=t.queuePending[e].doneFn;t.queuePending[e]=null,n&&n(t[e+"Error_"])}XM(e,t)}},sU=function(e){function t(t){var r;return(r=e.call(this)||this).mediaSource=t,r.sourceopenListener_=function(){return XM("mediaSource",vA(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=Wj("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=aU("video",vA(r)),r.onAudioUpdateEnd_=aU("audio",vA(r)),r.onVideoError_=function(e){r.videoError_=e},r.onAudioError_=function(e){r.audioError_=e},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}bA(t,e);var r=t.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(e,t){oU({type:"mediaSource",sourceUpdater:this,action:rU(e,t),name:"addSourceBuffer"})},r.abort=function(e){oU({type:e,sourceUpdater:this,action:function(e,t){if("open"===t.mediaSource.readyState){var r=t[e+"Buffer"];if($M(t.mediaSource,r)){t.logger_("calling abort on "+e+"Buffer");try{r.abort()}catch(t){Bj.log.warn("Failed to abort on "+e+"Buffer",t)}}}},name:"abort"})},r.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?oU({type:"mediaSource",sourceUpdater:this,action:nU(e),name:"removeSourceBuffer"}):Bj.log.error("removeSourceBuffer is not supported!")},r.canRemoveSourceBuffer=function(){return!Bj.browser.IE_VERSION&&!Bj.browser.IS_FIREFOX&&fA().MediaSource&&fA().MediaSource.prototype&&"function"==typeof fA().MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return fA().SourceBuffer&&fA().SourceBuffer.prototype&&"function"==typeof fA().SourceBuffer.prototype.changeType},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(e,t){this.canChangeType()?oU({type:e,sourceUpdater:this,action:iU(t),name:"changeType"}):Bj.log.error("changeType is not supported!")},r.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(r){var n=e[r];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(r,n);t.canChangeType()&&t.changeType(r,n)}))},r.appendBuffer=function(e,t){var r=this,n=e.segmentInfo,i=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");if(oU({type:i,sourceUpdater:this,action:JM(o,n||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(e){r.appendBuffer.apply(r,e)}))}},r.audioBuffered=function(){return $M(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Bj.createTimeRange()},r.videoBuffered=function(){return $M(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Bj.createTimeRange()},r.buffered=function(){var e=$M(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=$M(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var r=null,n=null,i=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return Bj.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++i&&(r=o[s].time):"end"===o[s].type&&1==--i&&(n=o[s].time),null!==r&&null!==n&&(a.push([r,n]),r=null,n=null);return Bj.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(e,t){var r;void 0===t&&(t=zM),oU({type:"mediaSource",sourceUpdater:this,action:(r=e,function(e){e.logger_("Setting mediaSource duration to "+r);try{e.mediaSource.duration=r}catch(e){Bj.log.warn("Failed to set media source duration",e)}}),name:"duration",doneFn:t})},r.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=zM),"string"!=typeof e&&(e=void 0),oU({type:"mediaSource",sourceUpdater:this,action:tU(e),name:"endOfStream",doneFn:t})},r.removeAudio=function(e,t,r){void 0===r&&(r=zM),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?oU({type:"audio",sourceUpdater:this,action:QM(e,t),doneFn:r,name:"remove"}):r()},r.removeVideo=function(e,t,r){void 0===r&&(r=zM),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?oU({type:"video",sourceUpdater:this,action:QM(e,t),doneFn:r,name:"remove"}):r()},r.updating=function(){return!(!KM("audio",this)&&!KM("video",this))},r.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(oU({type:"audio",sourceUpdater:this,action:ZM(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},r.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(oU({type:"video",sourceUpdater:this,action:ZM(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},r.audioQueueCallback=function(e){this.audioBuffer&&oU({type:"audio",sourceUpdater:this,action:eU(e),name:"callback"})},r.videoQueueCallback=function(e){this.videoBuffer&&oU({type:"video",sourceUpdater:this,action:eU(e),name:"callback"})},r.dispose=function(){var e=this;this.trigger("dispose"),GM.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return YM(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Bj.EventTarget),uU=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},cU=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),lU=function(e){function t(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=t.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}bA(t,e);var r=t.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Bj.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,r=e[e.length-1].startTime;return Bj.createTimeRanges([[t,r]])},r.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var r=VR(e),n=this.initSegments_[r];if(t&&!n&&e.bytes){var i=cU.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(cU,e.bytes.byteLength),this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return n||e},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},r.remove=function(e,t){MM(e,t,this.subtitlesTrack_)},r.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},r.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(e,t,r){var n=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===pM&&this.handleTimeout_(),e.code===fM?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),this.state="APPENDING",this.trigger("appending");var o=i.segment;if(o.map&&(o.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof fA().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a,s=function(){n.subtitlesTrack_.tech_.off("vttjsloaded",a),n.stopForError({message:"Error loading vtt.js"})};return a=function(){n.subtitlesTrack_.tech_.off("vttjserror",s),n.segmentRequestFinished_(e,t,r)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",s)}o.requested=!0;try{this.parseVTTCues_(i)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach((function(e){n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?new(fA().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var r=0;r<t.length;r++){for(var n=[],i=0,o=0;o<t.length;o++)t[r].startTime===t[o].startTime&&t[r].endTime===t[o].endTime&&t[r].text===t[o].text&&++i>1&&n.push(t[o]);n.length&&n.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(e){var t,r=!1;"function"==typeof fA().TextDecoder?t=new(fA().TextDecoder)("utf8"):(t=fA().WebVTT.StringDecoder(),r=!0);var n=new(fA().WebVTT.Parser)(fA(),fA().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=function(t){e.timestampmap=t},n.onparsingerror=function(e){Bj.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;r&&(i=uU(i)),n.parse(i)}var o=e.bytes;r&&(o=uU(o)),n.parse(o),n.flush()},r.updateTimeMapping_=function(e,t,r){var n=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,o=i.MPEGTS/EO.ONE_SECOND_IN_TS-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!r.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(a,s-n.duration)}}}else n.empty=!0},t}(VM),dU=function(e,t){for(var r=e.cues,n=0;n<r.length;n++){var i=r[n];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},pU=[{name:"VOD",run:function(e,t,r,n,i){return r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(e,t,r,n,i){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var o=null,a=null,s=rR(t);i=i||0;for(var u=0;u<s.length;u++){var c=s[t.endList||0===i?u:s.length-(u+1)],l=c.segment,d=e.timelineToDatetimeMappings[l.timeline];if(d&&l.dateTimeObject){var p=l.dateTimeObject.getTime()/1e3+d;if(l.parts&&"number"==typeof c.partIndex)for(var f=0;f<c.partIndex;f++)p+=l.parts[f].duration;var h=Math.abs(i-p);if(null!==a&&(0===h||a<h))break;a=h,o={time:p,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return o}},{name:"Segment",run:function(e,t,r,n,i){var o=null,a=null;i=i||0;for(var s=rR(t),u=0;u<s.length;u++){var c=s[t.endList||0===i?u:s.length-(u+1)],l=c.segment,d=c.part&&c.part.start||l&&l.start;if(l.timeline===n&&void 0!==d){var p=Math.abs(i-d);if(null!==a&&a<p)break;(!o||null===a||a>=p)&&(a=p,o={time:d,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return o}},{name:"Discontinuity",run:function(e,t,r,n,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],c=t.discontinuitySequence+s+1,l=e.discontinuities[c];if(l){var d=Math.abs(i-l.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:l.time,segmentIndex:u,partIndex:null})}}return o}},{name:"Playlist",run:function(e,t,r,n,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],fU=function(e){function t(t){var r;return(r=e.call(this)||this).timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=Wj("SyncController"),r}bA(t,e);var r=t.prototype;return r.getSyncPoint=function(e,t,r,n){var i=this.runStrategies_(e,t,r,n);return i.length?this.selectSyncPoint_(i,{key:"time",value:n}):null},r.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var r=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!r.length)return null;var n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+uR({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))},r.runStrategies_=function(e,t,r,n){for(var i=[],o=0;o<pU.length;o++){var a=pU[o],s=a.run(this,e,t,r,n);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i},r.selectSyncPoint_=function(e,t){for(var r=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<n&&(n=a,r=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+("number"==typeof r.partIndex?",partIndex:"+r.partIndex:"")+"]"),r},r.saveExpiredSegmentInfo=function(e,t){var r=t.mediaSequence-e.mediaSequence;if(r>86400)Bj.log.warn("Not saving expired segment info. Media sequence gap "+r+" is too large.");else for(var n=r-1;n>=0;n--){var i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],r=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-r}},r.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,r=e.shouldSaveTimelineMapping,n=this.calculateSegmentTimeMapping_(t,t.timingInfo,r),i=t.segment;n&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));var o=i.dateTimeObject;i.discontinuity&&r&&o&&(this.timelineToDatetimeMappings[i.timeline]=-o.getTime()/1e3)},r.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},r.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},r.calculateSegmentTimeMapping_=function(e,t,r){var n,i,o=e.segment,a=e.part,s=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},r&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+s.time+"] [mapping: "+s.mapping+"]")),n=e.startOfSegment,i=t.end+s.mapping;else{if(!s)return!1;n=t.start+s.mapping,i=t.end+s.mapping}return a&&(a.start=n,a.end=i),(!o.start||n<o.start)&&(o.start=n),o.end=i,!0},r.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var i=t.discontinuityStarts[n],o=t.discontinuitySequence+n+1,a=i-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u;u=a<0?r.start-uR({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:i}):r.end+uR({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[o]={time:u,accuracy:s}}}},r.dispose=function(){this.trigger("dispose"),this.off()},t}(Bj.EventTarget),hU=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}bA(t,e);var r=t.prototype;return r.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(e){var t=e.type,r=e.from,n=e.to;return"number"==typeof r&&"number"==typeof n&&(this.pendingTimelineChanges_[t]={type:t,from:r,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},r.lastTimelineChange=function(e){var t=e.type,r=e.from,n=e.to;return"number"==typeof r&&"number"==typeof n&&(this.lastTimelineChanges_[t]={type:t,from:r,to:n},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Bj.EventTarget),gU=nM(iM((function(){function e(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var t=e((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0})),r=e((function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),n=e((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),i=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(r,1),r>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),o=null,a=function(){function e(e){var t,r,n;o||(o=function(){var e,t,r,n,i,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],c=u[0],l=u[1],d=c[4],p=l[4],f=[],h=[];for(e=0;e<256;e++)h[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!d[t];t^=n||1,r=h[r]||1)for(o=(o=r^r<<1^r<<2^r<<3^r<<4)>>8^255&o^99,d[t]=o,p[o]=t,s=16843009*f[i=f[n=f[t]]]^65537*i^257*n^16843008*t,a=257*f[o]^16843008*o,e=0;e<4;e++)c[e][t]=a=a<<24^a>>>8,l[e][o]=s=s<<24^s>>>8;for(e=0;e<5;e++)c[e]=c[e].slice(0),l[e]=l[e].slice(0);return u}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var i=this._tables[0][4],a=this._tables[1],s=e.length,u=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var c=e.slice(0),l=[];for(this._key=[c,l],t=s;t<4*s+28;t++)n=c[t-1],(t%s==0||8===s&&t%s==4)&&(n=i[n>>>24]<<24^i[n>>16&255]<<16^i[n>>8&255]<<8^i[255&n],t%s==0&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),c[t]=c[t-s]^n;for(r=0;t;r++,t--)n=c[3&r?t:t-4],l[r]=t<=4||r<4?n:a[0][i[n>>>24]]^a[1][i[n>>16&255]]^a[2][i[n>>8&255]]^a[3][i[255&n]]}return e.prototype.decrypt=function(e,t,r,n,i,o){var a,s,u,c,l=this._key[1],d=e^l[0],p=n^l[1],f=r^l[2],h=t^l[3],g=l.length/4-2,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],w=v[3],S=v[4];for(c=0;c<g;c++)a=y[d>>>24]^b[p>>16&255]^_[f>>8&255]^w[255&h]^l[m],s=y[p>>>24]^b[f>>16&255]^_[h>>8&255]^w[255&d]^l[m+1],u=y[f>>>24]^b[h>>16&255]^_[d>>8&255]^w[255&p]^l[m+2],h=y[h>>>24]^b[d>>16&255]^_[p>>8&255]^w[255&f]^l[m+3],m+=4,d=a,p=s,f=u;for(c=0;c<4;c++)i[(3&-c)+o]=S[d>>>24]<<24^S[p>>16&255]<<16^S[f>>8&255]<<8^S[255&h]^l[m++],a=d,d=p,p=f,f=h,h=a},e}(),s=function(e){function t(){var t;return(t=e.call(this,i)||this).jobs=[],t.delay=1,t.timeout_=null,t}n(t,e);var r=t.prototype;return r.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},r.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(i),u=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},c=function(){function e(t,r,n,i){var o=e.STEP,a=new Int32Array(t.buffer),c=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),r,n,c)),l=o;l<a.length;l+=o)n=new Uint32Array([u(a[l-4]),u(a[l-3]),u(a[l-2]),u(a[l-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),r,n,c));this.asyncStream_.push((function(){var e;i(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,r,n){return function(){var i=function(e,t,r){var n,i,o,s,c,l,d,p,f,h=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),g=new a(Array.prototype.slice.call(t)),m=new Uint8Array(e.byteLength),v=new Int32Array(m.buffer);for(n=r[0],i=r[1],o=r[2],s=r[3],f=0;f<h.length;f+=4)c=u(h[f]),l=u(h[f+1]),d=u(h[f+2]),p=u(h[f+3]),g.decrypt(c,l,d,p,v,f),v[f]=u(v[f]^n),v[f+1]=u(v[f+1]^i),v[f+2]=u(v[f+2]^o),v[f+3]=u(v[f+3]^s),n=c,i=l,o=d,s=p;return m}(e,t,r);n.set(i,e.byteOffset)}},t(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();self.onmessage=function(e){var t=e.data,r=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new c(r,n,i,(function(e,r){var n,i;self.postMessage((n={source:t.source,decrypted:r},i={},Object.keys(n).forEach((function(e){var t=n[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t})),i),[r.buffer])}))}}))),mU=rM(gU),vU=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},yU=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},bU=function(e,t){t.activePlaylistLoader=e,e.load()},_U={AUDIO:function(e,t){return function(){var r=t.segmentLoaders[e],n=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;yU(r,n);var o=n.activeTrack(),a=n.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,u=n.tracks[s];if(o!==u){for(var c in Bj.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[c].enabled=n.tracks[c]===u;n.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var r=t.segmentLoaders[e],n=t.mediaTypes[e];Bj.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),yU(r,n);var i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}}},wU={AUDIO:function(e,t,r){if(t){var n=r.tech,i=r.requestOptions,o=r.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),(!n.paused()||e.endList&&"none"!==n.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),n.paused()||o.load()})),t.on("error",_U[e](e,r))}},SUBTITLES:function(e,t,r){var n=r.tech,i=r.requestOptions,o=r.segmentLoaders[e],a=r.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),n.paused()||o.load()})),t.on("error",_U[e](e,r))}},SU={AUDIO:function(e,t){var r=t.vhs,n=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions,a=t.master.mediaGroups,s=t.mediaTypes[e],u=s.groups,c=s.tracks,l=s.logger_,d=t.masterPlaylistLoader,p=vR(d.master);for(var f in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}},p&&(a[e].main.default.playlists=d.master.playlists)),a[e])for(var h in u[f]||(u[f]=[]),a[e][f]){var g=a[e][f][h],m=void 0;if(p?(l("AUDIO group '"+f+"' label '"+h+"' is a master playlist"),g.isMasterPlaylist=!0,m=null):m="vhs-json"===n&&g.playlists?new DR(g.playlists[0],r,o):g.resolvedUri?new DR(g.resolvedUri,r,o):g.playlists&&"dash"===n?new ZR(g.playlists[0],r,o,d):null,g=Bj.mergeOptions({id:h,playlistLoader:m},g),wU[e](e,g.playlistLoader,t),u[f].push(g),void 0===c[h]){var v=new Bj.AudioTrack({id:h,kind:vU(g),enabled:!1,language:g.language,default:g.default,label:h});c[h]=v}}i.on("error",_U[e](e,t))},SUBTITLES:function(e,t){var r=t.tech,n=t.vhs,i=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,u=t.mediaTypes[e],c=u.groups,l=u.tracks,d=t.masterPlaylistLoader;for(var p in s[e])for(var f in c[p]||(c[p]=[]),s[e][p])if(!s[e][p][f].forced){var h=s[e][p][f],g=void 0;if("hls"===i)g=new DR(h.resolvedUri,n,a);else if("dash"===i){if(!h.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;g=new ZR(h.playlists[0],n,a,d)}else"vhs-json"===i&&(g=new DR(h.playlists?h.playlists[0]:h.resolvedUri,n,a));if(h=Bj.mergeOptions({id:f,playlistLoader:g},h),wU[e](e,h.playlistLoader,t),c[p].push(h),void 0===l[f]){var m=r.addRemoteTextTrack({id:f,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:f},!1).track;l[f]=m}}o.on("error",_U[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var r=t.tech,n=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,a=i.tracks;for(var s in n[e])for(var u in o[s]||(o[s]=[]),n[e][s]){var c=n[e][s][u];if(/^(?:CC|SERVICE)/.test(c.instreamId)){var l=r.options_.vhs&&r.options_.vhs.captionServices||{},d={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(l[d.instreamId]&&(d=Bj.mergeOptions(d,l[d.instreamId])),void 0===d.default&&delete d.default,o[s].push(Bj.mergeOptions({id:u},c)),void 0===a[u]){var p=r.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;a[u]=p}}}}},TU=function e(t,r){for(var n=0;n<t.length;n++){if(gR(r,t[n]))return!0;if(t[n].playlists&&e(t[n].playlists,r))return!0}return!1},IU={AUDIO:function(e,t){return function(){var r=t.mediaTypes[e].tracks;for(var n in r)if(r[n].enabled)return r[n];return null}},SUBTITLES:function(e,t){return function(){var r=t.mediaTypes[e].tracks;for(var n in r)if("showing"===r[n].mode||"hidden"===r[n].mode)return r[n];return null}}},kU=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],AU=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},EU=function(e){function t(t){var r;r=e.call(this)||this;var n=t.src,i=t.handleManifestRedirects,o=t.withCredentials,a=t.tech,s=t.bandwidth,u=t.externVhs,c=t.useCueTags,l=t.blacklistDuration,d=t.enableLowInitialPlaylist,p=t.sourceType,f=t.cacheEncryptionKeys,h=t.experimentalBufferBasedABR,g=t.experimentalLeastPixelDiffSelector,m=t.captionServices;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");var v=t.maxPlaylistRetries;null==v&&(v=1/0),WM=u,r.experimentalBufferBasedABR=Boolean(h),r.experimentalLeastPixelDiffSelector=Boolean(g),r.withCredentials=o,r.tech_=a,r.vhs_=a.vhs,r.sourceType_=p,r.useCueTags_=c,r.blacklistDuration=l,r.maxPlaylistRetries=v,r.enableLowInitialPlaylist=d,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:o,handleManifestRedirects:i,maxPlaylistRetries:v,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:zM,activeTrack:zM,getActiveGroup:zM,onGroupChanged:zM,onTrackChanged:zM,lastTrack_:null,logger_:Wj("MediaGroups["+t+"]")}})),e}(),r.mediaSource=new(fA().MediaSource),r.handleDurationChange_=r.handleDurationChange_.bind(vA(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(vA(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(vA(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=Bj.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new fU(t),r.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new mU,r.sourceUpdater_=new sU(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new hU;var y={vhs:r.vhs_,parse708captions:t.parse708captions,captionServices:m,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:s,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:f,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};r.masterPlaylistLoader_="dash"===r.sourceType_?new ZR(n,r.vhs_,r.requestOptions_):new DR(n,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new VM(Bj.mergeOptions(y,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),t),r.audioSegmentLoader_=new VM(Bj.mergeOptions(y,{loaderType:"audio"}),t),r.subtitleSegmentLoader_=new lU(Bj.mergeOptions(y,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),t),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",(function(){return r.startABRTimer_()})),r.tech_.on("pause",(function(){return r.stopABRTimer_()})),r.tech_.on("play",(function(){return r.startABRTimer_()}))),kU.forEach((function(e){r[e+"_"]=AU.bind(vA(r),e)})),r.logger_=Wj("MPC"),r.triggeredFmp4Usage=!1,"none"===r.tech_.preload()?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var b="none"===r.tech_.preload()?"play":"loadstart";return r.tech_.one(b,(function(){var e=Date.now();r.tech_.one("loadeddata",(function(){r.timeToLoadedData__=Date.now()-e,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends}))})),r}bA(t,e);var r=t.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},r.switchMedia_=function(e,t,r){var n=this.media(),i=n&&(n.id||n.uri),o=e.id||e.uri;i&&i!==o&&(this.logger_("switch media "+i+" -> "+o+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,r)},r.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=fA().setInterval((function(){return e.checkABR_()}),250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(fA().clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var r,n=e.mediaGroups.AUDIO,i=Object.keys(n);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{var o=n.main||i.length&&n[i[0]];for(var a in o)if(o[a].default){r={label:a};break}}if(!r)return t;var s=[];for(var u in n)if(n[u][r.label]){var c=n[u][r.label];if(c.playlists&&c.playlists.length)s.push.apply(s,c.playlists);else if(c.uri)s.push(c);else if(e.playlists.length)for(var l=0;l<e.playlists.length;l++){var d=e.playlists[l];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===u&&s.push(d)}}return s.length?s:t},r.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;hR(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){SU[t](t,e)}));var t=e.mediaTypes,r=e.masterPlaylistLoader,n=e.tech,i=e.vhs,o=e.segmentLoaders,a=o.AUDIO,s=o.main;["AUDIO","SUBTITLES"].forEach((function(r){t[r].activeGroup=function(e,t){return function(r){var n=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=n.media();if(!o)return null;var a=null;o.attributes[e]&&(a=i[o.attributes[e]]);var s=Object.keys(i);if(!a)if("AUDIO"===e&&s.length>1&&vR(t.master))for(var u=0;u<s.length;u++){var c=i[s[u]];if(TU(c,o)){a=c;break}}else i.main?a=i.main:1===s.length&&(a=i[s[0]]);return void 0===r?a:null!==r&&a&&a.filter((function(e){return e.id===r.id}))[0]||null}}(r,e),t[r].activeTrack=IU[r](r,e),t[r].onGroupChanged=function(e,t){return function(){var r=t.segmentLoaders,n=r[e],i=r.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.getActiveGroup(),u=o.activePlaylistLoader,c=o.lastGroup_;s&&c&&s.id===c.id||(o.lastGroup_=s,o.lastTrack_=a,yU(n,o),s&&!s.isMasterPlaylist&&(s.playlistLoader?(n.resyncLoader(),bU(s.playlistLoader,o)):u&&i.resetEverything()))}}(r,e),t[r].onGroupChanging=function(e,t){return function(){var r=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,r.abort(),r.pause()}}(r,e),t[r].onTrackChanged=function(e,t){return function(){var r=t.masterPlaylistLoader,n=t.segmentLoaders,i=n[e],o=n.main,a=t.mediaTypes[e],s=a.activeTrack(),u=a.getActiveGroup(),c=a.activePlaylistLoader,l=a.lastTrack_;if((!l||!s||l.id!==s.id)&&(a.lastGroup_=u,a.lastTrack_=s,yU(i,a),u)){if(u.isMasterPlaylist){if(!s||!l||s.id===l.id)return;var d=t.vhs.masterPlaylistController_,p=d.selectPlaylist();if(d.media()===p)return;return a.logger_("track change. Switching master audio from "+l.id+" to "+s.id),r.pause(),o.resetEverything(),void d.fastQualityChange_(p)}if("AUDIO"===e){if(!u.playlistLoader)return o.setAudio(!0),void o.resetEverything();i.setAudio(!0),o.setAudio(!1)}c!==u.playlistLoader?(i.track&&i.track(s),i.resetEverything(),bU(u.playlistLoader,a)):bU(u.playlistLoader,a)}}}(r,e),t[r].getActiveGroup=function(e,t){var r=t.mediaTypes;return function(){var t=r[e].activeTrack();return t?r[e].activeGroup(t):null}}(r,e)}));var u=t.AUDIO.activeGroup();if(u){var c=(u.filter((function(e){return e.default}))[0]||u[0]).id;t.AUDIO.tracks[c].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),a.setAudio(!0)):s.setAudio(!0)}r.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),r.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var l=function(){t.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};for(var d in n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),n.clearTracks("audio"),t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[d])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var r;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(r=e.selectInitialPlaylist()),r||(r=e.selectPlaylist()),!r||!e.shouldSwitchToMedia_(r))return;if(e.initialMedia_=r,e.switchMedia_(e.initialMedia_,"initial"),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments)return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;hR(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=r,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},r.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(e,t){var r=e.mediaGroups||{},n=!0,i=Object.keys(r.AUDIO);for(var o in r.AUDIO)for(var a in r.AUDIO[o])r.AUDIO[o][a].uri||(n=!1);n&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(r.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),WM.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),i.length&&Object.keys(r.AUDIO[i[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),n=this.bufferLowWaterLine(),i=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,r=e.buffered,n=e.currentTime,i=e.nextPlaylist,o=e.bufferLowWaterLine,a=e.bufferHighWaterLine,s=e.duration,u=e.experimentalBufferBasedABR,c=e.log;if(!i)return Bj.log.warn("We received no playlist to switch to. Please check your stream."),!1;var l="allowing switch "+(t&&t.id||"null")+" -> "+i.id;if(!t)return c(l+" as current playlist is not set"),!0;if(i.id===t.id)return!1;var d=Boolean(Xj(r,n).length);if(!t.endList)return d||"number"!=typeof t.partTargetDuration?(c(l+" as current playlist is live"),!0):(c("not "+l+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var p=Zj(r,n),f=u?eM.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:eM.MAX_BUFFER_LOW_WATER_LINE;if(s<f)return c(l+" as duration < max low water line ("+s+" < "+f+")"),!0;var h=i.attributes.BANDWIDTH,g=t.attributes.BANDWIDTH;if(h<g&&(!u||p<a)){var m=l+" as next bandwidth < current bandwidth ("+h+" < "+g+")";return u&&(m+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+a+")"),c(m),!0}if((!u||h>g)&&p>=o){var v=l+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+o+")";return u&&(v+=" and next bandwidth > current bandwidth ("+h+" > "+g+")"),c(v),!0}return c("not "+l+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:r,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:i,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},r.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Bj.browser.IE_VERSION||Bj.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},r.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var r=this.seekable();if(!r.length)return!1;if(Bj.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(r.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(r.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var r=WM.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return r-n<=Gj;var o=i.end(i.length-1);return o-n<=Gj&&r-o<=Gj},r.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var r=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!r)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));r.playlistErrors_++;var n,i=this.masterPlaylistLoader_.master.playlists,o=i.filter(pR),a=1===o.length&&o[0]===r;if(1===i.length&&t!==1/0)return Bj.log.warn("Problem encountered with playlist "+r.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a);if(a){var s=!1;i.forEach((function(e){if(e!==r){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(s=!0,delete e.excludeUntil)}})),s&&(Bj.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n=r.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,r.excludeUntil=n,e.reason&&(r.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var u=this.selectPlaylist();if(!u)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var c=e.internal?this.logger_:Bj.log.warn,l=e.message?" "+e.message:"";c((e.internal?"Internal problem":"Problem")+" encountered with playlist "+r.id+"."+l+" Switching to playlist "+u.id+"."),u.attributes.AUDIO!==r.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==r.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=u.targetDuration/2*1e3||5e3,p="number"==typeof u.lastRequest&&Date.now()-u.lastRequest<=d;return this.switchMedia_(u,"exclude",a||p)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(e,t){var r=this,n=[],i="all"===e;(i||"main"===e)&&n.push(this.masterPlaylistLoader_);var o=[];(i||"audio"===e)&&o.push("AUDIO"),(i||"subtitle"===e)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(e){var t=r.mediaTypes_[e]&&r.mediaTypes_[e].activePlaylistLoader;t&&n.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=r[t+"SegmentLoader_"];!i||e!==t&&"all"!==e||n.push(i)})),n.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},r.setCurrentTime=function(e){var t=Xj(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:WM.Playlist.duration(e):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var r=this.syncController_.getExpiredTime(t,this.duration());if(null!==r){var n=this.masterPlaylistLoader_.master,i=WM.Playlist.seekable(t,r,WM.Playlist.liveEdgeDelay(n,t));if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=WM.Playlist.seekable(t,r,WM.Playlist.liveEdgeDelay(n,t))).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?this.seekable_=i:this.seekable_=Bj.createTimeRanges([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):this.seekable_=i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+$j(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var r=this.tech_.buffered(),n=WM.Playlist.duration(this.masterPlaylistLoader_.media());r.length>0&&(n=Math.max(n,r.end(r.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}},r.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var r=e.mediaTypes_[t].groups;for(var n in r)r[n].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!r)},r.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var r=AM(this.master(),this.media()),n={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(n.video=r.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(n.video+=","+(r.audio||t.main.audioCodec||nE)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(n.audio=r.audio||t.main.audioCodec||t.audio.audioCodec||nE,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),n.audio||n.video){var o,a={};if(["video","audio"].forEach((function(e){if(n.hasOwnProperty(e)&&(i=t[e].isFmp4,s=n[e],!(i?tE(s):rE(s)))){var r=t[e].isFmp4?"browser":"muxer";a[r]=a[r]||[],a[r].push(n[e]),"audio"===e&&(o=r)}var i,s})),i&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===s&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+n.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(t){var r=(QA(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=(QA(n[t]||"")[0]||{}).type;r&&i&&r.toLowerCase()!==i.toLowerCase()&&u.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+n[t]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return n}var c=Object.keys(a).reduce((function(e,t){return e&&(e+=", "),e+(t+' does not support codec(s): "')+a[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:c,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},r.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},r.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,r=[];Object.keys(t).forEach((function(n){var i=t[n];if(-1===r.indexOf(i.id)){r.push(i.id);var o=AM(e.master,i),a=[];!o.audio||rE(o.audio)||tE(o.audio)||a.push("audio codec "+o.audio),!o.video||rE(o.video)||tE(o.video)||a.push("video codec "+o.video),o.text&&"stpp.ttml.im1t"===o.text&&a.push("text codec "+o.text),a.length&&(i.excludeUntil=1/0,e.logger_("excluding "+i.id+" for unsupported: "+a.join(", ")))}}))},r.excludeIncompatibleVariants_=function(e){var t=this,r=[],n=this.master().playlists,i=IM(QA(e)),o=kM(i),a=i.video&&QA(i.video)[0]||null,s=i.audio&&QA(i.audio)[0]||null;Object.keys(n).forEach((function(e){var i=n[e];if(-1===r.indexOf(i.id)&&i.excludeUntil!==1/0){r.push(i.id);var u=[],c=AM(t.masterPlaylistLoader_.master,i),l=kM(c);if(c.audio||c.video){if(l!==o&&u.push('codec count "'+l+'" !== "'+o+'"'),!t.sourceUpdater_.canChangeType()){var d=c.video&&QA(c.video)[0]||null,p=c.audio&&QA(c.audio)[0]||null;d&&a&&d.type.toLowerCase()!==a.type.toLowerCase()&&u.push('video codec "'+d.type+'" !== "'+a.type+'"'),p&&s&&p.type.toLowerCase()!==s.type.toLowerCase()&&u.push('audio codec "'+p.type+'" !== "'+s.type+'"')}u.length&&(i.excludeUntil=1/0,t.logger_("blacklisting "+i.id+": "+u.join(" && ")))}}}))},r.updateAdCues_=function(e){var t=0,r=this.seekable();r.length&&(t=r.start(0)),function(e,t,r){if(void 0===r&&(r=0),e.segments)for(var n,i=r,o=0;o<e.segments.length;o++){var a=e.segments[o];if(n||(n=dU(t,i+a.duration/2)),n){if("cueIn"in a){n.endTime=i,n.adEndTime=i,i+=a.duration,n=null;continue}if(i<n.endTime){i+=a.duration;continue}n.endTime+=a.duration}else if("cueOut"in a&&((n=new(fA().VTTCue)(i,i+a.duration,a.cueOut)).adStartTime=i,n.adEndTime=i+parseFloat(a.cueOut),t.addCue(n)),"cueOutCont"in a){var s=a.cueOutCont.split("/").map(parseFloat),u=s[0],c=s[1];(n=new(fA().VTTCue)(i,i+a.duration,"")).adStartTime=i-u,n.adEndTime=n.adStartTime+c,t.addCue(n)}i+=a.duration}}(e,this.cueTagsTrack_,t)},r.goalBufferLength=function(){var e=this.tech_.currentTime(),t=eM.GOAL_BUFFER_LENGTH,r=eM.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,eM.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*r,n)},r.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=eM.BUFFER_LOW_WATER_LINE,r=eM.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,eM.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(t,eM.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*r,this.experimentalBufferBasedABR?i:n)},r.bufferHighWaterLine=function(){return eM.BUFFER_HIGH_WATER_LINE},t}(Bj.EventTarget),OU=function(e,t,r){var n,i,o,a=e.masterPlaylistController_,s=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(t.attributes){var u=t.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=AM(a.master(),t),this.playlist=t,this.id=r,this.enabled=(n=e.playlists,i=t.id,o=s,function(e){var t=n.master.playlists[i],r=dR(t),a=pR(t);return void 0===e?a:(e?delete t.disabled:t.disabled=!0,e===a||r||(o(),e?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),e)})},CU=["seeking","seeked","pause","playing","error"],PU=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Wj("PlaybackWatcher"),this.logger_("initialize");var r=function(){return t.monitorCurrentTime_()},n=function(){return t.monitorCurrentTime_()},i=function(){return t.techWaiting_()},o=function(){return t.cancelTimer_()},a=this.masterPlaylistController_,s=["main","subtitle","audio"],u={};s.forEach((function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},a[e+"SegmentLoader_"].on("appendsdone",u[e].updateend),a[e+"SegmentLoader_"].on("playlistupdate",u[e].reset),t.tech_.on(["seeked","seeking"],u[e].reset)}));var c=function(e){["main","audio"].forEach((function(r){a[r+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(CU,o),this.tech_.on("canplay",n),this.tech_.one("play",r),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",i),t.tech_.off(CU,o),t.tech_.off("canplay",n),t.tech_.off("play",r),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),s.forEach((function(e){a[e+"SegmentLoader_"].off("appendsdone",u[e].updateend),a[e+"SegmentLoader_"].off("playlistupdate",u[e].reset),t.tech_.off(["seeked","seeking"],u[e].reset)})),t.checkCurrentTimeTimeout_&&fA().clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&fA().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=fA().setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,r=t[e+"SegmentLoader_"],n=r.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e.start(r)!==t.start(r)||e.end(r)!==t.end(r))return!0;return!1}(this[e+"Buffered_"],n);this[e+"Buffered_"]=n,i?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:r.playlist_&&r.playlist_.id,buffered:Jj(n)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Gj>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),r=this.tech_.currentTime();if(this.afterSeekableWindow_(t,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,r)){var n=t.start(0);e=n+(n===t.end(0)?0:Gj)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+r+" with seekable range "+$j(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var i=this.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),a=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,u=this.media(),c=u.partTargetDuration?u.partTargetDuration:2*(u.targetDuration-Hj),l=[a,s],d=0;d<l.length;d++)if(l[d]&&Zj(l[d],r)<c)return!1;var p=Yj(o,r);return 0!==p.length&&(e=p.start(0)+Gj,this.logger_("Buffered region starts ("+p.start(0)+")  just beyond seek point ("+r+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),r=Xj(t,e);return r.length&&e+3<=r.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+r.start(0)+" -> "+r.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var r=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+r),this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=Yj(i,t);if(o.length>0){var a=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1},t.afterSeekableWindow_=function(e,t,r,n){if(void 0===n&&(n=!1),!e.length)return!1;var i=e.end(e.length-1)+Gj;return!r.endList&&n&&(i=e.end(e.length-1)+3*r.targetDuration),t>i},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,r=e.audioBuffered,n=e.currentTime;if(t){var i;if(t.length&&r.length){var o=Xj(t,n-3),a=Xj(t,n),s=Xj(r,n);s.length&&!a.length&&o.length&&(i={start:o.end(0),end:s.end(0)})}else Yj(t,n).length||(i=this.gapFromVideoUnderflow_(t,n));return!!i&&(this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),r=this.tech_.currentTime(),n=Yj(t,r);this.cancelTimer_(),0!==n.length&&r===e&&(this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Hj),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var r=function(e){if(e.length<2)return Bj.createTimeRanges();for(var t=[],r=1;r<e.length;r++){var n=e.end(r-1),i=e.start(r);t.push([n,i])}return Bj.createTimeRanges(t)}(e),n=0;n<r.length;n++){var i=r.start(n),o=r.end(n);if(t-i<4&&t-i>2)return{start:i,end:o}}return null},e}(),xU={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},DU=function e(t,r){var n=0,i=0,o=Bj.mergeOptions(xU,r);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){i&&t.currentTime(i)},s=function(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},u=function(){return Date.now()-n<1e3*o.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(n=Date.now(),o.getSource.call(t,s)):void Bj.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},c=function e(){t.off("loadedmetadata",a),t.off("error",u),t.off("dispose",e)};t.on("error",u),t.on("dispose",c),t.reloadSourceOnError=function(r){c(),e(t,r)}},jU="2.13.1",RU={PlaylistLoader:DR,Playlist:yR,utils:HR,STANDARD_PLAYLIST_SELECTOR:RM,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(yR.isEnabled);PM(t,(function(e,t){return xM(e,t)}));var r=t.filter((function(t){return!!AM(e.playlists.master,t).video}));return r[0]||null},lastBandwidthSelector:RM,movingAverageBandwidthSelector:function(e){var t=-1,r=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&fA().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(t=e*this.systemBandwidth+(1-e)*t,r=this.systemBandwidth),jM(this.playlists.master,t,parseInt(CM(this.tech_.el(),"width"),10)*n,parseInt(CM(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:xM,comparePlaylistResolution:function(e,t){var r,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||fA().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),r===(n=n||fA().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:r-n},xhr:UR()};Object.keys(eM).forEach((function(e){Object.defineProperty(RU,e,{get:function(){return Bj.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),eM[e]},set:function(t){Bj.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Bj.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):eM[e]=t}})}));var MU="videojs-vhs",UU=function(e,t){for(var r=t.media(),n=-1,i=0;i<e.length;i++)if(e[i].id===r.id){n=i;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};RU.canPlaySource=function(){return Bj.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var LU=function(){if(!fA().localStorage)return null;var e=fA().localStorage.getItem(MU);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};RU.supportsNativeHls=function(){if(!gA()||!gA().createElement)return!1;var e=gA().createElement("video");return!!Bj.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),RU.supportsNativeDash=!!(gA()&&gA().createElement&&Bj.getTech("Html5").isSupported())&&/maybe|probably/i.test(gA().createElement("video").canPlayType("application/dash+xml")),RU.supportsTypeNatively=function(e){return"hls"===e?RU.supportsNativeHls:"dash"===e&&RU.supportsNativeDash},RU.isSupported=function(){return Bj.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var NU=function(e){function t(t,r,n){var i;if(i=e.call(this,r,Bj.mergeOptions(n.hls,n.vhs))||this,n.hls&&Object.keys(n.hls).length&&Bj.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof n.initialBandwidth&&(i.options_.bandwidth=n.initialBandwidth),i.logger_=Wj("VhsHandler"),r.options_&&r.options_.playerId){var o=Bj(r.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Bj.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),vA(i)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return Bj.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),vA(i)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return Bj.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),vA(i)},configurable:!0}),i.player_=o}if(i.tech_=r,i.source_=t,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(gA(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=gA().fullscreenElement||gA().webkitFullscreenElement||gA().mozFullScreenElement||gA().msFullscreenElement;t&&t.contains(i.tech_.el())?i.masterPlaylistController_.fastQualityChange_():i.masterPlaylistController_.checkABR_()})),i.on(i.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),i.on(i.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),i.on(i.tech_,"play",i.play),i}bA(t,e);var r=t.prototype;return r.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=LU();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=eM.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===eM.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,t){var r=this;if(e){var n;this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=RU,this.options_.sourceType=aE(t),this.options_.seekTo=function(e){r.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Bj.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new EU(this.options_);var i=Bj.mergeOptions({liveRangeSafeTimeDelta:Gj},this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new PU(i),this.masterPlaylistController_.on("error",(function(){var e=Bj.players[r.tech_.options_.playerId],t=r.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var o=this.options_.experimentalBufferBasedABR?RU.movingAverageBandwidthSelector(.55):RU.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.masterPlaylistController_.selectInitialPlaylist=RU.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=fA().navigator.connection||fA().navigator.mozConnection||fA().navigator.webkitConnection,r=1e7;if(this.options_.useNetworkInformationApi&&t){var n=1e3*t.downlink*1e3;e=n>=r&&e>=r?Math.max(e,n):n}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Bj.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return r.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return r.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return r.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return r.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return r.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Jj(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Jj(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!fA().localStorage)return!1;var t=LU();t=t?Bj.mergeOptions(t,e):e;try{fA().localStorage.setItem(MU,JSON.stringify(t))}catch(e){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=r).representations=function(){var t=e.masterPlaylistController_.master(),r=vR(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return r?r.filter((function(e){return!dR(e)})).map((function(t,r){return new OU(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){r.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=fA().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function(e){var t=e.player,r=e.sourceKeySystems,n=e.audioMedia,i=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var o,a,s=(o=n?i.concat([n]):i,a=Object.keys(r),o.reduce((function(e,t){if(!t.contentProtection)return e;var r=a.reduce((function(e,r){var n=t.contentProtection[r];return n&&n.pssh&&(e[r]={pssh:n.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])),u=[],c=[];return s.forEach((function(e){c.push(new Promise((function(e,r){t.tech_.one("keysessioncreated",e)}))),u.push(new Promise((function(r,n){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?n(e):r()}))})))})),Promise.race([Promise.all(u),Promise.race(c)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},r.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},r.setupEme_=function(){var e,t,r,n=this,i=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,o=(e={player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:i&&i.media()},t=e.player,!(!(r=function(e,t,r){if(!e)return e;var n={};t&&t.attributes&&t.attributes.CODECS&&(n=IM(QA(t.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);var i=eE(n.video),o=eE(n.audio),a={};for(var s in e)a[s]={},o&&(a[s].audioContentType=o),i&&(a[s].videoContentType=i),t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(a[s].pssh=t.contentProtection[s].pssh),"string"==typeof e[s]&&(a[s].url=e[s]);return Bj.mergeOptions(e,a)}(e.sourceKeySystems,e.media,e.audioMedia))||(t.currentSource().keySystems=r,r&&!t.eme&&(Bj.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))));this.player_.tech_.on("keystatuschange",(function(e){"output-restricted"===e.status&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+e.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Bj.browser.IE_VERSION&&o?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},r.setupQualityLevels_=function(){var e=this,t=Bj.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,r;t=e.qualityLevels_,(r=e).representations().forEach((function(e){t.addQualityLevel(e)})),UU(t,r.playlists)})),this.playlists.on("mediachange",(function(){UU(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":jU,"mux.js":"6.0.1","mpd-parser":"0.21.0","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return sU.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&fA().URL.revokeObjectURL&&(fA().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},r.convertToProgramTime=function(e,t){return function(e){var t=e.playlist,r=e.time,n=void 0===r?void 0:r,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===n)return i({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var r,n=0,i=0;i<t.segments.length&&!(e<=(n=(r=t.segments[i]).videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration));i++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*o.duration)return null;r=o}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}}(n,t);if(!o)return i({message:"valid programTime was not found"});if("estimate"===o.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:n},s=function(e,t){if(!t.dateTimeObject)return null;var r=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+r);return new Date(t.dateTimeObject.getTime()+1e3*n)}(n,o.segment);return s&&(a.programDateTime=s.toISOString()),i(null,a)}({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},r.seekToProgramTime=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=2),GR({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Bj.getComponent("Component")),BU={name:"videojs-http-streaming",VERSION:jU,canHandleSource:function(e,t){void 0===t&&(t={});var r=Bj.mergeOptions(Bj.options,t);return BU.canPlayType(e.type,r)},handleSource:function(e,t,r){void 0===r&&(r={});var n=Bj.mergeOptions(Bj.options,r);return t.vhs=new NU(e,t,n),Bj.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Bj.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=UR(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var r=Bj.mergeOptions(Bj.options,t),n=r.vhs,i=(n=void 0===n?{}:n).overrideNative,o=void 0===i?!Bj.browser.IS_ANY_SAFARI:i,a=r.hls,s=(a=void 0===a?{}:a).overrideNative,u=void 0!==s&&s,c=aE(e);return c&&(!RU.supportsTypeNatively(c)||u||o)?"maybe":""}};tE("avc1.4d400d,mp4a.40.2")&&Bj.getTech("Html5").registerSourceHandler(BU,0),Bj.VhsHandler=NU,Object.defineProperty(Bj,"HlsHandler",{get:function(){return Bj.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),NU},configurable:!0}),Bj.VhsSourceHandler=BU,Object.defineProperty(Bj,"HlsSourceHandler",{get:function(){return Bj.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),BU},configurable:!0}),Bj.Vhs=RU,Object.defineProperty(Bj,"Hls",{get:function(){return Bj.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),RU},configurable:!0}),Bj.use||(Bj.registerComponent("Hls",RU),Bj.registerComponent("Vhs",RU)),Bj.options.vhs=Bj.options.vhs||{},Bj.options.hls=Bj.options.hls||{},Bj.getPlugin&&Bj.getPlugin("reloadSourceOnError")||(Bj.registerPlugin||Bj.plugin)("reloadSourceOnError",(function(e){DU(this,e)}));var qU=Bj,FU="6.9.0",VU=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},zU=function(e,t,r){VU(0,r),e.trigger({type:t+r.type,originalEvent:r})};function WU(e){"playing"===e.type?function(e,t){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&zU(e,"content",t):zU(e,"ad",t))}(this,e):"ended"===e.type?function(e,t){e.ads.isInAdMode()?e.ads.isContentResuming()?(VU(0,t),e.trigger("resumeended")):zU(e,"ad",t):e.ads._contentHasEnded||e.ads.stitchedAds()||(zU(e,"content",t),e.trigger("readyforpostroll"))}(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?function(e,t){if(!("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData))if(e.ads.inAdBreak())zU(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;zU(e,"content",t)}}(this,e):"play"===e.type?function(e,t){e.ads.inAdBreak()?zU(e,"ad",t):e.ads.isContentResuming()&&zU(e,"content",t)}(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?zU(this,"content",e):zU(this,"ad",e))}var HU={},GU=function(){!function(e){if(qU.dom.isInFrame()&&"function"!=typeof fA().__tcfapi){for(var t,r=fA(),n={};r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(e){}if(r===fA().top)break;r=r.parent}if(!t)return;fA().__tcfapi=function(e,r,i,o){var a=Math.random()+"",s={__tcfapiCall:{command:e,parameter:o,version:r,callId:a}};n[a]=i,t.postMessage(s,"*")},fA().addEventListener("message",(function(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}var r=t.__tcfapiReturn;r&&"function"==typeof n[r.callId]&&(n[r.callId](r.returnValue,r.success),n[r.callId]=null)}),!1)}}(),"function"==typeof fA().__tcfapi&&fA().__tcfapi("addEventListener",2,(function(e,t){t&&(HU=e)}))},KU=function(e,t){return t?encodeURIComponent(e):e},XU=function(e,t,r){if(e&&e[r])for(var n=e[r],i=Object.keys(n),o=0;o<i.length;o++)t["{mediainfo."+r+"."+i[o]+"}"]=n[i[o]]};function YU(e,t,r){var n=this,i={};e=e.replace(/{([^}=]+)=([^}]+)}/g,(function(e,t,r){return i["{"+t+"}"]=r,"{"+t+"}"})),void 0===t&&(t=!1);var o={};for(var a in void 0!==r&&(o=r),o["{player.id}"]=this.options_["data-player"]||this.id_,o["{player.height}"]=this.currentHeight(),o["{player.width}"]=this.currentWidth(),o["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",o["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",o["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",o["{player.duration}"]=this.duration(),o["{player.pageUrl}"]=qU.dom.isInFrame()?gA().referrer:fA().location.href,o["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",o["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",o["{timestamp}"]=(new Date).getTime(),o["{document.referrer}"]=gA().referrer,o["{window.location.href}"]=fA().location.href,o["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach((function(e){n.mediainfo&&n.mediainfo[e]?o["{mediainfo."+e+"}"]=n.mediainfo[e]:i["{mediainfo."+e+"}"]?o["{mediainfo."+e+"}"]=i["{mediainfo."+e+"}"]:o["{mediainfo."+e+"}"]=""})),XU(this.mediainfo,o,"custom_fields"),XU(this.mediainfo,o,"customFields"),Object.keys(HU).forEach((function(e){o["{tcf."+e+"}"]=HU[e]})),o["{tcf.gdprAppliesInt}"]=HU.gdprApplies?1:0,o)e=e.split(a).join(KU(o[a],t));for(var s in e=e.replace(/{pageVariable\.([^}]+)}/g,(function(e,r){for(var n,o=fA(),a=r.split("."),s=0;s<a.length;s++)s===a.length-1?n=o[a[s]]:o=o[a[s]];var u=typeof n;return null===n?"null":void 0===n?i["{pageVariable."+r+"}"]?i["{pageVariable."+r+"}"]:(qU.log.warn('Page variable "'+r+'" not found'),""):"string"!==u&&"number"!==u&&"boolean"!==u?(qU.log.warn('Page variable "'+r+'" is not a supported type'),""):KU(String(n),t)})),i)e=e.replace(s,i[s]);return e}var $U={processMetadataTracks:function(e,t){for(var r=e.textTracks(),n=function(r){"metadata"===r.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(r),t(e,r))},i=0;i<r.length;i++)n(r[i]);r.addEventListener("addtrack",(function(e){n(e.track)}))},setMetadataTrackMode:function(e){},getSupportedAdCue:function(e,t){return t},isSupportedAdCue:function(e,t){return!0},getCueId:function(e,t){return t.id}},JU=function(e,t){return void 0!==t&&e.ads.includedCues[t]},QU=function(e,t){void 0!==t&&""!==t&&(e.ads.includedCues[t]=!0)};function ZU(){!1!==this.ads._shouldBlockPlay&&(this.paused()||(this.ads.debug("Playback was canceled by cancelContentPlay"),this.pause()),this.ads._cancelledPlay=!0)}$U.processAdTrack=function(e,t,r,n){e.ads.includedCues={};for(var i=0;i<t.length;i++){var o=t[i],a=this.getSupportedAdCue(e,o);if(!this.isSupportedAdCue(e,o))return void qU.log.warn("Skipping as this is not a supported ad cue.",o);var s=this.getCueId(e,o),u=o.startTime;if(JU(e,s))return void qU.log("Skipping ad already seen with ID "+s);n&&n(e,a,s,u),r(e,a,s,u),QU(e,s)}};var eL={},tL=qU;eL.isMiddlewareMediatorSupported=function(){return!tL.browser.IS_IOS&&!tL.browser.IS_ANDROID&&!!(tL.use&&tL.middleware&&tL.middleware.TERMINATOR)},eL.playMiddleware=function(e){return{setSource:function(e,t){t(null,e)},callPlay:function(){if(e.ads&&!0===e.ads._shouldBlockPlay)return e.ads.debug("Using playMiddleware to block content playback"),e.ads._playBlocked=!0,tL.middleware.TERMINATOR},play:function(t,r){e.ads&&e.ads._playBlocked&&t?(e.ads.debug("Play call to Tech was terminated."),e.trigger("play"),e.addClass("vjs-has-started"),e.ads._playBlocked=!1):r&&r.catch&&r.catch((function(t){"NotAllowedError"!==t.name||qU.browser.IS_SAFARI||e.trigger("pause")}))}}},eL.testHook=function(e){tL=e};var rL=eL.playMiddleware,nL=eL.isMiddlewareMediatorSupported,iL=function(){function e(){}return e.getState=function(t){if(t)return e.states_&&e.states_[t]?e.states_[t]:void 0},e.registerState=function(t,r){if("string"!=typeof t||!t)throw new Error('Illegal state name, "'+t+'"; must be a non-empty string.');return e.states_||(e.states_={}),e.states_[t]=r,r},e}(),oL=function(){function e(e){this.player=e}e._getName=function(){return"Anonymous State"};var t=e.prototype;return t.transitionTo=function(e){var t=this.player;this.cleanup(t);var r=new e(t);t.ads._state=r,t.ads.debug(this.constructor._getName()+" -> "+r.constructor._getName());for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r.init.apply(r,[t].concat(i))},t.init=function(){},t.cleanup=function(){},t.onPlay=function(){},t.onPlaying=function(){},t.onEnded=function(){},t.onAdEnded=function(){},t.onAdsReady=function(){qU.log.warn("Unexpected adsready event")},t.onAdsError=function(){},t.onAdsCanceled=function(){},t.onAdTimeout=function(){},t.onAdStarted=function(){},t.onContentChanged=function(){},t.onContentResumed=function(){},t.onReadyForPostroll=function(){qU.log.warn("Unexpected readyforpostroll event")},t.onNoPreroll=function(){},t.onNoPostroll=function(){},t.startLinearAdMode=function(){qU.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.endLinearAdMode=function(){qU.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.skipLinearAdMode=function(){qU.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},t.isWaitingForAdBreak=function(){return!1},t.isContentResuming=function(){return!1},t.inAdBreak=function(){return!1},t.handleEvent=function(e){var t=this.player;"play"===e?this.onPlay(t):"adsready"===e?this.onAdsReady(t):"adserror"===e?this.onAdsError(t):"adscanceled"===e?this.onAdsCanceled(t):"adtimeout"===e?this.onAdTimeout(t):"ads-ad-started"===e?this.onAdStarted(t):"contentchanged"===e?this.onContentChanged(t):"contentresumed"===e?this.onContentResumed(t):"readyforpostroll"===e?this.onReadyForPostroll(t):"playing"===e?this.onPlaying(t):"ended"===e?this.onEnded(t):"nopreroll"===e?this.onNoPreroll(t):"nopostroll"===e?this.onNoPostroll(t):"adended"===e&&this.onAdEnded(t)},e}();function aL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}iL.registerState("State",oL);var sL=function(e){function t(t){var r;return(r=e.call(this,t)||this).contentResuming=!1,r.waitingForAdBreak=!1,r}aL(t,e);var r=t.prototype;return r.isAdState=function(){return!0},r.onPlaying=function(){var e=iL.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},r.onContentResumed=function(){var e=iL.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},r.isWaitingForAdBreak=function(){return this.waitingForAdBreak},r.isContentResuming=function(){return this.contentResuming},r.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},t}(oL);iL.registerState("AdState",sL);var uL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e);var r=t.prototype;return r.isAdState=function(){return!1},r.onContentChanged=function(e){var t=iL.getState("BeforePreroll"),r=iL.getState("Preroll");e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo(t):(this.transitionTo(r,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},t}(oL);iL.registerState("ContentState",uL);var cL,lL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"AdsDone"};var r=t.prototype;return r.init=function(e){e.ads._contentHasEnded=!0,e.trigger("ended")},r.startLinearAdMode=function(){qU.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},t}(iL.getState("ContentState"));iL.registerState("AdsDone",lL);var dL=function(e){e.ads.debug("Starting ad break"),e.ads._inLinearAdMode=!0,e.trigger("adstart"),e.ads.shouldTakeSnapshots()&&(e.ads.snapshot=function(e){var t;t=qU.browser.IS_IOS&&e.ads.isLive(e)&&e.seekable().length>0?e.currentTime()-e.seekable().end(0):e.currentTime();var r=e.$(".vjs-tech"),n=e.textTracks?e.textTracks():[],i=[],o={ended:e.ended(),currentSrc:e.currentSrc(),sources:e.currentSources(),src:e.tech_.src(),currentTime:t,type:e.currentType()};r&&(o.style=r.getAttribute("style"));for(var a=0;a<n.length;a++){var s=n[a];i.push({track:s,mode:s.mode}),s.mode="disabled"}return o.suppressedTracks=i,o}(e)),e.ads.shouldPlayContentBehindAd(e)&&(e.ads.preAdVolume_=e.volume(),e.volume(0)),e.addClass("vjs-ad-playing"),e.hasClass("vjs-live")&&e.removeClass("vjs-live"),e.ads.removeNativePoster()},pL=function(e,t){e.ads.debug("Ending ad break"),void 0===t&&(t=function(){}),e.ads.adType=null,e.ads._inLinearAdMode=!1,e.trigger("adend"),e.removeClass("vjs-ad-playing"),e.ads.isLive(e)&&e.addClass("vjs-live"),e.ads.shouldTakeSnapshots()?function(e,t){var r=e.ads.snapshot;if(void 0===t&&(t=function(){}),!0===e.ads.disableNextSnapshotRestore)return e.ads.disableNextSnapshotRestore=!1,delete e.ads.snapshot,void t();var n,i=e.$(".vjs-tech"),o=20,a=r.suppressedTracks,s=function(){for(var e=0;e<a.length;e++)(n=a[e]).track.mode=n.mode},u=function(){var t;if(qU.browser.IS_IOS&&e.ads.isLive(e)){if(r.currentTime<0&&(t=e.seekable().length>0?e.seekable().end(0)+r.currentTime:e.currentTime(),e.currentTime(t)),e.paused()){var n=e.play();n&&n.catch&&n.catch((function(e){qU.log.warn("Play promise rejected in IOS snapshot resume",e)}))}}else if(r.ended)e.currentTime(e.duration());else{e.currentTime(r.currentTime);var i=e.play();i&&i.catch&&i.catch((function(e){qU.log.warn("Play promise rejected in snapshot resume",e)}))}e.ads.shouldRemoveAutoplay_&&(e.autoplay(!1),e.ads.shouldRemoveAutoplay_=!1)},c=function t(){if(e.off("contentcanplay",t),cL&&e.clearTimeout(cL),(i=e.el().querySelector(".vjs-tech")).readyState>1)return u();if(void 0===i.seekable)return u();if(i.seekable.length>0)return u();if(o--)e.setTimeout(t,50);else try{u()}catch(e){qU.log.warn("Failed to resume the content after an advertisement",e)}};if("style"in r&&i.setAttribute("style",r.style||""),e.ads.videoElementRecycled())e.one("resumeended",(function(){delete e.ads.snapshot,t()})),e.one("contentloadedmetadata",s),qU.browser.IS_IOS&&!e.autoplay()&&(e.autoplay(!0),e.ads.shouldRemoveAutoplay_=!0),e.src(r.sources),e.one("contentcanplay",c),cL=e.setTimeout(c,2e3);else{if(s(),!e.ended()){var l=e.play();l&&l.catch&&l.catch((function(e){qU.log.warn("Play promise rejected in snapshot restore",e)}))}delete e.ads.snapshot,t()}}(e,t):(e.volume(e.ads.preAdVolume_),t())},fL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"Preroll"};var r=t.prototype;return r.init=function(e,t,r){if(this.waitingForAdBreak=!0,e.addClass("vjs-ad-loading"),r||e.ads.nopreroll_)return this.resumeAfterNoPreroll(e);var n=e.ads.settings.timeout;"number"==typeof e.ads.settings.prerollTimeout&&(n=e.ads.settings.prerollTimeout),this._timeout=e.setTimeout((function(){e.trigger("adtimeout")}),n),t?this.handleAdsReady():this.adsReady=!1},r.onAdsReady=function(e){e.ads.inAdBreak()?qU.log.warn("Unexpected adsready event (Preroll)"):(e.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},r.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},r.afterLoadStart=function(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",(function(){t.ads.debug("Received loadstart event"),e()})))},r.noPreroll=function(){var e=this;this.afterLoadStart((function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.resumeAfterNoPreroll(e.player)}))},r.readyForPreroll=function(){var e=this.player;this.afterLoadStart((function(){e.ads.debug("Triggered readyforpreroll event (Preroll)"),e.trigger("readyforpreroll")}))},r.onAdsCanceled=function(e){var t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart((function(){t.resumeAfterNoPreroll(e)}))},r.onAdsError=function(e){var t=this;qU.log("adserror (Preroll)"),this.inAdBreak()?e.ads.endLinearAdMode():this.afterLoadStart((function(){t.resumeAfterNoPreroll(e)}))},r.startLinearAdMode=function(){var e=this.player;!this.adsReady||e.ads.inAdBreak()||this.isContentResuming()?qU.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(this.clearTimeout(e),e.ads.adType="preroll",this.waitingForAdBreak=!1,dL(e),e.ads._shouldBlockPlay=!1)},r.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},r.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),e.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,pL(e))},r.skipLinearAdMode=function(){var e=this,t=this.player;t.ads.inAdBreak()||this.isContentResuming()?qU.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart((function(){t.trigger("adskip"),t.ads.debug("skipLinearAdMode (Preroll)"),e.resumeAfterNoPreroll(t)}))},r.onAdTimeout=function(e){var t=this;this.afterLoadStart((function(){e.ads.debug("adtimeout (Preroll)"),t.resumeAfterNoPreroll(e)}))},r.onNoPreroll=function(e){e.ads.inAdBreak()||this.isContentResuming()?qU.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},r.resumeAfterNoPreroll=function(e){if(this.contentResuming=!0,e.ads._shouldBlockPlay=!1,this.cleanupPartial(e),e.ads._playRequested||e.ads._pausedOnContentupdate)if(e.paused()){e.ads.debug("resumeAfterNoPreroll: attempting to resume playback (Preroll)");var t=e.play();t&&t.then&&t.then(null,(function(e){}))}else e.ads.debug("resumeAfterNoPreroll: already playing (Preroll)"),e.trigger("play"),e.trigger("playing")},r.cleanup=function(e){e.ads._hasThereBeenALoadStartDuringPlayerLife||qU.log.warn("Leaving Preroll state before loadstart event can cause issues."),this.cleanupPartial(e)},r.cleanupPartial=function(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming"),this.clearTimeout(e)},r.clearTimeout=function(e){e.clearTimeout(this._timeout),this._timeout=null},t}(iL.getState("AdState"));iL.registerState("Preroll",fL);var hL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"BeforePreroll"};var r=t.prototype;return r.init=function(e){this.adsReady=!1,this.shouldResumeToContent=!1,e.ads._shouldBlockPlay=!e.ads.settings.allowVjsAutoplay||!e.autoplay()},r.onAdsReady=function(e){e.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},r.onPlay=function(e){var t=iL.getState("Preroll");e.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(t,this.adsReady,this.shouldResumeToContent)},r.onAdsCanceled=function(e){e.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},r.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},r.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},r.skipLinearAdMode=function(){var e=this.player;e.trigger("adskip"),e.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},r.onContentChanged=function(){this.init(this.player)},t}(iL.getState("ContentState"));iL.registerState("BeforePreroll",hL);var gL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"Midroll"};var r=t.prototype;return r.init=function(e){e.ads.adType="midroll",dL(e),e.addClass("vjs-ad-loading")},r.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},r.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(this.contentResuming=!0,e.addClass("vjs-ad-content-resuming"),e.removeClass("vjs-ad-loading"),pL(e))},r.onAdsError=function(e){this.inAdBreak()&&e.ads.endLinearAdMode()},r.cleanup=function(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming")},t}(iL.getState("AdState"));iL.registerState("Midroll",gL);var mL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"Postroll"};var r=t.prototype;return r.init=function(e){if(this.waitingForAdBreak=!0,e.ads._contentEnding=!0,e.ads.nopostroll_){this.resumeContent(e);var t=iL.getState("AdsDone");this.transitionTo(t)}else{e.addClass("vjs-ad-loading");var r=e.ads.settings.timeout;"number"==typeof e.ads.settings.postrollTimeout&&(r=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout((function(){e.trigger("adtimeout")}),r)}},r.startLinearAdMode=function(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?qU.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(e.ads.adType="postroll",e.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,dL(e))},r.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},r.endLinearAdMode=function(){var e=this,t=this.player,r=iL.getState("AdsDone");this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),this.resumeContent(t),pL(t,(function(){e.transitionTo(r)})))},r.skipLinearAdMode=function(){var e=this.player;e.ads.inAdBreak()||this.isContentResuming()?qU.log.warn("Unexpected skipLinearAdMode invocation"):(e.ads.debug("Postroll abort (skipLinearAdMode)"),e.trigger("adskip"),this.abort(e))},r.onAdTimeout=function(e){e.ads.debug("Postroll abort (adtimeout)"),this.abort(e)},r.onAdsError=function(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak()?e.ads.endLinearAdMode():this.abort(e)},r.onContentChanged=function(e){if(this.isContentResuming()){var t=iL.getState("BeforePreroll");this.transitionTo(t)}else if(!this.inAdBreak()){var r=iL.getState("Preroll");this.transitionTo(r)}},r.onNoPostroll=function(e){this.isContentResuming()||this.inAdBreak()?qU.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(e)},r.resumeContent=function(e){this.contentResuming=!0,e.addClass("vjs-ad-content-resuming")},r.abort=function(e){var t=iL.getState("AdsDone");this.resumeContent(e),e.removeClass("vjs-ad-loading"),this.transitionTo(t)},r.cleanup=function(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},t}(iL.getState("AdState"));iL.registerState("Postroll",mL);var vL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"ContentPlayback"};var r=t.prototype;return r.init=function(e){e.ads._shouldBlockPlay=!1},r.onAdsReady=function(e){e.ads.debug("Received adsready event (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},r.onReadyForPostroll=function(e){var t=iL.getState("Postroll");e.ads.debug("Received readyforpostroll event"),this.transitionTo(t)},r.startLinearAdMode=function(){var e=iL.getState("Midroll");this.transitionTo(e)},t}(iL.getState("ContentState"));iL.registerState("ContentPlayback",vL);var yL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"StitchedContentPlayback"};var r=t.prototype;return r.init=function(){this.player.ads._shouldBlockPlay=!1},r.onContentChanged=function(){this.player.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},r.startLinearAdMode=function(){var e=iL.getState("StitchedAdRoll");this.transitionTo(e)},t}(iL.getState("ContentState"));iL.registerState("StitchedContentPlayback",yL);var bL=function(e){function t(){return e.apply(this,arguments)||this}aL(t,e),t._getName=function(){return"StitchedAdRoll"};var r=t.prototype;return r.init=function(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",dL(this.player)},r.onPlaying=function(){},r.onContentResumed=function(){},r.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},r.endLinearAdMode=function(){var e=iL.getState("StitchedContentPlayback");pL(this.player),this.transitionTo(e)},t}(iL.getState("AdState"));iL.registerState("StitchedAdRoll",bL);var _L=eL.isMiddlewareMediatorSupported,wL=qU.getTech("Html5").Events,SL={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:qU.options.normalizeAutoplay||!1},TL=function(e){var t=this,r=qU.mergeOptions(SL,e),n=[];wL.concat(["firstplay","loadedalldata"]).forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),t.on(n,WU),_L()||function(e,t){t&&qU.log("Using cancelContentPlay to block content playback"),e.on("play",ZU)}(t,r.debug),t.setTimeout((function(){t.ads._hasThereBeenALoadStartDuringPlayerLife||""===t.src()||qU.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")}),5e3),t.on("ended",(function(){t.hasClass("vjs-has-started")||t.addClass("vjs-has-started")})),t.on("contenttimeupdate",(function(){t.removeClass("vjs-waiting")})),t.on(["addurationchange","adcanplay"],(function(){if(!t.ads.settings.stitchedAds&&!t.hasStarted()&&(!t.ads.snapshot||t.currentSrc()!==t.ads.snapshot.currentSrc)&&t.ads.inAdBreak()){var e=t.play();e&&e.catch&&e.catch((function(e){qU.log.warn("Play promise rejected when playing ad",e)}))}})),t.on("nopreroll",(function(){t.ads.debug("Received nopreroll event"),t.ads.nopreroll_=!0})),t.on("nopostroll",(function(){t.ads.debug("Received nopostroll event"),t.ads.nopostroll_=!0})),t.on("playing",(function(){t.ads._cancelledPlay=!1,t.ads._pausedOnContentupdate=!1})),t.on("play",(function(){t.ads._playRequested=!0})),t.one("loadstart",(function(){t.ads._hasThereBeenALoadStartDuringPlayerLife=!0})),t.on("loadeddata",(function(){t.ads._hasThereBeenALoadedData=!0})),t.on("loadedmetadata",(function(){t.ads._hasThereBeenALoadedMetaData=!0})),t.ads=function(e){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:FU,reset:function(){e.ads.disableNextSnapshotRestore=!1,e.ads._contentEnding=!1,e.ads._contentHasEnded=!1,e.ads.snapshot=null,e.ads.adType=null,e.ads._hasThereBeenALoadedData=!1,e.ads._hasThereBeenALoadedMetaData=!1,e.ads._cancelledPlay=!1,e.ads._shouldBlockPlay=!1,e.ads._playBlocked=!1,e.ads.nopreroll_=!1,e.ads.nopostroll_=!1,e.ads._playRequested=!1},startLinearAdMode:function(){e.ads._state.startLinearAdMode()},endLinearAdMode:function(){e.ads._state.endLinearAdMode()},skipLinearAdMode:function(){e.ads._state.skipLinearAdMode()},stitchedAds:function(e){return void 0!==e&&(qU.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!e),this.settings.stitchedAds},videoElementRecycled:function(){if(e.ads.shouldPlayContentBehindAd(e))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var t=e.tech_.src()!==this.snapshot.src,r=e.currentSrc()!==this.snapshot.currentSrc;return t||r},isLive:function(t){return void 0===t&&(t=e),"boolean"==typeof t.ads.settings.contentIsLive?t.ads.settings.contentIsLive:t.duration()===1/0||"8"===qU.browser.IOS_VERSION&&0===t.duration()},shouldPlayContentBehindAd:function(t){if(void 0===t&&(t=e),t)return!!t.ads.settings.liveCuePoints&&!qU.browser.IS_IOS&&!qU.browser.IS_ANDROID&&t.duration()===1/0;throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function(t){return void 0===t&&(t=e),!this.shouldPlayContentBehindAd(t)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];1===t.length&&"string"==typeof t[0]?qU.log("ADS: "+t[0]):qU.log.apply(qU,["ADS:"].concat(t))}}}}(t),t.ads.settings=r,r.stitchedAds=!!r.stitchedAds,r.stitchedAds?t.ads._state=new(iL.getState("StitchedContentPlayback"))(t):t.ads._state=new(iL.getState("BeforePreroll"))(t),t.ads._state.init(t),t.ads.cueTextTracks=$U,t.ads.adMacroReplacement=YU.bind(t),function(e){e.ads.contentSrc=e.currentSrc(),e.ads._seenInitialLoadstart=!1,e.on("loadstart",(function(){if(!e.ads.inAdBreak()){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.ads._seenInitialLoadstart&&e.trigger({type:"contentchanged"}),e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}}))}(t),t.on("contentchanged",t.ads.reset);var i=function(){var e=t.textTracks();if(!t.ads.shouldPlayContentBehindAd(t)&&t.ads.inAdBreak()&&t.tech_.featuresNativeTextTracks&&qU.browser.IS_IOS&&!Array.isArray(t.textTracks()))for(var r=0;r<e.length;r++){var n=e[r];"showing"===n.mode&&(n.mode="disabled")}};t.ready((function(){t.textTracks().addEventListener("change",i)})),t.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],(function(e){t.ads._state.handleEvent(e.type)})),t.on("dispose",(function(){t.ads.reset(),t.textTracks().removeEventListener("change",i)})),GU(),t.ads.listenToTcf=GU};TL.VERSION=FU,function(e){!function(){if(qU.getPlugin)return Boolean(qU.getPlugin("ads"));var e=qU.getComponent("Player");return Boolean(e&&e.prototype.ads)}()&&((qU.registerPlugin||qU.plugin)("ads",e),nL()&&!qU.usingContribAdsMiddleware_&&(qU.use("*",rL),qU.usingContribAdsMiddleware_=!0,qU.log.debug("Play middleware has been registered with videojs")))}(TL);var IL=function(e,t,r){this.vjsPlayer=e,this.controller=r,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPlay"===this.controller.getSettings().requestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(t)};IL.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},IL.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},IL.prototype.checkForSeeking=function(){var e=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(e)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},IL.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},IL.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},IL.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},IL.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},IL.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},IL.prototype.onAdTimeout=function(){this.controller.onAdTimeout()},IL.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},IL.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},IL.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},IL.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},IL.prototype.getContentPlayer=function(){return this.h5Player},IL.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},IL.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},IL.prototype.unmute=function(){this.vjsPlayer.muted(!1)},IL.prototype.mute=function(){this.vjsPlayer.muted(!0)},IL.prototype.play=function(){this.vjsPlayer.play()},IL.prototype.togglePlayback=function(){this.vjsPlayer.paused()?this.vjsPlayer.play():this.vjsPlayer.pause()},IL.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseFloat(e)||this.vjsPlayer.width()},IL.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseFloat(e)||this.vjsPlayer.height()},IL.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},IL.prototype.getPlayerId=function(){return this.vjsPlayer.id()},IL.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},IL.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},IL.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},IL.prototype.onAdLog=function(e){var t=e.getAdData(),r=void 0!==t.adError?t.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:r,AdEvent:e}})},IL.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},IL.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},IL.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},IL.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.contentSource&&this.vjsPlayer.currentSrc()!=this.contentSource&&this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType}),this.controller.onContentAndAdsCompleted())},IL.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},IL.prototype.changeSource=function(e){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},IL.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},IL.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},IL.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},IL.prototype.reset=function(){this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var kL=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.isAdNonlinear=!1,this.createAdContainer()};kL.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.adContainerDiv.addEventListener("click",this.onAdContainerClick.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},kL.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},kL.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},kL.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},kL.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},kL.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},kL.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},kL.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},kL.prototype.updateAdUi=function(e,t,r,n,i){var o=Math.floor(t/60),a=Math.floor(t%60);a.toString().length<2&&(a="0"+a);var s=": ";i>1&&(s=" ("+n+" "+this.controller.getSettings().adLabelNofN+" "+i+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+s+o+":"+a;var u=e/r*100;this.progressDiv.style.width=u+"%"},kL.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},kL.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},kL.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},kL.prototype.onMouseMove=function(e){this.changeVolume(e)},kL.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},kL.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},kL.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},kL.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},kL.prototype.onAdContainerClick=function(){this.isAdNonlinear&&this.controller.togglePlayback()},kL.prototype.reset=function(){this.hideAdContainer()},kL.prototype.onAdError=function(){this.hideAdContainer()},kL.prototype.onAdBreakStart=function(e){this.showAdContainer(),"application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},kL.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},kL.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},kL.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!1},kL.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container"),this.isAdNonlinear=!0},kL.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},kL.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},kL.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},kL.prototype.showAdControls=function(){this.controller.getSettings().disableAdControls||this.addClass(this.controlsDiv,"ima-controls-div-showing")},kL.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing")},kL.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},kL.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},kL.prototype.elementHasClass=function(e,t){return this.getClassRegexp(t).test(e.className)},kL.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},kL.prototype.removeClass=function(e,t){var r=this.getClassRegexp(t);e.className=e.className.trim().replace(r,"")},kL.prototype.getAdContainerDiv=function(){return this.adContainerDiv},kL.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var AL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EL=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus),this.controller.getSettings().ppid&&google.ima.settings.setPpid(this.controller.getSettings().ppid),this.controller.getSettings().featureFlags&&google.ima.settings.setFeatureFlags(this.controller.getSettings().featureFlags)};EL.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),void 0!==this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.controller.getSettings().sessionId&&this.adsLoader.getSettings().setSessionId(this.controller.getSettings().sessionId),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion("1.11.0"),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-loader",adsLoader:this.adsLoader})},EL.prototype.requestAds=function(){var e=new google.ima.AdsRequest;if(this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),this.controller.getSettings().omidMode){e.omidAccessModeRules={};var t=this.controller.getSettings().omidMode;t.FULL&&(e.omidAccessModeRules[google.ima.OmidAccessMode.FULL]=t.FULL),t.DOMAIN&&(e.omidAccessModeRules[google.ima.OmidAccessMode.DOMAIN]=t.DOMAIN),t.LIMITED&&(e.omidAccessModeRules[google.ima.OmidAccessMode.LIMITED]=t.LIMITED)}e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var r=this.controller.getSettings().adsRequest;r&&"object"===(void 0===r?"undefined":AL(r))&&Object.keys(r).forEach((function(t){e[t]=r[t]})),this.adsLoader.requestAds(e),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-request",AdsRequest:e})},EL.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this)),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-manager",adsManager:this.adsManager}),this.autoPlayAdBreaks||this.initAdsManager();var t=this.controller.getSettings().preventLateAdStart;t?t&&!this.isAdTimedOut&&this.controller.onAdsReady():this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},EL.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},EL.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(e){this.onAdError(e)}},EL.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},EL.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},EL.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},EL.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},EL.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},EL.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},EL.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},EL.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},EL.prototype.onAdPaused=function(){this.controller.onAdsPaused()},EL.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},EL.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},EL.prototype.onAdLog=function(e){this.controller.onAdLog(e)},EL.prototype.onAdPlayheadTrackerInterval=function(){if(null!==this.adsManager){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),r=t-e;r=r>0?r:0;var n=0,i=void 0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().getAdPosition(),n=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(r,e,t,i,n)}},EL.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),(this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)||!this.adsManager)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},EL.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},EL.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},EL.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},EL.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},EL.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},EL.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},EL.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},EL.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},EL.prototype.getCurrentAd=function(){return this.currentAd},EL.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},EL.prototype.isAdPlaying=function(){return this.adPlaying},EL.prototype.isAdMuted=function(){return this.adMuted},EL.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},EL.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},EL.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},EL.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},EL.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},EL.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},EL.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},EL.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},EL.prototype.getAdsManager=function(){return this.adsManager},EL.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var OL=function(e,t){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(t);var r={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},n=this.extend({},r,t.contribAdsSettings||{});this.playerWrapper=new IL(e,n,this),this.adUi=new kL(this),this.sdkImpl=new EL(this)};OL.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},OL.prototype.initWithSettings=function(e){this.settings=this.extend({},OL.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},OL.prototype.warnAboutDeprecatedSettings=function(){var e=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach((function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")}))},OL.prototype.getSettings=function(){return this.settings},OL.prototype.getIsMobile=function(){return this.isMobile},OL.prototype.getIsIos=function(){return this.isIos},OL.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},OL.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},OL.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},OL.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},OL.prototype.requestAds=function(){this.sdkImpl.requestAds()},OL.prototype.setSetting=function(e,t){this.settings[e]=t},OL.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},OL.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},OL.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},OL.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},OL.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},OL.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},OL.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},OL.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},OL.prototype.showAdContainer=function(){this.adUi.showAdContainer()},OL.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},OL.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},OL.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},OL.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},OL.prototype.onAdPlayheadUpdated=function(e,t,r,n,i){this.adUi.updateAdUi(e,t,r,n,i)},OL.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},OL.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},OL.prototype.playContent=function(){this.playerWrapper.play()},OL.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},OL.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},OL.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},OL.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},OL.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},OL.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},OL.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},OL.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},OL.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},OL.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},OL.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},OL.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},OL.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},OL.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},OL.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},OL.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},OL.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},OL.prototype.setContentWithAdTag=function(e,t){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e)},OL.prototype.setContentWithAdsResponse=function(e,t){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e)},OL.prototype.setContentWithAdsRequest=function(e,t){this.reset(),this.settings.adsRequest=t||this.settings.adsRequest,this.playerWrapper.changeSource(e)},OL.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},OL.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},OL.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},OL.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},OL.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.adUi.countdownDiv.style.display=this.showCountdown?"block":"none"},OL.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},OL.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},OL.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},OL.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},OL.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},OL.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},OL.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},OL.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},OL.prototype.togglePlayback=function(){this.playerWrapper.togglePlayback()},OL.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},OL.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},OL.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)},OL.prototype.extend=function(e){for(var t=void 0,r=void 0,n=void 0,i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(r=0;r<o.length;r++)for(n in t=o[r])t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var CL=function(e,t){this.controller=new OL(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t){this.controller.setContentWithAdTag(e,t)}.bind(this),this.setContentWithAdsResponse=function(e,t){this.controller.setContentWithAdsResponse(e,t)}.bind(this),this.setContentWithAdsRequest=function(e,t){this.controller.setContentWithAdsRequest(e,t)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)};function PL(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.on("timeupdate",i);var n=function(){return e.off("timeupdate",i)};return n;function i(){e.duration()-e.currentTime()<=r&&(n(),t())}}function xL(e,t,r){e.on("timeupdate",i);var n=function(){return e.off("timeupdate",i)};return n;function i(){var i=e.currentTime();i>=t&&(n(),r(i))}}function DL(e){var t,r,n=e.log,i=e.player;null!==(t=i.ads)&&void 0!==t&&t.isInAdMode()&&null!==(r=i.ima)&&void 0!==r&&r.controller.sdkImpl.isAdPlaying()?(n.extend("ad")("⏸"),i.ima.pauseAd()):(n.extend("player")("⏸"),i.pause())}function jL(e){var t=e.log,r=e.player;r.addClass("vjs-waiting"),DL({log:t,player:r}),t("adding spinner")}function RL(e){return RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RL(e)}function ML(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||qL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(r),!0).forEach((function(t){NL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=qL(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function qL(e,t){if(e){if("string"==typeof e)return FL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FL(e,t):void 0}}function FL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VL(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function zL(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){VL(o,n,i,a,s,"next",e)}function s(e){VL(o,n,i,a,s,"throw",e)}a(void 0)}))}}function WL(e){return HL.apply(this,arguments)}function HL(){return HL=zL(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,w,S,T,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I=function(e){return{adPodInfo:{maxDuration:e.getAdPodInfo().getMaxDuration()},adWrapperSystems:e.getWrapperAdSystems(),title:e.getTitle(),adSystem:e.getAdSystem(),contentType:e.getContentType(),adWrapperCreativeIds:e.getWrapperCreativeIds(),adWrapperIds:e.getWrapperAdIds(),mediaUrl:e.getMediaUrl(),skippable:-1!==e.getSkipTimeOffset(),height:e.getVastMediaHeight(),width:e.getVastMediaWidth()}},T=function(){return(T=zL(regeneratorRuntime.mark((function e(t){var n,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.articleUrl,i=t.videoId,a=t.offset,o("getAsyncVideoTags",s=void 0===a?0:a),e.abrupt("return",new Promise((function(e){var t={};j({args:{articleURL:n,videoId:i,offset:s,platform:"chromeless",pos:"jwplayer",screen:{width:401,height:225},timeout:d},broker:r,observable:function(r,n){r?(o.error("error getting tags",r),e(t)):n?t=(0,O.Yb)(LL(LL(LL({},t),n),{},{cust_params:LL(LL({},t.cust_params||{}),n.cust_params||{})})):e(t)},log:o})})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},S=function(e){return T.apply(this,arguments)},w=function(e){switch(RL(e)){case"string":return e;case"number":return e.toString();case"boolean":return e?"1":"0";default:return new URLSearchParams(e).toString()}},_=function(){return i("players.chromeless.dmplayer.v3.adUnitNameLevel2","dm_dmros_ros")},b=function(e,t,r){for(var n=e.articleUrl,i=e.headline,s=e.midroll,c=e.provider,l=e.videoId,d=E()({correlator:Date.now(),description_url:n,env:"vp",gdfp_req:"1",impl:1,iu:"/".concat(u,"/dm.chromelessvideo/").concat(_(),"/").concat(s?"midroll":"preroll"),output:"xml_vast4",vpa:"auto",sz:"401x225",unviewed_position_start:"1",url:"".concat(location.protocol,"//").concat(location.hostname).concat(location.pathname),vid:l,vpmute:"1",cust_params:{channel:null==a?void 0:a.channel,oov:!document.hasFocus(),length:30,videoWidth:401,videoHeight:225,play:r,embed:!1,ttid:l,domain:"dailymail",flyaway:!1,s:"off",videoTitle:i,video:c,environment:"production",pos:s?"jw_midroll":"jw_preroll",sz:"401x225"}},t,M()),p=new URL("https://pubads.g.doubleclick.net/gampad/ads"),f=0,h=Object.entries(d);f<h.length;f++){var g=ML(h[f],2),m=g[0],v=g[1];m&&(o("adding",m,v),p.searchParams.set(m,w(v)))}return o("adTag",p.toString()),p.toString()},y=function(e){if(o("initializing ads"),!e.isDisposed()){e.ima({contribAdsSettings:{debug:o.enabled},debug:o.enabled,numRedirects:10});var t=n.getElementById("commercial-player-video_html5_api");(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&null!=t&&t.hasAttribute("controls")&&(null==t||t.removeAttribute("controls")),e.ima.initializeAdDisplayContainer(),e.on("adserror",(function(e){var t=e.data.AdErrorEvent;if(void 0!==t.getError){var n={adErrorCode:t.getError().getErrorCode()||t.getError().getVastErrorCode(),errorMessage:t.getError().getMessage(),offset:g,platform:"chromeless",playerId:"jwplayer",trackingType:"chromeless"};o("adserror",n),r.emit("video.advert-failed",n),r.emit("video.no-ad-shown",n)}})),e.on("ads-manager",(function(e){var t=e.adsManager,n=o.extend("adsManager");n("created"),t.addEventListener(__webpack_require__.g.google.ima.AdEvent.Type.IMPRESSION,(function(e){var t=I(e.getAd());n("impression",t),r.emit("video.ad-impression",{adImpression:t,offset:g,platform:"chromeless",playerId:"jwplayer",tag:h})}))})),e.on("playlistitem",function(){var t=zL(regeneratorRuntime.mark((function t(){var r,n,a,u,c,l,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f=function(){return(f=zL(regeneratorRuntime.mark((function t(n,i,o){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return");case 2:return u("time to build ad tag url",n),t.t0=b,t.t1=LL(LL({},n),{},{midroll:!0}),t.next=7,o;case 7:if(t.t2=t.sent,t.t3=p,a=h=(0,t.t0)(t.t1,t.t2,t.t3),g=i,u("requesting ads",{src:n.sources[0].src,nextAdTagUrl:a}),!r){t.next=14;break}return t.abrupt("return");case 14:e.ima.changeAdTag(a),e.ima.requestAds();case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)},d=function(e,t,r){return f.apply(this,arguments)},l=function(){r=!0,a.dispose()},r=!1,n=i("players.commercial.midRoll",[]).map(Number),a=new ln,u=o.extend("midroll"),c=function(e,t,r){var n=document.createElement("div");return n.className="vjs-marker",n.style.left="".concat(Math.ceil(r/t*100),"%"),u("elem.style.left",n.style.left),n.innerHTML='<div class="top">\n                                      <p>Advertisement</p>\n                                      <i></i>\n                                  </div>',e.appendChild(n),n},a.one(e,"loadeddata",zL(regeneratorRuntime.mark((function t(){var r,i,o,l,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.filter((function(t){return e.duration()>t+5})),u("Setting up midrolls",{config:n,filtered:r,mediaDuration:e.duration()}),i=e.$(".vjs-progress-control.vjs-control"),o=BL(r);try{for(p=function(){var t=l.value,r=c(i,e.duration(),t),n=s[e.playlist.currentIndex()],o=S(LL(LL({},n),{},{offset:t}));o.then((function(e){return u("auction finished for midroll offset ".concat(t),e)}));var p=function(){return r.parentNode.removeChild(r)},f=a.one(e,"skip to next item",p),h=a.one(e,"skip to previous item",p),g=a.one(e,"playlistitem",p);a.add(xL(e,t,(function(e){var r=e-t;p(),f(),h(),g(),r>=0&&r<2?d(n,t,o).catch((function(e){return u.error(e)})):u("skipping midroll offset: ".concat(t))})))},o.s();!(l=o.n()).done;)p()}catch(e){o.e(e)}finally{o.f()}case 5:case"end":return t.stop()}}),t)})))),a.one(e,"playlistitem",(function(){return l})),a.on(e,"skip to next item",l),a.on(e,"skip to previous item",l);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),e.on("playlistitem",(function(){var t,r,n=new ln;n.add(PL(e,(function(){var r=s[e.playlist.nextIndex()];o("time to build ad tag url",{nextItem:r}),t=S(r)}),d/1e3)),n.one(e,"ended",zL(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t;case 2:r=n.sent,e.playlist.next();case 4:case"end":return n.stop()}}),n)})))),n.one(e,"playlistitem",(function(t,n){i(),a(),p++;var s=h=b(n,r,p);g=0,o("requesting ads",{src:n.sources[0].src,nextAdTagUrl:s}),e.ima.setContentWithAdTag(n.sources[0].src,s),e.ima.requestAds()}));var i=n.one(e,"skip to next item",u),a=n.one(e,"skip to previous item",u);function u(){n.dispose()}})),e.on("skip to next item",zL(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(s[e.playlist.nextIndex()]);case 2:e.playlist.next();case 3:case"end":return t.stop()}}),t)})))),e.on("skip to previous item",zL(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(s[e.playlist.previousIndex()]);case 2:e.playlist.previous();case 3:case"end":return t.stop()}}),t)}))))}function a(e){return u.apply(this,arguments)}function u(){return(u=zL(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return jL({log:o,player:e}),t.next=3,S(r);case 3:n=t.sent,e.one("playlistitem",(function(t,r){p++;var i=b(r,n,p);o("requesting ads",{src:r.sources[0].src,adTagUrl:i}),e.ima.setContentWithAdTag(r.sources[0].src,i),e.ima.requestAds()}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},v=function(){return(v=zL(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.t1=s[0],e.next=4,f;case 4:e.t2=e.sent,e.t3=p,r=h=(0,e.t0)(e.t1,e.t2,e.t3),t.ima.setContentWithAdTag(s[0].sources[0].src,r),t.ima.requestAds();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m=function(e){return v.apply(this,arguments)},r=t.broker,n=t.doc,i=t.getConfig,o=t.log,a=t.pageCriteria,s=t.playlist,e.next=12,r.invoke("load script","//imasdk.googleapis.com/js/sdkloader/ima3.js");case 12:return u=i("dfpAccountCode",5765),c=i("plugins.slots.jwplayer.v2",{}),l=c.pageLoadTimeout,d=void 0===l?5e3:l,p=1,f=S(s[0]),h="",g=0,e.abrupt("return",{applyIMA:y,initAdRequest:m});case 19:case"end":return e.stop()}}),e)}))),HL.apply(this,arguments)}function GL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||XL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KL(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=XL(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function XL(e,t){if(e){if("string"==typeof e)return YL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?YL(e,t):void 0}}function YL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $L(e,t,r){return e.has(t)?e.get(t):r}function JL(e,t,r){return function(e,t,r){return new Map(e).set(t,r)}(e,t,r($L(e,t)))}function QL(e,t){var r,n=new Map,i=KL(e);try{for(i.s();!(r=i.n()).done;){var o=GL(r.value,2),a=o[0],s=o[1];n.set(a,t(a,s))}}catch(e){i.e(e)}finally{i.f()}return n}function ZL(e,t){return function(e,t){var r,n=new Map,i=KL(e);try{for(i.s();!(r=i.n()).done;){var o=GL(r.value,2),a=o[0],s=o[1];t(a)&&n.set(a,s)}}catch(e){i.e(e)}finally{i.f()}return n}(e,(function(e){return e!==t}))}function eN(e){return e.playerState&&["contentWaiting","contentPlaying","adPlaying","adsWaiting","started"].includes(e.playerState.getStateName())}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tN(Object(r),!0).forEach((function(t){nN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iN(e,t){return $L(e.molFeVideoPlayers,t,{}).playing}function oN(e){return function(e,t){var r,n=KL(e);try{for(n.s();!(r=n.n()).done;){var i=GL(r.value,2);if(i[0],i[1].playing)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}(e)}function aN(){var e=__webpack_require__.g.DM,t=new Map;return e&&e.molFeVideoplayer&&e.molFeVideoplayer.forEachPlayer&&e.molFeVideoplayer.forEachPlayer((function(){var e=eN(this);t.set(this,{inView:A_(this.el()),playing:e,shouldResume:e})})),t}function sN(e,t){return t.playing||e.seeking||t.mpuPlayerDisplayed?t:rN(rN({},t),{},{adInteraction:!1,playing:t.focused,shouldResume:!0,molFeVideoPlayers:QL(t.molFeVideoPlayers,(function(e,t){return rN(rN({},t),{},{playing:!1,shouldResume:!1})}))})}function uN(e,t){return!t.playing||e.seeking?t:rN(rN({},t),{},{playing:!1,shouldResume:!(t.focused&&!t.adInteraction)&&t.shouldResume})}function cN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||lN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lN(e,t){if(e){if("string"==typeof e)return dN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dN(e,t):void 0}}function dN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pN(e,t){var r;e.playing?eN(r=t)||r.play():function(e){eN(e)&&e.pause()}(t)}function fN(e){var t=e.handleInitAcitivity,r=e.broker,n=e.log,i=e.player,o=e.store,a=new ln;a.add(function(e){var t=new ln;return t.addEventListener(window,"blur",(function(){return e.dispatch({type:"blur"})})),t.addEventListener(window,"focus",(function(){return e.dispatch({type:"focus"})})),function(){return t.dispose()}}(o)),a.add(function(e,t){var r=__webpack_require__.g.DM;if(r){var n=new k_({threshold:.5}),i=new ln;return r.later("videoplayer-ready",(function(){function o(r){t("setupHandlers",r);var n=i.on(r,"play",(function(){e.dispatch({type:"playMolFeVideoPlayer",molFeVideoPlayer:r})})),o=i.on(r,"pause",(function(){e.dispatch({type:"pauseMolFeVideoPlayer",molFeVideoPlayer:r})}));r.on("dispose",(function(){t("DISPOSING",r.id()),n(),o(),i.remove(n),i.remove(o),e.dispatch({type:"disposeMolFeVideoPlayer",molFeVideoPlayer:r})}))}r.molFeVideoplayer.forEachPlayer((function(){var t=this;o(this),i.add(n.observe(this.el(),(function(r,n){n?e.dispatch({type:"scrollMolFeVideoPlayerInToView",molFeVideoPlayer:t}):e.dispatch({type:"scrollMolFeVideoPlayerOutOfView",molFeVideoPlayer:t})})))})),t("molFeVideoPlayers Found",Object.keys(e.state.molFeVideoPlayers)),__webpack_require__.g.DM.molFeVideoplayer.on("videoPlaying",(function(r){e.state.molFeVideoPlayers.has(r.player)||(t("new molFeVideoPlayer detected",r.player.id()),o(r.player),e.dispatch({type:"newMolFeVideoPlayerDetected",molFeVideoPlayer:r.player}))}))})),function(){return i.dispose()}}t("no mol-fe video players")}(o,n)),a.add(function(e,t,r){var n=new ln;return n.on(e,"play",(function(){t.dispatch({type:"loading"})})),n.on(e,"playing",(function(){t.dispatch({type:"loaded"})})),n.on(e,"play/pause toggle",(function(){t.dispatch({type:"togglePlay",seeking:e.seeking()})})),n.on(e,"ads-manager",(function(n){return function(r,n){var i=r.adsManager,o=__webpack_require__.g.google;t.dispatch({type:"startAdMode"}),i.addEventListener(o.ima.AdEvent.Type.CLICK,(function(){!function(e){t.dispatch({type:"ad click"}),e.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"videoAdClicked"}})}(n)})),i.addEventListener(o.ima.AdEvent.Type.RESUMED,(function(){return r=!0,void t.dispatch({type:"play",ad:r,seeking:e.seeking()});var r})),i.addEventListener(o.ima.AdEvent.Type.PAUSED,(function(){return r=!0,void t.dispatch({type:"pause",ad:r,seeking:e.seeking()});var r}))}(n,r)})),n.on(e,"adstart",(function(){t.dispatch({type:"startAdMode"})})),n.on(e,"adend",i),n.on(e,"adskip",i),n.on(e,"ads-ad-started",(function(){t.dispatch({type:"adHasStarted"})})),function(){return n.dispose()};function i(){t.dispatch({type:"finishAdMode"})}}(i,o,r));var s=a.add(o.subscribe((function(e,r){r.playing&&(s(),t())})));a.add(o.subscribe((function(e,t){return function(e,t,r,n){var i,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lN(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(n.molFeVideoPlayers);try{for(o.s();!(i=o.n()).done;){var a=cN(i.value,2),s=a[0];pN(a[1],s)}}catch(e){o.e(e)}finally{o.f()}!function(e,t,r){r.playing?function(e){var t,r=e.log,n=e.player;n.ima&&null!==(t=n.ads)&&void 0!==t&&t.inAdBreak()?(r.extend("ad")("▶️"),n.ima.resumeAd()):n.paused()&&(r.extend("player")("▶️"),n.play())}({log:t,player:e}):DL({log:t,player:e})}(e,t,n)}(i,n,0,t)})));var u=r.on("display mpu_player",(function(){o.dispatch({type:"displayMpuPlayer"})})).cancel;a.add(u);var c=r.on("destroy mpu_player",(function(){o.dispatch({type:"destroyMpuPlayer"})})).cancel;a.add(c),i.on("dispose",(function(){return a.dispose()}))}function hN(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function gN(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){hN(o,n,i,a,s,"next",e)}function s(e){hN(o,n,i,a,s,"throw",e)}a(void 0)}))}}function mN(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("players.flyoutConfig")||{},o=i.pauseAdsOnBlur,a=void 0===o||o,s=i.pauseContentIfAdNotPaused,u=void 0===s||s,c=function(e){return vN.apply(this,arguments)}({broker:t,getConfig:r,log:n}),l=function(e){var t=e.log,r=e.pauseAdsOnBlur,n=void 0===r||r,i=e.pauseContentOnBlur;return new Zr(function(e){var t=e.pauseAdsOnBlur,r=e.pauseContentOnBlur;return function(e,n){var i,o;switch(e.type){case"ad click":return rN(rN({},n),{},{adInteraction:!0,shouldResume:!0});case"blur":return n.focused?rN(rN({},n),{},{focused:!1,playing:!(n.adMode?t:r),molFeVideoPlayers:QL(n.molFeVideoPlayers,(function(e,i){return rN(rN({},i),{},{playing:!(n.adMode?t:r)})}))}):n;case"focus":return n.focused?n:(i=QL(n.molFeVideoPlayers,(function(e,t){return rN(rN({},t),{},{playing:t.inView&&t.shouldResume})})),rN(rN({},n),{},{adInteraction:!1,focused:!0,molFeVideoPlayers:i,playing:n.shouldResume&&!oN(i)&&!n.mpuPlayerDisplayed}));case"play":return sN(e,n);case"pause":return uN(e,n);case"togglePlay":return n.playing?uN(e,n):sN(e,n);case"startAdMode":return n.adMode?n:rN(rN({},n),{},{adMode:!0,loading:!0});case"adHasStarted":return rN(rN({},n),{},{loading:!1});case"finishAdMode":return n.adMode?rN(rN({},n),{},{adInteraction:!1,adMode:!1,loading:!1}):n;case"loading":return n.loading?n:rN(rN({},n),{},{loading:!0});case"loaded":return n.loading?rN(rN({},n),{},{loading:!1}):n;case"scrollMolFeVideoPlayerInToView":return i=JL(n.molFeVideoPlayers,e.molFeVideoPlayer,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rN(rN({},e),{},{inView:!0,playing:n.focused&&e.shouldResume})})),rN(rN({},n),{},{molFeVideoPlayers:i,playing:n.focused&&!oN(i),shouldResume:n.focused?n.playing:n.shouldResume});case"scrollMolFeVideoPlayerOutOfView":return i=JL(n.molFeVideoPlayers,e.molFeVideoPlayer,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rN(rN({},e),{},{inView:!1,playing:!1,shouldResume:n.focused?e.playing:e.shouldResume})})),rN(rN({},n),{},{molFeVideoPlayers:i,playing:n.focused&&n.shouldResume&&!oN(i)});case"playMolFeVideoPlayer":return iN(n,e.molFeVideoPlayer)?n:rN(rN({},n),{},{playing:!1,shouldResume:n.playing||n.mpuPlayerDisplayed,molFeVideoPlayers:JL(n.molFeVideoPlayers,e.molFeVideoPlayer,(function(){return rN(rN({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{playing:!0,shouldResume:!0})}))});case"pauseMolFeVideoPlayer":return iN(n,e.molFeVideoPlayer)?rN(rN({},n),{},{playing:n.shouldResume,molFeVideoPlayers:JL(n.molFeVideoPlayers,e.molFeVideoPlayer,(function(){return rN(rN({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{playing:!1,shouldResume:!1})}))}):n;case"newMolFeVideoPlayerDetected":return o=n.focused&&eN(e.molFeVideoPlayer),i=n.molFeVideoPlayers.set(e.molFeVideoPlayer,{inView:A_(e.molFeVideoPlayer.el()),playing:o,shouldResume:o}),rN(rN({},n),{},{playing:n.focused&&!oN(i),shouldResume:n.focused?n.playing:n.shouldResume,molFeVideoPlayers:i});case"disposeMolFeVideoPlayer":return rN(rN({},n),{},{molFeVideoPlayers:ZL(n.molFeVideoPlayers,e.molFeVideoPlayer),playing:!0,shouldResume:!0});case"displayMpuPlayer":return rN(rN({},n),{},{mpuPlayerDisplayed:!0,playing:!1});case"destroyMpuPlayer":return rN(rN({},n),{},{mpuPlayerDisplayed:!1,playing:n.shouldResume&&n.focused&&!oN(n.molFeVideoPlayers)});case"__INIT__":return{adInteraction:!1,adMode:!1,focused:document.hasFocus(),loading:!1,pauseTriggeredDuringLoad:!1,playing:document.hasFocus(),shouldResume:!0,molFeVideoPlayers:aN(),mpuPlayerDisplayed:!1};default:return n}}}({pauseAdsOnBlur:n,pauseContentOnBlur:void 0===i||i}),{adInteraction:!1,adMode:!1,focused:!1,loading:!1,pauseTriggeredDuringLoad:!1,playing:!1,shouldResume:!1,molFeVideoPlayers:new Map,mpuPlayerDisplayed:!1},t)}({log:n.extend("store"),pauseAdsOnBlur:a,pauseContentOnBlur:u});return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};fN({handleInitAcitivity:r,broker:t,log:n,player:e,store:l}),c.then((function(){return l.init()}))}}function vN(){return vN=gN(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,i=t.log,o=r.until("ad rendered","billboard"),a=n("players.chromeless.dmplayer.v3.delayBeforeStartPlayer",2e3),!n("plugins.enabled").includes("chromelessWaitForBillboard")){e.next=9;break}return s=Date.now(),e.next=7,o;case 7:u=Date.now()-s,a=u>a?0:a-u;case 9:return i("Waiting ".concat(a,"ms until I allow you to play")),e.next=12,(0,Xe.Vs)(a);case 12:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function yN(e){var t=e.broker,r=e.log,n=e.container,i=e.poster,o=e.videoId;document.documentElement.classList.add("molads_chromeless_on"),r("instatiating videojs");var a=qU(o,{children:{mediaLoader:!0,posterImage:!!i,textTrackDisplay:!0,loadingSpinner:!0,bigPlayButton:!1,liveTracker:!0,errorDisplay:!0,textTrackSettings:!0,resizeManager:!0,controlBar:{children:["currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","volumePanel","remainingTimeDisplay","fullscreenToggle"]}}});return a.el()._player=a,delete a.el().player,a.muted(!0),a.one("play",(function(){n.classList.remove("hide"),t.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"open"}})})),a.one("playing",(function(){setTimeout((function(){var e=document.getElementById("commercial-player-video_html5_api");e&&(e.style.height="",e.style.width="")}))})),a.on("dispose",(function(){n.remove()})),a}(qU.registerPlugin||qU.plugin)("ima",(function(e){this.ima=new CL(this,e)}));let bN=e=>{const t=e.playlist.autoadvance_;t.timeout&&e.clearTimeout(t.timeout),t.trigger&&e.off("ended",t.trigger),t.timeout=null,t.trigger=null};const _N=(e,t)=>{var r;bN(e),"number"==typeof(r=t)&&!isNaN(r)&&r>=0&&r<1/0?(e.playlist.autoadvance_.delay=t,e.playlist.autoadvance_.trigger=function(){const r=()=>_N(e,t);e.one("play",r),e.playlist.autoadvance_.timeout=e.setTimeout((()=>{bN(e),e.off("play",r),e.playlist.next()}),1e3*t)},e.one("ended",e.playlist.autoadvance_.trigger)):e.playlist.autoadvance_.delay=null},wN=e=>!!e&&"object"==typeof e,SN=(e,t)=>{let r=e,n=t;return"object"==typeof e&&(r=e.src),"object"==typeof t&&(n=t.src),/^\/\//.test(r)&&(n=n.slice(n.indexOf("//"))),/^\/\//.test(n)&&(r=r.slice(r.indexOf("//"))),r===n},TN=(e,t)=>{for(let r=0;r<e.length;r++){const n=e[r].sources;if(Array.isArray(n))for(let e=0;e<n.length;e++){const i=n[e];if(i&&SN(i,t))return r}}return-1};const IN=function(e,t){!function(e,t,r=0){let n=null,i=!1;const o=e.playlist=(t,r=0)=>{if(i)throw new Error("do not call playlist() during a playlist change");if(Array.isArray(t)){const a=Array.isArray(n)?n.slice():null,s=t.slice();n=s.slice(),n.filter((e=>wN(e))).length!==n.length&&(n=(e=>{const t=[];let r;return e.forEach((e=>{wN(e)?r=e:(r=Object(e),r.originalValue=e),t.push(r)})),t})(n)),(e=>{let t=1;e.forEach((e=>{e.playlistItemId_=t++}))})(n),i=!0,e.trigger({type:"duringplaylistchange",nextIndex:r,nextPlaylist:s,previousIndex:o.currentIndex_,previousPlaylist:a||[]}),i=!1,-1!==r&&o.currentItem(r),a&&e.setTimeout((()=>{e.trigger("playlistchange")}),0)}return n.map((e=>e.originalValue||e)).slice()};e.on("loadstart",(()=>{-1===o.currentItem()&&bN(e)})),o.currentIndex_=-1,o.player_=e,o.autoadvance_={},o.repeat_=!1,o.currentPlaylistItemId_=null,o.currentItem=e=>{if(i)return o.currentIndex_;if("number"==typeof e&&o.currentIndex_!==e&&e>=0&&e<n.length)return o.currentIndex_=e,((e,t)=>{const r=!e.paused()||e.ended();e.trigger("beforeplaylistitem",t.originalValue||t),t.playlistItemId_&&(e.playlist.currentPlaylistItemId_=t.playlistItemId_),e.poster(t.poster||""),e.src(t.sources),(e=>{const t=e.remoteTextTracks();let r=t&&t.length||0;for(;r--;)e.removeRemoteTextTrack(t[r])})(e),e.ready((()=>{if((t.textTracks||[]).forEach(e.addRemoteTextTrack.bind(e)),e.trigger("playlistitem",t.originalValue||t),r){const t=e.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(e=>{}))}_N(e,e.playlist.autoadvance_.delay)}))})(o.player_,n[o.currentIndex_]),o.currentIndex_;const t=o.player_.currentSrc()||"";if(o.currentPlaylistItemId_){const e=((e,t)=>{for(let r=0;r<e.length;r++)if(e[r].playlistItemId_===t)return r;return-1})(n,o.currentPlaylistItemId_),r=n[e];if(r&&Array.isArray(r.sources)&&TN([r],t)>-1)return o.currentIndex_=e,o.currentIndex_;o.currentPlaylistItemId_=null}return o.currentIndex_=o.indexOf(t),o.currentIndex_},o.contains=e=>-1!==o.indexOf(e),o.indexOf=e=>{if("string"==typeof e)return TN(n,e);const t=Array.isArray(e)?e:e.sources;for(let e=0;e<t.length;e++){const r=t[e];if("string"==typeof r)return TN(n,r);if(r.src)return TN(n,r.src)}return-1},o.currentIndex=()=>o.currentItem(),o.lastIndex=()=>n.length-1,o.nextIndex=()=>{const e=o.currentItem();if(-1===e)return-1;const t=o.lastIndex();return o.repeat_&&e===t?0:Math.min(e+1,t)},o.previousIndex=()=>{const e=o.currentItem();return-1===e?-1:o.repeat_&&0===e?o.lastIndex():Math.max(e-1,0)},o.first=()=>{if(i)return;const e=o.currentItem(0);if(n.length)return n[e].originalValue||n[e];o.currentIndex_=-1},o.last=()=>{if(i)return;const e=o.currentItem(o.lastIndex());if(n.length)return n[e].originalValue||n[e];o.currentIndex_=-1},o.next=()=>{if(i)return;const e=o.nextIndex();if(e!==o.currentIndex_){const t=o.currentItem(e);return n[t].originalValue||n[t]}},o.previous=()=>{if(i)return;const e=o.previousIndex();if(e!==o.currentIndex_){const t=o.currentItem(e);return n[t].originalValue||n[t]}},o.autoadvance=e=>{_N(o.player_,e)},o.repeat=e=>void 0===e?o.repeat_:"boolean"==typeof e?(o.repeat_=!!e,o.repeat_):void qU.log.error("videojs-playlist: Invalid value for repeat",e),o.sort=t=>{n.length&&(n.sort(t),i||e.trigger("playlistsorted"))},o.reverse=()=>{n.length&&(n.reverse(),i||e.trigger("playlistsorted"))},o.shuffle=({rest:t}={})=>{let r=0,a=n;t&&(r=o.currentIndex_+1,a=n.slice(r)),a.length<=1||((e=>{let t=-1;const r=e.length-1;for(;++t<e.length;){const n=t+Math.floor(Math.random()*(r-t+1)),i=e[n];e[n]=e[t],e[t]=i}})(a),t&&n.splice(...[r,a.length].concat(a)),i||e.trigger("playlistsorted"))},Array.isArray(t)?o(t.slice(),r):n=[]}(this,e,t)};function kN(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function AN(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){kN(o,n,i,a,s,"next",e)}function s(e){kN(o,n,i,a,s,"throw",e)}a(void 0)}))}}function EN(e){return ON.apply(this,arguments)}function ON(){return ON=AN(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){e.playlist(u),e.ima||(e.on("skip to next item",(function(){return e.playlist.next()})),e.on("skipt to previous item",(function(){return e.playlist.previous()})))},n=t.log,i=t.poster,o=t.url,n("fetching top videos",o),e.next=5,fetch(o);case 5:return a=e.sent,e.next=8,a.json();case 8:return s=e.sent,u=(0,w.TV)((0,w.DZ)((function(e){return!!e.url}),(function(e){return{articleUrl:e.articleUrl,videoId:e.externalVideoIdent,headline:e.headline,poster:i,provider:e.source,sources:[{src:e.url,type:"video/mp4"}]}}),s[null===(r=__webpack_require__.g.PageCriteria)||void 0===r?void 0:r.channel]||Object.values(s).flat())),n(u),e.abrupt("return",{applyPlaylist:c,playlistItems:u});case 12:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function CN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(qU.registerPlugin||qU.plugin)("playlist",IN),IN.VERSION="5.0.0";var PN={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]},xN=qU.getComponent("Component"),DN=qU.dom||qU,jN=qU.registerPlugin||qU.plugin,RN=function(e){return"number"==typeof e&&e==e},MN=function(e){return"string"==typeof e&&/^\S+$/.test(e)},UN=function(e){var t,r;function n(t,r){var i;return i=e.call(this,t,r)||this,["start","end"].forEach((function(e){var t=i.options_[e];if(RN(t))i[e+"Event_"]="timeupdate";else if(MN(t))i[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')})),["endListener_","rewindListener_","startListener_"].forEach((function(e){i[e]=function(t){return n.prototype[e].call(CN(CN(i)),t)}})),"timeupdate"===i.startEvent_&&i.on(t,"timeupdate",i.rewindListener_),i.debug('created, listening to "'+i.startEvent_+'" for "start" and "'+(i.endEvent_||"nothing")+'" for "end"'),i.hide(),i}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.createEl=function(){var e=this.options_,t=e.content,r=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background",n=DN.createEl("div",{className:"\n        vjs-overlay\n        vjs-overlay-"+e.align+"\n        "+e.class+"\n        "+r+"\n        vjs-hidden\n      "});return"string"==typeof t?n.innerHTML=t:t instanceof fA().DocumentFragment?n.appendChild(t):DN.appendContent(n,t),n},i.debug=function(){if(this.options_.debug){for(var e=qU.log,t=e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.hasOwnProperty(n[0])&&"function"==typeof e[n[0]]&&(t=e[n.shift()]),t.apply(void 0,["overlay#"+this.id()+": "].concat(n))}},i.hide=function(){return e.prototype.hide.call(this),this.debug("hidden"),this.debug('bound `startListener_` to "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('unbound `endListener_` from "'+this.endEvent_+'"'),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this},i.shouldHide_=function(e,t){var r=this.options_.end;return RN(r)?e>=r:r===t},i.show=function(){return e.prototype.show.call(this),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug('unbound `startListener_` from "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('bound `endListener_` to "'+this.endEvent_+'"'),this.on(this.player(),this.endEvent_,this.endListener_)),this},i.shouldShow_=function(e,t){var r=this.options_.start,n=this.options_.end;return RN(r)?RN(n)?e>=r&&e<n:this.hasShownSinceSeek_?Math.floor(e)===r:(this.hasShownSinceSeek_=!0,e>=r):r===t},i.startListener_=function(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()},i.endListener_=function(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()},i.rewindListener_=function(e){var t=this.player().currentTime(),r=this.previousTime_,n=this.options_.start,i=this.options_.end;t<r&&(this.debug("rewind detected"),RN(i)&&!this.shouldShow_(t)?(this.debug("hiding; "+i+" is an integer and overlay should not show at this time"),this.hasShownSinceSeek_=!1,this.hide()):MN(i)&&t<n&&(this.debug("hiding; show point ("+n+") is before now ("+t+") and end point ("+i+") is an event"),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t},n}(xN);qU.registerComponent("Overlay",UN);var LN=function(e){var t=this,r=qU.mergeOptions(PN,e);Array.isArray(this.overlays_)&&this.overlays_.forEach((function(e){t.removeChild(e),t.controlBar&&t.controlBar.removeChild(e),e.dispose()}));var n=r.overlays;delete r.overlays,this.overlays_=n.map((function(e){var n=qU.mergeOptions(r,e),i="string"==typeof n.attachToControlBar||!0===n.attachToControlBar;if(!t.controls()||!t.controlBar)return t.addChild("overlay",n);if(i&&-1!==n.align.indexOf("bottom")){var o=t.controlBar.children()[0];if(void 0!==t.controlBar.getChild(n.attachToControlBar)&&(o=t.controlBar.getChild(n.attachToControlBar)),o){var a=t.controlBar.children().indexOf(o);return t.controlBar.addChild("overlay",n,a)}}var s=t.addChild("overlay",n);return t.el().insertBefore(s.el(),t.controlBar.el()),s}))};function NN(e){var t=e.broker,r=e.log;return function(e){var n,i,o,a,s,u=null!==(n=__webpack_require__.g.MobileUtils)&&void 0!==n&&n.isMobile()?"touchend":"click",c=!0;function l(){c&&o&&i?d(i,o):!c&&o&&d("Read more",o)}function d(n,i){var o=n+i;o!==s&&(s=o,r(n,i),e.overlay({overlays:[{align:"top",class:"commercial-player-headline",content:n,start:"playing",end:"ended"}]}),function(n){if(a&&a(),n){var i=function(){t.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"articleUrlClicked"}}),t.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"close"}}),location.href=n},o=e.$(".vjs-overlay");r("adding click event",{overlay:o,articleUrl:n}),e.on(o,u,i),a=function(){r("removing click event",{overlay:o,articleUrl:n}),e.off(o,u,i)}}}(i))}d("",""),e.on("playlistitem",(function(e,t){var r=t.articleUrl,n=t.headline;i=n,o=r,l()})),e.on("userinactive",(function(){c=!1,l()})),e.on("useractive",(function(){c=!0,l()}))}}function BN(e){var t=e.log;return function(e){var r;t("adding");var n=null!==(r=__webpack_require__.g.MobileUtils)&&void 0!==r&&r.isMobile()?"touchend":"click",i=e.addChild("component");i.addClass("commercial-player-big-controls"),i.hide(),e.one("playing",(function(){i.show()}));var o=i.addChild("button",{text:"previous"});o.addClass("commercial-player-big-control"),o.addClass("commercial-player-previous"),o.on(n,(function(){return e.trigger("skip to previous item")}));var a=i.addChild("playToggle");a.addClass("commercial-player-big-control"),a.addClass("commercial-player-big-control"),a.on(n,(function(){return e.trigger("play/pause toggle")}));var s=i.addChild("button",{text:"Next"});s.addClass("commercial-player-big-control"),s.addClass("commercial-player-next"),s.on(n,(function(){return e.trigger("skip to next item")})),e.on("playlistitem",(function(){e.playlist.previousIndex()===e.playlist.currentIndex()?(t("disabling previous control"),o.disable()):o.enable()}))}}function qN(e){var t=e.broker,r=e.log,n=new Promise((function(e){t.once("creative updated plugins",(function(t){((0,O.nr)(t,"chromeless.dmplayer")&&!t["chromeless.dmplayer"]||(0,O.nr)(t,"players.commercial")&&!t["players.commercial"])&&(r("plugin cancelled by creative"),e())}))}));return function(e){n.then((function(){e.dispose()}))}}function FN(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function VN(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){FN(o,n,i,a,s,"next",e)}function s(e){FN(o,n,i,a,s,"throw",e)}a(void 0)}))}}function zN(e){var t=e.broker,r=e.getConfig,n=e.log,i=r("slotDescriptions.initial",{}).mpu_player;return i?function(e){var r=function(){n("forcing pauseAndLoad"),jL({log:n,player:e})},o=sn(e,"adserror",VN(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(a=new ln).on(e,"play",r),a.on(e,"playing",r),t.emit("display mpu_player"),jL({log:n,player:e}),o.next=7,WN({broker:t,mpuPlayerConfig:i,log:n,player:e});case 7:a.dispose(),t.emit("destroy mpu_player"),e.removeClass("vjs-waiting"),n("resume player");case 11:case"end":return o.stop()}}),o)}))));e.on("dispose",o)}:function(){}}function WN(e){return HN.apply(this,arguments)}function HN(){return HN=VN(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.mpuPlayerConfig,i=t.log,o=t.player,e.abrupt("return",new Promise((function(e){var t,a="mpu_player",s=(null==n||null===(t=n.bannerFallback)||void 0===t?void 0:t.displayTimeout)||5e3,u=n.id,c=void 0===u?a:u,l=n.parentId,d=void 0===l?a:l,p=n.pos,f=void 0===p?a:p;r.once("ad rendered","mpu_player",function(){var t=VN(regeneratorRuntime.mark((function t(n){var a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.isEmpty,u=o.el().parentNode,i("ad rendered"),!a){t.next=7;break}i("ad empty"),t.next=11;break;case 7:return u.classList.add("mpu-ad-displayed"),t.next=10,(0,Xe.Vs)(s);case 10:u.classList.remove("mpu-ad-displayed");case 11:r.emit("destroy slot","mpu_player"),e();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.emit("slot defined",{id:c,parentId:d,pos:f},document.getElementById("mpu_player"))})));case 2:case"end":return e.stop()}}),e)}))),HN.apply(this,arguments)}LN.VERSION="2.1.5",jN("overlay",LN);var GN=__webpack_require__(4426),KN=__webpack_require__.n(GN);function XN(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function YN(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){XN(o,n,i,a,s,"next",e)}function s(e){XN(o,n,i,a,s,"throw",e)}a(void 0)}))}}function $N(e){return JN.apply(this,arguments)}function JN(){return(JN=YN(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.poster,n=t.videoId,e.next=3,(0,Ae.untilBodyAvailable)();case 3:return(i=document.createElement("div")).id="commercial-player",i.classList.add("hide"),i.innerHTML=KN()({poster:r,videoId:n}),document.body.appendChild(i),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QN(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function ZN(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){QN(o,n,i,a,s,"next",e)}function s(e){QN(o,n,i,a,s,"throw",e)}a(void 0)}))}}function eB(){return eB=ZN(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m,v,y,b,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.doc,i=t.getConfig,o=t.log,a=t.pageCriteria,s=mN({broker:r,getConfig:i,log:o.extend("mediator")}),u=zN({broker:r,getConfig:i,log:o.extend("mpuPlayer")}),c=i("players.commercial.poster","//creative.dailymail.co.uk/videos/top-videos.jpg"),l=dA({broker:r,getConfig:i,log:o.extend("closeButton")}),d=BN({log:o.extend("bigControls")}),e.next=8,EN({log:o.extend("playlist"),poster:c,url:i("players.commerical.playlistURL","https://secured.dailymail.co.uk/feeds/commercial/topVideos.json")});case 8:return p=e.sent,f=p.applyPlaylist,h=p.playlistItems,g=qN({broker:r,log:o}),e.next=14,$N({poster:c,videoId:"commercial-player-video"});case 14:return m=e.sent,e.next=17,WL({broker:r,doc:n,getConfig:i,log:o.extend("ima"),pageCriteria:a,playlist:h});case 17:v=e.sent,y=v.applyIMA,b=v.initAdRequest,_=NN({broker:r,log:o.extend("headline")}),w=yN({broker:r,container:m,log:o.extend("🏗"),poster:c,videoId:"commercial-player-video"}),g(w);try{y(w),u(w),f(w),_(w),l(w),d(w),s(w,ZN(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("try to start the player"),e.prev=1,w.autoplay("muted"),e.next=5,b(w);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o.warn("could not play",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))))}catch(e){o.warn(e)}case 24:case"end":return e.stop()}}),e)}))),eB.apply(this,arguments)}function tB(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function rB(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){tB(o,n,i,a,s,"next",e)}function s(e){tB(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("players.commercial",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},init:function(e){var t=e.getConfig,r=e.removePlugins;r(["players.onlyOneActivePlayer","chromelessv2.dmplayer"]);var n=!t("plugins.enabled").includes("players.flyoutManager")&&(__webpack_require__.g.PageCriteria.containsVideo||__webpack_require__.g.document.querySelector('meta[property="og:video"]')),i=t("players.chromeless.dmplayer.v3.domainExclusions",[]),o=t("players.chromeless.dmplayer.v3.articleIdExclusions",[]).map((function(e){return e.toString()})),a=i.length&&(i.includes(__webpack_require__.g.location.hostname)||i.includes(__webpack_require__.g.location.hostname.replace(/www./,"")))||__webpack_require__.g.PageCriteria.articleId&&o.length&&o.includes(__webpack_require__.g.PageCriteria.articleId),s=t("players.chromeless.dmplayer.v3.enableWifiDetection",!1),u=navigator.connection&&"wifi"===navigator.connection.type;(a||n||Gd&&(!(0,gl.GH)()||!Gd||"desktop"!==(0,I.ej)("mol-home")&&"true"!==(0,I.ej)("mol-desktop"))||s&&!u||!s&&Gd)&&r(["players.commercial"])},run:function(e){return eB.apply(this,arguments)}}),(0,Ye.fo)("userId",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t,r,n=e.broker,i=e.log,o=(t="ads.user.id",(r=localStorage.getItem(t))||(r=(0,Nf.Z)(),localStorage.setItem(t,r)),r);i("userId",o),n.register("provide userId",(function(){return o}))}});var nB="_pubcid";function iB(e){return 5===(""+e).split("-").length}function oB(){return oB=rB(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,i=(0,I.ej)(nB),n(nB,i),i&&iB(i)){e.next=14;break}return e.next=6,r.invoke("provide userId");case 6:o=e.sent,i&&n("converting old format id from",i,"to",o),n("setting cookie for pubCommonId:",i=o),(a=new Date).setFullYear(a.getFullYear()+1),(0,I.d8)(nB,i,a),(0,I.d8)(nB,i,a,"/",window.location.host.replace(/www/,""));case 14:r.emit("pubcommonId cookie set",i);case 15:case"end":return e.stop()}}),e)}))),oB.apply(this,arguments)}function aB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return sB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sB(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function sB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uB(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function cB(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){uB(o,n,i,a,s,"next",e)}function s(e){uB(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("trackers.pubcommon",{init:function(e){(0,e.addPlugins)(["userId"])},purposeIds:{gdpr:[3,4]},run:function(e){return oB.apply(this,arguments)},vendorIds:{gdpr:"N/A"}}),(0,Ye.fo)("trackers.applePrivateRelay",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.log,n=e.win;r({applePrivateRelay:n.applePrivateRelay}),t.emit("set page level targeting",{applerelay:!!n.applePrivateRelay})}}),(0,Ye.fo)("prebid.pubcommon",{purposeIds:{gdpr:[1,3,4]},run:function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",(function(e){var t=e.getConfig("userSync"),i={userSync:(0,Vn.LY)(t,{userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:365}}],syncDelay:r("plugins.prebid.syncDelay",3e3)}),pubcid:{enable:!0,type:"cookie"}};n("setting pbjs config",i),e.setConfig(i)}))},vendorIds:{gdpr:"N/A"}});var lB=["left","top","width","height"];function dB(){return dB=cB(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l,d,p,f,h,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,i=t.log,o=n("analytics.cwv.cls.totalThreshold",.08),a=n("analytics.cwv.cls.entryThreshold",.01),s=n("analytics.cwv.cls.maxEntries",20),u=new Set(n("analytic.cwv.cls.slotsOfInterest",["billboard","billboard-oop","leader_top"])),c=n("analytic.cwv.cls.slotsShelfLife",5e3),i("config:",{totalThreshold:o,entryThreshold:a,maxEntries:s,interestingSlots:u,slotsShelfLife:c}),l=[],d=new Set,p=[],r.on("ad rendered",(function(e,t){var r=t.isEmpty,n=t.lineItemId,i=t.creativeId,o=t.sourceAgnosticCreativeId,a=t.sourceAgnosticLineItemId;!r&&u.has(e)&&p.push({time:Date.now(),pos:e,lineItemId:n||a,creativeId:i||o})})),__webpack_require__.g.DM.molFeWebVitals.webVitals.getCLS((function(e){var t,r=aB(e.entries);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!(n.value<a||n.hadRecentInput||d.has(n))){d.add(n);var o,s=n.sources,u=s.length,f=s.map((function(e){return pB(e.node)})),g=aB(s);try{var m=function(){var e=o.value,t=lB.filter((function(t){return e.currentRect[t]!==e.previousRect[t]})),r=t.map((function(t){return"".concat(t,": ").concat(e.previousRect[t],"->").concat(e.currentRect[t])})),a=pB(e.node),s=fB(e.node),d=s.before,g=s.after;i("entry above threshold:",a,n.value,r);var m=Date.now()-c,v=p.filter((function(e){return e.time>=m})).map((function(e){var t=e.pos,r=e.lineItemId,n=e.creativeId;return"".concat(t,"=").concat(r,"/").concat(n)}));p=p.filter((function(e){return e.time<m})),i("recentPositions",v),l.push({type:"custom",payload:{module:"ads.cwv.cls",trigger:"page-unload",event:"element",changes:r,selector:a,value:Math.round(1e3*n.value)/1e3,accomplicesCount:u-1,accomplices:f.filter((function(e){return e!==a})),clsHash:hB(),propertiesChanged:t,total:h,startTimeInSecs:Math.round(n.startTime/1e3),previous:pB(d),next:pB(g),recentPositions:v}})};for(g.s();!(o=g.n()).done;)m()}catch(e){g.e(e)}finally{g.f()}}}}catch(e){r.e(e)}finally{r.f()}}),!0),e.next=14,r.until("call for page-unload");case 14:f=__webpack_require__.g.DM.molFeWebVitals.getUpdated(),h=Math.round(1e3*f.CLS)/1e3,f.CLS&&h>o&&(i("cls",h,"above threshold",o),i("cls entries:",l.length),g=l.sort((function(e,t){return t.value-e.value})).slice(0,s),(m=l.length>g.length)&&i("too many entries, truncating it from",l.length,"to",g.length),r.emit("send event to bidmax",{type:"custom",payload:{module:"ads.cwv.cls",trigger:"page-unload",event:"total",clsHash:hB(),value:h,heavyElements:g.length>0,truncatedEntries:m}}),g.forEach((function(e){return r.emit("send event to bidmax",e)})));case 17:case"end":return e.stop()}}),e)}))),dB.apply(this,arguments)}function pB(e){if(e){e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);var t=e.id?"#".concat(e.id):"",r=Array.from(e.classList||[]),n=r.length?".".concat(r.join(".")):"";return(t||n?"":"".concat(pB(e.parentElement)," > "))+"".concat(e.tagName.toLowerCase()).concat(t).concat(n)}}function fB(e){return e?{before:e.previousElementSibling,next:e.nextElementSibling}:{}}function hB(){try{return window.location.hash||"none"}catch(e){return"none"}}function gB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yB(e,t){_B(e,t),t.add(e)}function bB(e,t,r){_B(e,t),t.set(e,r)}function _B(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wB(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,IB(e,t,"get"))}function SB(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function TB(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,IB(e,t,"set"),r),r}function IB(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}(0,Ye.fo)("analytics.cwv.cls",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){return dB.apply(this,arguments)}});var kB=new WeakMap,AB=new WeakMap,EB=new WeakMap,OB=new WeakMap,CB=new WeakSet,PB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.events,n=void 0===r?[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]]:r,i=t.throttleMs,o=void 0===i?1e4:i;mB(this,e),yB(this,CB),bB(this,kB,{writable:!0,value:void 0}),bB(this,AB,{writable:!0,value:void 0}),bB(this,EB,{writable:!0,value:void 0}),bB(this,OB,{writable:!0,value:[]}),TB(this,kB,new ln),TB(this,AB,n),TB(this,EB,(0,Vn.FU)(SB(this,CB,xB).bind(this),o))}var t,r;return t=e,r=[{key:"start",value:function(){var e=this;wB(this,AB).forEach((function(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],i=r[1];n&&i.forEach((function(t){wB(e,kB).addEventListener(n,t,wB(e,EB))}))}))}},{key:"stop",value:function(){wB(this,kB).dispose()}},{key:"add",value:function(e){var t=this;return wB(this,OB).push(e),function(){t.remove(e)}}},{key:"remove",value:function(e){TB(this,OB,(0,w.cl)(e,wB(this,OB)))}},{key:"whenActive",value:function(){var e=this;return new Promise((function(t){e.add((function r(){e.remove(r),t()}))}))}}],r&&vB(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xB(e){wB(this,OB).forEach((function(t){return t(e)}))}function DB(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function jB(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){DB(o,n,i,a,s,"next",e)}function s(e){DB(o,n,i,a,s,"throw",e)}a(void 0)}))}}(0,Ye.fo)("adPageType",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.DM,n=e.getConfig,i=e.log,o=e.adPageType;i("running");var a=localStorage.getItem(RB);localStorage.removeItem(RB);var s=n("adPageType.usePageAdTypeOverride",!1);if(i("autorefresh pageAutoRefreshStatus: ".concat(a,", usePageAdTypeOverride: ").concat(s)),t.on("dom ready",(function(){r.pageEvents.subscribe("page.autorefresh-event",(function(){localStorage.setItem(RB,!0)}))})),!s||!a||"art"===o)return i("setting 'page' targeting to",o),void t.emit("set page level targeting",{page:o});i("setting 'page' targeting to hp_inactive"),t.emit("set page level targeting",{page:"hp_inactive"});var u=t.until("ad rendered"),c=new PB;c.whenActive().then(jB(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.stop(),e.next=3,u;case 3:i("setting 'page' targeting to hp"),t.emit("set page level targeting",{page:"hp"});case 5:case"end":return e.stop()}}),e)})))),c.start()}});var RB="mol.ads.pageautorefresh";function MB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return UB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?UB(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LB(e){return LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LB(e)}function NB(e,t){if(e){if("string"==typeof e)return BB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BB(e,t):void 0}}function BB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,Ye.fo)("takeovers.videowallpaper",{ccpa:{enabledIfDissent:!0},gdpr:{enabledIfDissent:!0},run:function(e){var t=e.broker,r=e.log;function n(e){4===e.readyState?(e.muted=!0,e.play(),r("Video background play")):(r("Loading"),setTimeout((function(){return n(e)}),100))}t.on("takeover","videowallpaper",(function(e){t.emit("stop refreshing ads"),t.emit("disable chromeless-player"),(0,ke.collapseAdByPos)(["sky_left_top","sky_left_bottom","sky_right_top","sky_right_bottom"]);var r,i,o,a=e.clickUrl,s=e.video,u=(i=(r=s.styles).backupSkin,o=r.skinBGColor,"\n.fullscreen-bg {\n  background-image: url(".concat(i,");\n  background-size: contain;\n  background-position: top center;\n  background-repeat: no-repeat;\n  background-color: ").concat(o,";\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  z-index: 1;\n}\n\n\n#billBoard {\n  background-color: transparent!important;\n  position: relative!important;\n  top: -30px !important;\n  box-shadow: none!important;\n  left: 0!important;\n}\n\n.cleared.lead-alpha, #content > .cleared {\n  background-color: #fff!important;\n}\n\n.articleWide {\n  background-color: #fff;\n}\n\n#top {\n  position: relative;\n  z-index: 2;\n}\n\nvideo#backgroundvideo {\n  position: fixed;\n  top: 0;\n  left: 50%;\n  min-width: 100%;\n  width: 100%;\n  height: auto;\n  z-index: -100;\n  animation: translate-video;\n  animation-fill-mode: forwards;\n}\n\n@keyframes translate-video {\n  to {\n    transform: translateX(-50%) translateY(0%);\n  }\n}\n\n.page-container-cover {\n  position: absolute;\n  width: 994px;\n  background: #fff;\n  z-index: 1;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  left: -16px;\n  right: 0;\n  top: 465px;\n}\n\n.page-header-cover {\n  position: absolute;\n  width: 994px;\n  height: 186px;\n  background: #fff;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n#content {\n  z-index: 1;\n  animation: shift-content-down 500ms;\n  animation-fill-mode: forwards;\n}\n\n@keyframes shift-content-down {\n  to {\n    transform: translateY(30px);\n  }\n}\n\n#ad_skinHolder {\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1;\n"));(0,Ae.appendStyle)(u);var c=document.createElement("template");c.innerHTML='<div class="page-header-cover"></div>'.trim(),document.body.insertBefore(c.content,document.body.firstChild);var l=document.createElement("template");l.innerHTML='<div class="page-container-cover"></div>'.trim();var d=document.getElementById("page-container");d.insertBefore(l.content.firstChild,d.firstChild);var p=function(e){var t=e.attributes,r=e.sources,n=document.createElement("div");n.setAttribute("id","ad_video"),n.classList.add("fullscreen-bg"),n.setAttribute("post","");var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.id="backgroundvideo";var r=document.createElement("video");return Object.entries(e).forEach((function(e){var t=MB(e,2),n=t[0],i=t[1];r.setAttribute(n,i)})),t.forEach((function(e){var t=e.type,n=e.src,i=document.createElement("source");i.setAttribute("type",t),i.setAttribute("src",n),r.appendChild(i)})),r}(t,r);return n.appendChild(i),n}(s);document.body.append(p),document.querySelector(".billboard-container").classList.remove("watermark");var f=function(e){var t=document.createElement("template");return t.innerHTML='\n      <a id="ad_skinHolder" href="'.concat(e,'" target="_blank">\n        <div class="extra-static-skin"></div> \n      </a>\n    ').trim(),t.content}(a);document.body.append(f),n(document.getElementById("backgroundvideo"))}))}});var qB=(0,k.x)("processQueue"),FB=T.ZP.broker("processQueue");function VB(){var e=__webpack_require__.g.adverts,t=Array.isArray(e.queue)?e.queue:[];for(qB("There are",t.length,"items on the queue");t.length;)zB(t.shift());e.queue={push:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return zB(e)}))}}}function zB(e){!function(e){return"object"===LB(e)&&null!==e&&"string"==typeof e.scope}(e)?function(e){var t=__webpack_require__.g.adverts;return Array.isArray(e)&&3===e.length&&"FacadeQueueItem"===e[0]&&"function"==typeof t[e[1]]&&Array.isArray(e[2])}(e)?function(e){var t=__webpack_require__.g.adverts,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||NB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,3),n=r[1],i=r[2];qB("calling",n,i);try{t[n].apply(t,function(e){return function(e){if(Array.isArray(e))return BB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||NB(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i))}catch(e){qB.error(e)}}(e):qB.error("error processing item",e):function(e){qB("api item",e),FB.emit("api message",e.scope,e.data)}(e)}function WB(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function HB(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){WB(o,n,i,a,s,"next",e)}function s(e){WB(o,n,i,a,s,"throw",e)}a(void 0)}))}}function GB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||KB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KB(e,t){if(e){if("string"==typeof e)return XB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XB(e,t):void 0}}function XB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.assign(__webpack_require__.g.adverts,e);var YB=me;__webpack_require__.g.adverts.startTime=y.B,__webpack_require__.g.adListLoader=W,__webpack_require__.g.adsDescriptions=S,__webpack_require__.g.adsRenderer=Te,__webpack_require__.g.DfpServer=Ie,__webpack_require__.g.adsTrackers={getRequestedAds:YB},__webpack_require__.g.AdIntegrator=ke,__webpack_require__.g.AdBehaviour=t,__webpack_require__.g.AdImpression=Ue(),__webpack_require__.g.AdEvents=Ne(),T.ZP.broker("molEntry").register("call for page analytics",(function(){return{configVersion:(0,b.U2)("__generated.commit.sha"),bundle:"mol",cmVersion:(0,b.U2)("__generated.rulesJs.version"),cmCluster:(0,b.U2)("__generated.rulesJs.cluster")}}));var $B,JB=Object.assign({},r,function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(t).reduce((function(t,n){var i=GB(n,2),o=i[0],a=i[1],s=(r?r+".":"")+o;if("default"===o)t[r]=a;else if("function"==typeof a)t[s]=a;else{if(a)return e(a,s,t);console.warn('Plugin "'.concat(s,"\" does not export anything. Check the way it's being imported in to the project."))}return t}),n)}(v)),QB=[].concat(["api","site","adsFree","message-trace","conditionalEnable","imageGallery","slots.others","adListLoader","scriptLoader","prebid","pageVisibility","runtimeMessages","sticky.mpus","sticky.banner","version","slots.mpuPuffOthers","skins","performance","nonAdServable","smartScheduler","debug.setPlugin","messagePluginsFromCreatives","slots.descriptions","conditionalLoad","analytics.coreMetrics","analytics.reportPlugins","takeovers.videowallpaper","adPageType"],function(e){if(Array.isArray(e))return XB(e)}($B=(0,b.U2)("plugins.enabled",[]))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}($B)||KB($B)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function ZB(){return eq.apply(this,arguments)}function eq(){return(eq=HB(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At({enabledPlugins:QB,plugins:JB,messageBus:T.ZP,context:iA});case 2:Object.assign(__webpack_require__.g.adverts,e),VB();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(0,b.t8)("plugins.enabled",QB),(0,b.t8)("tcfv2.uuid.useRtaId",!0);var tq=(0,b.U2)("cwv.barriers.global","ads");tq?DM.later(tq,ZB):ZB()}()})();