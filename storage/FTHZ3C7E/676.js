(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{6676:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var a=n(5893),r=n(7294),i=n(3174),o=n(4184),s=n.n(o),l=n(5303),d=n(814),c=n.n(d),u=function(e){var t=e.includeText,n=e.source,r="gate"===n?"gate":"nudge",i=function(e){switch(e.message.type){case"SUCCESS":location.reload();break;case"CLOSE":!function(){var e=document.querySelector(".c-accounts-modal");e&&e.remove()}()}};return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("span",{className:s()(n+"__login-cta-span"),children:"Already a subscriber?"}),(0,a.jsx)("button",{className:s()(c().signinLink,n+"__login-cta-button"),"data-testid":"signin-link","data-action":"".concat(r,":click_login"),"data-label":"gate"===n?"gate - trials":n,onClick:function(){var e=document.createElement("div");e.className="c-accounts-modal",e.classList.add(c().modalContainer);var t=document.createElement("iframe");t.src="https://accounts.theatlantic.com/login/modal/",t.title="Login Modal",t.id="accounts-modal",t.classList.add(c().modalContent),e.appendChild(t),document.body.append(e),l.iframeResizer({log:!1,messageCallback:i},"#accounts-modal")},children:"Sign in"})]})},g=function(e){var t=e.text,n=e.source,r=e.count,i=e.isExpandedStyles,o=e.isCentered,l=void 0!==o&&o,d=e.mobileOnly,u=void 0!==d&&d,g="gate"===n?"gateway:click_see_plans":"nudge:click_subscribe",p="gate"===n?n:"nudge";return(0,a.jsx)("a",{href:"https://accounts.theatlantic.com/products/".concat("gate"===n?"free-trial/":"","?source=").concat(p).concat(r||""),"data-testid":"subscribe-cta","data-action":g,"data-label":"gate"===n?"gate - trials":n,className:s()(c().button,u&&c().mobileOnly,l&&c().centered,i?c().expandedLink:c().compressedLink,"gate"===n?"gate__primary-link":n+"__primary-link"+(u?"--mobile":"--desktop")),children:t})};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var m=r.createElement("path",{d:"M4.668 4.986a.467.467 0 01.67 0L1.625 1.223a.943.943 0 00-1.346 0 .974.974 0 000 1.364L3.992 6.35a1.419 1.419 0 002.022 0l3.707-3.757a.974.974 0 000-1.365.943.943 0 00-1.346 0L4.668 4.986z"});var x=function(e){var t=e.title,n=e.titleId,a=_(e,["title","titleId"]);return r.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 7","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,m)},h=n(6995),f=n.n(h),b=n(5971);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(l){s=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){var t=e.title,n=e.subtitle,r=e.pageViews,i=e.lastArticle,o=e.countText,l=e.setShowExpanded,d=e.setSlidingDirection,p=v((0,b.Z)("(max-width: 576px)"),1)[0];return(0,a.jsxs)("div",{className:f().root,id:"nudgeExpanded","data-testid":"nudge","data-category":"nudge interaction","data-label":"nudge-expanded","data-nudge":r,"data-mobile-view":p,children:[(0,a.jsx)("div",{className:f().mobileCta,children:(0,a.jsx)("span",{className:s()(f().countTextMobile,i&&f().emphasizedText,"nudge-expanded__article-count-text--mobile"),children:o})}),(0,a.jsxs)("div",{className:f().cta,"data-action":"nudge:display","data-label":"nudge-expanded",children:[i&&(0,a.jsx)("span",{className:s()(f().countText,i&&f().emphasizedText,"nudge-expanded__article-count-text--desktop"),children:o}),(0,a.jsx)(u,{includeText:!0,source:"nudge-expanded"})]}),(0,a.jsxs)("div",{className:f().text,children:[(0,a.jsx)("h3",{className:s()(f().title,"nudge-expanded__title--desktop"),children:t}),(0,a.jsx)("h4",{className:s()(f().subtitle,"nudge-expanded__subtitle--desktop"),children:n})]}),(0,a.jsx)(g,{text:"Subscribe Now",source:"nudge-expanded",count:r,isExpandedStyles:!0}),(0,a.jsx)("button",{className:s()(c().chevron,f().chevronExpanded),"aria-label":"Hide subscription information","aria-pressed":"true","data-action":"nudge:user_collapse","data-label":"nudge-expanded",onClick:function(){d("down"),setTimeout((function(){l(!1),d("none")}),100)},children:(0,a.jsx)(x,{focusable:"false"})})]})};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var C=r.createElement("path",{d:"M5.332 2.728a.467.467 0 01-.67 0l3.713 3.763a.943.943 0 001.346 0 .974.974 0 000-1.364L6.008 1.364a1.419 1.419 0 00-2.022 0L.279 5.12a.974.974 0 000 1.365.943.943 0 001.346 0l3.707-3.758z"});var S=function(e){var t=e.title,n=e.titleId,a=j(e,["title","titleId"]);return r.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 7","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,C)},T=n(1972),E=n.n(T);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(l){s=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){var t=e.title,n=e.pageViews,r=e.lastArticle,i=e.mobileTitle,o=e.setShowExpanded,l=e.setManuallyExpanded,d=e.setSlidingDirection,p=O((0,b.Z)("(max-width: 576px)"),1)[0];return(0,a.jsxs)("div",{className:E().root,id:"nudge","data-testid":"nudge","data-category":"nudge interaction","data-label":"nudge-compressed","data-nudge":n,"data-mobile-view":p,children:[(0,a.jsxs)("div",{className:E().desktop,"data-action":"nudge:display","data-label":"nudge-compressed",children:[(0,a.jsxs)("div",{className:E().text,children:[(0,a.jsx)("h3",{className:s()(E().title,E().borderRight,r&&E().emphasizedText,"nudge-compressed__title--desktop"),children:t}),(0,a.jsx)(u,{includeText:!1,source:"nudge-compressed"})]}),(0,a.jsx)(g,{text:"Subscribe Now",source:"nudge-compressed",count:n,isExpandedStyles:!1})]}),(0,a.jsx)("div",{className:E().mobileTitleContainer,children:(0,a.jsx)(g,{text:i,source:"nudge-compressed",count:n,isExpandedStyles:!1,isCentered:!0,mobileOnly:!0})}),(0,a.jsx)("button",{className:s()(c().chevron,E().chevronCompressed),"aria-label":"Read more","aria-pressed":"false","data-action":"nudge:user_expand","data-label":"nudge-compressed",onClick:function(){d("up"),setTimeout((function(){o(!0),l(!0),d("none")}),100)},children:(0,a.jsx)(S,{focusable:"false"})})]})},A=n(3944),G=function(e){var t=e.cap,n=e.pageViews,i=e.setSlidingDirection,o=1===t-n,s=1===n,l=s||o,d=(0,r.useState)(l),c=d[0],u=d[1],g=(0,r.useState)(!1),p=g[0],_=g[1];(0,r.useEffect)((function(){var e,t=function(){window.scrollY>100&&!p&&c&&(i("down"),e=setTimeout((function(){u(!1),i("none")}),100),(0,A.z6)().push({event:"Nudge Scroll",category:"nudge interaction",action:"nudge:scroll_collapse",label:"nudge-compressed"}))};return window.addEventListener("scroll",t,{passive:!0}),function(){window.removeEventListener("scroll",t),e&&clearTimeout(e)}}),[c,p,i]);var m="";m=o?"Never miss a story from The Atlantic.":s?"Thank you for reading The Atlantic.":"Discover new ideas. Rethink old assumptions.";var x="";o&&(x="This is your last free article.");var h="";return h=o?"This is your last free article.":"Enjoy unlimited access to The Atlantic.",c?(0,a.jsx)(w,{title:m,subtitle:"Get unlimited access to The Atlantic.",pageViews:n,lastArticle:o,countText:x,setShowExpanded:u,setSlidingDirection:i}):(0,a.jsx)(L,{title:h,pageViews:n,lastArticle:o,mobileTitle:o?h:"Subscribe for unlimited access",setShowExpanded:u,setManuallyExpanded:_,setSlidingDirection:i})},M=n(8509),I=n(4092),z=n.n(I),P=function(){var e=(0,r.useRef)(null);return(0,r.useEffect)((function(){return(0,M.Qp)(e.current),function(){return(0,M.tP)()}})),(0,a.jsxs)("div",{className:z().root,"data-category":"gateway interaction",ref:e,children:[(0,a.jsx)("div",{className:z().shadow}),(0,a.jsx)("div",{className:z().container,id:"gate","data-testid":"gate","aria-labelledby":"gate","data-action":"gateway:display","data-label":"gate - trials",children:(0,a.jsxs)("div",{className:z().marginContainer,children:[(0,a.jsxs)("div",{className:z().gateTextContainer,children:[(0,a.jsx)("p",{className:s()(z().gateText,"gate__text"),children:"We hope you've enjoyed your free articles."}),(0,a.jsx)("div",{className:z().loginCta,children:(0,a.jsx)(u,{includeText:!0,source:"gate"})})]}),(0,a.jsxs)("div",{className:z().gateTitleContainer,children:[(0,a.jsxs)("p",{className:s()(z().gateTitle,"gate__title"),children:[(0,a.jsx)("span",{className:z().gateBreak,children:"Try one month of unlimited digital access."})," ","Start your free trial today. Cancel anytime."," "]}),(0,a.jsx)("div",{className:s()(z().spacingContainer,"gate__spacing-container"),children:(0,a.jsx)(g,{text:"Get Started",source:"gate",isExpandedStyles:!0,isCentered:!0})})]})]})})]})},D=n(9149),U=n.n(D),K=n(7257),B=function(){var e=(0,r.useState)("none"),t=e[0],n=e[1],o=(0,i.aC)().hasPaywallAccess,l=(0,r.useState)(!1),d=l[0],c=l[1],u=(0,K.a)(),g=u.showNudge,p=u.showGate,_=u.cap,m=u.pageViews;return(0,r.useEffect)((function(){c(!0)}),[]),o||!d?null:(0,a.jsxs)("aside",{className:s()(U().root,"up"===t&&U().slideUp,"down"===t&&U().slideDown),id:"paywall","data-testid":"paywall","data-category":"nudge interaction","data-label":"paywall",children:[p&&(0,a.jsx)(P,{}),g&&(0,a.jsx)(G,{cap:_,pageViews:m,setSlidingDirection:n})]})}},4092:function(e){e.exports={root:"Gate_root__5UU_Y",container:"Gate_container__mdm2S",spacingContainer:"Gate_spacingContainer__jLa6k",shadow:"Gate_shadow__FSKvL",gateText:"Gate_gateText__ca41_",gateTitle:"Gate_gateTitle__wVKlw",gateTextContainer:"Gate_gateTextContainer__7jOWj",loginCta:"Gate_loginCta__qPvlp",gateTitleContainer:"Gate_gateTitleContainer__Kh1E3",gateBreak:"Gate_gateBreak__WYsf2",marginContainer:"Gate_marginContainer__wKeSH"}},1972:function(e){e.exports={root:"NudgeCompressed_root__khUzE",desktop:"NudgeCompressed_desktop__K7kja",text:"NudgeCompressed_text__3vhx8",textMobile:"NudgeCompressed_textMobile___UL98",title:"NudgeCompressed_title__zc_QK",emphasizedText:"NudgeCompressed_emphasizedText__V_Tky",borderRight:"NudgeCompressed_borderRight__83xgA",mobileTitleContainer:"NudgeCompressed_mobileTitleContainer__935We",count:"NudgeCompressed_count__1a_Sk",chevronCompressed:"NudgeCompressed_chevronCompressed__M1l6a"}},6995:function(e){e.exports={root:"NudgeExpanded_root__BYQrm",cta:"NudgeExpanded_cta__OQDgk",mobileCta:"NudgeExpanded_mobileCta__H4LCI",text:"NudgeExpanded_text__Fsc3g",title:"NudgeExpanded_title__ng_3m",subtitle:"NudgeExpanded_subtitle__pbPBT",count:"NudgeExpanded_count__l6RHU",countMobile:"NudgeExpanded_countMobile__dK6D7",emphasizedText:"NudgeExpanded_emphasizedText__iqGkk",countText:"NudgeExpanded_countText__dn9o0",countTextMobile:"NudgeExpanded_countTextMobile__YuhIj",chevronExpanded:"NudgeExpanded_chevronExpanded__JoKv0"}},814:function(e){e.exports={button:"NudgeShared_button__7wFbT",expandedLink:"NudgeShared_expandedLink__WBTw2",compressedLink:"NudgeShared_compressedLink__NgqAU",signinLink:"NudgeShared_signinLink__g0TNr",mobileOnly:"NudgeShared_mobileOnly__ZTTg_",centered:"NudgeShared_centered__jZLae",modalContainer:"NudgeShared_modalContainer__pauWB",modalContent:"NudgeShared_modalContent__0d92r",chevron:"NudgeShared_chevron__7W4_w"}},9149:function(e){e.exports={root:"Paywall_root__ciuNi",slideDown:"Paywall_slideDown__QKcYJ",slideUp:"Paywall_slideUp__WKxZ0"}}}]);