(()=>{"use strict";var e={2002:(e,t,r)=>{r.p="localhost"===window.location.hostname?"/assets/":`${window.guardian.app.data.CAPI.config.frontendAssetsFullURL}assets/`}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.p="",(()=>{r(2002);var e,t,n,o,a=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},s=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class i{constructor(t){e.set(this,void 0);try{const r=(new Date).toString();t.setItem(r,r);const n=t.getItem(r)==r;t.removeItem(r),n&&a(this,e,t,"f")}catch(e){}}isAvailable(){return Boolean(s(this,e,"f"))}get(t){try{var r,n;const{value:o,expires:a}=JSON.parse(null!==(r=null===(n=s(this,e,"f"))||void 0===n?void 0:n.getItem(t))&&void 0!==r?r:"");return a&&new Date>new Date(a)?(this.remove(t),null):o}catch(e){return null}}set(t,r,n){var o;return null===(o=s(this,e,"f"))||void 0===o?void 0:o.setItem(t,JSON.stringify({value:r,expires:n}))}remove(t){var r;return null===(r=s(this,e,"f"))||void 0===r?void 0:r.removeItem(t)}clear(){var t;return null===(t=s(this,e,"f"))||void 0===t?void 0:t.clear()}getRaw(t){var r,n;return null!==(r=null===(n=s(this,e,"f"))||void 0===n?void 0:n.getItem(t))&&void 0!==r?r:null}setRaw(t,r){var n;return null===(n=s(this,e,"f"))||void 0===n?void 0:n.setItem(t,r)}}e=new WeakMap;const u=new(o=class{constructor(){t.set(this,void 0),n.set(this,void 0)}get local(){return a(this,t,s(this,t,"f")||new i(localStorage),"f")}get session(){return a(this,n,s(this,n,"f")||new i(sessionStorage),"f")}},t=new WeakMap,n=new WeakMap,o);var c;const l="gu.logger",d={common:{background:"#052962",font:"#ffffff"},commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"}},g=e=>{const{background:t,font:r}=d[e];return`background: ${t}; color: ${r}; padding: 2px 3px; border-radius:3px`},f=(e,...t)=>{if(!(u.local.get(l)||"").includes(e))return;const r=[g("common"),"",g(e),""];console.log(`%c@guardian%c %c${e}%c`,...r,...t)};"undefined"!=typeof window&&(window.guardian||(window.guardian={}),(c=window.guardian).logger||(c.logger={subscribeTo:e=>{const t=u.local.get(l)?u.local.get(l).split(","):[];t.includes(e)||t.push(e),u.local.set(l,t.join(",")),f(e,"ðŸ”” Subscribed, hello!")},unsubscribeFrom:e=>{f(e,"ðŸ”• Unsubscribed, good-bye!");const t=u.local.get(l).split(",").filter((t=>t!==e));u.local.set(l,t.join(","))},teams:()=>Object.keys(d)}));const m=e=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e],w=(e,t,r)=>{const n=1!==t;switch(e){case"s":return r?" seconds ago":"s ago";case"m":return r&&n?" minutes ago":r?" minute ago":"m ago";case"h":return r&&n?" hours ago":r?" hour ago":"h ago";case"d":return r?" days ago":"d ago"}},v=(e,t)=>{var r;const n=new Date(e),o=new Date,a=null==t?void 0:t.verbose,s=null!==(r=null==t?void 0:t.daysUntilAbsolute)&&void 0!==r?r:7,i=Math.floor((o.getTime()-n.getTime())/1e3),u=i<15,c=i<55,l=i<3300,d=(e=>{const t=new Date;return e.valueOf()>t.valueOf()-864e5})(n),g=(e=>{const t=new Date,r=new Date;return r.setDate(t.getDate()-1),e.toDateString()===r.toDateString()})(n),f=i<24*s*60*60;if(i<0)return!1;if(u)return"now";if(c)return`${i}${w("s",i,a)}`;if(l){const e=Math.round(i/60);return`${e}${w("m",e,a)}`}if(d){const e=Math.round(i/3600);return`${e}${w("h",e,a)}`}if(g&&a)return`Yesterday ${(h=n).getHours()}:${p=h.getMinutes(),p.toString().padStart(2,"0")}`;if(f){const e=Math.round(i/3600/24);return`${e}${w("d",e,a)}`}return[n.getDate(),a?(v=n.getMonth(),["January","Febuary","March","April","May","June","July","August","September","October","November","December"][v]):m(n.getMonth()),n.getFullYear()].join(" ");var v,h,p},h=e=>{if(e instanceof HTMLElement){const{relativeformat:t}=e.dataset,r=e.getAttribute("datetime");if(!r||!t)return;let n;switch(t){case"short":case"med":n=v(new Date(r).getTime(),{verbose:!1});break;case"long":n=v(new Date(r).getTime(),{verbose:!0})}const o=e.innerText;n&&n!==o&&(e.innerHTML=n)}},p=()=>{document.querySelectorAll("time[data-relativeformat]").forEach(h)};((e,t,r)=>{const n=()=>{((e,t)=>{const{start:r,end:n}=(e=>{const t=window.performance,r=`${e}-start`,n=`${e}-end`;return t&&t.getEntriesByName?{start:()=>{t.mark(r)},end:()=>{t.mark(n),t.measure(e,r,n),f("dotcom",JSON.stringify(t.getEntriesByName(e)));const o=t.getEntriesByName(e,"measure"),a=o&&o[0]&&o[0].duration||0;return Math.round(a)},clear:()=>{t.clearMarks(r),t.clearMarks(n),t.clearMeasures(e)}}:{start:()=>{},end:()=>0,clear:()=>{}}})(e);r(),t().then((()=>{n()})).catch((()=>{n()}))})("relativeTime",r.bind(null,null))};window.guardian.mustardCut||window.guardian.polyfilled?n():window.guardian.queue.push(n)})(0,0,(()=>(p(),window.setInterval((()=>{p()}),15e3),Promise.resolve())))})()})();
//# sourceMappingURL=relativeTime.855c357a608fbfd7d3fa.js.map