;
(self.AMP=self.AMP||[]).push({m:1,v:"2202230359001",n:"amp-live-list",ev:"0.1",l:!0,f:function(t,i){(()=>{function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function e(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n;function s(){return n||(n=Promise.resolve(void 0))}var{isArray:r}=Array;function o(t,i){const e=[];let n=0;for(let s=0;s<t.length;s++){const r=t[s];i(r,s,t)?e.push(r):(n<s&&(t[n]=r),n++)}return n<t.length&&(t.length=n),e}var{hasOwnProperty:h,toString:u}=Object.prototype;function a(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function l(t){return 1==(null==(i=t)?void 0:i.nodeType)?(t=t).tagName.toLowerCase()+(t.id?`#${t.id}`:""):t;var i}function c(t,i,e,n,s,r,o,h,u,a,l){return t}function f(t,i){return c(/^[\w-]+$/.test(i)),e=`> [${i}]`,t.querySelector(function(t,i){return t.replace(/^|,/g,"$&:scope ")}(e));var e}var d=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function m(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}function p(t){const i=a();if(!t)return i;let e;for(;e=d.exec(t);){const t=m(e[1],e[1]),n=e[2]?m(e[2].replace(/\+/g," "),e[2]):"";i[t]=n}return i}var _=self.AMP_CONFIG||{},v=("string"==typeof _.thirdPartyFrameRegex?new RegExp(_.thirdPartyFrameRegex):_.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,P=("string"==typeof _.cdnProxyRegex?new RegExp(_.cdnProxyRegex):_.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function A(t){if(!self.document||!self.document.head)return null;if(self.location&&P.test(self.location.origin))return null;const i=self.document.head.querySelector(`meta[name="${t}"]`);return i&&i.getAttribute("content")||null}var g={thirdParty:_.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:_.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:v,cdn:_.cdnUrl||A("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:P,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:_.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:_.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:_.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:_.geoApiUrl||A("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var b=self.__AMP_LOG;function R(t){return b.user||(b.user=E()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(b.user.win,t)?b.userForEmbed||(b.userForEmbed=E()):b.user}function E(t){return function(t,i){throw new Error("failed to call initLogConstructor")}()}function I(t,i,e,n,s,r,o,h,u,a,l){return t}function T(t,i,e,n,s,r,o,h,u,a,l){return R().assert(t,i,e,n,s,r,o,h,u,a,l)}function M(t){if(!t)return null;const i=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i),e=i?i[2]:void 0,n=i?i[3]:void 0;return e&&n?{extensionId:e,extensionVersion:n}:null}function V(t,i){return y(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function w(t,i){return function(t,i){const e=function(t,i){const e=O(t)[i];return e?e.promise?e.promise:(y(t,i),e.promise=Promise.resolve(e.obj)):null}(t,i);if(e)return e;const n=O(t);return n[i]=function(){const t=new class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}},{promise:i,reject:e,resolve:n}=t;return i.catch((()=>{})),{obj:null,promise:i,resolve:n,reject:e,context:null,ctor:null}}(),n[i].promise}(j(t),i)}function x(t){return t.nodeType?(i=t,e=(i.ownerDocument||i).defaultView,V(e,"ampdoc")).getAmpDoc(t):t;var i,e}function j(t){const i=x(t);return i.isSingleDoc()?i.win:i}function y(t,i){I(S(t,i));const e=O(t)[i];return e.obj||(I(e.ctor),I(e.context),e.obj=new e.ctor(e.context),I(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function O(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function S(t,i){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!e||!e.ctor)}var $=t=>V(t,"ampdoc"),C=t=>V(t,"extensions"),U=t=>y(t,"timer"),L=t=>function(t,i){const e=j(x(t));return S(e,i)?y(e,i):null}(t,"url"),k=t=>function(t,i){return y(j(x(t)),i)}(t,"viewer");function D(t,i){let e=t*(i=i||.3)*Math.random();return Math.random()>.5&&(e*=-1),e}function H(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function q(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function F(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?q(Object(e),!0).forEach((function(i){H(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):q(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var G,N="__AMP__EXPERIMENT_TOGGLES",z=new Set(["c","v","a","ad"]),B="__amp_source_origin",X=t=>"string"==typeof t?J(t):t;function J(t,i){return G||(G=self.document.createElement("a")),function(t,i,e){return t.href="",new URL(i,t.href)}(G,t)}function K(t,i,e,n){return function(t,i,e){if(!i)return t;const n=t.split("#",2),s=n[0].split("?",2);let r=s[0]+(s[1]?e?`?${i}&${s[1]}`:`?${s[1]}&${i}`:`?${i}`);return r+=n[1]?`#${n[1]}`:"",r}(t,function(t,i){return`${encodeURIComponent(t)}=${encodeURIComponent(i)}`}(i,e),n)}function Z(t){return g.cdnProxyRegex.test(X(t).origin)}var Q=["GET","POST"];function W(t,i){const e=F({},i);if((n=i.body)&&"function"==typeof n.getFormData){const t=i.body;e.headers["Content-Type"]="multipart/form-data;charset=utf-8",e.body=function(t){const i=[];for(let e=t.next();!e.done;e=t.next())i.push(e.value);return i}(t.entries())}var n;return{input:t,init:e}}function Y(t,i,n){let h=function(t,i){const e=t||{},n=e.credentials;return c(void 0===n||"include"==n||"omit"==n),e.method=void 0===(s=e.method)?"GET":(s=s.toUpperCase(),c(Q.includes(s)),s),e.headers=e.headers||{},e.headers.Accept=i,c(null!==e.body),e;var s}(n,"text/html");h=function(t,i,e){e=e||{};const n=function(t){return t.origin||J(t.location.href).origin}(t);return n==J(i).origin&&(e.headers=e.headers||{},e.headers["AMP-Same-Origin"]="true"),e}(t,i,h),i=function(t,i,e){return c("string"==typeof i),!1!==e.ampCors&&(i=function(t,i){!function(t){const i=p(J(t).search);T(!(B in i),"Source origin is not allowed in %s",t)}(i);const e=function(t){return J(function(t){if(!Z(t=X(t)))return t.href;const i=t.pathname.split("/"),e=i[1];T(z.has(e),"Unknown path prefix in url %s",t.href);const n=i[2],s="s"==n?"https://"+decodeURIComponent(i[3]):"http://"+decodeURIComponent(n);return T(s.indexOf(".")>0,"Expected a . in origin %s",s),i.splice(1,"s"==n?3:2),s+i.join("/")+function(t,i){if(!t||"?"==t)return"";const e=new RegExp("[?&](amp_(js[^&=]*|gsa|r|kit)|usqp)\\b[^&]*","g"),n=t.replace(e,"").replace(/^[?&]/,"");return n?"?"+n:""}(t.search)+(t.hash||"")}(t)).origin}(t.location.href);return K(i,B,e)}(t,i)),i}(t,i,h);const f=$(t),d=f.isSingleDoc()?f.getSingleDoc():null;return h.responseType="document",function(t,i,n,h){if(!i)return s();const f=h.prerenderSafe?s():i.whenFirstVisible(),d=k(i),m=Z(n),_=d.hasCapability("xhrInterceptor"),v=h.bypassInterceptorForDev&&!1;return m||!_||v?f:i.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?f.then((()=>d.isTrustedViewer())).then((i=>{if(!i&&!function(t,i){const n=function(t){var i,n,s,o,h;if(t[N])return t[N];t[N]=a();const u=t[N];c(u);const l=F(F({},null!==(i=t.AMP_CONFIG)&&void 0!==i?i:{}),null!==(n=t.AMP_EXP)&&void 0!==n?n:(f=(null===(s=t.__AMP_EXP)||void 0===s?void 0:s.textContent)||"{}",JSON.parse(f)));var f;for(const t in l){const i=l[t];"number"==typeof i&&i>=0&&i<=1&&(u[t]=Math.random()<i)}const d=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-doc-opt-in"];if(r(d)&&d.length){const i=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(i)for(var m,_,v=e((null===(m=i.getAttribute("content"))||void 0===m?void 0:m.split(","))||[],!0);!(_=v()).done;){const t=_.value;d.includes(t)&&(u[t]=!0)}}Object.assign(u,function(t){var i;let n="";try{var s;"localStorage"in t&&(n=null!==(s=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==s?s:"")}catch(t){}const r=(null===(i=n)||void 0===i?void 0:i.split(/\s*,\s*/g))||[],o=a();for(var h,u=e(r,!0);!(h=u()).done;){const t=h.value;t&&("-"==t[0]?o[t.substr(1)]=!1:o[t]=!0)}return o}(t));const P=null===(h=t.AMP_CONFIG)||void 0===h?void 0:h["allow-url-opt-in"];if(r(P)&&P.length){const i=p(t.location.originalHash||t.location.hash);for(var A,g=e(P,!0);!(A=g()).done;){const t=A.value,e=i[`e-${t}`];"1"==e&&(u[t]=!0),"0"==e&&(u[t]=!1)}}return u}(t);return!!n["untrusted-xhr-interception"]}(t))return;const s={"originalRequest":W(n,h)};return d.sendMessageAwaitResponse("xhr",s).then((t=>function(t,i){var e;if(e=t,function(t,i,e="Assertion failed",n){var s,r;if(i)return i;t&&-1==e.indexOf(t)&&(e+=t);let h=3;const u=e.split("%s");let a=u.shift();const c=[a];for(;u.length;){const t=arguments[h++],i=u.shift();a+=l(t)+i,c.push(t,i.trim())}const f=new Error(a);throw f.messageArray=o(c,(t=>""!==t)),null===(s=(r=self).__AMP_REPORT_ERROR)||void 0===s||s.call(r,f),f}("​​​","[object Object]"===u.call(e),"Object expected: %s",t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),"document"!=i)return new Response(t.body,t.init);const n=a(),s={status:200,statusText:"OK",getResponseHeader:t=>n[String(t).toLowerCase()]||null};if(t.init){const i=t.init;r(i.headers)&&i.headers.forEach((t=>{const i=t[0],e=t[1];n[String(i).toLowerCase()]=String(e)})),i.status&&(s.status=parseInt(i.status,10)),i.statusText&&(s.statusText=String(i.statusText))}return new Response(t.body?String(t.body):"",s)}(t,h.responseType)))})):f}(t,d,i,h).then((t=>t?t.text().then((t=>(new DOMParser).parseFromString(t,"text/html"))):function(t,i){return new Promise(((e,n)=>{const s=new XMLHttpRequest;s.open(i.method||"GET",t,!0),s.withCredentials="include"==i.credentials,s.responseType="document";for(const t in i.headers)s.setRequestHeader(t,i.headers[t]);s.onreadystatechange=()=>{if(!(s.readyState<2)){if(s.status<100||s.status>599)return s.onreadystatechange=null,void n(R().createExpectedError(`Unknown HTTP status ${s.status}`));if(4==s.readyState){const i={status:s.status,statusText:s.statusText,headers:tt(s.getAllResponseHeaders())},n=(t=new Response("",i),new Promise((i=>{if(t.ok)return i(t);const{status:e}=t,n=R().createError(`HTTP error ${e}`);throw n.retriable=function(t){return 415==t||t>=500&&t<600}(e),n.response=t,n}))).then((t=>({response:t,xhr:s})));e(n)}}var t},s.onerror=()=>{n(R().createExpectedError("Request failure"))},s.onabort=()=>{n(R().createExpectedError("Request aborted"))},"POST"==i.method?s.send(i.body):s.send()}))}(i,h).then((t=>{const{xhr:i}=t;return i.responseXML}))))}function tt(t){const i={};return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){const e=t.split(":"),n=e.shift().trim();if(n){const t=e.join(":").trim();i[n]=t}})),i}var it="liveListManager",et=class{constructor(t){this.ampdoc=t,this.Pht=Object.create(null),this.al=C(this.ampdoc.win),this.Aht=15e3,this.Rht=[this.Aht],this.Eht=null,this.ei=this.ampdoc.getUrl(),this.Iht=0,this.Op=this.Tht.bind(this),this.Mht=function(t){if(!t.ownerDocument)return!1;const{documentElement:i}=t.ownerDocument,e=i.getAttribute("transformed");return Boolean(e)&&e.startsWith("google;v=")}(t.getRootNode()),this.Vht().then((()=>{this.Aht=Math.min.apply(Math,this.Rht);const t=Object.keys(this.Pht).map((t=>this.Pht[t].getUpdateTime()));this.Iht=Math.max.apply(Math,t),this.Eht=new class{constructor(t,i,e){this.win=t,this.fo=i,this.Op=e,this.wht=null,this.ud=!1,this.xht=null,this.jht=null}GM(){return this.xht?this.xht():this.fo+D(this.fo,.2)}isRunning(){return this.ud}start(t){this.ud||(this.ud=!0,this.yht(t))}stop(){this.ud&&(this.ud=!1,this.wrt())}wrt(){this.wht&&(U(this.win).cancel(this.wht),this.wht=null)}yht(t){if(!this.ud)return;const i=()=>{this.jht=this.Op().then((()=>{this.xht&&(this.xht=null),this.yht()})).catch((t=>{if(!t.retriable)throw t;this.xht||(this.xht=function(t){let i=0;return()=>{let t=Math.pow(2,i++);return t+=D(t),1e3*t}}()),this.yht()}))};t?i():this.wht=U(this.win).delay(i,this.GM())}}(this.ampdoc.win,this.Aht,this.Op),this.ampdoc.isVisible()&&this.Oht()&&this.Eht.start(),this.Sht()}))}dispose(){this.Eht.stop()}static forDoc(t){return w(t,it)}Oht(){return Object.keys(this.Pht).some((t=>this.Pht[t].isEnabled()))}Tht(){let t=this.ei;return this.Iht>0&&(t=K(t,"amp_latest_update_time",String(this.Iht))),this.Mht&&(t=L(this.ampdoc.getBody()).getCdnUrlOnOrigin(t)),Y(this.ampdoc.win,t,{}).then(this.$ht.bind(this))}$ht(t){this.Cht(t);const i=this.Uht(t).concat(this.Lht(t)).map(this.kht.bind(this)),e=Math.max.apply(Math,[0].concat(i));e>0&&(this.Iht=e),this.Oht()||this.Eht.stop()}Uht(t){return Array.prototype.slice.call(t.getElementsByTagName("amp-live-list"))}Lht(t){return Object.keys(this.Pht).filter((t=>this.Pht[t].hasCustomSlot())).map((i=>{const e=this.Pht[i].element.AMP_LIVE_LIST_CUSTOM_SLOT_ID;return t.getElementById(e)}))}kht(t){const i="i-amphtml-"+t.id+"-dynamic-list",e=i in this.Pht?i:t.getAttribute("id");T(e,"amp-live-list must have an id."),T(e in this.Pht,"amp-live-list#%s found but did not exist on original page load.",e);const n=this.Pht[e];return n.toggle(!t.hasAttribute("disabled")&&!t.hasAttribute("live-story-disabled")),n.isEnabled()?n.update(t):0}register(t,i){t in this.Pht||(this.Pht[t]=i,this.Rht.push(i.getInterval()),i.isEnabled()&&this.Eht&&this.ampdoc.isVisible()&&this.Eht.start())}Vht(){return this.ampdoc.whenReady()}Sht(){this.ampdoc.onVisibilityChanged((()=>{this.ampdoc.isVisible()&&this.Oht()?this.Eht.start(!0):this.Eht.stop()}))}Cht(t){(function(t){if(!t)return[];const i=t.querySelectorAll("script[custom-element],script[custom-template]"),e=[];for(let t=0;t<i.length;t++){const n=i[t],s=n.getAttribute("custom-element")||n.getAttribute("custom-template"),r=M(n.src);s&&r&&e.push({script:n,extensionId:s,extensionVersion:r.extensionVersion})}return e})(t).forEach((({extensionId:t,extensionVersion:i})=>{this.al.installExtensionForDoc(this.ampdoc,t,i)}))}static getMinDataPollInterval(){return 15e3}static getMinDataMaxItemsPerPage(){return 1}},nt="amp-live-list-item",st="amp-live-list-item-new";function rt(t,i){return Math.max(parseInt(t,10)||0,i)}var ot=class extends t.BaseElement{constructor(t){super(t),this.Io=null,this.g_=null,this.Dht=null,this.Hht=null,this.qht=null,this.Fht="",this.Ght=0,this.Nht=0,this.zht=0,this.Bht=!1,this.Xht=Object.create(null),this.Jht=[],this.Kht=[],this.Zht=[],this.Qht=null,this.Wht="",this.Yht=0,this.hut=this.cut.bind(this)}isLayoutSupported(t){return"container"==t||"fixed-height"==t}buildCallback(){this.Io=this.getViewport(),et.forDoc(this.element).then((t=>{this.g_=t,this.g_.register(this.Fht,this)})),this.Wht=this.element.AMP_LIVE_LIST_CUSTOM_SLOT_ID,this.Dht=T(this.fut(this.element),'amp-live-list must have an "update" slot.'),this.Hht=T(this.dut(this.element),'amp-live-list must have an "items" slot.'),this.qht=this.mut(this.element),this.Fht=T(this.element.getAttribute("id"),"amp-live-list must have an id."),this.Ght=rt(this.element.getAttribute("data-poll-interval"),et.getMinDataPollInterval());const t=this.element.getAttribute("data-max-items-per-page");T(Number(t)>0||this.element.hasAttribute("disable-pagination"),"amp-live-list # %s must have data-max-items-per-page attribute with numeric value. Found %s.",this.Fht,t);const i=[].slice.call(this.Hht.children).filter((t=>!t.hasAttribute("data-tombstone"))).length;this.Nht=Math.max(rt(t,1),i),this.Bht="ascending"===this.element.getAttribute("sort"),this._ut(!1),this.vut(this.Hht,(t=>{t.classList.add(nt)})),this.Yht=this.Put(this.Hht,!0),this.registerDefaultAction(this.Aut.bind(this),"update"),this.element.hasAttribute("aria-live")||this.element.setAttribute("aria-live","polite")}hasCustomSlot(){return!!this.Wht}isEnabled(){return!this.element.hasAttribute("disabled")}toggle(t){t?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","")}update(t){const i=this.dut(t);if(!i)return this.zht;this.Put(i);const e=this.gut(i);return this.but(e.insert),this.Rut(e.replace),this.Eut(e.tombstone),this.Qht=this.mut(t),this.Jht.length>0?(this.element.hasAttribute("auto-insert")&&this.Aut(),this.mutateElement((()=>{this._ut(!0),this.Io.updateFixedLayer()}))):(this.Kht.length>0||this.Zht.length>0)&&this.Aut(),this.zht}Aut(){const t=this.Jht.length>0,i=this.Zht.length>0,e=this.Kht.length>0,n=t||e;let s=this.mutateElement((()=>{const e=R().assertElement(this.Hht);return t&&(this.vut(e,(t=>{t.classList.remove(st)})),this.Yht+=this.Iut(e,this.Jht),this.Jht.length=0),this.Kht.length>0&&(this.Tut(e,this.Kht),this.Kht.length=0),this.Zht.length>0&&(this.Yht-=this.Mut(e,this.Zht),this.Zht.length=0),(t||i)&&this.qht&&this.Qht&&(this.element.replaceChild(this.Qht,this.qht),this.qht=this.mut(this.element)),this._ut(!1),this.Qht=null,this.Vut(e)}));return n&&(s=s.then((()=>{this.wut()}))),t&&!this.element.hasAttribute("disable-scrolling")&&(s=s.then((()=>{const t=this.Bht&&this.Hht.lastElementChild?this.Hht.lastElementChild:this.element,i=this.Bht?"bottom":"top";return this.Io.animateScrollIntoView(t,i)}))),s}_ut(t){this.Dht.classList.toggle("amp-hidden",!t),this.Dht.classList.toggle("amp-active",t)}Iut(t,i){let e=0;return i.forEach((t=>{if(0===this.Hht.childElementCount)this.Hht.appendChild(t);else{const i=this.xut(t);if(!this.jut(i))return;if(this.Bht)for(let n=this.Hht.lastElementChild;n;n=n.previousElementSibling){const s=this.xut(n);if(this.jut(s)){if(i>=s){this.Hht.insertBefore(t,n.nextElementSibling),e++;break}if(!n.previousElementSibling){this.Hht.insertBefore(t,n),e++;break}}}else for(let n=this.Hht.firstElementChild;n;n=n.nextElementSibling){const s=this.xut(n);if(this.jut(s)){if(i>=s){this.Hht.insertBefore(t,n),e++;break}if(!n.nextElementSibling){this.Hht.appendChild(t),e++;break}}}}})),e}Tut(t,i){let e=0;return i.forEach((i=>{const n=i.getAttribute("id"),s=t.querySelector(`#${n}`);s&&(t.replaceChild(i,s),e++)})),e}Mut(t,i){let e=0;return i.forEach((i=>{const n=i.getAttribute("id"),s=t.querySelector(`#${n}`);s&&(s.setAttribute("data-tombstone",""),s.textContent="",e++)})),e}Vut(t){const i=this.Yht-this.Nht;if(i<1)return s();const e=[],n=[];if(this.Bht)for(let n=t.firstElementChild;n&&!(e.length>=i);n=n.nextElementSibling)this.yut(n)||e.push(n);else for(let n=t.lastElementChild;n&&!(e.length>=i);n=n.previousElementSibling)this.yut(n)||e.push(n);return this.getVsync().runPromise({measure:()=>{for(let t=0;t<e.length;t++){const i=e[t];if(this.Bht){if(!this.Out(i))break}else if(!this.Sut(i))break;n.push(i)}},mutate:()=>{n.forEach((i=>{t.removeChild(i),this.Yht--}))}})}but(t){t.sort(this.hut).forEach((t=>{t.classList.add(nt),t.classList.add(st)})),this.Jht.push.apply(this.Jht,t)}Rut(t){t.forEach((t=>{const i=this.$ut(this.Kht,t);t.classList.add("amp-live-list-item"),-1==i?this.Kht.push(t):this.Kht[i]=t}))}Eut(t){this.Zht.push.apply(this.Zht,t)}$ut(t,i){for(let e=0;e<t.length;e++)if(t[e].getAttribute("id")==i.getAttribute("id"))return e;return-1}getInterval(){return this.Ght}gut(t){const i=[],e=[],n=[];for(let s=t.firstElementChild;s;s=s.nextElementSibling){const t=s.getAttribute("id"),r=this.xut(s);if(t&&this.jut(r))if(this.Cut(s)){const t=this.win.document.importNode(s,!0);i.push(t),this.Uut(s)}else if(this.Lut(s)){const i=this.kut(s);this.Xht[t]=i;const n=this.win.document.importNode(s,!0);i>this.zht&&(this.zht=i),e.push(n)}else this.yut(s)&&-1!=this.Xht[t]&&(this.Xht[t]=-1,n.push(s))}return{insert:i,replace:e,tombstone:n}}Cut(t){const i=t.getAttribute("id");return!t.hasAttribute("data-tombstone")&&!(i in this.Xht)}Lut(t){if(!t.hasAttribute("data-update-time"))return!1;if(t.hasAttribute("data-tombstone"))return!1;const i=t.getAttribute("id"),e=this.kut(t);return i in this.Xht&&-1!=this.Xht[i]&&e>this.Xht[i]}yut(t){return t.hasAttribute("data-tombstone")}Uut(t){const i=t.getAttribute("id"),e=this.kut(t);e>this.zht&&(this.zht=e),this.Xht[i]=e}Dut(t){return!!t.hasAttribute("id")&&this.jut(this.xut(t))}Put(t,i){let e=0;return this.vut(t,(t=>{this.Dut(t)&&(e++,i&&this.Uut(t))})),e}vut(t,i){for(let e=t.firstElementChild;e;e=e.nextElementSibling)i(e)}Hut(t){return t.id===this.Wht?t:this.win.document.getElementById(this.Wht)}fut(t){return this.Wht?this.Hut(t):f(t,"update")}dut(t){return this.Wht?this.Hut(t):f(t,"items")}mut(t){return f(t,"pagination")}cut(t,i){return this.xut(t)-this.xut(i)}xut(t){return this.qut(t,"data-sort-time")}jut(t){return t>0}kut(t){return t.hasAttribute("data-update-time")?this.qut(t,"data-update-time"):this.xut(t)}qut(t,i){return Number(t.getAttribute(i))}Sut(t){return this.Io.getLayoutRect(t).top>this.Io.getScrollTop()+this.Io.getSize().height}Out(t){return this.Io.getLayoutRect(t).bottom<this.Io.getScrollTop()}getUpdateTime(){return this.zht}wut(){const t=this.win.document.createEvent("Event");t.initEvent("amp:dom-update",!0,!0),this.Hht.dispatchEvent(t)}};t.registerElement("amp-live-list",ot,"amp-live-list>[update]{position:relative;z-index:1000}amp-live-list>.amp-active[update]{display:block}amp-live-list>[items]>[data-tombstone]{display:none}@keyframes amp-live-list-item-highlight{0%{box-shadow:0 0 5px 2px #51cbee}to{box-shadow:0}}\n/*# sourceURL=/extensions/amp-live-list/0.1/amp-live-list.css*/"),t.registerServiceForDoc(it,et)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-live-list-0.1.mjs.map