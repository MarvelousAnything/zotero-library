(()=>{"use strict";var e={2002:(e,t,n)=>{n.p="localhost"===window.location.hostname?"/assets/":"".concat(window.guardian.app.data.CAPI.config.frontendAssetsFullURL,"assets/")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.p="",(()=>{function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}n(2002);var a,o,i,u,c=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},s=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},l=function(){function t(n){e(this,t),a.set(this,void 0);try{var r=(new Date).toString();n.setItem(r,r);var o=n.getItem(r)==r;n.removeItem(r),o&&c(this,a,n,"f")}catch(e){}}return r(t,[{key:"isAvailable",value:function(){return Boolean(s(this,a,"f"))}},{key:"get",value:function(e){try{var t,n,r=JSON.parse(null!==(t=null===(n=s(this,a,"f"))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:""),o=r.value,i=r.expires;return i&&new Date>new Date(i)?(this.remove(e),null):o}catch(e){return null}}},{key:"set",value:function(e,t,n){var r;return null===(r=s(this,a,"f"))||void 0===r?void 0:r.setItem(e,JSON.stringify({value:t,expires:n}))}},{key:"remove",value:function(e){var t;return null===(t=s(this,a,"f"))||void 0===t?void 0:t.removeItem(e)}},{key:"clear",value:function(){var e;return null===(e=s(this,a,"f"))||void 0===e?void 0:e.clear()}},{key:"getRaw",value:function(e){var t,n;return null!==(t=null===(n=s(this,a,"f"))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:null}},{key:"setRaw",value:function(e,t){var n;return null===(n=s(this,a,"f"))||void 0===n?void 0:n.setItem(e,t)}}]),t}();a=new WeakMap;var f,d=new(u=function(){function t(){e(this,t),o.set(this,void 0),i.set(this,void 0)}return r(t,[{key:"local",get:function(){return c(this,o,s(this,o,"f")||new l(localStorage),"f")}},{key:"session",get:function(){return c(this,i,s(this,i,"f")||new l(sessionStorage),"f")}}]),t}(),o=new WeakMap,i=new WeakMap,u),v="gu.logger",g={common:{background:"#052962",font:"#ffffff"},commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"}},w=function(e){var t=g[e],n=t.background,r=t.font;return"background: ".concat(n,"; color: ").concat(r,"; padding: 2px 3px; border-radius:3px")},m=function(e){var t;if((d.local.get(v)||"").includes(e)){for(var n=[w("common"),"",w(e),""],r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];(t=console).log.apply(t,["%c@guardian%c %c".concat(e,"%c")].concat(n,a))}};"undefined"!=typeof window&&(window.guardian||(window.guardian={}),(f=window.guardian).logger||(f.logger={subscribeTo:function(e){var t=d.local.get(v)?d.local.get(v).split(","):[];t.includes(e)||t.push(e),d.local.set(v,t.join(",")),m(e,"ðŸ”” Subscribed, hello!")},unsubscribeFrom:function(e){m(e,"ðŸ”• Unsubscribed, good-bye!");var t=d.local.get(v).split(",").filter((function(t){return t!==e}));d.local.set(v,t.join(","))},teams:function(){return Object.keys(g)}}));var h,p,b=function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e]},y=function(e,t,n){var r=1!==t;switch(e){case"s":return n?" seconds ago":"s ago";case"m":return n&&r?" minutes ago":n?" minute ago":"m ago";case"h":return n&&r?" hours ago":n?" hour ago":"h ago";case"d":return n?" days ago":"d ago"}},k=function(e,t){var n,r,a,o,i=new Date(e),u=new Date,c=null==t?void 0:t.verbose,s=null!==(n=null==t?void 0:t.daysUntilAbsolute)&&void 0!==n?n:7,l=Math.floor((u.getTime()-i.getTime())/1e3),f=l<15,d=l<55,v=l<3300,g=(r=i,a=new Date,r.valueOf()>a.valueOf()-864e5),w=function(e){var t=new Date,n=new Date;return n.setDate(t.getDate()-1),e.toDateString()===n.toDateString()}(i),m=l<24*s*60*60;if(l<0)return!1;if(f)return"now";if(d)return"".concat(l).concat(y("s",l,c));if(v){var h=Math.round(l/60);return"".concat(h).concat(y("m",h,c))}if(g){var p=Math.round(l/3600);return"".concat(p).concat(y("h",p,c))}if(w&&c)return"Yesterday".concat(function(e){return" ".concat(e.getHours(),":").concat(e.getMinutes().toString().padStart(2,"0"))}(i));if(m){var k=Math.round(l/3600/24);return"".concat(k).concat(y("d",k,c))}return[i.getDate(),c?(o=i.getMonth(),["January","Febuary","March","April","May","June","July","August","September","October","November","December"][o]):b(i.getMonth()),i.getFullYear()].join(" ")},F=function(e){if(e instanceof HTMLElement){var t,n=e.dataset.relativeformat,r=e.getAttribute("datetime");if(!r||!n)return;switch(n){case"short":case"med":t=k(new Date(r).getTime(),{verbose:!1});break;case"long":t=k(new Date(r).getTime(),{verbose:!0})}var a=e.innerText;t&&t!==a&&(e.innerHTML=t)}},M=function(){document.querySelectorAll("time[data-relativeformat]").forEach(F)};h=function(){return M(),window.setInterval((function(){M()}),15e3),Promise.resolve()},p=function(){!function(e,t){var n=function(e){var t=window.performance,n="".concat(e,"-start"),r="".concat(e,"-end");return t&&t.getEntriesByName?{start:function(){t.mark(n)},end:function(){t.mark(r),t.measure(e,n,r),m("dotcom",JSON.stringify(t.getEntriesByName(e)));var a=t.getEntriesByName(e,"measure"),o=a&&a[0]&&a[0].duration||0;return Math.round(o)},clear:function(){t.clearMarks(n),t.clearMarks(r),t.clearMeasures(e)}}:{start:function(){},end:function(){return 0},clear:function(){}}}(e),r=n.start,a=n.end;r(),t().then((function(){a()})).catch((function(){a()}))}("relativeTime",h.bind(null,null))},window.guardian.mustardCut||window.guardian.polyfilled?p():window.guardian.queue.push(p)})()})();
//# sourceMappingURL=relativeTime.legacy.6a7ecdb6853aaa7fe197.js.map