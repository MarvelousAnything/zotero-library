"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3797],{3797:function(e,t,n){n.d(t,{q:function(){return Z}});var r=n(34051),a=n.n(r),o=n(85893),i=n(67294),l=n(45697),s=n.n(l),u=n(94301),c=n.n(u),p=n(29208),f=n.n(p),d=n(11752),y=n(73907),m=n(2742),h=n(99985),b=n(89936),v=n(29128),g=n(59343),k=n(94184),O=n.n(k),S=n(2031),w=n(70131),C=n(16136),E=n(41549),P=n(42463),A=n(61775);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _="sticky-pip";function V(e,t){var n=e.children,r=e.className,a=e.getShouldStickOnViewportExit,l=e.placeholderClassName,s=e.enabled,u=e.onInViewChange,c=e.onClose,p=e.onStuckChange,f=e.shouldStickOnlyOnFirstView,d=(0,S.$)().t,y=M(i.useState(!1),2),m=y[0],h=y[1],b=M(i.useState(!1),2),v=b[0],g=b[1],k=M(i.useState(!0),2),N=k[0],V=k[1],T=M(i.useState(!1),2),L=T[0],R=T[1],D=i.useCallback((function(e){g(e),e&&(R(!0),h(!1)),e||"function"!==typeof a||V(a()),"function"===typeof u&&u(e)}),[u,a]),j=(t||{}).setStickyVideoFlag,I=s&&(!f||L)&&!v&&!m&&N;i.useEffect((function(){"function"===typeof j&&j(I)}),[j,I]),i.useEffect((function(){"function"===typeof c&&c(m)}),[c,m]),i.useEffect((function(){"function"===typeof p&&p(I)}),[p,I]);var x,F,B,Y=(0,P.Z)(E.Z);return(0,o.jsxs)(w.df,{className:r,onChange:D,rootMargin:"".concat(-Y,"px 0px 0px 0px"),threshold:.3,children:[(0,o.jsx)(A.V,{responsiveFlavors:{s:C.ZP.FOCAL_860x484},className:l}),(0,o.jsxs)("div",{className:O()(_,(x={},F="".concat(_,"--stuck"),B=I,F in x?Object.defineProperty(x,F,{value:B,enumerable:!0,configurable:!0,writable:!0}):x[F]=B,x)),children:[n,(0,o.jsx)("div",{className:"".concat(_,"__close"),children:(0,o.jsx)("button",{type:"button",className:"".concat(_,"__close-button icon icon-close"),onClick:function(){return h(!0)},children:(0,o.jsx)("span",{className:"".concat(_,"__close-label"),children:d("Close")})})})]})]})}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,a)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function x(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?T(e):t}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}V.propTypes={children:s().node,className:s().string,getShouldStickOnViewportExit:s().func,placeholderClassName:s().string,onClose:s().func,onInViewChange:s().func,onStuckChange:s().func,shouldStickOnlyOnFirstView:s().bool,enabled:s().bool},V.contextTypes={setStickyVideoFlag:s().func},V.defaultProps={children:null,className:void 0,getShouldStickOnViewportExit:null,placeholderClassName:void 0,onClose:null,onInViewChange:null,onStuckChange:null,shouldStickOnlyOnFirstView:!0,enabled:!0};var B=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}var W="playmaker",U=(0,d.default)().publicRuntimeConfig;(0,h.Z)("register","playMaker_init"),(0,h.Z)("register","playMaker_muted");var Z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(l,e);var t,n,r,i=Y(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n,r=T(t=i.call(this,e));return D(T(t),"sendPlayerConfig",(n=a().mark((function e(){var t,n,o,i,l,s,u,p,f,d,y,m,h,v,g,k,O,S,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.adebug,o=t.APResource,i=t.authorization,l=t.autoplay,s=t.autoplayMuted,u=t.clickToPlay,p=t.disableDataSources,f=t.enableComscore,d=t.enableHeartbeat,y=t.enableOmniture,m=t.externalControlbar,h=t.hideVidLabel,v=t.logLevel,g=t.pid,k=t.providerId,O=t.poster,S=I({},(0,b.jG)(g),{adebug:n,adLevel:(0,b.T6)(g,U),autoplayMuted:l&&s?1:0,clickToPlay:u,disableDataSources:p,enableComscore:f,enableHeartbeat:d,enableOmniture:y,externalControlbar:m,hideVidLabel:h,"hlsjs.autoStartLoad":!0,isLive:1,logLevel:v,muted:l&&s?1:0,mutedMobile:l&&s?1:0,pid:g,showPlay:1,statusService:1,poster:O}),k&&(S.providerId=k),i&&(S.token=window.btoa(i)),o&&(S.APResource=encodeURIComponent(o)),e.next=7,c()("https://stream.nbcsports.com/data/event_config_".concat(g,".json")).then((function(e){return e.json()}));case 7:w=e.sent,r.sendMessage("OPTIONS",{playerConfig:w,playerVars:S});case 9:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){L(o,r,a,i,l,"next",e)}function l(e){L(o,r,a,i,l,"throw",e)}i(void 0)}))})),D(T(t),"sendMessage",(function(e,n){var r=t.frameRef.contentWindow;r&&r.postMessage({app:W,type:e,data:n},"*")})),D(T(t),"onEventGlobalVideoPlaying",(function(e){var n=e.ref;t.state.playing&&n&&"function"===typeof n.isEqualNode&&!n.isEqualNode(t.frameRef)&&t.sendMessage("PLAYER_EVENT",{event:"PAUSE"})})),D(T(t),"onEventGlobalPIPReservation",(function(e){var n=e.ref,r=void 0===n?{}:n,a=t.state.isStickDisabled;"function"!==typeof r.isEqualNode||r.isEqualNode(t.frameRef)?a&&t.setState({isStickDisabled:!1}):a||t.setState({isStickDisabled:!0})})),D(T(t),"onMutedChange",(function(e){var n=e.value;"muted"===e.property&&t.setState({isMuted:n});var r=t.props.onMutedChange;"function"===typeof r&&r(e)})),D(T(t),"onVideoPlaying",(function(){t.setState({playing:!0}),m.Z.stopMonitoring(),y.Z.trigger(v.VO,{ref:t.frameRef},v.yR)})),D(T(t),"onVideoPaused",(function(){t.setState({playing:!1}),m.Z.startMonitoring()})),D(T(t),"onVideoComplete",(function(e){var n=t.props.onVideoComplete;"function"===typeof n&&n(e)})),D(T(t),"getShouldStickOnViewportExit",(function(){var e=t.props,n=e.disableStickyOnMute,r=e.disableStickyOnPause,a=t.state,o=a.playing,i=a.isMuted;return!(n&&i)&&(!r||o)})),D(T(t),"handleError",(function(e){window.console&&window.console.log(e)})),D(T(t),"handleFrameMutedChange",(function(e){var t=f()(e,"value",null);(0,h.Z)("track","playMaker_muted",{value:t})})),D(T(t),"handleFrameMessages",(function(e){var n=t.frameRef.contentWindow;if(n){var r=f()(e,"data.app",!1);if(e.isTrusted&&e.data&&r===W){var a=f()(e,"data.type",null),o=f()(e,"data.data",{});switch(a){case"READY":t.sendPlayerConfig();break;case"MUTED_CHANGE":t.handleFrameMutedChange(o),t.onMutedChange(o);break;case"rehtml5::playerready":(0,h.Z)("track","playMaker_init",{iframeObj:n});break;case"html5Notification":t.handleFrameNotification(o)}}}})),D(T(t),"handleFrameNotification",(function(e){var n=e.type,r=e.data,a=JSON.parse(r)||{};switch(n){case"CONTROLBAR_VISIBLE":case"UPDATE_TIME":break;case"MEDIA_STATE_CHANGE":switch(a.status){case"rehtml5player:playing":t.onVideoPlaying(a);break;case"rehtml5player:paused":t.onVideoPaused(a);break;case"rehtml5player:complete":t.onVideoComplete(a)}}})),D(T(t),"handleOnInViewChange",(function(e){var n=t.props.shouldPauseWhenMutedAndOutOfView,r=t.state,a=r.playing,o=r.isMuted;a?(t.setState({isStickDisabled:!1}),n&&!e&&o&&t.pause()):e&&o&&t.play()})),D(T(t),"handleOnStickyClose",(function(e){var n=t.state.playing;e&&n&&t.pause()})),D(T(t),"handleOnStuckChange",(function(e){e&&y.Z.trigger(v.Rf,{ref:t.frameRef},v.yR)})),D(T(t),"mute",(function(){t.sendMessage("PLAYER_EVENT",{event:"MUTE"})})),D(T(t),"unmute",(function(){t.sendMessage("PLAYER_EVENT",{event:"UNMUTE"})})),D(T(t),"pause",(function(){t.sendMessage("PLAYER_EVENT",{event:"PAUSE"})})),D(T(t),"play",(function(){t.setState({isStickDisabled:!1}),t.sendMessage("PLAYER_EVENT",{event:"PLAY"})})),D(T(t),"renderMute",(function(){var e=t.props,n=e.isRail,r=e.isLive;return t.state.isMuted&&!n&&(0,o.jsx)(g.a,{isLive:r,isMini:!0,isRail:n,onClickUnmute:t.unmute})})),t.state={playing:!1,isMuted:!1},t}return t=l,(n=[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleFrameMessages),this.sendPlayerConfig(),y.Z.on(v.VO,this.onEventGlobalVideoPlaying,v.yR),y.Z.on(v.Rf,this.onEventGlobalPIPReservation,v.yR)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleFrameMessages),y.Z.remove(v.VO,this.onEventGlobalVideoPlaying,v.yR),y.Z.remove(v.Rf,this.onEventGlobalPIPReservation,v.yR)}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadingLazy,r=void 0===n||n,a=t.stickyEnabled,i=t.shouldStickOnlyOnFirstView,l=t.className,s=t.placeholderClassName,u=t.vertical,c=t.isLive,p=t.useButtonOverride,f=this.state.isStickDisabled,d=(0,o.jsxs)(o.Fragment,{children:[this.renderMute(),(0,o.jsx)("iframe",{loading:r?"lazy":"auto",title:"video player",src:"/playmaker/player.html?live=".concat(c,"&v=").concat(u,"&buttonoverride=").concat(p),width:"100%",height:"100%",frameBorder:0,scrolling:"no",allowFullScreen:!0,ref:function(t){e.frameRef=t}},"playmaker-player-iframe")]});return a?(0,o.jsx)(V,{className:l,getShouldStickOnViewportExit:this.getShouldStickOnViewportExit,onClose:this.handleOnStickyClose,onStuckChange:this.handleOnStuckChange,enabled:!f,onInViewChange:this.handleOnInViewChange,placeholderClassName:s,shouldStickOnlyOnFirstView:i,children:d}):d}}])&&R(t.prototype,n),r&&R(t,r),l}(i.Component);D(Z,"propTypes",{adebug:s().oneOf([0,1]),APResource:s().string,authorization:s().string,autoplay:s().bool,autoplayMuted:s().bool,className:s().string,placeholderClassName:s().string,clickToPlay:s().oneOf([0,1]),disableDataSources:s().oneOf([0,1]),disableStickyOnMute:s().bool,disableStickyOnPause:s().bool,enableComscore:s().oneOf([0,1]),enableHeartbeat:s().oneOf([0,1]),enableOmniture:s().oneOf([0,1]),externalControlbar:s().oneOf([0,1]),hideVidLabel:s().oneOf([0,1]),isLive:s().bool,isRail:s().bool,loadingLazy:s().bool,logLevel:s().oneOf([0,1,2,3,4]),onMutedChange:s().func,onVideoComplete:s().func,pid:s().number.isRequired,providerId:s().string,shouldPauseWhenMutedAndOutOfView:s().bool,shouldStickOnlyOnFirstView:s().bool,stickyEnabled:s().bool,poster:s().string,useButtonOverride:s().bool,vertical:s().string}),D(Z,"defaultProps",{adebug:0,APResource:null,authorization:null,autoplay:!0,autoplayMuted:!0,className:void 0,placeholderClassName:void 0,clickToPlay:0,disableDataSources:1,disableStickyOnMute:!1,disableStickyOnPause:!0,enableComscore:0,enableHeartbeat:0,enableOmniture:0,externalControlbar:0,hideVidLabel:1,loadingLazy:!0,logLevel:4,onMutedChange:Function.prototype,onVideoComplete:Function.prototype,providerId:null,shouldPauseWhenMutedAndOutOfView:!1,shouldStickOnlyOnFirstView:!0,stickyEnabled:!1,poster:null,isLive:!0,isRail:!1,useButtonOverride:!1,vertical:null})},89936:function(e,t,n){n.d(t,{A3:function(){return g},sV:function(){return k},ag:function(){return O},Ye:function(){return w},sW:function(){return E},uo:function(){return P},rC:function(){return A},cP:function(){return N},eh:function(){return _},FF:function(){return T},jG:function(){return D},T6:function(){return j},jB:function(){return I},I4:function(){return F},XQ:function(){return B}});var r=n(34051),a=n.n(r),o=n(94301),i=n.n(o),l=n(29208),s=n.n(l),u=n(49938);function c(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,l,"next",e)}function l(e){c(o,r,a,i,l,"throw",e)}i(void 0)}))}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m,h,b={format:"d M D",useAP:!1,commaAfterDay:!1},v=2,g={NEWS_NOW:"NEWS_NOW",MSNBC_TVE:"MSNBC_TVE",TODAY_ALL_DAY:"TODAY_ALL_DAY"},k="2007524",O="2007680",S="2000762",w="2004490",C=(f(m={},g.NEWS_NOW,k),f(m,g.MSNBC_TVE,O),f(m,g.TODAY_ALL_DAY,w),f(m,k,g.NEWS_NOW),f(m,O,g.MSNBC_TVE),f(m,w,g.TODAY_ALL_DAY),m),E="https://media1.s-nbcnews.com/i/newscms/2020_01/3168931/video-slate-fallback_363c83282682fdd7f06de8310326584d.png",P="https://media13.s-nbcnews.com/i/MSNBC/Components/Video/202007/TAD_GN_SERIES_IMAGE.jpg";function A(e){return C[e]?parseInt(C[e],10):null}function N(e){return C[e]?C[e]:null}function M(e){var t,n=(f(t={},k,"NBCNews"),f(t,O,"MSNBC"),f(t,w,"Today"),t);return n[e]?n[e]:null}function _(e){return V.apply(this,arguments)}function V(){return(V=p(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(t),e.abrupt("return",i()("https://api-leap.nbcsports.com/feeds/assets/".concat(t,"?application=").concat(n,"&format=nbc-player&platform=desktop")).then((function(e){return e.json()})).then((function(e){var t=e.pid,n=e.eventStatus;return d({},y(e,["pid","eventStatus"]),{status:n,pid:t?parseInt(t,10):null,isLive:n&&"live"===n.toLowerCase()})})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return L.apply(this,arguments)}function L(){return(L=p(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_(k));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=(f(h={},k,{cdnTokenEndpoint:"https://tokens.playmakerservices.com",leapConfigUrl:"https://api-leap.nbcsports.com/feeds/assets/{PID}?application=NBCNews&format=nbc-player&platform={PLATFORM}"}),f(h,O,{cdnTokenEndpoint:"https://tokens.playmakerservices.com",leapConfigUrl:"https://api-leap.nbcsports.com/feeds/assets/{PID}?application=MSNBC&format=nbc-player&platform={PLATFORM}",parseScte:1}),f(h,S,{cdnTokenEndpoint:"https://tokens.playmakerservices.com",leapConfigUrl:"https://api-leap.nbcsports.com/feeds/assets/{PID}?application=MSNBC&format=nbc-player&platform={PLATFORM}",parseScte:1}),f(h,w,{cdnTokenEndpoint:"https://tokens.playmakerservices.com",leapConfigUrl:"https://api-leap.nbcsports.com/feeds/assets/{PID}?application=Today&format=nbc-player&platform={PLATFORM}",poster:"https://sprtsecureassets.akamaized.net/operations/slates/tad_huge_logo.jpg"}),h);function D(e){var t=s()(R,e,!1);return t||R[k]}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="number"===typeof e&&"function"===typeof e.toString?e.toString():e;switch(n){case S:case O:var r;return null!==(r=s()(t,"PLAYMAKER_ADLEVEL_MSNBC_TVE"))&&void 0!==r?r:v;case k:var a;return null!==(a=s()(t,"PLAYMAKER_ADLEVEL_NEWS_NOW"))&&void 0!==a?a:v;case w:var o;return null!==(o=s()(t,"PLAYMAKER_ADLEVEL_TODAY_ALL_DAY"))&&void 0!==o?o:v;default:return v}}var I=function(e){var t={playmakerArt:null,playmakerAutoplayMuted:!0,playmakerPlayBehavior:"clickToPlay",playmakerDescription:null,playmakerRenderMobileCover:!0};switch(e){case O:case"msnbc":return d({},t,{playmakerId:O,playmakerTitle:!1,playmakerRenderMobileCover:!1});case S:return d({},t,{playmakerId:S,playmakerTitle:!1,playmakerRenderMobileCover:!1});case w:case"today":return d({},t,{playmakerId:w,playmakerTitle:"Today All Day",playmakerDescription:"Watch TODAY All Day. A streaming channel from TODAY.",playmakerArt:"today_all_day_tease"});case k:case"news":return d({},t,{playmakerId:k,playmakerTitle:"NBC News NOW for ".concat((0,u.getFormattedDateString)(Date.now(),null,b)),playmakerDescription:"NBC News NOW is a streaming network from NBC News. NOW features deep reporting, thoughtful storytelling, and live, breaking news from the global resources of NBC News.",playmakerArt:"news-now-opening"});default:return t}},x=function(e,t){return"other"===e?t:e};function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nbcnews",n=arguments.length>2?arguments[2]:void 0,r=e.playmakerId,a=e.playmakerIdOverride,o=e.playmakerToggle,i=y(e,["playmakerId","playmakerIdOverride","playmakerToggle"]);if(!0!==o)return{playmakerToggle:o};var l=x(r,a),s=I(l||n||t),u=d({playmakerId:l},s,i),c=u.playmakerArt,p=u.playmakerArtOverride,f=y(u,["playmakerArt","playmakerArtOverride"]),m=x(c,p),h=f.playmakerSlot;return"undefined"!==typeof h&&(h=parseInt(h,10)),d({},f,{playmakerArt:m,playmakerSlot:h,playmakerToggle:o})}function B(e){return"autoplay"===F(e).playmakerPlayBehavior}}}]);